{"version":3,"file":"static/js/main.6e3d3758.js","mappings":"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,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAAK,EAAE,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,KAAK,KAAK,KAEpuCC,EAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,KAE/mB,SAASC,EAAc35D,EAAMkE,GAE3B,IADA,IAAI01D,EAAM,MACDv5D,EAAI,EAAGA,EAAI6D,EAAI/D,OAAQE,GAAK,EAAG,CAEtC,IADAu5D,GAAO11D,EAAI7D,IACDL,EAAQ,OAAO,EAEzB,IADA45D,GAAO11D,EAAI7D,EAAI,KACJL,EAAQ,OAAO,CAChC,CACA,CAGE,SAAS65D,EAAkB75D,EAAM85D,GAC/B,OAAI95D,EAAO,GAAsB,KAATA,EACpBA,EAAO,KACPA,EAAO,GAAsB,KAATA,EACpBA,EAAO,MACPA,GAAQ,MAAiBA,GAAQ,KAAQu5D,EAAwB9oD,KAAKgN,OAAOC,aAAa1d,KAC/E,IAAX85D,GACGH,EAAc35D,EAAMy5D,IAC/B,CAGE,SAASM,EAAiB/5D,EAAM85D,GAC9B,OAAI95D,EAAO,GAAsB,KAATA,EACpBA,EAAO,MACPA,EAAO,MACPA,EAAO,KACPA,EAAO,GAAsB,KAATA,EACpBA,EAAO,MACPA,GAAQ,MAAiBA,GAAQ,KAAQw5D,EAAmB/oD,KAAKgN,OAAOC,aAAa1d,KAC1E,IAAX85D,IACGH,EAAc35D,EAAMy5D,IAA+BE,EAAc35D,EAAM05D,MAClF,CAME,IAAIM,EAAY,SAAmBC,EAAOC,QAC1B,IAATA,IAAkBA,EAAO,CAAC,GAE/BroD,KAAKooD,MAAQA,EACbpoD,KAAKsoD,QAAUD,EAAKC,QACpBtoD,KAAKuoD,aAAeF,EAAKE,WACzBvoD,KAAKwoD,aAAeH,EAAKG,WACzBxoD,KAAKyoD,SAAWJ,EAAKI,OACrBzoD,KAAK0oD,WAAaL,EAAKK,SACvB1oD,KAAKlP,SAAWu3D,EAAKv3D,OACrBkP,KAAK2oD,UAAYN,EAAKM,QACtB3oD,KAAK4oD,MAAQP,EAAKO,OAAS,KAC3B5oD,KAAK6oD,cAAgB,IACzB,EAEE,SAASD,EAAMr4D,EAAMu4D,GACnB,OAAO,IAAIX,EAAU53D,EAAM,CAACg4D,YAAY,EAAMK,MAAOE,GACzD,CACE,IAAIP,EAAa,CAACA,YAAY,GAAOC,EAAa,CAACA,YAAY,GAG3DO,EAAa,CAAC,EAElB,SAASC,EAAGz4D,EAAMwR,GAIhB,YAHiB,IAAZA,IAAqBA,EAAU,CAAC,GAErCA,EAAQumD,QAAU/3D,EACXw4D,EAAWx4D,GAAQ,IAAI43D,EAAU53D,EAAMwR,EAClD,CAEE,IAAIknD,EAAQ,CACVC,IAAK,IAAIf,EAAU,MAAOK,GAC1BW,OAAQ,IAAIhB,EAAU,SAAUK,GAChCY,OAAQ,IAAIjB,EAAU,SAAUK,GAChCj4D,KAAM,IAAI43D,EAAU,OAAQK,GAC5Ba,IAAK,IAAIlB,EAAU,OAEnBmB,SAAU,IAAInB,EAAU,IAAK,CAACI,YAAY,EAAMC,YAAY,IAC5De,SAAU,IAAIpB,EAAU,KACxBqB,OAAQ,IAAIrB,EAAU,IAAK,CAACI,YAAY,EAAMC,YAAY,IAC1DiB,OAAQ,IAAItB,EAAU,KACtBuB,OAAQ,IAAIvB,EAAU,IAAK,CAACI,YAAY,EAAMC,YAAY,IAC1DmB,OAAQ,IAAIxB,EAAU,KACtByB,MAAO,IAAIzB,EAAU,IAAKI,GAC1BsB,KAAM,IAAI1B,EAAU,IAAKI,GACzBuB,MAAO,IAAI3B,EAAU,IAAKI,GAC1BwB,IAAK,IAAI5B,EAAU,KACnB6B,SAAU,IAAI7B,EAAU,IAAKI,GAC7B0B,MAAO,IAAI9B,EAAU,KAAMI,GAC3B2B,SAAU,IAAI/B,EAAU,YACxBgC,gBAAiB,IAAIhC,EAAU,mBAC/BiC,SAAU,IAAIjC,EAAU,MAAOI,GAC/B8B,UAAW,IAAIlC,EAAU,IAAKK,GAC9B8B,aAAc,IAAInC,EAAU,KAAM,CAACI,YAAY,EAAMC,YAAY,IAGjE+B,GAAI,IAAIpC,EAAU,IAAK,CAACI,YAAY,EAAMG,UAAU,IACpDx3D,OAAQ,IAAIi3D,EAAU,KAAM,CAACI,YAAY,EAAMG,UAAU,IACzD8B,OAAQ,IAAIrC,EAAU,QAAS,CAACr3D,QAAQ,EAAM63D,SAAS,EAAMH,YAAY,IACzE13D,OAAQ,IAAIq3D,EAAU,MAAO,CAACI,YAAY,EAAMz3D,QAAQ,EAAM03D,YAAY,IAC1EiC,UAAW7B,EAAM,KAAM,GACvB8B,WAAY9B,EAAM,KAAM,GACxB+B,UAAW/B,EAAM,IAAK,GACtBgC,WAAYhC,EAAM,IAAK,GACvBiC,WAAYjC,EAAM,IAAK,GACvBkC,SAAUlC,EAAM,gBAAiB,GACjCmC,WAAYnC,EAAM,YAAa,GAC/BoC,SAAUpC,EAAM,YAAa,GAC7BqC,QAAS,IAAI9C,EAAU,MAAO,CAACI,YAAY,EAAMK,MAAO,EAAG93D,QAAQ,EAAM03D,YAAY,IACrF0C,OAAQtC,EAAM,IAAK,IACnBuC,KAAMvC,EAAM,IAAK,IACjBwC,MAAOxC,EAAM,IAAK,IAClByC,SAAU,IAAIlD,EAAU,KAAM,CAACI,YAAY,IAE3C+C,OAAQtC,EAAG,SACXuC,MAAOvC,EAAG,OAAQT,GAClBiD,OAAQxC,EAAG,SACXyC,UAAWzC,EAAG,YACd0C,UAAW1C,EAAG,YACd2C,SAAU3C,EAAG,UAAWT,GACxBqD,IAAK5C,EAAG,KAAM,CAACP,QAAQ,EAAMF,YAAY,IACzCsD,MAAO7C,EAAG,OAAQT,GAClBuD,SAAU9C,EAAG,WACb+C,KAAM/C,EAAG,MAAO,CAACP,QAAQ,IACzBuD,UAAWhD,EAAG,WAAYR,GAC1ByD,IAAKjD,EAAG,MACRkD,QAASlD,EAAG,SAAUT,GACtB4D,QAASnD,EAAG,UACZoD,OAAQpD,EAAG,QAAST,GACpB8D,KAAMrD,EAAG,OACTsD,KAAMtD,EAAG,OACTuD,OAAQvD,EAAG,SACXwD,OAAQxD,EAAG,QAAS,CAACP,QAAQ,IAC7BgE,MAAOzD,EAAG,QACV0D,KAAM1D,EAAG,MAAO,CAACT,YAAY,EAAMC,YAAY,IAC/CmE,MAAO3D,EAAG,OAAQR,GAClBoE,OAAQ5D,EAAG,QAASR,GACpBqE,OAAQ7D,EAAG,QAASR,GACpBsE,SAAU9D,EAAG,UAAWT,GACxBwE,QAAS/D,EAAG,UACZgE,QAAShE,EAAG,SAAUR,GACtByE,MAAOjE,EAAG,OAAQR,GAClB0E,MAAOlE,EAAG,OAAQR,GAClB2E,OAAQnE,EAAG,QAASR,GACpB4E,IAAKpE,EAAG,KAAM,CAACT,YAAY,EAAMK,MAAO,IACxCyE,YAAarE,EAAG,aAAc,CAACT,YAAY,EAAMK,MAAO,IACxD0E,QAAStE,EAAG,SAAU,CAACT,YAAY,EAAMz3D,QAAQ,EAAM03D,YAAY,IACnE+E,MAAOvE,EAAG,OAAQ,CAACT,YAAY,EAAMz3D,QAAQ,EAAM03D,YAAY,IAC/DgF,QAASxE,EAAG,SAAU,CAACT,YAAY,EAAMz3D,QAAQ,EAAM03D,YAAY,KAIjEiF,EAAY,yBACZC,EAAa,IAAInvD,OAAOkvD,EAAU31C,OAAQ,KAE9C,SAAS61C,EAAUx/D,EAAMy/D,GACvB,OAAgB,KAATz/D,GAAwB,KAATA,IAAiBy/D,IAA4B,OAATz/D,GAA4B,OAATA,EACjF,CAEE,IAAI0/D,EAAqB,gDAErBC,EAAiB,gCAEjB3xC,EAAMhrB,OAAOiB,UACb+E,EAAiBglB,EAAIhlB,eACrB+E,EAAWigB,EAAIjgB,SAGnB,SAASiH,EAAI4qD,EAAKrnD,GAChB,OAAOvP,EAAe3E,KAAKu7D,EAAKrnD,EACpC,CAEE,IAAI1R,EAAUD,MAAMC,SAAY,SAAU+4D,GAAO,MACxB,mBAAvB7xD,EAAS1J,KAAKu7D,EACd,EAEF,SAASC,EAAYC,GACnB,OAAO,IAAI1vD,OAAO,OAAS0vD,EAAMx6D,QAAQ,KAAM,KAAO,KAC1D,CAGE,IAAIy6D,EAAW,SAAkBC,EAAMC,GACrCpuD,KAAKmuD,KAAOA,EACZnuD,KAAKquD,OAASD,CAClB,EAEEF,EAAS97D,UAAUsf,OAAS,SAAiB4xC,GAC3C,OAAO,IAAI4K,EAASluD,KAAKmuD,KAAMnuD,KAAKquD,OAAS/K,EACjD,EAEE,IAAIgL,EAAiB,SAAwB1yD,EAAG4J,EAAOC,GACrDzF,KAAKwF,MAAQA,EACbxF,KAAKyF,IAAMA,EACU,OAAjB7J,EAAE2yD,aAAuBvuD,KAAK8X,OAASlc,EAAE2yD,WACjD,EAGE,SAASC,EAAY1J,EAAOpzC,GAC1B,IAAK,IAAIy8C,EAAO,EAAGM,EAAM,IAAK,CAC5Bf,EAAWgB,UAAYD,EACvB,IAAIn9D,EAAQo8D,EAAWiB,KAAK7J,GAC5B,KAAIxzD,GAASA,EAAMmE,MAAQic,GAIzB,OAAO,IAAIw8C,EAASC,EAAMz8C,EAAS+8C,KAHjCN,EACFM,EAAMn9D,EAAMmE,MAAQnE,EAAM,GAAGhD,MAIrC,CACA,CAGE,IAAIsgE,EAAiB,CACnBC,YAAa,GACbC,WAAY,SACZC,oBAAqB,KACrBC,gBAAiB,KACjBC,cAAe,KACfC,4BAA4B,EAC5BC,6BAA6B,EAC7BC,2BAA2B,EAC3BC,eAAe,EACfC,WAAW,EACXC,QAAS,KACTC,UAAW,KACXC,QAAQ,EACRC,QAAS,KACTnB,WAAY,KACZoB,iBAAkB,KAClBC,gBAAgB,GAIlB,SAASC,EAAWC,GAClB,IAAI/tD,EAAU,CAAC,EAEf,IAAK,IAAIguD,KAAOnB,EACZ7sD,EAAQguD,GAAOD,GAAQ3sD,EAAI2sD,EAAMC,GAAOD,EAAKC,GAAOnB,EAAemB,GAQvE,GANIhuD,EAAQ8sD,aAAe,OACvB9sD,EAAQ8sD,aAAe,MAEE,MAAzB9sD,EAAQktD,gBACRltD,EAAQktD,cAAgBltD,EAAQ8sD,YAAc,GAE9C75D,EAAQ+M,EAAQwtD,SAAU,CAC5B,IAAIS,EAASjuD,EAAQwtD,QACrBxtD,EAAQwtD,QAAU,SAAUU,GAAS,OAAOD,EAAOj6D,KAAKk6D,EAAO,CACrE,CAII,OAHIj7D,EAAQ+M,EAAQytD,aAChBztD,EAAQytD,UAAYU,EAAYnuD,EAASA,EAAQytD,YAE9CztD,CACX,CAEE,SAASmuD,EAAYnuD,EAASglB,GAC5B,OAAO,SAASopC,EAAO3tD,EAAMgD,EAAOC,EAAK2qD,EAAUC,GACjD,IAAIC,EAAU,CACZlgE,KAAM+/D,EAAQ,QAAU,OACxBn9D,MAAOwP,EACPgD,MAAOA,EACPC,IAAKA,GAEH1D,EAAQutD,YACRgB,EAAQC,IAAM,IAAIjC,EAAetuD,KAAMowD,EAAUC,IACjDtuD,EAAQ0tD,SACRa,EAAQrhD,MAAQ,CAACzJ,EAAOC,IAC5BshB,EAAMhxB,KAAKu6D,EACjB,CACA,CAEE,IACIE,EAAY,EACZC,EAAiB,EACjBC,EAAYF,EAAYC,EACxBE,EAAc,EACdC,EAAkB,EAClBC,EAAc,GACdC,EAAqB,GACrBC,EAAc,GACdC,EAAqB,IAEzB,SAASC,EAAczpB,EAAO0pB,GAC5B,OAAOT,GAAkBjpB,EAAQmpB,EAAc,IAAMO,EAAYN,EAAkB,EACvF,CAEE,IACIO,EAAY,EACZC,EAAW,EACXC,EAAe,EACfC,EAAgB,EAChBC,EAAoB,EACpBC,EAAe,EAEfC,GAAS,SAAgB1vD,EAAS+iD,EAAO4M,GAC3C1xD,KAAK+B,QAAUA,EAAU8tD,EAAW9tD,GACpC/B,KAAKuuD,WAAaxsD,EAAQwsD,WAC1BvuD,KAAKsnD,SAAW0G,EAAY1G,EAASvlD,EAAQ8sD,aAAe,EAAI,EAA2B,WAAvB9sD,EAAQ+sD,WAA0B,UAAY,IAClH,IAAI6C,EAAW,GACf,IAA8B,IAA1B5vD,EAAQktD,cAAwB,CAClC,IAAK,IAAI2C,EAAI7vD,EAAQ8sD,cACb8C,EAAWzK,EAAc0K,IADEA,KAER,WAAvB7vD,EAAQ+sD,aAA2B6C,GAAY,SACzD,CACI3xD,KAAKknD,cAAgB8G,EAAY2D,GACjC,IAAIE,GAAkBF,EAAWA,EAAW,IAAM,IAAMzK,EAAcC,OACtEnnD,KAAK8xD,oBAAsB9D,EAAY6D,GACvC7xD,KAAK+xD,wBAA0B/D,EAAY6D,EAAiB,IAAM3K,EAAcE,YAChFpnD,KAAK8kD,MAAQl5C,OAAOk5C,GAEpB9kD,KAAKgyD,aAAc,EAGfN,GACF1xD,KAAK+nD,IAAM2J,EACX1xD,KAAKiyD,UAAYjyD,KAAK8kD,MAAMoN,YAAY,KAAMR,EAAW,GAAK,EAC9D1xD,KAAKmyD,QAAUnyD,KAAK8kD,MAAM3oD,MAAM,EAAG6D,KAAKiyD,WAAW5+D,MAAMo6D,GAAWn/D,SAEpE0R,KAAK+nD,IAAM/nD,KAAKiyD,UAAY,EAC5BjyD,KAAKmyD,QAAU,GAGjBnyD,KAAK5P,KAAO64D,EAAMI,IAClBrpD,KAAKhN,MAAQ,KACbgN,KAAKwF,MAAQxF,KAAKyF,IAAMzF,KAAK+nD,IAC7B/nD,KAAKowD,SAAWpwD,KAAKqwD,OAASrwD,KAAKoyD,cAEnCpyD,KAAKqyD,cAAgBryD,KAAKsyD,gBAAkB,KAC5CtyD,KAAKuyD,aAAevyD,KAAKwyD,WAAaxyD,KAAK+nD,IAE3C/nD,KAAKlJ,QAAUkJ,KAAKyyD,iBACpBzyD,KAAK0yD,aAAc,EAEnB1yD,KAAK2yD,SAAkC,WAAvB5wD,EAAQ+sD,WACxB9uD,KAAKmnD,OAASnnD,KAAK2yD,UAAY3yD,KAAK4yD,gBAAgB5yD,KAAK+nD,KAEzD/nD,KAAK6yD,kBAAoB,EAEzB7yD,KAAK8yD,SAAW9yD,KAAK+yD,SAAW/yD,KAAKgzD,cAAgB,EACrDhzD,KAAKizD,OAAS,GACdjzD,KAAKkzD,iBAAmB,CAAC,EAER,IAAblzD,KAAK+nD,KAAahmD,EAAQstD,eAA4C,OAA3BrvD,KAAK8kD,MAAM3oD,MAAM,EAAG,IAC/D6D,KAAKmzD,gBAAgB,GAEzBnzD,KAAKozD,WAAa,GAClBpzD,KAAKqzD,WAAW7C,GAEhBxwD,KAAKszD,YAAc,IACvB,EAEMC,GAAqB,CAAEC,WAAY,CAAEzgE,cAAc,GAAO0gE,YAAa,CAAE1gE,cAAc,GAAO2gE,QAAS,CAAE3gE,cAAc,GAAO4gE,WAAY,CAAE5gE,cAAc,GAAO6gE,iBAAkB,CAAE7gE,cAAc,GAAO8gE,oBAAqB,CAAE9gE,cAAc,IAEnP0+D,GAAOr/D,UAAU0hE,MAAQ,WACvB,IAAIplE,EAAOsR,KAAK+B,QAAQ2tD,SAAW1vD,KAAK+zD,YAExC,OADA/zD,KAAKg0D,YACEh0D,KAAKi0D,cAAcvlE,EAC9B,EAEE6kE,GAAmBC,WAAWzzD,IAAM,WAAc,OAAQC,KAAKk0D,kBAAkB7/D,MAAQo8D,GAAkB,CAAC,EAC5G8C,GAAmBE,YAAY1zD,IAAM,WAAc,OAAQC,KAAKk0D,kBAAkB7/D,MAAQu8D,GAAmB,CAAC,EAC9G2C,GAAmBG,QAAQ3zD,IAAM,WAAc,OAAQC,KAAKk0D,kBAAkB7/D,MAAQs8D,GAAe,CAAC,EACtG4C,GAAmBI,WAAW5zD,IAAM,WAAc,OAAQC,KAAKm0D,mBAAmB9/D,MAAQ08D,GAAe,CAAC,EAC1GwC,GAAmBK,iBAAiB7zD,IAAM,WAAc,OAAQC,KAAKm0D,mBAAmB9/D,MAAQ28D,GAAsB,CAAC,EACvHuC,GAAmBM,oBAAoB9zD,IAAM,WAAc,OAAOC,KAAKo0D,2BAA2Bp0D,KAAKq0D,eAAe,EAEtH5C,GAAOr/D,UAAUkiE,mBAAqB,WAAiC,OAAQt0D,KAAKm0D,mBAAmB9/D,MAAQo8D,GAAkB,CAAC,EAElIgB,GAAOr+C,OAAS,WAEZ,IADA,IAAImhD,EAAU,GAAIC,EAAMnmE,UAAUC,OAC1BkmE,KAAQD,EAASC,GAAQnmE,UAAWmmE,GAG9C,IADA,IAAIC,EAAMz0D,KACDxR,EAAI,EAAGA,EAAI+lE,EAAQjmE,OAAQE,IAAOimE,EAAMF,EAAQ/lE,GAAGimE,GAC5D,OAAOA,CACX,EAEEhD,GAAOqC,MAAQ,SAAgBhP,EAAO/iD,GACpC,OAAO,IAAI/B,KAAK+B,EAAS+iD,GAAOgP,OACpC,EAEErC,GAAOiD,kBAAoB,SAA4B5P,EAAOiD,EAAKhmD,GACjE,IAAI4yD,EAAS,IAAI30D,KAAK+B,EAAS+iD,EAAOiD,GAEtC,OADA4M,EAAOX,YACAW,EAAOC,iBAClB,EAEEnD,GAAOoD,UAAY,SAAoB/P,EAAO/iD,GAC5C,OAAO,IAAI/B,KAAK+B,EAAS+iD,EAC7B,EAEE3zD,OAAO2jE,iBAAkBrD,GAAOr/D,UAAWmhE,IAE3C,IAAIwB,GAAKtD,GAAOr/D,UAGZ4iE,GAAU,6CAoFd,SAASC,KACPj1D,KAAKk1D,gBACLl1D,KAAKm1D,cACLn1D,KAAKo1D,oBACLp1D,KAAKq1D,kBACLr1D,KAAKs1D,aACF,CACP,CA1FEP,GAAGnC,gBAAkB,SAASptD,GAC5B,OAAS,CACPsoD,EAAeY,UAAYlpD,EAC3BA,GAASsoD,EAAea,KAAK3uD,KAAK8kD,OAAO,GAAGx2D,OAC5C,IAAIgD,EAAQ0jE,GAAQrG,KAAK3uD,KAAK8kD,MAAM3oD,MAAMqJ,IAC1C,IAAKlU,EAAS,OAAO,EACrB,GAA+B,gBAA1BA,EAAM,IAAMA,EAAM,IAAwB,OAAO,EACtDkU,GAASlU,EAAM,GAAGhD,OAElBw/D,EAAeY,UAAYlpD,EAC3BA,GAASsoD,EAAea,KAAK3uD,KAAK8kD,OAAO,GAAGx2D,OAClB,MAAtB0R,KAAK8kD,MAAMt/C,IACXA,GACV,CACA,EAGEuvD,GAAGQ,IAAM,SAASnlE,GAChB,OAAI4P,KAAK5P,OAASA,IAChB4P,KAAK4W,QACE,EAIb,EAGEm+C,GAAGS,aAAe,SAASjlE,GACzB,OAAOyP,KAAK5P,OAAS64D,EAAM14D,MAAQyP,KAAKhN,QAAUzC,IAASyP,KAAKgyD,WACpE,EAGE+C,GAAGU,cAAgB,SAASllE,GAC1B,QAAKyP,KAAKw1D,aAAajlE,KACvByP,KAAK4W,QACE,EACX,EAGEm+C,GAAGW,iBAAmB,SAASnlE,GACxByP,KAAKy1D,cAAcllE,IAASyP,KAAK21D,YAC1C,EAGEZ,GAAGa,mBAAqB,WACtB,OAAO51D,KAAK5P,OAAS64D,EAAMI,KACzBrpD,KAAK5P,OAAS64D,EAAMQ,QACpBgE,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAKwyD,WAAYxyD,KAAKwF,OAC5D,EAEEuvD,GAAGc,gBAAkB,WACnB,GAAI71D,KAAK41D,qBAGP,OAFI51D,KAAK+B,QAAQgtD,qBACb/uD,KAAK+B,QAAQgtD,oBAAoB/uD,KAAKwyD,WAAYxyD,KAAKqyD,gBACpD,CAEb,EAGE0C,GAAGe,UAAY,WACR91D,KAAKu1D,IAAItM,EAAMY,OAAU7pD,KAAK61D,mBAAqB71D,KAAK21D,YACjE,EAEEZ,GAAGgB,mBAAqB,SAASC,EAASC,GACxC,GAAIj2D,KAAK5P,OAAS4lE,EAKhB,OAJIh2D,KAAK+B,QAAQitD,iBACbhvD,KAAK+B,QAAQitD,gBAAgBhvD,KAAKuyD,aAAcvyD,KAAKsyD,iBACpD2D,GACDj2D,KAAK4W,QACF,CAEb,EAGEm+C,GAAGmB,OAAS,SAAS9lE,GACnB4P,KAAKu1D,IAAInlE,IAAS4P,KAAK21D,YAC3B,EAGEZ,GAAGY,WAAa,SAAS5N,GACvB/nD,KAAKm2D,MAAa,MAAPpO,EAAcA,EAAM/nD,KAAKwF,MAAO,mBAC/C,EAWEuvD,GAAGqB,mBAAqB,SAASC,EAAwB3N,GACvD,GAAK2N,EAAL,CACIA,EAAuBlB,eAAiB,GACxCn1D,KAAKs2D,iBAAiBD,EAAuBlB,cAAe,iDAChE,IAAIoB,EAAS7N,EAAW2N,EAAuBjB,oBAAsBiB,EAAuBhB,kBACxFkB,GAAU,GAAKv2D,KAAKs2D,iBAAiBC,EAAQ,wBAJZ,CAKzC,EAEExB,GAAGyB,sBAAwB,SAASH,EAAwBI,GAC1D,IAAKJ,EAA0B,OAAO,EACtC,IAAInB,EAAkBmB,EAAuBnB,gBACzCI,EAAce,EAAuBf,YACzC,IAAKmB,EAAY,OAAOvB,GAAmB,GAAKI,GAAe,EAC3DJ,GAAmB,GACnBl1D,KAAKm2D,MAAMjB,EAAiB,2EAC5BI,GAAe,GACft1D,KAAKs2D,iBAAiBhB,EAAa,qCAC3C,EAEEP,GAAG2B,+BAAiC,WAC9B12D,KAAK8yD,YAAc9yD,KAAK+yD,UAAY/yD,KAAK8yD,SAAW9yD,KAAK+yD,WACzD/yD,KAAKm2D,MAAMn2D,KAAK8yD,SAAU,8CAC1B9yD,KAAK+yD,UACL/yD,KAAKm2D,MAAMn2D,KAAK+yD,SAAU,6CAClC,EAEEgC,GAAG4B,qBAAuB,SAASC,GACjC,MAAkB,4BAAdA,EAAKxmE,KACE4P,KAAK22D,qBAAqBC,EAAKC,YACrB,eAAdD,EAAKxmE,MAAuC,qBAAdwmE,EAAKxmE,IAC9C,EAEE,IAAI0mE,GAAOrF,GAAOr/D,UAIlB0kE,GAAK7C,cAAgB,SAASvlE,GAC5B,IAAIqyD,EAAU,CAAC,EAEf,IADKryD,EAAKmS,OAAQnS,EAAKmS,KAAO,IACvBb,KAAK5P,OAAS64D,EAAMI,KAAK,CAC9B,IAAI0N,EAAO/2D,KAAKg3D,eAAe,MAAM,EAAMjW,GAC3CryD,EAAKmS,KAAK9K,KAAKghE,EACrB,CACI,GAAI/2D,KAAK2yD,SACL,IAAK,IAAInkE,EAAI,EAAGysC,EAAO9pC,OAAOkgB,KAAKrR,KAAKkzD,kBAAmB1kE,EAAIysC,EAAK3sC,OAAQE,GAAK,EACjF,CACE,IAAI+B,EAAO0qC,EAAKzsC,GAEhBwR,KAAKs2D,iBAAiBt2D,KAAKkzD,iBAAiB3iE,GAAMiV,MAAQ,WAAajV,EAAO,mBACxF,CAII,OAHAyP,KAAKi3D,uBAAuBvoE,EAAKmS,MACjCb,KAAK4W,OACLloB,EAAKogE,WAAa9uD,KAAK+B,QAAQ+sD,WACxB9uD,KAAKk3D,WAAWxoE,EAAM,UACjC,EAEE,IAAIyoE,GAAY,CAACC,KAAM,QAASC,GAAc,CAACD,KAAM,UAErDN,GAAKQ,MAAQ,SAASxgE,GACpB,GAAIkJ,KAAK+B,QAAQ8sD,YAAc,IAAM7uD,KAAKw1D,aAAa,OAAU,OAAO,EACxE1H,EAAeY,UAAY1uD,KAAK+nD,IAChC,IAAIwP,EAAOzJ,EAAea,KAAK3uD,KAAK8kD,OAChCluC,EAAO5W,KAAK+nD,IAAMwP,EAAK,GAAGjpE,OAAQkpE,EAASx3D,KAAK8kD,MAAM5jD,WAAW0V,GACrE,GAAe,KAAX4gD,EAAiB,OAAO,EAC5B,GAAI1gE,EAAW,OAAO,EAEtB,GAAe,MAAX0gE,EAAkB,OAAO,EAC7B,GAAIxP,EAAkBwP,GAAQ,GAAO,CAEnC,IADA,IAAIzP,EAAMnxC,EAAO,EACVsxC,EAAiBloD,KAAK8kD,MAAM5jD,WAAW6mD,IAAM,MAAWA,EAC/D,IAAI0P,EAAQz3D,KAAK8kD,MAAM3oD,MAAMya,EAAMmxC,GACnC,IAAKR,EAA0B3oD,KAAK64D,GAAU,OAAO,CAC3D,CACI,OAAO,CACX,EAEEX,GAAKY,gBAAkB,WACrB,GAAI13D,KAAK+B,QAAQ8sD,YAAc,IAAM7uD,KAAKw1D,aAAa,SACnD,OAAO,EAEX1H,EAAeY,UAAY1uD,KAAK+nD,IAChC,IAAIwP,EAAOzJ,EAAea,KAAK3uD,KAAK8kD,OAChCluC,EAAO5W,KAAK+nD,IAAMwP,EAAK,GAAGjpE,OAC9B,OAAQm/D,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAK+nD,IAAKnxC,KACX,aAArC5W,KAAK8kD,MAAM3oD,MAAMya,EAAMA,EAAO,KAC7BA,EAAO,IAAM5W,KAAK8kD,MAAMx2D,SAAW45D,EAAiBloD,KAAK8kD,MAAM6S,OAAO/gD,EAAO,IACpF,EAGEkgD,GAAKE,eAAiB,SAASlgE,EAAS8gE,EAAU7W,GAChD,IAAoDqW,EAAhDS,EAAY73D,KAAK5P,KAAM1B,EAAOsR,KAAK+zD,YAQvC,OANI/zD,KAAKs3D,MAAMxgE,KACb+gE,EAAY5O,EAAMqD,KAClB8K,EAAO,OAIDS,GACR,KAAK5O,EAAMqC,OAAQ,KAAKrC,EAAMwC,UAAW,OAAOzrD,KAAK83D,4BAA4BppE,EAAMmpE,EAAUvP,SACjG,KAAKW,EAAMyC,UAAW,OAAO1rD,KAAK+3D,uBAAuBrpE,GACzD,KAAKu6D,EAAM2C,IAAK,OAAO5rD,KAAKg4D,iBAAiBtpE,GAC7C,KAAKu6D,EAAM8C,KAAM,OAAO/rD,KAAKi4D,kBAAkBvpE,GAC/C,KAAKu6D,EAAM+C,UAET,OADKl1D,IAAYkJ,KAAKmnD,QAAsB,OAAZrwD,GAAgC,UAAZA,IAAyBkJ,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAK21D,aAC5G31D,KAAKk4D,uBAAuBxpE,GAAM,GAAQoI,GACnD,KAAKmyD,EAAM4D,OAET,OADI/1D,GAAWkJ,KAAK21D,aACb31D,KAAKm4D,WAAWzpE,GAAM,GAC/B,KAAKu6D,EAAMgD,IAAK,OAAOjsD,KAAKo4D,iBAAiB1pE,GAC7C,KAAKu6D,EAAMiD,QAAS,OAAOlsD,KAAKq4D,qBAAqB3pE,GACrD,KAAKu6D,EAAMkD,QAAS,OAAOnsD,KAAKs4D,qBAAqB5pE,GACrD,KAAKu6D,EAAMmD,OAAQ,OAAOpsD,KAAKu4D,oBAAoB7pE,GACnD,KAAKu6D,EAAMoD,KAAM,OAAOrsD,KAAKw4D,kBAAkB9pE,GAC/C,KAAKu6D,EAAMsD,OAAQ,KAAKtD,EAAMqD,KAG5B,OAFA8K,EAAOA,GAAQp3D,KAAKhN,MAChB8D,GAAoB,QAATsgE,GAAkBp3D,KAAK21D,aAC/B31D,KAAKy4D,kBAAkB/pE,EAAM0oE,GACtC,KAAKnO,EAAMuD,OAAQ,OAAOxsD,KAAK04D,oBAAoBhqE,GACnD,KAAKu6D,EAAMwD,MAAO,OAAOzsD,KAAK24D,mBAAmBjqE,GACjD,KAAKu6D,EAAMO,OAAQ,OAAOxpD,KAAK44D,YAAW,EAAMlqE,GAChD,KAAKu6D,EAAMY,KAAM,OAAO7pD,KAAK64D,oBAAoBnqE,GACjD,KAAKu6D,EAAM8D,QACX,KAAK9D,EAAM+D,QACT,GAAIhtD,KAAK+B,QAAQ8sD,YAAc,IAAMgJ,IAAc5O,EAAM+D,QAAS,CAChEc,EAAeY,UAAY1uD,KAAK+nD,IAChC,IAAIwP,EAAOzJ,EAAea,KAAK3uD,KAAK8kD,OAChCluC,EAAO5W,KAAK+nD,IAAMwP,EAAK,GAAGjpE,OAC9B,GAAe,KADgC0R,KAAK8kD,MAAM5jD,WAAW0V,GAEjE,OAAO5W,KAAK84D,yBAAyBpqE,EAAMsR,KAAK40D,kBAC5D,CAQM,OANK50D,KAAK+B,QAAQotD,8BACXyI,GACD53D,KAAKm2D,MAAMn2D,KAAKwF,MAAO,0DACtBxF,KAAK2yD,UACN3yD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,oEAEtBqyD,IAAc5O,EAAM+D,QAAUhtD,KAAK+4D,YAAYrqE,GAAQsR,KAAKg5D,YAAYtqE,EAAMqyD,GAEvF,QACE,GAAI/gD,KAAK03D,kBAGP,OAFI5gE,GAAWkJ,KAAK21D,aACpB31D,KAAK4W,OACE5W,KAAKk4D,uBAAuBxpE,GAAM,GAAOoI,GAGlD,IAAImiE,EAAYj5D,KAAKhN,MAAO4jE,EAAO52D,KAAK40D,kBACxC,OAAIiD,IAAc5O,EAAM14D,MAAsB,eAAdqmE,EAAKxmE,MAAyB4P,KAAKu1D,IAAItM,EAAMa,OAClE9pD,KAAKk5D,sBAAsBxqE,EAAMuqE,EAAWrC,EAAM9/D,GAC/CkJ,KAAK84D,yBAAyBpqE,EAAMkoE,GAExD,EAEEE,GAAKgB,4BAA8B,SAASppE,EAAM45D,GAChD,IAAI6Q,EAAsB,UAAZ7Q,EACdtoD,KAAK4W,OACD5W,KAAKu1D,IAAItM,EAAMY,OAAS7pD,KAAK61D,kBAAqBnnE,EAAK05D,MAAQ,KAC1DpoD,KAAK5P,OAAS64D,EAAM14D,KAAQyP,KAAK21D,cAExCjnE,EAAK05D,MAAQpoD,KAAKo5D,aAClBp5D,KAAK81D,aAIP,IADA,IAAItnE,EAAI,EACDA,EAAIwR,KAAKizD,OAAO3kE,SAAUE,EAAG,CAClC,IAAI6qE,EAAMr5D,KAAKizD,OAAOzkE,GACtB,GAAkB,MAAdE,EAAK05D,OAAiBiR,EAAI9oE,OAAS7B,EAAK05D,MAAM73D,KAAM,CACtD,GAAgB,MAAZ8oE,EAAIjC,OAAiB+B,GAAwB,SAAbE,EAAIjC,MAAoB,MAC5D,GAAI1oE,EAAK05D,OAAS+Q,EAAW,KACrC,CACA,CAEI,OADI3qE,IAAMwR,KAAKizD,OAAO3kE,QAAU0R,KAAKm2D,MAAMznE,EAAK8W,MAAO,eAAiB8iD,GACjEtoD,KAAKk3D,WAAWxoE,EAAMyqE,EAAU,iBAAmB,oBAC9D,EAEErC,GAAKiB,uBAAyB,SAASrpE,GAGrC,OAFAsR,KAAK4W,OACL5W,KAAK81D,YACE91D,KAAKk3D,WAAWxoE,EAAM,oBACjC,EAEEooE,GAAKkB,iBAAmB,SAAStpE,GAW/B,OAVAsR,KAAK4W,OACL5W,KAAKizD,OAAOl9D,KAAKohE,IACjBzoE,EAAKmS,KAAOb,KAAKg3D,eAAe,MAChCh3D,KAAKizD,OAAOp9D,MACZmK,KAAKk2D,OAAOjN,EAAMuD,QAClB99D,EAAKkQ,KAAOoB,KAAKs5D,uBACbt5D,KAAK+B,QAAQ8sD,aAAe,EAC5B7uD,KAAKu1D,IAAItM,EAAMY,MAEf7pD,KAAK81D,YACF91D,KAAKk3D,WAAWxoE,EAAM,mBACjC,EAGEooE,GAAKmB,kBAAoB,SAASvpE,GAChCsR,KAAK4W,OACL,IAAI2iD,EAAWv5D,KAAK+B,QAAQ8sD,aAAe,IAAM7uD,KAAK0zD,UAAa1zD,KAAKwzD,YAAcxzD,KAAK+B,QAAQqtD,4BAA+BpvD,KAAKy1D,cAAc,SAAYz1D,KAAKuyD,cAAgB,EAItL,GAHAvyD,KAAKizD,OAAOl9D,KAAKohE,IACjBn3D,KAAKqzD,WAAW,GAChBrzD,KAAKk2D,OAAOjN,EAAMS,QACd1pD,KAAK5P,OAAS64D,EAAMY,KAEtB,OADI0P,GAAW,GAAKv5D,KAAK21D,WAAW4D,GAC7Bv5D,KAAKw5D,SAAS9qE,EAAM,MAE7B,IAAI4oE,EAAQt3D,KAAKs3D,QACjB,GAAIt3D,KAAK5P,OAAS64D,EAAMqD,MAAQtsD,KAAK5P,OAAS64D,EAAMsD,QAAU+K,EAAO,CACnE,IAAImC,EAASz5D,KAAK+zD,YAAaqD,EAAOE,EAAQ,MAAQt3D,KAAKhN,MAI3D,OAHAgN,KAAK4W,OACL5W,KAAK05D,SAASD,GAAQ,EAAMrC,GAC5Bp3D,KAAKk3D,WAAWuC,EAAQ,wBACnBz5D,KAAK5P,OAAS64D,EAAMmE,KAAQptD,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKw1D,aAAa,QAA0C,IAA/BiE,EAAOE,aAAarrE,QAC7G0R,KAAK+B,QAAQ8sD,aAAe,IAC1B7uD,KAAK5P,OAAS64D,EAAMmE,IAClBmM,GAAW,GAAKv5D,KAAK21D,WAAW4D,GAC7B7qE,EAAKkrE,MAAQL,GAAW,GAE5Bv5D,KAAK65D,WAAWnrE,EAAM+qE,KAE3BF,GAAW,GAAKv5D,KAAK21D,WAAW4D,GAC7Bv5D,KAAKw5D,SAAS9qE,EAAM+qE,GACjC,CACI,IAAIpD,EAAyB,IAAIpB,GAC7Bv4C,EAAO1c,KAAK40D,iBAAgB,EAAMyB,GACtC,OAAIr2D,KAAK5P,OAAS64D,EAAMmE,KAAQptD,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKw1D,aAAa,OAC7Ex1D,KAAK+B,QAAQ8sD,aAAe,IAC1B7uD,KAAK5P,OAAS64D,EAAMmE,IAClBmM,GAAW,GAAKv5D,KAAK21D,WAAW4D,GAC7B7qE,EAAKkrE,MAAQL,GAAW,GAEnCv5D,KAAK85D,aAAap9C,GAAM,EAAO25C,GAC/Br2D,KAAK+5D,UAAUr9C,GACR1c,KAAK65D,WAAWnrE,EAAMguB,KAE7B1c,KAAKw2D,sBAAsBH,GAAwB,GAEjDkD,GAAW,GAAKv5D,KAAK21D,WAAW4D,GAC7Bv5D,KAAKw5D,SAAS9qE,EAAMguB,GAC/B,EAEEo6C,GAAKoB,uBAAyB,SAASxpE,EAAMsrE,EAASC,GAEpD,OADAj6D,KAAK4W,OACE5W,KAAKk6D,cAAcxrE,EAAMyrE,IAAkBF,EAAsB,EAAIG,KAAyB,EAAOJ,EAChH,EAEElD,GAAKsB,iBAAmB,SAAS1pE,GAK/B,OAJAsR,KAAK4W,OACLloB,EAAKkQ,KAAOoB,KAAKs5D,uBACjB5qE,EAAK2rE,WAAar6D,KAAKg3D,eAAe,MACtCtoE,EAAK0F,UAAY4L,KAAKu1D,IAAItM,EAAM4C,OAAS7rD,KAAKg3D,eAAe,MAAQ,KAC9Dh3D,KAAKk3D,WAAWxoE,EAAM,cACjC,EAEEooE,GAAKuB,qBAAuB,SAAS3pE,GAQnC,OAPKsR,KAAKwzD,YAAexzD,KAAK+B,QAAQmtD,4BAClClvD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,gCAC3BxF,KAAK4W,OAGD5W,KAAKu1D,IAAItM,EAAMY,OAAS7pD,KAAK61D,kBAAqBnnE,EAAK4rE,SAAW,MAC/D5rE,EAAK4rE,SAAWt6D,KAAK40D,kBAAmB50D,KAAK81D,aAC7C91D,KAAKk3D,WAAWxoE,EAAM,kBACjC,EAEEooE,GAAKwB,qBAAuB,SAAS5pE,GASnC,IAAI+/D,EARJzuD,KAAK4W,OACLloB,EAAK6rE,aAAev6D,KAAKs5D,uBACzB5qE,EAAK8rE,MAAQ,GACbx6D,KAAKk2D,OAAOjN,EAAMO,QAClBxpD,KAAKizD,OAAOl9D,KAAKshE,IACjBr3D,KAAKqzD,WAAW,GAIhB,IAAK,IAAIoH,GAAa,EAAOz6D,KAAK5P,OAAS64D,EAAMQ,QAC/C,GAAIzpD,KAAK5P,OAAS64D,EAAMsC,OAASvrD,KAAK5P,OAAS64D,EAAM0C,SAAU,CAC7D,IAAI+O,EAAS16D,KAAK5P,OAAS64D,EAAMsC,MAC7BkD,GAAOzuD,KAAKk3D,WAAWzI,EAAK,cAChC//D,EAAK8rE,MAAMzkE,KAAK04D,EAAMzuD,KAAK+zD,aAC3BtF,EAAI4L,WAAa,GACjBr6D,KAAK4W,OACD8jD,EACFjM,EAAI7vD,KAAOoB,KAAK40D,mBAEZ6F,GAAcz6D,KAAKs2D,iBAAiBt2D,KAAKuyD,aAAc,4BAC3DkI,GAAa,EACbhM,EAAI7vD,KAAO,MAEboB,KAAKk2D,OAAOjN,EAAMa,MAC1B,MACa2E,GAAOzuD,KAAK21D,aACjBlH,EAAI4L,WAAWtkE,KAAKiK,KAAKg3D,eAAe,OAO5C,OAJAh3D,KAAK26D,YACDlM,GAAOzuD,KAAKk3D,WAAWzI,EAAK,cAChCzuD,KAAK4W,OACL5W,KAAKizD,OAAOp9D,MACLmK,KAAKk3D,WAAWxoE,EAAM,kBACjC,EAEEooE,GAAKyB,oBAAsB,SAAS7pE,GAMlC,OALAsR,KAAK4W,OACD62C,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAKwyD,WAAYxyD,KAAKwF,SACtDxF,KAAKm2D,MAAMn2D,KAAKwyD,WAAY,+BAChC9jE,EAAK4rE,SAAWt6D,KAAK40D,kBACrB50D,KAAK81D,YACE91D,KAAKk3D,WAAWxoE,EAAM,iBACjC,EAGE,IAAIksE,GAAQ,GAEZ9D,GAAK0B,kBAAoB,SAAS9pE,GAIhC,GAHAsR,KAAK4W,OACLloB,EAAKyhE,MAAQnwD,KAAK44D,aAClBlqE,EAAK8xB,QAAU,KACXxgB,KAAK5P,OAAS64D,EAAMuC,OAAQ,CAC9B,IAAIqP,EAAS76D,KAAK+zD,YAElB,GADA/zD,KAAK4W,OACD5W,KAAKu1D,IAAItM,EAAMS,QAAS,CAC1BmR,EAAOC,MAAQ96D,KAAK+6D,mBACpB,IAAIC,EAA+B,eAAtBH,EAAOC,MAAM1qE,KAC1B4P,KAAKqzD,WAAW2H,EAASlK,EAAqB,GAC9C9wD,KAAK+5D,UAAUc,EAAOC,MAAOE,EAASzJ,EAAoBF,GAC1DrxD,KAAKk2D,OAAOjN,EAAMU,OAC1B,MACY3pD,KAAK+B,QAAQ8sD,YAAc,IAAM7uD,KAAK21D,aAC1CkF,EAAOC,MAAQ,KACf96D,KAAKqzD,WAAW,GAElBwH,EAAOh6D,KAAOb,KAAK44D,YAAW,GAC9B54D,KAAK26D,YACLjsE,EAAK8xB,QAAUxgB,KAAKk3D,WAAW2D,EAAQ,cAC7C,CAII,OAHAnsE,EAAKusE,UAAYj7D,KAAKu1D,IAAItM,EAAM6C,UAAY9rD,KAAK44D,aAAe,KAC3DlqE,EAAK8xB,SAAY9xB,EAAKusE,WACvBj7D,KAAKm2D,MAAMznE,EAAK8W,MAAO,mCACpBxF,KAAKk3D,WAAWxoE,EAAM,eACjC,EAEEooE,GAAK2B,kBAAoB,SAAS/pE,EAAM0oE,GAItC,OAHAp3D,KAAK4W,OACL5W,KAAK05D,SAAShrE,GAAM,EAAO0oE,GAC3Bp3D,KAAK81D,YACE91D,KAAKk3D,WAAWxoE,EAAM,sBACjC,EAEEooE,GAAK4B,oBAAsB,SAAShqE,GAMlC,OALAsR,KAAK4W,OACLloB,EAAKkQ,KAAOoB,KAAKs5D,uBACjBt5D,KAAKizD,OAAOl9D,KAAKohE,IACjBzoE,EAAKmS,KAAOb,KAAKg3D,eAAe,SAChCh3D,KAAKizD,OAAOp9D,MACLmK,KAAKk3D,WAAWxoE,EAAM,iBACjC,EAEEooE,GAAK6B,mBAAqB,SAASjqE,GAKjC,OAJIsR,KAAKmnD,QAAUnnD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,yBAC1CxF,KAAK4W,OACLloB,EAAKqzD,OAAS/hD,KAAKs5D,uBACnB5qE,EAAKmS,KAAOb,KAAKg3D,eAAe,QACzBh3D,KAAKk3D,WAAWxoE,EAAM,gBACjC,EAEEooE,GAAK+B,oBAAsB,SAASnqE,GAElC,OADAsR,KAAK4W,OACE5W,KAAKk3D,WAAWxoE,EAAM,iBACjC,EAEEooE,GAAKoC,sBAAwB,SAASxqE,EAAMuqE,EAAWrC,EAAM9/D,GAC3D,IAAK,IAAIokE,EAAM,EAAGjgC,EAAOj7B,KAAKizD,OAAQiI,EAAMjgC,EAAK3sC,OAAQ4sE,GAAO,EAElDjgC,EAAKigC,GAEP3qE,OAAS0oE,GACfj5D,KAAKm2D,MAAMS,EAAKpxD,MAAO,UAAYyzD,EAAY,yBAGrD,IADA,IAAI7B,EAAOp3D,KAAK5P,KAAKq4D,OAAS,OAASzoD,KAAK5P,OAAS64D,EAAMkD,QAAU,SAAW,KACvE39D,EAAIwR,KAAKizD,OAAO3kE,OAAS,EAAGE,GAAK,EAAGA,IAAK,CAChD,IAAI2sE,EAAUn7D,KAAKizD,OAAOzkE,GAC1B,GAAI2sE,EAAQC,iBAAmB1sE,EAAK8W,MAG3B,MAFP21D,EAAQC,eAAiBp7D,KAAKwF,MAC9B21D,EAAQ/D,KAAOA,CAEvB,CAKI,OAJAp3D,KAAKizD,OAAOl9D,KAAK,CAACxF,KAAM0oE,EAAW7B,KAAMA,EAAMgE,eAAgBp7D,KAAKwF,QACpE9W,EAAKmS,KAAOb,KAAKg3D,eAAelgE,GAAwC,IAA9BA,EAAQrF,QAAQ,SAAkBqF,EAAU,QAAUA,EAAU,SAC1GkJ,KAAKizD,OAAOp9D,MACZnH,EAAK05D,MAAQwO,EACN52D,KAAKk3D,WAAWxoE,EAAM,mBACjC,EAEEooE,GAAKgC,yBAA2B,SAASpqE,EAAMkoE,GAG7C,OAFAloE,EAAKmoE,WAAaD,EAClB52D,KAAK81D,YACE91D,KAAKk3D,WAAWxoE,EAAM,sBACjC,EAGEooE,GAAK8B,WAAa,SAASyC,EAAuB3sE,GAOhD,SAN+B,IAA1B2sE,IAAmCA,GAAwB,QAClD,IAAT3sE,IAAkBA,EAAOsR,KAAK+zD,aAEnCrlE,EAAKmS,KAAO,GACZb,KAAKk2D,OAAOjN,EAAMO,QACd6R,GAAyBr7D,KAAKqzD,WAAW,IACrCrzD,KAAKu1D,IAAItM,EAAMQ,SAAS,CAC9B,IAAIsN,EAAO/2D,KAAKg3D,eAAe,MAC/BtoE,EAAKmS,KAAK9K,KAAKghE,EACrB,CAEI,OADIsE,GAAyBr7D,KAAK26D,YAC3B36D,KAAKk3D,WAAWxoE,EAAM,iBACjC,EAGEooE,GAAK0C,SAAW,SAAS9qE,EAAMguB,GAU7B,OATAhuB,EAAKguB,KAAOA,EACZ1c,KAAKk2D,OAAOjN,EAAMY,MAClBn7D,EAAKkQ,KAAOoB,KAAK5P,OAAS64D,EAAMY,KAAO,KAAO7pD,KAAK40D,kBACnD50D,KAAKk2D,OAAOjN,EAAMY,MAClBn7D,EAAKioB,OAAS3W,KAAK5P,OAAS64D,EAAMU,OAAS,KAAO3pD,KAAK40D,kBACvD50D,KAAKk2D,OAAOjN,EAAMU,QAClBj7D,EAAKmS,KAAOb,KAAKg3D,eAAe,OAChCh3D,KAAK26D,YACL36D,KAAKizD,OAAOp9D,MACLmK,KAAKk3D,WAAWxoE,EAAM,eACjC,EAGEooE,GAAK+C,WAAa,SAASnrE,EAAMguB,GAC/B,IAAI4+C,EAAUt7D,KAAK5P,OAAS64D,EAAMmE,IA2BlC,OA1BAptD,KAAK4W,OAGW,wBAAd8F,EAAKtsB,MACwB,MAA7BssB,EAAKi9C,aAAa,GAAGj9C,QAElB4+C,GACDt7D,KAAK+B,QAAQ8sD,YAAc,GAC3B7uD,KAAKmnD,QACS,QAAdzqC,EAAK06C,MAC4B,eAAjC16C,EAAKi9C,aAAa,GAAGliC,GAAGrnC,MAG1B4P,KAAKm2D,MACHz5C,EAAKlX,OACH81D,EAAU,SAAW,UAAY,0DAEd,sBAAd5+C,EAAKtsB,MACd4P,KAAKm2D,MAAMz5C,EAAKlX,MAAO,sCAEzB9W,EAAKslB,KAAO0I,EACZhuB,EAAK6sE,MAAQD,EAAUt7D,KAAK40D,kBAAoB50D,KAAKw7D,mBACrDx7D,KAAKk2D,OAAOjN,EAAMU,QAClBj7D,EAAKmS,KAAOb,KAAKg3D,eAAe,OAChCh3D,KAAK26D,YACL36D,KAAKizD,OAAOp9D,MACLmK,KAAKk3D,WAAWxoE,EAAM4sE,EAAU,iBAAmB,iBAC9D,EAGExE,GAAK4C,SAAW,SAAShrE,EAAM+sE,EAAOrE,GAGpC,IAFA1oE,EAAKirE,aAAe,GACpBjrE,EAAK0oE,KAAOA,IACH,CACP,IAAIsE,EAAO17D,KAAK+zD,YAYhB,GAXA/zD,KAAK27D,WAAWD,EAAMtE,GAClBp3D,KAAKu1D,IAAItM,EAAMsB,IACjBmR,EAAKh/C,KAAO1c,KAAKw7D,iBAAiBC,GAChB,UAATrE,GAAsBp3D,KAAK5P,OAAS64D,EAAMmE,KAAQptD,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKw1D,aAAa,MAEpF,eAAjBkG,EAAKjkC,GAAGrnC,MAA2BqrE,IAAUz7D,KAAK5P,OAAS64D,EAAMmE,KAAOptD,KAAKw1D,aAAa,OAGnGkG,EAAKh/C,KAAO,KAFZ1c,KAAKm2D,MAAMn2D,KAAKwyD,WAAY,4DAF5BxyD,KAAK21D,aAMPjnE,EAAKirE,aAAa5jE,KAAKiK,KAAKk3D,WAAWwE,EAAM,wBACxC17D,KAAKu1D,IAAItM,EAAMW,OAAU,KACpC,CACI,OAAOl7D,CACX,EAEEooE,GAAK6E,WAAa,SAASD,EAAMtE,GAC/BsE,EAAKjkC,GAAKz3B,KAAK+6D,mBACf/6D,KAAK+5D,UAAU2B,EAAKjkC,GAAa,QAAT2/B,EAAiBhG,EAAWC,GAAc,EACtE,EAEE,IAAI8I,GAAiB,EAAGC,GAAyB,EAAGwB,GAAmB,EAGvE9E,GAAKoD,cAAgB,SAASxrE,EAAMmtE,EAAWC,EAAqB9B,GAClEh6D,KAAK+7D,aAAartE,IACdsR,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAK+B,QAAQ8sD,aAAe,IAAMmL,KACjEh6D,KAAK5P,OAAS64D,EAAMkC,MAAS0Q,EAAYzB,IACzCp6D,KAAK21D,aACTjnE,EAAKwiE,UAAYlxD,KAAKu1D,IAAItM,EAAMkC,OAE9BnrD,KAAK+B,QAAQ8sD,aAAe,IAC5BngE,EAAK84C,QAAUwyB,GAEf6B,EAAY1B,KACdzrE,EAAK+oC,GAAMokC,EAAYD,IAAqB57D,KAAK5P,OAAS64D,EAAM14D,KAAO,KAAOyP,KAAKo5D,cAC/E1qE,EAAK+oC,IAAQokC,EAAYzB,IACzBp6D,KAAK+5D,UAAUrrE,EAAK+oC,GAAKz3B,KAAKmnD,QAAUz4D,EAAKwiE,WAAaxiE,EAAK84C,MAASxnC,KAAK6zD,oBAAsBzC,EAAWC,EAAeC,IAGnI,IAAI0K,EAAch8D,KAAK8yD,SAAUmJ,EAAcj8D,KAAK+yD,SAAUmJ,EAAmBl8D,KAAKgzD,cAetF,OAdAhzD,KAAK8yD,SAAW,EAChB9yD,KAAK+yD,SAAW,EAChB/yD,KAAKgzD,cAAgB,EACrBhzD,KAAKqzD,WAAWpC,EAAcviE,EAAK84C,MAAO94C,EAAKwiE,YAEzC2K,EAAY1B,KACdzrE,EAAK+oC,GAAKz3B,KAAK5P,OAAS64D,EAAM14D,KAAOyP,KAAKo5D,aAAe,MAE7Dp5D,KAAKm8D,oBAAoBztE,GACzBsR,KAAKo8D,kBAAkB1tE,EAAMotE,GAAqB,GAElD97D,KAAK8yD,SAAWkJ,EAChBh8D,KAAK+yD,SAAWkJ,EAChBj8D,KAAKgzD,cAAgBkJ,EACdl8D,KAAKk3D,WAAWxoE,EAAOmtE,EAAY1B,GAAkB,sBAAwB,qBACxF,EAEErD,GAAKqF,oBAAsB,SAASztE,GAClCsR,KAAKk2D,OAAOjN,EAAMS,QAClBh7D,EAAK2tE,OAASr8D,KAAKs8D,iBAAiBrT,EAAMU,QAAQ,EAAO3pD,KAAK+B,QAAQ8sD,aAAe,GACrF7uD,KAAK02D,gCACT,EAGEI,GAAKqB,WAAa,SAASzpE,EAAM6tE,GAC/Bv8D,KAAK4W,OAEL,IAAI4lD,EAAYx8D,KAAKmnD,OACrBnnD,KAAKmnD,QAAS,EAEdnnD,KAAKy8D,aAAa/tE,EAAM6tE,GACxBv8D,KAAK08D,gBAAgBhuE,GACrB,IAAIiuE,EAAY38D,KAAK+zD,YACjB6I,GAAiB,EAGrB,IAFAD,EAAU97D,KAAO,GACjBb,KAAKk2D,OAAOjN,EAAMO,SACVxpD,KAAKu1D,IAAItM,EAAMQ,SAAS,CAC9B,IAAIroD,EAAUpB,KAAK68D,kBAAsC,OAApBnuE,EAAKouE,YACtC17D,IACFu7D,EAAU97D,KAAK9K,KAAKqL,GACC,qBAAjBA,EAAQhR,MAAgD,gBAAjBgR,EAAQg2D,OAC7CwF,GAAkB58D,KAAKm2D,MAAM/0D,EAAQoE,MAAO,2CAChDo3D,GAAiB,GAG3B,CAGI,OAFAluE,EAAKmS,KAAOb,KAAKk3D,WAAWyF,EAAW,aACvC38D,KAAKmnD,OAASqV,EACPx8D,KAAKk3D,WAAWxoE,EAAM6tE,EAAc,mBAAqB,kBACpE,EAEEzF,GAAK+F,kBAAoB,SAASE,GAChC,IAAIC,EAASh9D,KAEb,GAAIA,KAAKu1D,IAAItM,EAAMY,MAAS,OAAO,KAEnC,IAAIv0D,EAAS0K,KAAK+zD,YACdkJ,EAAgB,SAAUC,EAAGC,QACV,IAAhBA,IAAyBA,GAAc,GAE5C,IAAI33D,EAAQw3D,EAAOx3D,MAAO4qD,EAAW4M,EAAO5M,SAC5C,QAAK4M,EAAOvH,cAAcyH,OACtBF,EAAO5sE,OAAS64D,EAAMS,QAAYyT,GAAgBH,EAAOpH,wBACzDtgE,EAAOqW,KAAOqxD,EAAOrH,aACzBrgE,EAAO8nE,UAAW,EAClB9nE,EAAOqW,IAAMqxD,EAAOK,YAAY73D,EAAO4qD,GACvC96D,EAAOqW,IAAIpb,KAAO2sE,EAClBF,EAAO9F,WAAW5hE,EAAOqW,IAAK,eACvB,GACb,EAEIrW,EAAO8hE,KAAO,SACd9hE,EAAOgoE,OAASL,EAAc,UAC9B,IAAIM,EAAcv9D,KAAKu1D,IAAItM,EAAMkC,MAC7B6O,GAAU,EACTuD,IACCv9D,KAAK+B,QAAQ8sD,aAAe,GAAKoO,EAAc,SAAS,IAC1DjD,GAAU,EACVuD,EAAcv9D,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKu1D,IAAItM,EAAMkC,OACrD8R,EAAc,OACvB3nE,EAAO8hE,KAAO,MACL6F,EAAc,SACvB3nE,EAAO8hE,KAAO,QAGb9hE,EAAOqW,KAAO3L,KAAKw9D,kBAAkBloE,GAC1C,IAAIqW,EAAMrW,EAAOqW,IACb8xD,GAAoB,EAkBxB,OAjBKnoE,EAAO8nE,UAAa9nE,EAAOgoE,UAAwB,eAAb3xD,EAAIvb,MAAsC,gBAAbub,EAAIpb,MAC3D,YAAbob,EAAIvb,MAAoC,gBAAdub,EAAI3Y,OAMvBsC,EAAOgoE,QAAuB,eAAb3xD,EAAIvb,MAAsC,cAAbub,EAAIpb,MAC3DyP,KAAKm2D,MAAMxqD,EAAInG,MAAO,2DANF,WAAhBlQ,EAAO8hE,MAAqBp3D,KAAKm2D,MAAMxqD,EAAInG,MAAO,2CAClD+3D,GAAev9D,KAAKm2D,MAAMxqD,EAAInG,MAAO,oCACrCw0D,GAAWh6D,KAAKm2D,MAAMxqD,EAAInG,MAAO,wCACrClQ,EAAO8hE,KAAO,cACdqG,EAAoBV,GAItB/8D,KAAK09D,iBAAiBpoE,EAAQioE,EAAavD,EAASyD,GAChC,QAAhBnoE,EAAO8hE,MAAiD,IAA/B9hE,EAAOtC,MAAMqpE,OAAO/tE,QAC7C0R,KAAKs2D,iBAAiBhhE,EAAOtC,MAAMwS,MAAO,gCAC1B,QAAhBlQ,EAAO8hE,MAAiD,IAA/B9hE,EAAOtC,MAAMqpE,OAAO/tE,QAC7C0R,KAAKs2D,iBAAiBhhE,EAAOtC,MAAMwS,MAAO,wCAC1B,QAAhBlQ,EAAO8hE,MAAkD,gBAAhC9hE,EAAOtC,MAAMqpE,OAAO,GAAGjsE,MAChD4P,KAAKs2D,iBAAiBhhE,EAAOtC,MAAMqpE,OAAO,GAAG72D,MAAO,iCACjDlQ,CACX,EAEEwhE,GAAK4G,iBAAmB,SAASpoE,EAAQioE,EAAavD,EAASyD,GAE7D,OADAnoE,EAAOtC,MAAQgN,KAAK29D,YAAYJ,EAAavD,EAASyD,GAC/Cz9D,KAAKk3D,WAAW5hE,EAAQ,mBACnC,EAEEwhE,GAAK2F,aAAe,SAAS/tE,EAAM6tE,GAC7Bv8D,KAAK5P,OAAS64D,EAAM14D,MACtB7B,EAAK+oC,GAAKz3B,KAAKo5D,aACXmD,GACAv8D,KAAK+5D,UAAUrrE,EAAK+oC,GAAI45B,GAAc,MAEtB,IAAhBkL,GACAv8D,KAAK21D,aACTjnE,EAAK+oC,GAAK,KAEhB,EAEEq/B,GAAK4F,gBAAkB,SAAShuE,GAC9BA,EAAKouE,WAAa98D,KAAKu1D,IAAItM,EAAM6D,UAAY9sD,KAAK49D,sBAAwB,IAC9E,EAGE9G,GAAKkC,YAAc,SAAStqE,EAAMqyD,GAEhC,GADA/gD,KAAK4W,OACD5W,KAAKu1D,IAAItM,EAAMkC,MAKjB,OAJAnrD,KAAK01D,iBAAiB,QAClB11D,KAAK5P,OAAS64D,EAAMG,QAAUppD,KAAK21D,aACvCjnE,EAAKopB,OAAS9X,KAAK69D,gBACnB79D,KAAK81D,YACE91D,KAAKk3D,WAAWxoE,EAAM,wBAE/B,GAAIsR,KAAKu1D,IAAItM,EAAM0C,UAAW,CAE5B,IAAIqO,EACJ,GAFAh6D,KAAK89D,YAAY/c,EAAS,UAAW/gD,KAAKuyD,cAEtCvyD,KAAK5P,OAAS64D,EAAM+C,YAAcgO,EAAUh6D,KAAK03D,mBAAoB,CACvE,IAAIqG,EAAQ/9D,KAAK+zD,YACjB/zD,KAAK4W,OACDojD,GAAWh6D,KAAK4W,OACpBloB,EAAKsvE,YAAch+D,KAAKk6D,cAAc6D,EAAO5D,GAAiByB,IAAkB,EAAO5B,EAC/F,MAAa,GAAIh6D,KAAK5P,OAAS64D,EAAM4D,OAAQ,CACrC,IAAIoR,EAAQj+D,KAAK+zD,YACjBrlE,EAAKsvE,YAAch+D,KAAKm4D,WAAW8F,EAAO,aAClD,MACQvvE,EAAKsvE,YAAch+D,KAAKw7D,mBACxBx7D,KAAK81D,YAEP,OAAO91D,KAAKk3D,WAAWxoE,EAAM,2BACnC,CACI,GAAIsR,KAAKk+D,6BACPxvE,EAAKsvE,YAAch+D,KAAKg3D,eAAe,MACT,wBAA1BtoE,EAAKsvE,YAAY5tE,KACjB4P,KAAKm+D,oBAAoBpd,EAASryD,EAAKsvE,YAAYrE,cAEnD35D,KAAK89D,YAAY/c,EAASryD,EAAKsvE,YAAYvmC,GAAGlnC,KAAM7B,EAAKsvE,YAAYvmC,GAAGjyB,OAC5E9W,EAAK0vE,WAAa,GAClB1vE,EAAKopB,OAAS,SACT,CAGL,GAFAppB,EAAKsvE,YAAc,KACnBtvE,EAAK0vE,WAAap+D,KAAKq+D,sBAAsBtd,GACzC/gD,KAAKy1D,cAAc,QACjBz1D,KAAK5P,OAAS64D,EAAMG,QAAUppD,KAAK21D,aACvCjnE,EAAKopB,OAAS9X,KAAK69D,oBACd,CACL,IAAK,IAAIrvE,EAAI,EAAGysC,EAAOvsC,EAAK0vE,WAAY5vE,EAAIysC,EAAK3sC,OAAQE,GAAK,EAAG,CAC/D,IAAI8vE,EAAOrjC,EAAKzsC,GAEhBwR,KAAKu+D,gBAAgBD,EAAKE,OAC1Bx+D,KAAKy+D,iBAAiBH,EAAKE,MACrC,CAEQ9vE,EAAKopB,OAAS,IACtB,CACM9X,KAAK81D,WACX,CACI,OAAO91D,KAAKk3D,WAAWxoE,EAAM,yBACjC,EAEEooE,GAAKgH,YAAc,SAAS/c,EAASxwD,EAAMw3D,GACpChH,IACD59C,EAAI49C,EAASxwD,IACbyP,KAAKs2D,iBAAiBvO,EAAK,qBAAuBx3D,EAAO,KAC7DwwD,EAAQxwD,IAAQ,EACpB,EAEEumE,GAAK4H,mBAAqB,SAAS3d,EAAS4d,GAC1C,IAAIvuE,EAAOuuE,EAAIvuE,KACf,GAAa,eAATA,EACA4P,KAAK89D,YAAY/c,EAAS4d,EAAIpuE,KAAMouE,EAAIn5D,YACvC,GAAa,kBAATpV,EACL,IAAK,IAAI5B,EAAI,EAAGysC,EAAO0jC,EAAIC,WAAYpwE,EAAIysC,EAAK3sC,OAAQE,GAAK,EAC7D,CACE,IAAIqwE,EAAO5jC,EAAKzsC,GAEhBwR,KAAK0+D,mBAAmB3d,EAAS8d,EAC3C,MACS,GAAa,iBAATzuE,EACL,IAAK,IAAI8qE,EAAM,EAAG4D,EAASH,EAAIj3B,SAAUwzB,EAAM4D,EAAOxwE,OAAQ4sE,GAAO,EAAG,CACxE,IAAI6D,EAAMD,EAAO5D,GAEX6D,GAAO/+D,KAAK0+D,mBAAmB3d,EAASge,EACtD,KACsB,aAAT3uE,EACL4P,KAAK0+D,mBAAmB3d,EAAS4d,EAAI3rE,OACvB,sBAAT5C,EACL4P,KAAK0+D,mBAAmB3d,EAAS4d,EAAI3qD,MACvB,gBAAT5jB,EACL4P,KAAK0+D,mBAAmB3d,EAAS4d,EAAIrE,UACvB,4BAATlqE,GACL4P,KAAK0+D,mBAAmB3d,EAAS4d,EAAI9H,WAC7C,EAEEC,GAAKqH,oBAAsB,SAASpd,EAASie,GAC3C,GAAKje,EACL,IAAK,IAAIvyD,EAAI,EAAGysC,EAAO+jC,EAAOxwE,EAAIysC,EAAK3sC,OAAQE,GAAK,EAClD,CACA,IAAIktE,EAAOzgC,EAAKzsC,GAEhBwR,KAAK0+D,mBAAmB3d,EAAS2a,EAAKjkC,GAC5C,CACA,EAEEq/B,GAAKoH,2BAA6B,WAChC,MAA6B,QAAtBl+D,KAAK5P,KAAKk4D,SACO,UAAtBtoD,KAAK5P,KAAKk4D,SACY,UAAtBtoD,KAAK5P,KAAKk4D,SACY,aAAtBtoD,KAAK5P,KAAKk4D,SACVtoD,KAAKs3D,SACLt3D,KAAK03D,iBACX,EAGEZ,GAAKuH,sBAAwB,SAAStd,GACpC,IAAIvF,EAAQ,GAAIyjB,GAAQ,EAExB,IADAj/D,KAAKk2D,OAAOjN,EAAMO,SACVxpD,KAAKu1D,IAAItM,EAAMQ,SAAS,CAC9B,GAAKwV,EAGIA,GAAQ,OADf,GADAj/D,KAAKk2D,OAAOjN,EAAMW,OACd5pD,KAAK+1D,mBAAmB9M,EAAMQ,QAAW,MAG/C,IAAI/6D,EAAOsR,KAAK+zD,YAChBrlE,EAAK8vE,MAAQx+D,KAAKo5D,YAAW,GAC7B1qE,EAAKwwE,SAAWl/D,KAAKy1D,cAAc,MAAQz1D,KAAKo5D,YAAW,GAAQ1qE,EAAK8vE,MACxEx+D,KAAK89D,YAAY/c,EAASryD,EAAKwwE,SAAS3uE,KAAM7B,EAAKwwE,SAAS15D,OAC5Dg2C,EAAMzlD,KAAKiK,KAAKk3D,WAAWxoE,EAAM,mBACvC,CACI,OAAO8sD,CACX,EAGEsb,GAAKiC,YAAc,SAASrqE,GAW1B,OAVAsR,KAAK4W,OACD5W,KAAK5P,OAAS64D,EAAMG,QACtB16D,EAAK0vE,WAAaxD,GAClBlsE,EAAKopB,OAAS9X,KAAK69D,kBAEnBnvE,EAAK0vE,WAAap+D,KAAKm/D,wBACvBn/D,KAAK01D,iBAAiB,QACtBhnE,EAAKopB,OAAS9X,KAAK5P,OAAS64D,EAAMG,OAASppD,KAAK69D,gBAAkB79D,KAAK21D,cAEzE31D,KAAK81D,YACE91D,KAAKk3D,WAAWxoE,EAAM,oBACjC,EAGEooE,GAAKqI,sBAAwB,WAC3B,IAAI3jB,EAAQ,GAAIyjB,GAAQ,EACxB,GAAIj/D,KAAK5P,OAAS64D,EAAM14D,KAAM,CAC5B,IAAI7B,EAAOsR,KAAK+zD,YAIhB,GAHArlE,EAAK8vE,MAAQx+D,KAAKo5D,aAClBp5D,KAAK+5D,UAAUrrE,EAAK8vE,MAAOnN,GAC3B7V,EAAMzlD,KAAKiK,KAAKk3D,WAAWxoE,EAAM,4BAC5BsR,KAAKu1D,IAAItM,EAAMW,OAAU,OAAOpO,CAC3C,CACI,GAAIx7C,KAAK5P,OAAS64D,EAAMkC,KAAM,CAC5B,IAAIiU,EAASp/D,KAAK+zD,YAMlB,OALA/zD,KAAK4W,OACL5W,KAAK01D,iBAAiB,MACtB0J,EAAOZ,MAAQx+D,KAAKo5D,aACpBp5D,KAAK+5D,UAAUqF,EAAOZ,MAAOnN,GAC7B7V,EAAMzlD,KAAKiK,KAAKk3D,WAAWkI,EAAQ,6BAC5B5jB,CACb,CAEI,IADAx7C,KAAKk2D,OAAOjN,EAAMO,SACVxpD,KAAKu1D,IAAItM,EAAMQ,SAAS,CAC9B,GAAKwV,EAGIA,GAAQ,OADf,GADAj/D,KAAKk2D,OAAOjN,EAAMW,OACd5pD,KAAK+1D,mBAAmB9M,EAAMQ,QAAW,MAG/C,IAAI4V,EAASr/D,KAAK+zD,YAClBsL,EAAOC,SAAWt/D,KAAKo5D,YAAW,GAC9Bp5D,KAAKy1D,cAAc,MACrB4J,EAAOb,MAAQx+D,KAAKo5D,cAEpBp5D,KAAKu+D,gBAAgBc,EAAOC,UAC5BD,EAAOb,MAAQa,EAAOC,UAExBt/D,KAAK+5D,UAAUsF,EAAOb,MAAOnN,GAC7B7V,EAAMzlD,KAAKiK,KAAKk3D,WAAWmI,EAAQ,mBACzC,CACI,OAAO7jB,CACX,EAEEsb,GAAKG,uBAAyB,SAASsI,GACrC,IAAK,IAAI/wE,EAAI,EAAGA,EAAI+wE,EAAWjxE,QAAU0R,KAAKw/D,qBAAqBD,EAAW/wE,MAAOA,EACnF+wE,EAAW/wE,GAAGixE,UAAYF,EAAW/wE,GAAGqoE,WAAW6I,IAAIvjE,MAAM,GAAI,EAEvE,EACE26D,GAAK0I,qBAAuB,SAAS3D,GACnC,MACqB,wBAAnBA,EAAUzrE,MACoB,YAA9ByrE,EAAUhF,WAAWzmE,MACiB,kBAA/ByrE,EAAUhF,WAAW7jE,QACK,MAAhCgN,KAAK8kD,MAAM+W,EAAUr2D,QAAmD,MAAhCxF,KAAK8kD,MAAM+W,EAAUr2D,OAEpE,EAEE,IAAIm6D,GAAOlO,GAAOr/D,UAGlButE,GAAK7F,aAAe,SAASprE,EAAMkxE,EAAWvJ,GAC5C,GAAIr2D,KAAK+B,QAAQ8sD,aAAe,GAAKngE,EACnC,OAAQA,EAAK0B,MACb,IAAK,aACC4P,KAAK0zD,SAAyB,UAAdhlE,EAAK6B,MACrByP,KAAKm2D,MAAMznE,EAAK8W,MAAO,6DAC3B,MAEF,IAAK,gBACL,IAAK,eACL,IAAK,cACH,MAEF,IAAK,mBACH9W,EAAK0B,KAAO,gBACRimE,GAA0Br2D,KAAKo2D,mBAAmBC,GAAwB,GAC9E,IAAK,IAAI7nE,EAAI,EAAGysC,EAAOvsC,EAAKkwE,WAAYpwE,EAAIysC,EAAK3sC,OAAQE,GAAK,EAAG,CAC/D,IAAIqwE,EAAO5jC,EAAKzsC,GAElBwR,KAAK85D,aAAa+E,EAAMe,GAEN,gBAAdf,EAAKzuE,MACmB,iBAAvByuE,EAAKvE,SAASlqE,MAAkD,kBAAvByuE,EAAKvE,SAASlqE,MAExD4P,KAAKm2D,MAAM0I,EAAKvE,SAAS90D,MAAO,mBAE5C,CACQ,MAEF,IAAK,WACe,SAAd9W,EAAK0oE,MAAmBp3D,KAAKm2D,MAAMznE,EAAKid,IAAInG,MAAO,iDACvDxF,KAAK85D,aAAaprE,EAAKsE,MAAO4sE,GAC9B,MAEF,IAAK,kBACHlxE,EAAK0B,KAAO,eACRimE,GAA0Br2D,KAAKo2D,mBAAmBC,GAAwB,GAC9Er2D,KAAK6/D,iBAAiBnxE,EAAKg5C,SAAUk4B,GACrC,MAEF,IAAK,gBACHlxE,EAAK0B,KAAO,cACZ4P,KAAK85D,aAAaprE,EAAK4rE,SAAUsF,GACN,sBAAvBlxE,EAAK4rE,SAASlqE,MACd4P,KAAKm2D,MAAMznE,EAAK4rE,SAAS90D,MAAO,6CACpC,MAEF,IAAK,uBACmB,MAAlB9W,EAAKoxE,UAAoB9/D,KAAKm2D,MAAMznE,EAAKslB,KAAKvO,IAAK,+DACvD/W,EAAK0B,KAAO,2BACL1B,EAAKoxE,SACZ9/D,KAAK85D,aAAaprE,EAAKslB,KAAM4rD,GAE/B,IAAK,oBACH,MAEF,IAAK,0BACH5/D,KAAK85D,aAAaprE,EAAKmoE,WAAY+I,EAAWvJ,GAC9C,MAEF,IAAK,mBACH,IAAKuJ,EAAa,MAEpB,QACE5/D,KAAKm2D,MAAMznE,EAAK8W,MAAO,4BAEhB6wD,GAA0Br2D,KAAKo2D,mBAAmBC,GAAwB,GACrF,OAAO3nE,CACX,EAGEixE,GAAKE,iBAAmB,SAASE,EAAUH,GAEzC,IADA,IAAIn6D,EAAMs6D,EAASzxE,OACVE,EAAI,EAAGA,EAAIiX,EAAKjX,IAAK,CAC5B,IAAIuwE,EAAMgB,EAASvxE,GACfuwE,GAAO/+D,KAAK85D,aAAaiF,EAAKa,EACxC,CACI,GAAIn6D,EAAK,CACP,IAAIulB,EAAO+0C,EAASt6D,EAAM,GACO,IAA7BzF,KAAK+B,QAAQ8sD,aAAqB+Q,GAAa50C,GAAsB,gBAAdA,EAAK56B,MAAiD,eAAvB46B,EAAKsvC,SAASlqE,MACpG4P,KAAK21D,WAAW3qC,EAAKsvC,SAAS90D,MACxC,CACI,OAAOu6D,CACX,EAGEJ,GAAKK,YAAc,SAAS3J,GAC1B,IAAI3nE,EAAOsR,KAAK+zD,YAGhB,OAFA/zD,KAAK4W,OACLloB,EAAK4rE,SAAWt6D,KAAKw7D,kBAAiB,EAAOnF,GACtCr2D,KAAKk3D,WAAWxoE,EAAM,gBACjC,EAEEixE,GAAKM,iBAAmB,WACtB,IAAIvxE,EAAOsR,KAAK+zD,YAQhB,OAPA/zD,KAAK4W,OAE4B,IAA7B5W,KAAK+B,QAAQ8sD,aAAqB7uD,KAAK5P,OAAS64D,EAAM14D,MACtDyP,KAAK21D,aAETjnE,EAAK4rE,SAAWt6D,KAAK+6D,mBAEd/6D,KAAKk3D,WAAWxoE,EAAM,cACjC,EAGEixE,GAAK5E,iBAAmB,WACtB,GAAI/6D,KAAK+B,QAAQ8sD,aAAe,EAC9B,OAAQ7uD,KAAK5P,MACb,KAAK64D,EAAMK,SACT,IAAI56D,EAAOsR,KAAK+zD,YAGhB,OAFA/zD,KAAK4W,OACLloB,EAAKg5C,SAAW1nC,KAAKs8D,iBAAiBrT,EAAMM,UAAU,GAAM,GACrDvpD,KAAKk3D,WAAWxoE,EAAM,gBAE/B,KAAKu6D,EAAMO,OACT,OAAOxpD,KAAKkgE,UAAS,GAGzB,OAAOlgE,KAAKo5D,YAChB,EAEEuG,GAAKrD,iBAAmB,SAAS6D,EAAOC,EAAYC,GAElD,IADA,IAAIC,EAAO,GAAIrB,GAAQ,GACfj/D,KAAKu1D,IAAI4K,IAGf,GAFIlB,EAASA,GAAQ,EACdj/D,KAAKk2D,OAAOjN,EAAMW,OACrBwW,GAAcpgE,KAAK5P,OAAS64D,EAAMW,MACpC0W,EAAKvqE,KAAK,UACL,IAAIsqE,GAAsBrgE,KAAK+1D,mBAAmBoK,GACvD,MACK,GAAIngE,KAAK5P,OAAS64D,EAAMmB,SAAU,CACvC,IAAImW,EAAOvgE,KAAKigE,mBAChBjgE,KAAKwgE,qBAAqBD,GAC1BD,EAAKvqE,KAAKwqE,GACNvgE,KAAK5P,OAAS64D,EAAMW,OAAS5pD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,iDACxDxF,KAAKk2D,OAAOiK,GACZ,KACR,CACQ,IAAI5gE,EAAOS,KAAKygE,kBAAkBzgE,KAAKwF,MAAOxF,KAAKowD,UACnDpwD,KAAKwgE,qBAAqBjhE,GAC1B+gE,EAAKvqE,KAAKwJ,EAClB,CAEI,OAAO+gE,CACX,EAEEX,GAAKa,qBAAuB,SAAS1F,GACnC,OAAOA,CACX,EAGE6E,GAAKc,kBAAoB,SAAS/O,EAAUtB,EAAUp8C,GAEpD,GADAA,EAAOA,GAAQhU,KAAK+6D,mBAChB/6D,KAAK+B,QAAQ8sD,YAAc,IAAM7uD,KAAKu1D,IAAItM,EAAMsB,IAAO,OAAOv2C,EAClE,IAAItlB,EAAOsR,KAAKq9D,YAAY3L,EAAUtB,GAGtC,OAFA1hE,EAAKslB,KAAOA,EACZtlB,EAAK6sE,MAAQv7D,KAAKw7D,mBACXx7D,KAAKk3D,WAAWxoE,EAAM,oBACjC,EAGEixE,GAAK5F,UAAY,SAASnD,EAAM8J,EAAaC,GAG3C,YAFqB,IAAhBD,IAAyBA,EAAcvP,GAEpCyF,EAAKxmE,MACb,IAAK,aACCswE,IAAgBrP,GAA8B,QAAduF,EAAKrmE,MACrCyP,KAAKs2D,iBAAiBM,EAAKpxD,MAAO,+CAClCxF,KAAKmnD,QAAUnnD,KAAK+xD,wBAAwBnzD,KAAKg4D,EAAKrmE,OACtDyP,KAAKs2D,iBAAiBM,EAAKpxD,OAAQk7D,EAAc,WAAa,iBAAmB9J,EAAKrmE,KAAO,mBAC7FowE,IACEx9D,EAAIw9D,EAAc/J,EAAKrmE,OACvByP,KAAKs2D,iBAAiBM,EAAKpxD,MAAO,uBACtCm7D,EAAa/J,EAAKrmE,OAAQ,GAExBmwE,IAAgBvP,GAAauP,IAAgBlP,GAAgBxxD,KAAK4gE,YAAYhK,EAAKrmE,KAAMmwE,EAAa9J,EAAKpxD,OAC/G,MAEF,IAAK,mBACCk7D,GAAe1gE,KAAKs2D,iBAAiBM,EAAKpxD,MAAO,6BACrD,MAEF,IAAK,gBACH,IAAK,IAAIhX,EAAI,EAAGysC,EAAO27B,EAAKgI,WAAYpwE,EAAIysC,EAAK3sC,OAAQE,GAAK,EAC5D,CACF,IAAIqwE,EAAO5jC,EAAKzsC,GAEhBwR,KAAK+5D,UAAU8E,EAAM6B,EAAaC,EACxC,CACM,MAEF,IAAK,WACH3gE,KAAK+5D,UAAUnD,EAAK5jE,MAAO0tE,EAAaC,GACxC,MAEF,IAAK,eACH,IAAK,IAAIzF,EAAM,EAAG4D,EAASlI,EAAKlvB,SAAUwzB,EAAM4D,EAAOxwE,OAAQ4sE,GAAO,EAAG,CACvE,IAAI37D,EAAOu/D,EAAO5D,GAEhB37D,GAAQS,KAAK+5D,UAAUx6D,EAAMmhE,EAAaC,EACpD,CACM,MAEF,IAAK,oBACH3gE,KAAK+5D,UAAUnD,EAAK5iD,KAAM0sD,EAAaC,GACvC,MAEF,IAAK,cACH3gE,KAAK+5D,UAAUnD,EAAK0D,SAAUoG,EAAaC,GAC3C,MAEF,IAAK,0BACH3gE,KAAK+5D,UAAUnD,EAAKC,WAAY6J,EAAaC,GAC7C,MAEF,QACE3gE,KAAKm2D,MAAMS,EAAKpxD,OAAQk7D,EAAc,UAAY,gBAAkB,WAE1E,EAGE,IAAIG,GAAOpP,GAAOr/D,UAGlByuE,GAAKC,eAAiB,SAASjC,EAAMkC,EAAU1K,GAC7C,KAAIr2D,KAAK+B,QAAQ8sD,aAAe,GAAmB,kBAAdgQ,EAAKzuE,SAEtC4P,KAAK+B,QAAQ8sD,aAAe,IAAMgQ,EAAKzB,UAAYyB,EAAKvpE,QAAUupE,EAAKmC,YAA3E,CAEA,IACIzwE,EADAob,EAAMkzD,EAAKlzD,IAEf,OAAQA,EAAIvb,MACZ,IAAK,aAAcG,EAAOob,EAAIpb,KAAM,MACpC,IAAK,UAAWA,EAAOqb,OAAOD,EAAI3Y,OAAQ,MAC1C,QAAS,OAET,IAAIokE,EAAOyH,EAAKzH,KAChB,GAAIp3D,KAAK+B,QAAQ8sD,aAAe,EACjB,cAATt+D,GAAiC,SAAT6mE,IACtB2J,EAASE,QACP5K,EACEA,EAAuBf,YAAc,IACrCe,EAAuBf,YAAc3pD,EAAInG,OACtCxF,KAAKs2D,iBAAiB3qD,EAAInG,MAAO,uCAE5Cu7D,EAASE,OAAQ,OARrB,CAaA,IAAIC,EAAQH,EADZxwE,EAAO,IAAMA,GAET2wE,GAEW,SAAT9J,EACap3D,KAAKmnD,QAAU+Z,EAAMxkD,MAAQwkD,EAAMnhE,KAAOmhE,EAAM7uE,IAEhD6uE,EAAMxkD,MAAQwkD,EAAM9J,KAGjCp3D,KAAKs2D,iBAAiB3qD,EAAInG,MAAO,4BAErC07D,EAAQH,EAASxwE,GAAQ,CACvBmsB,MAAM,EACN3c,KAAK,EACL1N,KAAK,GAGT6uE,EAAM9J,IAAQ,CAnBlB,CApBc,CAwCd,EAKEyJ,GAAKjM,gBAAkB,SAASuM,EAAM9K,GACpC,IAAI3E,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SACvCwG,EAAO52D,KAAKw7D,iBAAiB2F,EAAM9K,GACvC,GAAIr2D,KAAK5P,OAAS64D,EAAMW,MAAO,CAC7B,IAAIl7D,EAAOsR,KAAKq9D,YAAY3L,EAAUtB,GAEtC,IADA1hE,EAAK0yE,YAAc,CAACxK,GACb52D,KAAKu1D,IAAItM,EAAMW,QAAUl7D,EAAK0yE,YAAYrrE,KAAKiK,KAAKw7D,iBAAiB2F,EAAM9K,IAClF,OAAOr2D,KAAKk3D,WAAWxoE,EAAM,qBACnC,CACI,OAAOkoE,CACX,EAGEiK,GAAKrF,iBAAmB,SAAS2F,EAAM9K,EAAwBgL,GAC7D,GAAIrhE,KAAKw1D,aAAa,SAAU,CAC9B,GAAIx1D,KAAKyzD,YAAe,OAAOzzD,KAAKshE,WAAWH,GACxCnhE,KAAK0yD,aAAc,CAChC,CAEI,IAAI6O,GAAyB,EAAOC,GAAkB,EAAGC,GAAoB,EACzEpL,GACFmL,EAAiBnL,EAAuBjB,oBACxCqM,EAAmBpL,EAAuBlB,cAC1CkB,EAAuBjB,oBAAsBiB,EAAuBlB,eAAiB,IAErFkB,EAAyB,IAAIpB,GAC7BsM,GAAyB,GAG3B,IAAI7P,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SACvCpwD,KAAK5P,OAAS64D,EAAMS,QAAU1pD,KAAK5P,OAAS64D,EAAM14D,OAClDyP,KAAK6yD,iBAAmB7yD,KAAKwF,OACjC,IAAIwO,EAAOhU,KAAK0hE,sBAAsBP,EAAM9K,GAE5C,GADIgL,IAAkBrtD,EAAOqtD,EAAe7uE,KAAKwN,KAAMgU,EAAM09C,EAAUtB,IACnEpwD,KAAK5P,KAAKs4D,SAAU,CACtB,IAAIh6D,EAAOsR,KAAKq9D,YAAY3L,EAAUtB,GAWtC,OAVA1hE,EAAKoxE,SAAW9/D,KAAKhN,MACrBtE,EAAKslB,KAAOhU,KAAK5P,OAAS64D,EAAMsB,GAAKvqD,KAAK85D,aAAa9lD,GAAM,EAAOqiD,GAA0BriD,EACzFutD,IACHlL,EAAuBjB,oBAAsBiB,EAAuBlB,cAAgBkB,EAAuBf,aAAe,GAExHe,EAAuBnB,iBAAmBxmE,EAAKslB,KAAKxO,QACpD6wD,EAAuBnB,iBAAmB,GAC9Cl1D,KAAK+5D,UAAU/lD,GACfhU,KAAK4W,OACLloB,EAAK6sE,MAAQv7D,KAAKw7D,iBAAiB2F,GAC5BnhE,KAAKk3D,WAAWxoE,EAAM,uBACnC,CAKI,OAJM6yE,GAA0BvhE,KAAKw2D,sBAAsBH,GAAwB,GAE/EmL,GAAkB,IAAKnL,EAAuBjB,oBAAsBoM,GACpEC,GAAoB,IAAKpL,EAAuBlB,cAAgBsM,GAC7DztD,CACX,EAGE6sD,GAAKa,sBAAwB,SAASP,EAAM9K,GAC1C,IAAI3E,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SACvCwG,EAAO52D,KAAK2hE,aAAaR,EAAM9K,GACnC,GAAIr2D,KAAKw2D,sBAAsBH,GAA2B,OAAOO,EACjE,GAAI52D,KAAKu1D,IAAItM,EAAMe,UAAW,CAC5B,IAAIt7D,EAAOsR,KAAKq9D,YAAY3L,EAAUtB,GAKtC,OAJA1hE,EAAKkQ,KAAOg4D,EACZloE,EAAK2rE,WAAar6D,KAAKw7D,mBACvBx7D,KAAKk2D,OAAOjN,EAAMa,OAClBp7D,EAAK0F,UAAY4L,KAAKw7D,iBAAiB2F,GAChCnhE,KAAKk3D,WAAWxoE,EAAM,wBACnC,CACI,OAAOkoE,CACX,EAGEiK,GAAKc,aAAe,SAASR,EAAM9K,GACjC,IAAI3E,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SACvCwG,EAAO52D,KAAK4hE,gBAAgBvL,GAAwB,GACxD,OAAIr2D,KAAKw2D,sBAAsBH,IACxBO,EAAKpxD,QAAUksD,GAA0B,4BAAdkF,EAAKxmE,KAD0BwmE,EACkB52D,KAAK6hE,YAAYjL,EAAMlF,EAAUtB,GAAW,EAAG+Q,EACtI,EAGEN,GAAKgB,YAAc,SAAS7tD,EAAM8tD,EAAcC,EAAcC,EAASb,GACrE,IAAIrY,EAAO9oD,KAAK5P,KAAKw4D,MACrB,GAAY,MAARE,KAAkBqY,GAAQnhE,KAAK5P,OAAS64D,EAAMmE,MAC5CtE,EAAOkZ,EAAS,CAClB,IAAIC,EAAUjiE,KAAK5P,OAAS64D,EAAMwB,WAAazqD,KAAK5P,OAAS64D,EAAMyB,WAC/DwX,EAAKliE,KAAKhN,MACdgN,KAAK4W,OACL,IAAI86C,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SACvCmL,EAAQv7D,KAAK6hE,YAAY7hE,KAAK4hE,gBAAgB,MAAM,GAAQlQ,EAAUtB,EAAUtH,EAAMqY,GACtFzyE,EAAOsR,KAAKmiE,YAAYL,EAAcC,EAAc/tD,EAAMunD,EAAO2G,EAAID,GACzE,OAAOjiE,KAAK6hE,YAAYnzE,EAAMozE,EAAcC,EAAcC,EAASb,EAC3E,CAEI,OAAOntD,CACX,EAEE6sD,GAAKsB,YAAc,SAASzQ,EAAUtB,EAAUp8C,EAAMunD,EAAO2G,EAAID,GAC/D,IAAIvzE,EAAOsR,KAAKq9D,YAAY3L,EAAUtB,GAItC,OAHA1hE,EAAKslB,KAAOA,EACZtlB,EAAKoxE,SAAWoC,EAChBxzE,EAAK6sE,MAAQA,EACNv7D,KAAKk3D,WAAWxoE,EAAMuzE,EAAU,oBAAsB,mBACjE,EAGEpB,GAAKe,gBAAkB,SAASvL,EAAwB+L,GACtD,IAAqDxL,EAAjDlF,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SAC3C,GAAIpwD,KAAKw1D,aAAa,WAAax1D,KAAK0zD,UAAa1zD,KAAKwzD,YAAcxzD,KAAK+B,QAAQqtD,2BACnFwH,EAAO52D,KAAKqiE,aACZD,GAAW,OACN,GAAIpiE,KAAK5P,KAAKU,OAAQ,CAC3B,IAAIpC,EAAOsR,KAAK+zD,YAAap9C,EAAS3W,KAAK5P,OAAS64D,EAAMuB,OAC1D97D,EAAKoxE,SAAW9/D,KAAKhN,MACrBtE,EAAKoC,QAAS,EACdkP,KAAK4W,OACLloB,EAAK4rE,SAAWt6D,KAAK4hE,gBAAgB,MAAM,GAC3C5hE,KAAKw2D,sBAAsBH,GAAwB,GAC/C1/C,EAAU3W,KAAK+5D,UAAUrrE,EAAK4rE,UACzBt6D,KAAKmnD,QAA4B,WAAlBz4D,EAAKoxE,UACG,eAAvBpxE,EAAK4rE,SAASlqE,KACnB4P,KAAKs2D,iBAAiB5nE,EAAK8W,MAAO,0CAC/B48D,GAAW,EAClBxL,EAAO52D,KAAKk3D,WAAWxoE,EAAMioB,EAAS,mBAAqB,kBACjE,KAAW,CAEL,GADAigD,EAAO52D,KAAK49D,oBAAoBvH,GAC5Br2D,KAAKw2D,sBAAsBH,GAA2B,OAAOO,EACjE,KAAO52D,KAAK5P,KAAKu4D,UAAY3oD,KAAK41D,sBAAsB,CACtD,IAAIwJ,EAASp/D,KAAKq9D,YAAY3L,EAAUtB,GACxCgP,EAAOU,SAAW9/D,KAAKhN,MACvBosE,EAAOtuE,QAAS,EAChBsuE,EAAO9E,SAAW1D,EAClB52D,KAAK+5D,UAAUnD,GACf52D,KAAK4W,OACLggD,EAAO52D,KAAKk3D,WAAWkI,EAAQ,mBACvC,CACA,CAEI,OAAKgD,GAAYpiE,KAAKu1D,IAAItM,EAAMoC,UACrBrrD,KAAKmiE,YAAYzQ,EAAUtB,EAAUwG,EAAM52D,KAAK4hE,gBAAgB,MAAM,GAAQ,MAAM,GAEpFhL,CACf,EAGEiK,GAAKjD,oBAAsB,SAASvH,GAClC,IAAI3E,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SACvCwG,EAAO52D,KAAK69D,cAAcxH,GAC9B,GAAkB,4BAAdO,EAAKxmE,MAA+F,MAAzD4P,KAAK8kD,MAAM3oD,MAAM6D,KAAKuyD,aAAcvyD,KAAKwyD,YACpF,OAAOoE,EACX,IAAI9oC,EAAS9tB,KAAKsiE,gBAAgB1L,EAAMlF,EAAUtB,GAKlD,OAJIiG,GAA0C,qBAAhBvoC,EAAO19B,OAC/BimE,EAAuBjB,qBAAuBtnC,EAAOtoB,QAAS6wD,EAAuBjB,qBAAuB,GAC5GiB,EAAuBhB,mBAAqBvnC,EAAOtoB,QAAS6wD,EAAuBhB,mBAAqB,IAEvGvnC,CACX,EAEE+yC,GAAKyB,gBAAkB,SAASC,EAAM7Q,EAAUtB,EAAUoS,GAGxD,IAFA,IAAIC,EAAkBziE,KAAK+B,QAAQ8sD,aAAe,GAAmB,eAAd0T,EAAKnyE,MAAuC,UAAdmyE,EAAKhyE,MACtFyP,KAAKwyD,aAAe+P,EAAK98D,MAAQzF,KAAK41D,sBAAmE,UAA3C51D,KAAK8kD,MAAM3oD,MAAMomE,EAAK/8D,MAAO+8D,EAAK98D,OACvF,CACX,IAAIrE,EAAUpB,KAAK0iE,eAAeH,EAAM7Q,EAAUtB,EAAUoS,EAASC,GACrE,GAAIrhE,IAAYmhE,GAAyB,4BAAjBnhE,EAAQhR,KAAsC,OAAOgR,EAC7EmhE,EAAOnhE,CACb,CACA,EAEEy/D,GAAK6B,eAAiB,SAASH,EAAM7Q,EAAUtB,EAAUoS,EAASC,GAChE,IAAIrF,EAAWp9D,KAAKu1D,IAAItM,EAAMK,UAC9B,GAAI8T,GAAYp9D,KAAKu1D,IAAItM,EAAMc,KAAM,CACnC,IAAIr7D,EAAOsR,KAAKq9D,YAAY3L,EAAUtB,GACtC1hE,EAAKqzD,OAASwgB,EACd7zE,EAAKk0C,SAAWw6B,EAAWp9D,KAAK40D,kBAAoB50D,KAAKo5D,WAA0C,UAA/Bp5D,KAAK+B,QAAQktD,eACjFvgE,EAAK0uE,WAAaA,EACdA,GAAYp9D,KAAKk2D,OAAOjN,EAAMM,UAClCgZ,EAAOviE,KAAKk3D,WAAWxoE,EAAM,mBACnC,MAAW,IAAK8zE,GAAWxiE,KAAKu1D,IAAItM,EAAMS,QAAS,CAC7C,IAAI2M,EAAyB,IAAIpB,GAAqB+G,EAAch8D,KAAK8yD,SAAUmJ,EAAcj8D,KAAK+yD,SAAUmJ,EAAmBl8D,KAAKgzD,cACxIhzD,KAAK8yD,SAAW,EAChB9yD,KAAK+yD,SAAW,EAChB/yD,KAAKgzD,cAAgB,EACrB,IAAI+M,EAAW//D,KAAK2iE,cAAc1Z,EAAMU,OAAQ3pD,KAAK+B,QAAQ8sD,aAAe,GAAG,EAAOwH,GACtF,GAAIoM,IAAoBziE,KAAK41D,sBAAwB51D,KAAKu1D,IAAItM,EAAMgB,OAQlE,OAPAjqD,KAAKo2D,mBAAmBC,GAAwB,GAChDr2D,KAAK02D,iCACD12D,KAAKgzD,cAAgB,GACrBhzD,KAAKm2D,MAAMn2D,KAAKgzD,cAAe,6DACnChzD,KAAK8yD,SAAWkJ,EAChBh8D,KAAK+yD,SAAWkJ,EAChBj8D,KAAKgzD,cAAgBkJ,EACdl8D,KAAK4iE,qBAAqB5iE,KAAKq9D,YAAY3L,EAAUtB,GAAW2P,GAAU,GAEnF//D,KAAKw2D,sBAAsBH,GAAwB,GACnDr2D,KAAK8yD,SAAWkJ,GAAeh8D,KAAK8yD,SACpC9yD,KAAK+yD,SAAWkJ,GAAej8D,KAAK+yD,SACpC/yD,KAAKgzD,cAAgBkJ,GAAoBl8D,KAAKgzD,cAC9C,IAAIoM,EAASp/D,KAAKq9D,YAAY3L,EAAUtB,GACxCgP,EAAOyD,OAASN,EAChBnD,EAAO/wE,UAAY0xE,EACnBwC,EAAOviE,KAAKk3D,WAAWkI,EAAQ,iBACrC,MAAW,GAAIp/D,KAAK5P,OAAS64D,EAAMoB,UAAW,CACxC,IAAIgV,EAASr/D,KAAKq9D,YAAY3L,EAAUtB,GACxCiP,EAAOzrE,IAAM2uE,EACblD,EAAOyD,MAAQ9iE,KAAK+iE,cAAc,CAACC,UAAU,IAC7CT,EAAOviE,KAAKk3D,WAAWmI,EAAQ,2BACrC,CACI,OAAOkD,CACX,EAGE1B,GAAKhD,cAAgB,SAASxH,GACxBr2D,KAAK5P,OAAS64D,EAAMmC,OAASprD,KAAKijE,aAEtC,IAAIv0E,EAAMw0E,EAAaljE,KAAK6yD,mBAAqB7yD,KAAKwF,MACtD,OAAQxF,KAAK5P,MACb,KAAK64D,EAAM2D,OAST,OARK5sD,KAAK2zD,YACN3zD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,oCAC3B9W,EAAOsR,KAAK+zD,YACZ/zD,KAAK4W,OACD5W,KAAK5P,OAAS64D,EAAMS,QAAW1pD,KAAK4zD,kBACpC5zD,KAAKm2D,MAAMznE,EAAK8W,MAAO,kDACvBxF,KAAK5P,OAAS64D,EAAMc,KAAO/pD,KAAK5P,OAAS64D,EAAMK,UAAYtpD,KAAK5P,OAAS64D,EAAMS,QAC/E1pD,KAAK21D,aACF31D,KAAKk3D,WAAWxoE,EAAM,SAE/B,KAAKu6D,EAAM0D,MAGT,OAFAj+D,EAAOsR,KAAK+zD,YACZ/zD,KAAK4W,OACE5W,KAAKk3D,WAAWxoE,EAAM,kBAE/B,KAAKu6D,EAAM14D,KACT,IAAImhE,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SAAU4B,EAAchyD,KAAKgyD,YACpEv6B,EAAKz3B,KAAKo5D,YAAW,GACzB,GAAIp5D,KAAK+B,QAAQ8sD,aAAe,IAAMmD,GAA2B,UAAZv6B,EAAGlnC,OAAqByP,KAAK41D,sBAAwB51D,KAAKu1D,IAAItM,EAAM+C,WACrH,OAAOhsD,KAAKk6D,cAAcl6D,KAAKq9D,YAAY3L,EAAUtB,GAAW,GAAG,GAAO,GAC9E,GAAI8S,IAAeljE,KAAK41D,qBAAsB,CAC5C,GAAI51D,KAAKu1D,IAAItM,EAAMgB,OACf,OAAOjqD,KAAK4iE,qBAAqB5iE,KAAKq9D,YAAY3L,EAAUtB,GAAW,CAAC34B,IAAK,GACjF,GAAIz3B,KAAK+B,QAAQ8sD,aAAe,GAAiB,UAAZp3B,EAAGlnC,MAAoByP,KAAK5P,OAAS64D,EAAM14D,OAASyhE,EAIvF,OAHAv6B,EAAKz3B,KAAKo5D,YAAW,IACjBp5D,KAAK41D,sBAAyB51D,KAAKu1D,IAAItM,EAAMgB,QAC7CjqD,KAAK21D,aACF31D,KAAK4iE,qBAAqB5iE,KAAKq9D,YAAY3L,EAAUtB,GAAW,CAAC34B,IAAK,EAEvF,CACM,OAAOA,EAET,KAAKwxB,EAAME,OACT,IAAIn2D,EAAQgN,KAAKhN,MAGjB,OAFAtE,EAAOsR,KAAKmjE,aAAanwE,EAAMA,QAC1BowE,MAAQ,CAACC,QAASrwE,EAAMqwE,QAAShvE,MAAOrB,EAAMqB,OAC5C3F,EAET,KAAKu6D,EAAMC,IAAK,KAAKD,EAAMG,OACzB,OAAOppD,KAAKmjE,aAAanjE,KAAKhN,OAEhC,KAAKi2D,EAAMgE,MAAO,KAAKhE,EAAMiE,MAAO,KAAKjE,EAAMkE,OAK7C,OAJAz+D,EAAOsR,KAAK+zD,aACP/gE,MAAQgN,KAAK5P,OAAS64D,EAAMgE,MAAQ,KAAOjtD,KAAK5P,OAAS64D,EAAMiE,MACpEx+D,EAAKgxE,IAAM1/D,KAAK5P,KAAKk4D,QACrBtoD,KAAK4W,OACE5W,KAAKk3D,WAAWxoE,EAAM,WAE/B,KAAKu6D,EAAMS,OACT,IAAIlkD,EAAQxF,KAAKwF,MAAOoxD,EAAO52D,KAAKsjE,mCAAmCJ,GAOvE,OANI7M,IACEA,EAAuBjB,oBAAsB,IAAMp1D,KAAK22D,qBAAqBC,KAC7EP,EAAuBjB,oBAAsB5vD,GAC7C6wD,EAAuBhB,kBAAoB,IAC3CgB,EAAuBhB,kBAAoB7vD,IAE1CoxD,EAET,KAAK3N,EAAMK,SAIT,OAHA56D,EAAOsR,KAAK+zD,YACZ/zD,KAAK4W,OACLloB,EAAKg5C,SAAW1nC,KAAK2iE,cAAc1Z,EAAMM,UAAU,GAAM,EAAM8M,GACxDr2D,KAAKk3D,WAAWxoE,EAAM,mBAE/B,KAAKu6D,EAAMO,OACT,OAAOxpD,KAAKkgE,UAAS,EAAO7J,GAE9B,KAAKpN,EAAM+C,UAGT,OAFAt9D,EAAOsR,KAAK+zD,YACZ/zD,KAAK4W,OACE5W,KAAKk6D,cAAcxrE,EAAM,GAElC,KAAKu6D,EAAM4D,OACT,OAAO7sD,KAAKm4D,WAAWn4D,KAAK+zD,aAAa,GAE3C,KAAK9K,EAAMyD,KACT,OAAO1sD,KAAKujE,WAEd,KAAKta,EAAMoB,UACT,OAAOrqD,KAAK+iE,gBAEd,KAAK9Z,EAAM+D,QACT,OAAIhtD,KAAK+B,QAAQ8sD,aAAe,GACvB7uD,KAAKwjE,kBAELxjE,KAAK21D,aAGhB,QACE31D,KAAK21D,aAEX,EAEEkL,GAAK2C,gBAAkB,WACrB,IAAI90E,EAAOsR,KAAK+zD,YAEhB,GADA/zD,KAAK4W,OACG5W,KAAK5P,OACR64D,EAAMS,OACT,OAAO1pD,KAAKyjE,mBAAmB/0E,GAE/BsR,KAAK21D,YAEX,EAEEkL,GAAK4C,mBAAqB,SAAS/0E,GAKjC,GAJAsR,KAAK4W,OAELloB,EAAKopB,OAAS9X,KAAKw7D,oBAEdx7D,KAAKu1D,IAAItM,EAAMU,QAAS,CAC3B,IAAI+Z,EAAW1jE,KAAKwF,MAChBxF,KAAKu1D,IAAItM,EAAMW,QAAU5pD,KAAKu1D,IAAItM,EAAMU,QAC1C3pD,KAAKs2D,iBAAiBoN,EAAU,6CAEhC1jE,KAAK21D,WAAW+N,EAExB,CAEI,OAAO1jE,KAAKk3D,WAAWxoE,EAAM,mBACjC,EAEEmyE,GAAKsC,aAAe,SAASnwE,GAC3B,IAAItE,EAAOsR,KAAK+zD,YAKhB,OAJArlE,EAAKsE,MAAQA,EACbtE,EAAKgxE,IAAM1/D,KAAK8kD,MAAM3oD,MAAM6D,KAAKwF,MAAOxF,KAAKyF,KACI,MAA7C/W,EAAKgxE,IAAIx+D,WAAWxS,EAAKgxE,IAAIpxE,OAAS,KAAcI,EAAKi1E,OAASj1E,EAAKgxE,IAAIvjE,MAAM,GAAI,IACzF6D,KAAK4W,OACE5W,KAAKk3D,WAAWxoE,EAAM,UACjC,EAEEmyE,GAAKvH,qBAAuB,WAC1Bt5D,KAAKk2D,OAAOjN,EAAMS,QAClB,IAAIka,EAAM5jE,KAAK40D,kBAEf,OADA50D,KAAKk2D,OAAOjN,EAAMU,QACXia,CACX,EAEE/C,GAAKyC,mCAAqC,SAASJ,GACjD,IAAqDU,EAAjDlS,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SAAeiQ,EAAqBrgE,KAAK+B,QAAQ8sD,aAAe,EAC3G,GAAI7uD,KAAK+B,QAAQ8sD,aAAe,EAAG,CACjC7uD,KAAK4W,OAEL,IAEgHitD,EAF5GC,EAAgB9jE,KAAKwF,MAAOu+D,EAAgB/jE,KAAKowD,SACjD2P,EAAW,GAAId,GAAQ,EAAM+E,GAAc,EAC3C3N,EAAyB,IAAIpB,GAAqB+G,EAAch8D,KAAK8yD,SAAUmJ,EAAcj8D,KAAK+yD,SAGtG,IAFA/yD,KAAK8yD,SAAW,EAChB9yD,KAAK+yD,SAAW,EACT/yD,KAAK5P,OAAS64D,EAAMU,QAAQ,CAEjC,GADAsV,EAAQA,GAAQ,EAAQj/D,KAAKk2D,OAAOjN,EAAMW,OACtCyW,GAAsBrgE,KAAK+1D,mBAAmB9M,EAAMU,QAAQ,GAAO,CACrEqa,GAAc,EACd,KACV,CAAe,GAAIhkE,KAAK5P,OAAS64D,EAAMmB,SAAU,CACvCyZ,EAAc7jE,KAAKwF,MACnBu6D,EAAShqE,KAAKiK,KAAKikE,eAAejkE,KAAKigE,qBACnCjgE,KAAK5P,OAAS64D,EAAMW,OAAS5pD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,iDACxD,KACV,CACUu6D,EAAShqE,KAAKiK,KAAKw7D,kBAAiB,EAAOnF,EAAwBr2D,KAAKikE,gBAElF,CACM,IAAIC,EAAclkE,KAAKwF,MAAO2+D,EAAcnkE,KAAKowD,SAGjD,GAFApwD,KAAKk2D,OAAOjN,EAAMU,QAEduZ,IAAeljE,KAAK41D,sBAAwB51D,KAAKu1D,IAAItM,EAAMgB,OAK7D,OAJAjqD,KAAKo2D,mBAAmBC,GAAwB,GAChDr2D,KAAK02D,iCACL12D,KAAK8yD,SAAWkJ,EAChBh8D,KAAK+yD,SAAWkJ,EACTj8D,KAAKokE,oBAAoB1S,EAAUtB,EAAU2P,GAGjDA,EAASzxE,SAAU01E,GAAehkE,KAAK21D,WAAW31D,KAAKuyD,cACxDsR,GAAe7jE,KAAK21D,WAAWkO,GACnC7jE,KAAKw2D,sBAAsBH,GAAwB,GACnDr2D,KAAK8yD,SAAWkJ,GAAeh8D,KAAK8yD,SACpC9yD,KAAK+yD,SAAWkJ,GAAej8D,KAAK+yD,SAEhCgN,EAASzxE,OAAS,IACpBs1E,EAAM5jE,KAAKq9D,YAAYyG,EAAeC,IAClC3C,YAAcrB,EAClB//D,KAAKqkE,aAAaT,EAAK,qBAAsBM,EAAaC,IAE1DP,EAAM7D,EAAS,EAEvB,MACM6D,EAAM5jE,KAAKs5D,uBAGb,GAAIt5D,KAAK+B,QAAQ6tD,eAAgB,CAC/B,IAAI0U,EAAMtkE,KAAKq9D,YAAY3L,EAAUtB,GAErC,OADAkU,EAAIzN,WAAa+M,EACV5jE,KAAKk3D,WAAWoN,EAAK,0BAClC,CACM,OAAOV,CAEb,EAEE/C,GAAKoD,eAAiB,SAASM,GAC7B,OAAOA,CACX,EAEE1D,GAAKuD,oBAAsB,SAAS1S,EAAUtB,EAAU2P,GACtD,OAAO//D,KAAK4iE,qBAAqB5iE,KAAKq9D,YAAY3L,EAAUtB,GAAW2P,EAC3E,EAGE,IAAIyE,GAAU,GAEd3D,GAAK0C,SAAW,WACVvjE,KAAKgyD,aAAehyD,KAAKs2D,iBAAiBt2D,KAAKwF,MAAO,kCAC1D,IAAI9W,EAAOsR,KAAK+zD,YACZ0Q,EAAOzkE,KAAKo5D,YAAW,GAC3B,GAAIp5D,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKu1D,IAAItM,EAAMc,KAAM,CACxDr7D,EAAK+1E,KAAOA,EACZ,IAAIzS,EAAchyD,KAAKgyD,YAMvB,OALAtjE,EAAKk0C,SAAW5iC,KAAKo5D,YAAW,IACL,WAAvB1qE,EAAKk0C,SAASryC,MAAqByhE,IACnChyD,KAAKs2D,iBAAiB5nE,EAAKk0C,SAASp9B,MAAO,sDAC1CxF,KAAKs0D,sBACNt0D,KAAKs2D,iBAAiB5nE,EAAK8W,MAAO,4CAC/BxF,KAAKk3D,WAAWxoE,EAAM,eACnC,CACI,IAAIgjE,EAAW1xD,KAAKwF,MAAO4qD,EAAWpwD,KAAKowD,SAAUsU,EAAW1kE,KAAK5P,OAAS64D,EAAM+D,QAOpF,OANAt+D,EAAKm0E,OAAS7iE,KAAKsiE,gBAAgBtiE,KAAK69D,gBAAiBnM,EAAUtB,GAAU,GACzEsU,GAAiC,qBAArBh2E,EAAKm0E,OAAOzyE,MAC1B4P,KAAKm2D,MAAMzE,EAAU,gCAEnB1xD,KAAKu1D,IAAItM,EAAMS,QAAWh7D,EAAKL,UAAY2R,KAAK2iE,cAAc1Z,EAAMU,OAAQ3pD,KAAK+B,QAAQ8sD,aAAe,GAAG,GACxGngE,EAAKL,UAAYm2E,GACjBxkE,KAAKk3D,WAAWxoE,EAAM,gBACjC,EAGEmyE,GAAK8D,qBAAuB,SAASxoD,GACnC,IAAI6mD,EAAW7mD,EAAI6mD,SAEfzjE,EAAOS,KAAK+zD,YAiBhB,OAhBI/zD,KAAK5P,OAAS64D,EAAMkB,iBACjB6Y,GACHhjE,KAAKs2D,iBAAiBt2D,KAAKwF,MAAO,oDAEpCjG,EAAKvM,MAAQ,CACX0sE,IAAK1/D,KAAKhN,MACV4xE,OAAQ,OAGVrlE,EAAKvM,MAAQ,CACX0sE,IAAK1/D,KAAK8kD,MAAM3oD,MAAM6D,KAAKwF,MAAOxF,KAAKyF,KAAKhS,QAAQ,SAAU,MAC9DmxE,OAAQ5kE,KAAKhN,OAGjBgN,KAAK4W,OACLrX,EAAKu5B,KAAO94B,KAAK5P,OAAS64D,EAAMoB,UACzBrqD,KAAKk3D,WAAW33D,EAAM,kBACjC,EAEEshE,GAAKkC,cAAgB,SAAS5mD,QACf,IAARA,IAAiBA,EAAM,CAAC,GAC7B,IAAI6mD,EAAW7mD,EAAI6mD,cAA4B,IAAbA,IAAsBA,GAAW,GAEnE,IAAIt0E,EAAOsR,KAAK+zD,YAChB/zD,KAAK4W,OACLloB,EAAK0yE,YAAc,GACnB,IAAIyD,EAAS7kE,KAAK2kE,qBAAqB,CAAC3B,SAAUA,IAElD,IADAt0E,EAAKo2E,OAAS,CAACD,IACPA,EAAO/rC,MACT94B,KAAK5P,OAAS64D,EAAMI,KAAOrpD,KAAKm2D,MAAMn2D,KAAK+nD,IAAK,iCACpD/nD,KAAKk2D,OAAOjN,EAAMqB,cAClB57D,EAAK0yE,YAAYrrE,KAAKiK,KAAK40D,mBAC3B50D,KAAKk2D,OAAOjN,EAAMQ,QAClB/6D,EAAKo2E,OAAO/uE,KAAK8uE,EAAS7kE,KAAK2kE,qBAAqB,CAAC3B,SAAUA,KAGjE,OADAhjE,KAAK4W,OACE5W,KAAKk3D,WAAWxoE,EAAM,kBACjC,EAEEmyE,GAAKkE,YAAc,SAASlG,GAC1B,OAAQA,EAAKzB,UAA8B,eAAlByB,EAAKlzD,IAAIvb,MAA2C,UAAlByuE,EAAKlzD,IAAIpb,OACjEyP,KAAK5P,OAAS64D,EAAM14D,MAAQyP,KAAK5P,OAAS64D,EAAMC,KAAOlpD,KAAK5P,OAAS64D,EAAMG,QAAUppD,KAAK5P,OAAS64D,EAAMK,UAAYtpD,KAAK5P,KAAKk4D,SAAYtoD,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAK5P,OAAS64D,EAAMkC,QAChMsC,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAKwyD,WAAYxyD,KAAKwF,OAC7D,EAGEq7D,GAAKX,SAAW,SAAS8E,EAAW3O,GAClC,IAAI3nE,EAAOsR,KAAK+zD,YAAakL,GAAQ,EAAM8B,EAAW,CAAC,EAGvD,IAFAryE,EAAKkwE,WAAa,GAClB5+D,KAAK4W,QACG5W,KAAKu1D,IAAItM,EAAMQ,SAAS,CAC9B,GAAKwV,EAGIA,GAAQ,OADf,GADAj/D,KAAKk2D,OAAOjN,EAAMW,OACd5pD,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAK+1D,mBAAmB9M,EAAMQ,QAAW,MAGhF,IAAIoV,EAAO7+D,KAAKilE,cAAcD,EAAW3O,GACpC2O,GAAahlE,KAAK8gE,eAAejC,EAAMkC,EAAU1K,GACtD3nE,EAAKkwE,WAAW7oE,KAAK8oE,EAC3B,CACI,OAAO7+D,KAAKk3D,WAAWxoE,EAAMs2E,EAAY,gBAAkB,mBAC/D,EAEEnE,GAAKoE,cAAgB,SAASD,EAAW3O,GACvC,IAA6BkH,EAAavD,EAAStI,EAAUtB,EAAzDyO,EAAO7+D,KAAK+zD,YAChB,GAAI/zD,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKu1D,IAAItM,EAAMmB,UAClD,OAAI4a,GACFnG,EAAKvE,SAAWt6D,KAAKo5D,YAAW,GAC5Bp5D,KAAK5P,OAAS64D,EAAMW,OACtB5pD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,iDAElBxF,KAAKk3D,WAAW2H,EAAM,iBAE3B7+D,KAAK5P,OAAS64D,EAAMS,QAAU2M,IAC5BA,EAAuBjB,oBAAsB,IAC/CiB,EAAuBjB,oBAAsBp1D,KAAKwF,OAEhD6wD,EAAuBhB,kBAAoB,IAC7CgB,EAAuBhB,kBAAoBr1D,KAAKwF,QAGpDq5D,EAAKvE,SAAWt6D,KAAKw7D,kBAAiB,EAAOnF,GACzCr2D,KAAK5P,OAAS64D,EAAMW,OAASyM,GAA0BA,EAAuBlB,cAAgB,IAChGkB,EAAuBlB,cAAgBn1D,KAAKwF,OAEvCxF,KAAKk3D,WAAW2H,EAAM,kBAE3B7+D,KAAK+B,QAAQ8sD,aAAe,IAC9BgQ,EAAKvpE,QAAS,EACdupE,EAAKmC,WAAY,GACbgE,GAAa3O,KACf3E,EAAW1xD,KAAKwF,MAChB4qD,EAAWpwD,KAAKowD,UAEb4U,IACDzH,EAAcv9D,KAAKu1D,IAAItM,EAAMkC,QAEnC,IAAI6G,EAAchyD,KAAKgyD,YAUvB,OATAhyD,KAAKw9D,kBAAkBqB,IAClBmG,IAAchT,GAAehyD,KAAK+B,QAAQ8sD,aAAe,IAAM0O,GAAev9D,KAAK+kE,YAAYlG,IAClG7E,GAAU,EACVuD,EAAcv9D,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAKu1D,IAAItM,EAAMkC,MAC9DnrD,KAAKw9D,kBAAkBqB,EAAMxI,IAE7B2D,GAAU,EAEZh6D,KAAKklE,mBAAmBrG,EAAMmG,EAAWzH,EAAavD,EAAStI,EAAUtB,EAAUiG,EAAwBrE,GACpGhyD,KAAKk3D,WAAW2H,EAAM,WACjC,EAEEgC,GAAKqE,mBAAqB,SAASrG,EAAMmG,EAAWzH,EAAavD,EAAStI,EAAUtB,EAAUiG,EAAwBrE,GAIpH,IAHKuL,GAAevD,IAAYh6D,KAAK5P,OAAS64D,EAAMa,OAChD9pD,KAAK21D,aAEL31D,KAAKu1D,IAAItM,EAAMa,OACjB+U,EAAK7rE,MAAQgyE,EAAYhlE,KAAKygE,kBAAkBzgE,KAAKwF,MAAOxF,KAAKowD,UAAYpwD,KAAKw7D,kBAAiB,EAAOnF,GAC1GwI,EAAKzH,KAAO,YACP,GAAIp3D,KAAK+B,QAAQ8sD,aAAe,GAAK7uD,KAAK5P,OAAS64D,EAAMS,OAC1Dsb,GAAahlE,KAAK21D,aACtBkJ,EAAKzH,KAAO,OACZyH,EAAKvpE,QAAS,EACdupE,EAAK7rE,MAAQgN,KAAK29D,YAAYJ,EAAavD,QACtC,GAAKgL,GAAchT,KACfhyD,KAAK+B,QAAQ8sD,aAAe,IAAMgQ,EAAKzB,UAA8B,eAAlByB,EAAKlzD,IAAIvb,MACzC,QAAlByuE,EAAKlzD,IAAIpb,MAAoC,QAAlBsuE,EAAKlzD,IAAIpb,MACpCyP,KAAK5P,OAAS64D,EAAMW,OAAS5pD,KAAK5P,OAAS64D,EAAMQ,OAgBlDzpD,KAAK+B,QAAQ8sD,aAAe,IAAMgQ,EAAKzB,UAA8B,eAAlByB,EAAKlzD,IAAIvb,OACjEmtE,GAAevD,IAAWh6D,KAAK21D,aACnC31D,KAAKu+D,gBAAgBM,EAAKlzD,KACJ,UAAlBkzD,EAAKlzD,IAAIpb,MAAqByP,KAAKgzD,gBACnChzD,KAAKgzD,cAAgBtB,GACzBmN,EAAKzH,KAAO,OACR4N,EACFnG,EAAK7rE,MAAQgN,KAAKygE,kBAAkB/O,EAAUtB,EAAUyO,EAAKlzD,KACpD3L,KAAK5P,OAAS64D,EAAMsB,IAAM8L,GAC/BA,EAAuBnB,gBAAkB,IACzCmB,EAAuBnB,gBAAkBl1D,KAAKwF,OAClDq5D,EAAK7rE,MAAQgN,KAAKygE,kBAAkB/O,EAAUtB,EAAUyO,EAAKlzD,MAE7DkzD,EAAK7rE,MAAQ6rE,EAAKlzD,IAEpBkzD,EAAKmC,WAAY,GACVhhE,KAAK21D,iBAhCwD,EAChE4H,GAAevD,IAAWh6D,KAAK21D,aACnCkJ,EAAKzH,KAAOyH,EAAKlzD,IAAIpb,KACrByP,KAAKw9D,kBAAkBqB,GACvBA,EAAK7rE,MAAQgN,KAAK29D,aAAY,GAC9B,IAAIwH,EAA2B,QAAdtG,EAAKzH,KAAiB,EAAI,EAC3C,GAAIyH,EAAK7rE,MAAMqpE,OAAO/tE,SAAW62E,EAAY,CAC3C,IAAI3/D,EAAQq5D,EAAK7rE,MAAMwS,MACL,QAAdq5D,EAAKzH,KACLp3D,KAAKs2D,iBAAiB9wD,EAAO,gCAE7BxF,KAAKs2D,iBAAiB9wD,EAAO,uCACzC,KAC0B,QAAdq5D,EAAKzH,MAAgD,gBAA9ByH,EAAK7rE,MAAMqpE,OAAO,GAAGjsE,MAC5C4P,KAAKs2D,iBAAiBuI,EAAK7rE,MAAMqpE,OAAO,GAAG72D,MAAO,gCAE9D,CAiBA,EAEEq7D,GAAKrD,kBAAoB,SAASqB,GAChC,GAAI7+D,KAAK+B,QAAQ8sD,aAAe,EAAG,CACjC,GAAI7uD,KAAKu1D,IAAItM,EAAMK,UAIjB,OAHAuV,EAAKzB,UAAW,EAChByB,EAAKlzD,IAAM3L,KAAKw7D,mBAChBx7D,KAAKk2D,OAAOjN,EAAMM,UACXsV,EAAKlzD,IAEZkzD,EAAKzB,UAAW,CAExB,CACI,OAAOyB,EAAKlzD,IAAM3L,KAAK5P,OAAS64D,EAAMC,KAAOlpD,KAAK5P,OAAS64D,EAAMG,OAASppD,KAAK69D,gBAAkB79D,KAAKo5D,WAA0C,UAA/Bp5D,KAAK+B,QAAQktD,cAClI,EAGE4R,GAAK9E,aAAe,SAASrtE,GAC3BA,EAAK+oC,GAAK,KACNz3B,KAAK+B,QAAQ8sD,aAAe,IAAKngE,EAAKwiE,UAAYxiE,EAAKmoE,YAAa,GACpE72D,KAAK+B,QAAQ8sD,aAAe,IAAKngE,EAAK84C,OAAQ,EACtD,EAGEq5B,GAAKlD,YAAc,SAASJ,EAAavD,EAASpG,GAChD,IAAIllE,EAAOsR,KAAK+zD,YAAaiI,EAAch8D,KAAK8yD,SAAUmJ,EAAcj8D,KAAK+yD,SAAUmJ,EAAmBl8D,KAAKgzD,cAqB/G,OAnBAhzD,KAAK+7D,aAAartE,GACdsR,KAAK+B,QAAQ8sD,aAAe,IAC5BngE,EAAKwiE,UAAYqM,GACjBv9D,KAAK+B,QAAQ8sD,aAAe,IAC5BngE,EAAK84C,QAAUwyB,GAEnBh6D,KAAK8yD,SAAW,EAChB9yD,KAAK+yD,SAAW,EAChB/yD,KAAKgzD,cAAgB,EACrBhzD,KAAKqzD,WAAWpC,EAAc+I,EAAStrE,EAAKwiE,WAAaH,GAAe6C,EAAmB5C,EAAqB,IAEhHhxD,KAAKk2D,OAAOjN,EAAMS,QAClBh7D,EAAK2tE,OAASr8D,KAAKs8D,iBAAiBrT,EAAMU,QAAQ,EAAO3pD,KAAK+B,QAAQ8sD,aAAe,GACrF7uD,KAAK02D,iCACL12D,KAAKo8D,kBAAkB1tE,GAAM,GAAO,GAEpCsR,KAAK8yD,SAAWkJ,EAChBh8D,KAAK+yD,SAAWkJ,EAChBj8D,KAAKgzD,cAAgBkJ,EACdl8D,KAAKk3D,WAAWxoE,EAAM,qBACjC,EAGEmyE,GAAK+B,qBAAuB,SAASl0E,EAAM2tE,EAAQrC,GACjD,IAAIgC,EAAch8D,KAAK8yD,SAAUmJ,EAAcj8D,KAAK+yD,SAAUmJ,EAAmBl8D,KAAKgzD,cAgBtF,OAdAhzD,KAAKqzD,WAAWpC,EAAc+I,GAAS,GAASnJ,GAChD7wD,KAAK+7D,aAAartE,GACdsR,KAAK+B,QAAQ8sD,aAAe,IAAKngE,EAAK84C,QAAUwyB,GAEpDh6D,KAAK8yD,SAAW,EAChB9yD,KAAK+yD,SAAW,EAChB/yD,KAAKgzD,cAAgB,EAErBtkE,EAAK2tE,OAASr8D,KAAK6/D,iBAAiBxD,GAAQ,GAC5Cr8D,KAAKo8D,kBAAkB1tE,GAAM,GAAM,GAEnCsR,KAAK8yD,SAAWkJ,EAChBh8D,KAAK+yD,SAAWkJ,EAChBj8D,KAAKgzD,cAAgBkJ,EACdl8D,KAAKk3D,WAAWxoE,EAAM,0BACjC,EAGEmyE,GAAKzE,kBAAoB,SAAS1tE,EAAM02E,EAAiBC,GACvD,IAAIC,EAAeF,GAAmBplE,KAAK5P,OAAS64D,EAAMO,OACtDgT,EAAYx8D,KAAKmnD,OAAQoe,GAAY,EAEzC,GAAID,EACF52E,EAAKmS,KAAOb,KAAKw7D,mBACjB9sE,EAAKmoE,YAAa,EAClB72D,KAAKwlE,YAAY92E,GAAM,OAClB,CACL,IAAI+2E,EAAYzlE,KAAK+B,QAAQ8sD,aAAe,IAAM7uD,KAAK0lE,kBAAkBh3E,EAAK2tE,QACzEG,IAAaiJ,IAChBF,EAAYvlE,KAAK4yD,gBAAgB5yD,KAAKyF,OACrBggE,GACbzlE,KAAKs2D,iBAAiB5nE,EAAK8W,MAAO,6EAExC,IAAImgE,EAAY3lE,KAAKizD,OACrBjzD,KAAKizD,OAAS,GACVsS,IAAavlE,KAAKmnD,QAAS,GAE/BnnD,KAAKwlE,YAAY92E,GAAO8tE,IAAc+I,IAAcH,IAAoBC,GAAYrlE,KAAK0lE,kBAAkBh3E,EAAK2tE,SAChH3tE,EAAKmS,KAAOb,KAAK44D,YAAW,GAC5BlqE,EAAKmoE,YAAa,EAClB72D,KAAKi3D,uBAAuBvoE,EAAKmS,KAAKA,MACtCb,KAAKizD,OAAS0S,CACpB,CACI3lE,KAAK26D,YAED36D,KAAKmnD,QAAUz4D,EAAK+oC,IAAMz3B,KAAK+5D,UAAUrrE,EAAK+oC,GAAI+5B,GACtDxxD,KAAKmnD,OAASqV,CAClB,EAEEqE,GAAK6E,kBAAoB,SAASrJ,GAChC,IAAK,IAAI7tE,EAAI,EAAGysC,EAAOohC,EAAQ7tE,EAAIysC,EAAK3sC,OAAQE,GAAK,EAInD,GAAmB,eAFPysC,EAAKzsC,GAEP4B,KAAyB,OAAO,EAE5C,OAAO,CACX,EAGEywE,GAAK2E,YAAc,SAAS92E,EAAMk3E,GAEhC,IADA,IAAIC,EAAW,CAAC,EACPr3E,EAAI,EAAGysC,EAAOvsC,EAAK2tE,OAAQ7tE,EAAIysC,EAAK3sC,OAAQE,GAAK,EACxD,CACA,IAAIssE,EAAQ7/B,EAAKzsC,GAEjBwR,KAAK+5D,UAAUe,EAAO1J,EAAUwU,EAAkB,KAAOC,EAC/D,CACA,EAGEhF,GAAK8B,cAAgB,SAASxC,EAAOE,EAAoBD,EAAY/J,GAEnE,IADA,IAAIiK,EAAO,GAAIrB,GAAQ,GACfj/D,KAAKu1D,IAAI4K,IAAQ,CACvB,GAAKlB,EAGIA,GAAQ,OADf,GADAj/D,KAAKk2D,OAAOjN,EAAMW,OACdyW,GAAsBrgE,KAAK+1D,mBAAmBoK,GAAU,MAG9D,IAAIpB,OAAO,EACPqB,GAAcpgE,KAAK5P,OAAS64D,EAAMW,MAClCmV,EAAM,KACD/+D,KAAK5P,OAAS64D,EAAMmB,UAC3B2U,EAAM/+D,KAAKggE,YAAY3J,GACnBA,GAA0Br2D,KAAK5P,OAAS64D,EAAMW,OAASyM,EAAuBlB,cAAgB,IAC9FkB,EAAuBlB,cAAgBn1D,KAAKwF,QAEhDu5D,EAAM/+D,KAAKw7D,kBAAiB,EAAOnF,GAErCiK,EAAKvqE,KAAKgpE,EAChB,CACI,OAAOuB,CACX,EAEEO,GAAKtC,gBAAkB,SAASpiD,GAC9B,IAAI3W,EAAQ2W,EAAI3W,MACZC,EAAM0W,EAAI1W,IACVlV,EAAO4rB,EAAI5rB,KAEXyP,KAAKyzD,aAAwB,UAATljE,GACpByP,KAAKs2D,iBAAiB9wD,EAAO,uDAC7BxF,KAAK0zD,SAAoB,UAATnjE,GAChByP,KAAKs2D,iBAAiB9wD,EAAO,6DAC7BxF,KAAKsnD,SAAS1oD,KAAKrO,IACnByP,KAAKm2D,MAAM3wD,EAAQ,uBAAyBjV,EAAO,KACnDyP,KAAK+B,QAAQ8sD,YAAc,IACmB,IAAhD7uD,KAAK8kD,MAAM3oD,MAAMqJ,EAAOC,GAAKhU,QAAQ,QAC9BuO,KAAKmnD,OAASnnD,KAAK8xD,oBAAsB9xD,KAAKknD,eAChDtoD,KAAKrO,KACLyP,KAAK0zD,SAAoB,UAATnjE,GACjByP,KAAKs2D,iBAAiB9wD,EAAO,wDACjCxF,KAAKs2D,iBAAiB9wD,EAAQ,gBAAkBjV,EAAO,iBAE7D,EAGEswE,GAAKzH,WAAa,SAAS0M,EAASlG,GAClC,IAAIlxE,EAAOsR,KAAK+zD,YAoBhB,OAnBI/zD,KAAK5P,OAAS64D,EAAM14D,KACtB7B,EAAK6B,KAAOyP,KAAKhN,MACRgN,KAAK5P,KAAKk4D,SACnB55D,EAAK6B,KAAOyP,KAAK5P,KAAKk4D,QAEH,UAAd55D,EAAK6B,MAAkC,aAAd7B,EAAK6B,MAC9ByP,KAAKwyD,aAAexyD,KAAKuyD,aAAe,GAAkD,KAA7CvyD,KAAK8kD,MAAM5jD,WAAWlB,KAAKuyD,eAC3EvyD,KAAKlJ,QAAQjB,OAGfmK,KAAK21D,aAEP31D,KAAK4W,OAAOkvD,GACZ9lE,KAAKk3D,WAAWxoE,EAAM,cACjBo3E,IACH9lE,KAAKu+D,gBAAgB7vE,GACH,UAAdA,EAAK6B,MAAqByP,KAAKgzD,gBAC/BhzD,KAAKgzD,cAAgBtkE,EAAK8W,QAEzB9W,CACX,EAGEmyE,GAAKS,WAAa,SAASH,GACpBnhE,KAAK8yD,WAAY9yD,KAAK8yD,SAAW9yD,KAAKwF,OAE3C,IAAI9W,EAAOsR,KAAK+zD,YAShB,OARA/zD,KAAK4W,OACD5W,KAAK5P,OAAS64D,EAAMY,MAAQ7pD,KAAK41D,sBAAyB51D,KAAK5P,OAAS64D,EAAMkC,OAASnrD,KAAK5P,KAAKo4D,YACnG95D,EAAKq3E,UAAW,EAChBr3E,EAAK4rE,SAAW,OAEhB5rE,EAAKq3E,SAAW/lE,KAAKu1D,IAAItM,EAAMkC,MAC/Bz8D,EAAK4rE,SAAWt6D,KAAKw7D,iBAAiB2F,IAEjCnhE,KAAKk3D,WAAWxoE,EAAM,kBACjC,EAEEmyE,GAAKwB,WAAa,WACXriE,KAAK+yD,WAAY/yD,KAAK+yD,SAAW/yD,KAAKwF,OAE3C,IAAI9W,EAAOsR,KAAK+zD,YAGhB,OAFA/zD,KAAK4W,OACLloB,EAAK4rE,SAAWt6D,KAAK4hE,gBAAgB,MAAM,GACpC5hE,KAAKk3D,WAAWxoE,EAAM,kBACjC,EAEE,IAAIs3E,GAAOvU,GAAOr/D,UAGlB4zE,GAAK7P,MAAQ,SAASpO,EAAK9zD,GACzB,IAAIs8D,EAAM/B,EAAYxuD,KAAK8kD,MAAOiD,GAClC9zD,GAAW,KAAOs8D,EAAIpC,KAAO,IAAMoC,EAAIlC,OAAS,IAChD,IAAIn1D,EAAM,IAAI+sE,YAAYhyE,GAE1B,MADAiF,EAAI6uD,IAAMA,EAAK7uD,EAAIq3D,IAAMA,EAAKr3D,EAAIgtE,SAAWlmE,KAAK+nD,IAC5C7uD,CACV,EAEE8sE,GAAK1P,iBAAmB0P,GAAK7P,MAE7B6P,GAAK5T,YAAc,WACjB,GAAIpyD,KAAK+B,QAAQutD,UACf,OAAO,IAAIpB,EAASluD,KAAKmyD,QAASnyD,KAAK+nD,IAAM/nD,KAAKiyD,UAExD,EAEE,IAAIkU,GAAO1U,GAAOr/D,UAEdg0E,GAAQ,SAAe/xE,GACzB2L,KAAK3L,MAAQA,EACb2L,KAAKqmE,IAAM,GACXrmE,KAAKsmE,QAAU,GACftmE,KAAKumE,UAAY,EACrB,EAGEJ,GAAK9S,WAAa,SAASh/D,GACzB2L,KAAKozD,WAAWr9D,KAAK,IAAIqwE,GAAM/xE,GACnC,EAEE8xE,GAAKxL,UAAY,WACf36D,KAAKozD,WAAWv9D,KACpB,EAEEswE,GAAK/R,2BAA6B,SAAS7P,GACzC,OAAQA,EAAMlwD,MAAQo8D,IAAoBzwD,KAAK2yD,UAAapO,EAAMlwD,MAAQm8D,CAC9E,EAEE2V,GAAKvF,YAAc,SAASrwE,EAAMmwE,EAAa3Y,GAC7C,IAAIye,GAAa,EACjB,GAAI9F,IAAgBrP,EAAc,CAChC,IAAI9M,EAAQvkD,KAAKq0D,eACjBmS,EAAajiB,EAAM+hB,QAAQ70E,QAAQlB,IAAS,GAAKg0D,EAAMgiB,UAAU90E,QAAQlB,IAAS,GAAKg0D,EAAM8hB,IAAI50E,QAAQlB,IAAS,EAClHg0D,EAAM+hB,QAAQvwE,KAAKxF,GACfyP,KAAK2yD,UAAapO,EAAMlwD,MAAQm8D,UACzBxwD,KAAKkzD,iBAAiB3iE,EACvC,MAAW,GAAImwE,IAAgBnP,EACXvxD,KAAKq0D,eACXiS,QAAQvwE,KAAKxF,QAChB,GAAImwE,IAAgBpP,EAAe,CACxC,IAAImV,EAAUzmE,KAAKq0D,eAEfmS,EADAxmE,KAAK6zD,oBACQ4S,EAAQH,QAAQ70E,QAAQlB,IAAS,EAEjCk2E,EAAQH,QAAQ70E,QAAQlB,IAAS,GAAKk2E,EAAQJ,IAAI50E,QAAQlB,IAAS,EACpFk2E,EAAQF,UAAUxwE,KAAKxF,EAC7B,MACM,IAAK,IAAI/B,EAAIwR,KAAKozD,WAAW9kE,OAAS,EAAGE,GAAK,IAAKA,EAAG,CACpD,IAAIk4E,EAAU1mE,KAAKozD,WAAW5kE,GAC9B,GAAIk4E,EAAQJ,QAAQ70E,QAAQlB,IAAS,KAAQm2E,EAAQryE,MAAQy8D,GAAuB4V,EAAQJ,QAAQ,KAAO/1E,KACtGyP,KAAKo0D,2BAA2BsS,IAAYA,EAAQH,UAAU90E,QAAQlB,IAAS,EAAG,CACrFi2E,GAAa,EACb,KACV,CAIQ,GAHAE,EAAQL,IAAItwE,KAAKxF,GACbyP,KAAK2yD,UAAa+T,EAAQryE,MAAQm8D,UAC3BxwD,KAAKkzD,iBAAiB3iE,GAC7Bm2E,EAAQryE,MAAQq8D,EAAa,KACzC,CAEQ8V,GAAcxmE,KAAKs2D,iBAAiBvO,EAAM,eAAiBx3D,EAAO,8BAC1E,EAEE41E,GAAK1H,iBAAmB,SAAShnC,IACsB,IAAjDz3B,KAAKozD,WAAW,GAAGkT,QAAQ70E,QAAQgmC,EAAGlnC,QACO,IAA7CyP,KAAKozD,WAAW,GAAGiT,IAAI50E,QAAQgmC,EAAGlnC,QACpCyP,KAAKkzD,iBAAiBz7B,EAAGlnC,MAAQknC,EAEvC,EAEE0uC,GAAK9R,aAAe,WAClB,OAAOr0D,KAAKozD,WAAWpzD,KAAKozD,WAAW9kE,OAAS,EACpD,EAEE63E,GAAKjS,gBAAkB,WACrB,IAAK,IAAI1lE,EAAIwR,KAAKozD,WAAW9kE,OAAS,GAAIE,IAAK,CAC7C,IAAI+1D,EAAQvkD,KAAKozD,WAAW5kE,GAC5B,GAAI+1D,EAAMlwD,MAAQq8D,EAAa,OAAOnM,CAC5C,CACA,EAEE4hB,GAAKhS,iBAAmB,WACtB,IAAK,IAAI3lE,EAAIwR,KAAKozD,WAAW9kE,OAAS,GAAIE,IAAK,CAC7C,IAAI+1D,EAAQvkD,KAAKozD,WAAW5kE,GAC5B,GAAI+1D,EAAMlwD,MAAQq8D,KAAenM,EAAMlwD,MAAQw8D,GAAgB,OAAOtM,CAC5E,CACA,EAEE,IAAIoiB,GAAO,SAAchS,EAAQ5M,EAAKwI,GACpCvwD,KAAK5P,KAAO,GACZ4P,KAAKwF,MAAQuiD,EACb/nD,KAAKyF,IAAM,EACPkvD,EAAO5yD,QAAQutD,YACftvD,KAAKuwD,IAAM,IAAIjC,EAAeqG,EAAQpE,IACtCoE,EAAO5yD,QAAQ4tD,mBACf3vD,KAAKuuD,WAAaoG,EAAO5yD,QAAQ4tD,kBACjCgF,EAAO5yD,QAAQ0tD,SACfzvD,KAAKiP,MAAQ,CAAC84C,EAAK,GAC3B,EAGM6e,GAAOnV,GAAOr/D,UAWlB,SAASiyE,GAAa31E,EAAM0B,EAAM23D,EAAKwI,GAOrC,OANA7hE,EAAK0B,KAAOA,EACZ1B,EAAK+W,IAAMsiD,EACP/nD,KAAK+B,QAAQutD,YACb5gE,EAAK6hE,IAAI9qD,IAAM8qD,GACfvwD,KAAK+B,QAAQ0tD,SACb/gE,EAAKugB,MAAM,GAAK84C,GACbr5D,CACX,CAjBEk4E,GAAK7S,UAAY,WACf,OAAO,IAAI4S,GAAK3mE,KAAMA,KAAKwF,MAAOxF,KAAKowD,SAC3C,EAEEwW,GAAKvJ,YAAc,SAAStV,EAAKwI,GAC/B,OAAO,IAAIoW,GAAK3mE,KAAM+nD,EAAKwI,EAC/B,EAaEqW,GAAK1P,WAAa,SAASxoE,EAAM0B,GAC/B,OAAOi0E,GAAa7xE,KAAKwN,KAAMtR,EAAM0B,EAAM4P,KAAKwyD,WAAYxyD,KAAKqyD,cACrE,EAGEuU,GAAKvC,aAAe,SAAS31E,EAAM0B,EAAM23D,EAAKwI,GAC5C,OAAO8T,GAAa7xE,KAAKwN,KAAMtR,EAAM0B,EAAM23D,EAAKwI,EACpD,EAGE,IAAIsW,GAAa,SAAoB5W,EAAO6W,EAAQC,EAAeC,EAAU9V,GAC3ElxD,KAAKiwD,MAAQA,EACbjwD,KAAK8mE,SAAWA,EAChB9mE,KAAK+mE,gBAAkBA,EACvB/mE,KAAKgnE,SAAWA,EAChBhnE,KAAKkxD,YAAcA,CACvB,EAEM+V,GAAU,CACZC,OAAQ,IAAIL,GAAW,KAAK,GAC5BM,OAAQ,IAAIN,GAAW,KAAK,GAC5BO,OAAQ,IAAIP,GAAW,MAAM,GAC7BQ,OAAQ,IAAIR,GAAW,KAAK,GAC5BS,OAAQ,IAAIT,GAAW,KAAK,GAC5BU,OAAQ,IAAIV,GAAW,KAAK,GAAM,GAAM,SAAUjrE,GAAK,OAAOA,EAAE4rE,sBAAuB,IACvFC,OAAQ,IAAIZ,GAAW,YAAY,GACnCa,OAAQ,IAAIb,GAAW,YAAY,GACnCc,WAAY,IAAId,GAAW,YAAY,GAAM,EAAO,MAAM,GAC1De,MAAO,IAAIf,GAAW,YAAY,GAAO,EAAO,MAAM,IAGpDgB,GAAOpW,GAAOr/D,UAElBy1E,GAAKpV,eAAiB,WACpB,MAAO,CAACwU,GAAQC,OACpB,EAEEW,GAAKC,aAAe,SAASC,GAC3B,IAAI3wD,EAASpX,KAAKgoE,aAClB,OAAI5wD,IAAW6vD,GAAQS,QAAUtwD,IAAW6vD,GAAQQ,SAEhDM,IAAa9e,EAAMa,OAAU1yC,IAAW6vD,GAAQC,QAAU9vD,IAAW6vD,GAAQE,OAG7EY,IAAa9e,EAAMiD,SAAW6b,IAAa9e,EAAM14D,MAAQyP,KAAK0yD,YACvDjF,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAKwyD,WAAYxyD,KAAKwF,QAC7DuiE,IAAa9e,EAAM4C,OAASkc,IAAa9e,EAAMY,MAAQke,IAAa9e,EAAMI,KAAO0e,IAAa9e,EAAMU,QAAUoe,IAAa9e,EAAMgB,QAEjI8d,IAAa9e,EAAMO,OACZpyC,IAAW6vD,GAAQC,OAC1Ba,IAAa9e,EAAMqD,MAAQyb,IAAa9e,EAAMsD,QAAUwb,IAAa9e,EAAM14D,OAEvEyP,KAAK0yD,cAVDt7C,EAAO0vD,OAWvB,EAEEe,GAAKI,mBAAqB,WACxB,IAAK,IAAIz5E,EAAIwR,KAAKlJ,QAAQxI,OAAS,EAAGE,GAAK,EAAGA,IAAK,CACjD,IAAIsI,EAAUkJ,KAAKlJ,QAAQtI,GAC3B,GAAsB,aAAlBsI,EAAQm5D,MACR,OAAOn5D,EAAQo6D,SACzB,CACI,OAAO,CACX,EAEE2W,GAAKhf,cAAgB,SAASkf,GAC5B,IAAIpxD,EAAQvmB,EAAO4P,KAAK5P,KACpBA,EAAKk4D,SAAWyf,IAAa9e,EAAMc,IACnC/pD,KAAK0yD,aAAc,GACd/7C,EAASvmB,EAAKy4D,eACnBlyC,EAAOnkB,KAAKwN,KAAM+nE,GAElB/nE,KAAK0yD,YAActiE,EAAKm4D,UAChC,EAGEU,EAAMU,OAAOd,cAAgBI,EAAMQ,OAAOZ,cAAgB,WACxD,GAA4B,IAAxB7oD,KAAKlJ,QAAQxI,OAAjB,CAIA,IAAI45E,EAAMloE,KAAKlJ,QAAQjB,MACnBqyE,IAAQjB,GAAQC,QAAsC,aAA5BlnE,KAAKgoE,aAAa/X,QAC9CiY,EAAMloE,KAAKlJ,QAAQjB,OAErBmK,KAAK0yD,aAAewV,EAAIpB,MAL5B,MAFM9mE,KAAK0yD,aAAc,CAQzB,EAEEzJ,EAAMO,OAAOX,cAAgB,SAASkf,GACpC/nE,KAAKlJ,QAAQf,KAAKiK,KAAK8nE,aAAaC,GAAYd,GAAQC,OAASD,GAAQE,QACzEnnE,KAAK0yD,aAAc,CACvB,EAEEzJ,EAAMqB,aAAazB,cAAgB,WACjC7oD,KAAKlJ,QAAQf,KAAKkxE,GAAQG,QAC1BpnE,KAAK0yD,aAAc,CACvB,EAEEzJ,EAAMS,OAAOb,cAAgB,SAASkf,GACpC,IAAII,EAAkBJ,IAAa9e,EAAMgD,KAAO8b,IAAa9e,EAAM8C,MAAQgc,IAAa9e,EAAMwD,OAASsb,IAAa9e,EAAMuD,OAC1HxsD,KAAKlJ,QAAQf,KAAKoyE,EAAkBlB,GAAQI,OAASJ,GAAQK,QAC7DtnE,KAAK0yD,aAAc,CACvB,EAEEzJ,EAAMuB,OAAO3B,cAAgB,WAC/B,EAEEI,EAAM+C,UAAUnD,cAAgBI,EAAM4D,OAAOhE,cAAgB,SAASkf,IAChEA,EAASxf,YAAcwf,IAAa9e,EAAMY,MAAQke,IAAa9e,EAAM4C,OACnEkc,IAAa9e,EAAMiD,SAAWuB,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAKwyD,WAAYxyD,KAAKwF,UACnFuiE,IAAa9e,EAAMa,OAASie,IAAa9e,EAAMO,SAAWxpD,KAAKgoE,eAAiBf,GAAQC,OAG3FlnE,KAAKlJ,QAAQf,KAAKkxE,GAAQQ,QAF1BznE,KAAKlJ,QAAQf,KAAKkxE,GAAQS,QAG9B1nE,KAAK0yD,aAAc,CACvB,EAEEzJ,EAAMoB,UAAUxB,cAAgB,WAC1B7oD,KAAKgoE,eAAiBf,GAAQM,OAC9BvnE,KAAKlJ,QAAQjB,MAEbmK,KAAKlJ,QAAQf,KAAKkxE,GAAQM,QAC9BvnE,KAAK0yD,aAAc,CACvB,EAEEzJ,EAAMkC,KAAKtC,cAAgB,SAASkf,GAClC,GAAIA,IAAa9e,EAAM+C,UAAW,CAChC,IAAIv2D,EAAQuK,KAAKlJ,QAAQxI,OAAS,EAC9B0R,KAAKlJ,QAAQrB,KAAWwxE,GAAQS,OAChC1nE,KAAKlJ,QAAQrB,GAASwxE,GAAQU,WAE9B3nE,KAAKlJ,QAAQrB,GAASwxE,GAAQW,KACxC,CACI5nE,KAAK0yD,aAAc,CACvB,EAEEzJ,EAAM14D,KAAKs4D,cAAgB,SAASkf,GAClC,IAAIK,GAAU,EACVpoE,KAAK+B,QAAQ8sD,aAAe,GAAKkZ,IAAa9e,EAAMc,MACnC,OAAf/pD,KAAKhN,QAAmBgN,KAAK0yD,aACd,UAAf1yD,KAAKhN,OAAqBgN,KAAKioE,wBAC/BG,GAAU,GAEhBpoE,KAAK0yD,YAAc0V,CACvB,EAGE,IAAIC,GAAwB,89BACxBC,GAAyBD,GAAwB,yBAEjDE,GAA0B,CAC5B,EAAGF,GACH,GAAIC,GACJ,GAJ2BA,IAOzBE,GAA+B,qpBAE/BC,GAAoB,2+DACpBC,GAAqBD,GAAoB,kHAEzCE,GAAsB,CACxB,EAAGF,GACH,GAAIC,GACJ,GAJuBA,GAAqB,0EAO1CrzE,GAAO,CAAC,EACZ,SAASuzE,GAAiB/Z,GACxB,IAAIxV,EAAIhkD,GAAKw5D,GAAe,CAC1Bga,OAAQ7a,EAAYua,GAAwB1Z,GAAe,IAAM2Z,IACjEM,UAAW,CACTC,iBAAkB/a,EAAYwa,IAC9BQ,OAAQhb,EAAY2a,GAAoB9Z,MAG5CxV,EAAEyvB,UAAUG,kBAAoB5vB,EAAEyvB,UAAUE,OAE5C3vB,EAAEyvB,UAAUI,GAAK7vB,EAAEyvB,UAAUC,iBAC7B1vB,EAAEyvB,UAAUK,GAAK9vB,EAAEyvB,UAAUE,OAC7B3vB,EAAEyvB,UAAUM,IAAM/vB,EAAEyvB,UAAUG,iBAClC,CACEL,GAAiB,GACjBA,GAAiB,IACjBA,GAAiB,IAEjB,IAAIS,GAAO5X,GAAOr/D,UAEdk3E,GAAwB,SAA+B3U,GACzD30D,KAAK20D,OAASA,EACd30D,KAAKupE,WAAa,OAAS5U,EAAO5yD,QAAQ8sD,aAAe,EAAI,KAAO,KAAO8F,EAAO5yD,QAAQ8sD,aAAe,EAAI,IAAM,IACnH7uD,KAAKwpE,kBAAoBn0E,GAAKs/D,EAAO5yD,QAAQ8sD,aAAe,GAAK,GAAK8F,EAAO5yD,QAAQ8sD,aACrF7uD,KAAK8X,OAAS,GACd9X,KAAK3L,MAAQ,GACb2L,KAAKwF,MAAQ,EACbxF,KAAKypE,SAAU,EACfzpE,KAAK0pE,SAAU,EACf1pE,KAAK+nD,IAAM,EACX/nD,KAAK2pE,aAAe,EACpB3pE,KAAK4pE,gBAAkB,GACvB5pE,KAAK6pE,6BAA8B,EACnC7pE,KAAK8pE,mBAAqB,EAC1B9pE,KAAK+pE,iBAAmB,EACxB/pE,KAAKgqE,WAAa,GAClBhqE,KAAKiqE,mBAAqB,EAC9B,EA+DE,SAASC,GAAkBjpE,GACzB,OAAIA,GAAM,MAAiB2K,OAAOC,aAAa5K,IAC/CA,GAAM,MACC2K,OAAOC,aAA0B,OAAZ5K,GAAM,IAA8B,OAAV,KAALA,IACrD,CA0PE,SAASkpE,GAAkBlpE,GACzB,OACS,KAAPA,GACAA,GAAM,IAASA,GAAM,IACd,KAAPA,GACO,KAAPA,GACAA,GAAM,IAASA,GAAM,IACrBA,GAAM,KAASA,GAAM,GAE3B,CAiFE,SAASmpE,GAAwBnpE,GAC/B,OAAO+mD,EAAkB/mD,GAAI,IAAgB,KAAPA,GAAuB,KAAPA,CAC1D,CAkBE,SAASopE,GAAuBppE,GAC9B,OAAOinD,EAAiBjnD,GAAI,IAAgB,KAAPA,GAAuB,KAAPA,GAAuB,OAAPA,GAAyB,OAAPA,CAC3F,CAoHE,SAASqpE,GAAgBrpE,GACvB,OACGA,GAAM,IAASA,GAAM,IACrBA,GAAM,IAASA,GAAM,GAE5B,CAuCE,SAASspE,GAAetpE,GACtB,OAAOA,GAAM,GAAKA,GAAM,OAC5B,CAiEE,SAASupE,GAAuBvpE,GAC9B,OACS,MAAPA,GACO,KAAPA,GACO,MAAPA,GACO,KAAPA,GACO,MAAPA,GACO,KAAPA,CAEN,CA0CE,SAASwpE,GAA+BxpE,GACtC,OAAOqpE,GAAgBrpE,IAAc,KAAPA,CAClC,CAWE,SAASypE,GAAgCzpE,GACvC,OAAOwpE,GAA+BxpE,IAAO0pE,GAAe1pE,EAChE,CAwHE,SAAS0pE,GAAe1pE,GACtB,OAAOA,GAAM,IAASA,GAAM,EAChC,CAYE,SAAS2pE,GAAW3pE,GAClB,OACGA,GAAM,IAASA,GAAM,IACrBA,GAAM,IAASA,GAAM,IACrBA,GAAM,IAASA,GAAM,GAE5B,CACE,SAAS4pE,GAAS5pE,GAChB,OAAIA,GAAM,IAASA,GAAM,GACVA,EAAK,GAAX,GAELA,GAAM,IAASA,GAAM,IACVA,EAAK,GAAX,GAEFA,EAAK,EAChB,CA8BE,SAAS6pE,GAAa7pE,GACpB,OAAOA,GAAM,IAASA,GAAM,EAChC,CAr4BEqoE,GAAsBl3E,UAAUyxC,MAAQ,SAAgBr+B,EAAO69D,EAAShvE,GACtE,IAAI02E,GAAkC,IAAxB12E,EAAM5C,QAAQ,KAC5BuO,KAAKwF,MAAgB,EAARA,EACbxF,KAAK8X,OAASurD,EAAU,GACxBrjE,KAAK3L,MAAQA,EACb2L,KAAKypE,QAAUsB,GAAW/qE,KAAK20D,OAAO5yD,QAAQ8sD,aAAe,EAC7D7uD,KAAK0pE,QAAUqB,GAAW/qE,KAAK20D,OAAO5yD,QAAQ8sD,aAAe,CACjE,EAEEya,GAAsBl3E,UAAU+jE,MAAQ,SAAgBliE,GACtD+L,KAAK20D,OAAO2B,iBAAiBt2D,KAAKwF,MAAQ,gCAAmCxF,KAAK8X,OAAU,MAAQ7jB,EACxG,EAEEq1E,GAAsBl3E,UAAU44E,GAAK,SAAax8E,GAChD,IAAIy8E,EAAIjrE,KAAK8X,OACTozD,EAAID,EAAE38E,OACV,GAAIE,GAAK08E,EACP,OAAQ,EAEV,IAAI1zC,EAAIyzC,EAAE/pE,WAAW1S,GACrB,IAAKwR,KAAKypE,SAAWjyC,GAAK,OAAUA,GAAK,OAAUhpC,EAAI,GAAK08E,EAC1D,OAAO1zC,EAET,IAAI5gB,EAAOq0D,EAAE/pE,WAAW1S,EAAI,GAC5B,OAAOooB,GAAQ,OAAUA,GAAQ,OAAU4gB,GAAK,IAAM5gB,EAAO,SAAY4gB,CAC7E,EAEE8xC,GAAsBl3E,UAAU+4E,UAAY,SAAoB38E,GAC9D,IAAIy8E,EAAIjrE,KAAK8X,OACTozD,EAAID,EAAE38E,OACV,GAAIE,GAAK08E,EACP,OAAOA,EAET,IAAyBt0D,EAArB4gB,EAAIyzC,EAAE/pE,WAAW1S,GACrB,OAAKwR,KAAKypE,SAAWjyC,GAAK,OAAUA,GAAK,OAAUhpC,EAAI,GAAK08E,IACvDt0D,EAAOq0D,EAAE/pE,WAAW1S,EAAI,IAAM,OAAUooB,EAAO,MAC3CpoB,EAAI,EAENA,EAAI,CACf,EAEE86E,GAAsBl3E,UAAUwD,QAAU,WACxC,OAAOoK,KAAKgrE,GAAGhrE,KAAK+nD,IACxB,EAEEuhB,GAAsBl3E,UAAUg5E,UAAY,WAC1C,OAAOprE,KAAKgrE,GAAGhrE,KAAKmrE,UAAUnrE,KAAK+nD,KACvC,EAEEuhB,GAAsBl3E,UAAUi5E,QAAU,WACxCrrE,KAAK+nD,IAAM/nD,KAAKmrE,UAAUnrE,KAAK+nD,IACnC,EAEEuhB,GAAsBl3E,UAAUmjE,IAAM,SAAct0D,GAClD,OAAIjB,KAAKpK,YAAcqL,IACrBjB,KAAKqrE,WACE,EAGb,EAQEhC,GAAKiC,oBAAsB,SAASvqD,GAIlC,IAHA,IAAIwoD,EAAaxoD,EAAMwoD,WACnBl1E,EAAQ0sB,EAAM1sB,MAET7F,EAAI,EAAGA,EAAI6F,EAAM/F,OAAQE,IAAK,CACrC,IAAI+8E,EAAOl3E,EAAMsjE,OAAOnpE,IACU,IAA9B+6E,EAAW93E,QAAQ85E,IACrBvrE,KAAKm2D,MAAMp1C,EAAMvb,MAAO,mCAEtBnR,EAAM5C,QAAQ85E,EAAM/8E,EAAI,IAAM,GAChCwR,KAAKm2D,MAAMp1C,EAAMvb,MAAO,oCAEhC,CACA,EAEE6jE,GAAKmC,sBAAwB,SAASzqD,GACpC/gB,KAAKyrE,eAAe1qD,IAEfA,EAAM2oD,SAAW1pE,KAAK+B,QAAQ8sD,aAAe,GAAK9tC,EAAMipD,WAAW17E,OAAS,IAC/EyyB,EAAM2oD,SAAU,EAChB1pE,KAAKyrE,eAAe1qD,GAE1B,EAEEsoD,GAAKoC,eAAiB,SAAS1qD,GAC7BA,EAAMgnC,IAAM,EACZhnC,EAAM4oD,aAAe,EACrB5oD,EAAM6oD,gBAAkB,GACxB7oD,EAAM8oD,6BAA8B,EACpC9oD,EAAM+oD,mBAAqB,EAC3B/oD,EAAMgpD,iBAAmB,EACzBhpD,EAAMipD,WAAW17E,OAAS,EAC1ByyB,EAAMkpD,mBAAmB37E,OAAS,EAElC0R,KAAK0rE,mBAAmB3qD,GAEpBA,EAAMgnC,MAAQhnC,EAAMjJ,OAAOxpB,SACzByyB,EAAMw0C,IAAI,KACZx0C,EAAMo1C,MAAM,kBAEVp1C,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,OAChCx0C,EAAMo1C,MAAM,6BAGZp1C,EAAMgpD,iBAAmBhpD,EAAM+oD,oBACjC/oD,EAAMo1C,MAAM,kBAEd,IAAK,IAAI3nE,EAAI,EAAGysC,EAAOla,EAAMkpD,mBAAoBz7E,EAAIysC,EAAK3sC,OAAQE,GAAK,EAAG,CACxE,IAAI+B,EAAO0qC,EAAKzsC,IAEwB,IAApCuyB,EAAMipD,WAAWv4E,QAAQlB,IAC3BwwB,EAAMo1C,MAAM,mCAEpB,CACA,EAEEkT,GAAKqC,mBAAqB,SAAS3qD,GAEjC,IADA/gB,KAAK2rE,mBAAmB5qD,GACjBA,EAAMw0C,IAAI,MACfv1D,KAAK2rE,mBAAmB5qD,GAGtB/gB,KAAK4rE,qBAAqB7qD,GAAO,IACnCA,EAAMo1C,MAAM,qBAEVp1C,EAAMw0C,IAAI,MACZx0C,EAAMo1C,MAAM,2BAElB,EAEEkT,GAAKsC,mBAAqB,SAAS5qD,GACjC,KAAOA,EAAMgnC,IAAMhnC,EAAMjJ,OAAOxpB,QAAU0R,KAAK6rE,eAAe9qD,KAElE,EAEEsoD,GAAKwC,eAAiB,SAAS9qD,GAC7B,OAAI/gB,KAAK8rE,oBAAoB/qD,IACvBA,EAAM8oD,6BAA+B7pE,KAAK4rE,qBAAqB7qD,IAC7DA,EAAM0oD,SACR1oD,EAAMo1C,MAAM,uBAGT,MAGLp1C,EAAM0oD,QAAUzpE,KAAK+rE,eAAehrD,GAAS/gB,KAAKgsE,uBAAuBjrD,MAC3E/gB,KAAK4rE,qBAAqB7qD,IACnB,EAIb,EAEEsoD,GAAKyC,oBAAsB,SAAS/qD,GAClC,IAAIvb,EAAQub,EAAMgnC,IAGlB,GAFAhnC,EAAM8oD,6BAA8B,EAEhC9oD,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,IAChC,OAAO,EAGT,GAAIx0C,EAAMw0C,IAAI,IAAQ,CACpB,GAAIx0C,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,IAChC,OAAO,EAETx0C,EAAMgnC,IAAMviD,CAClB,CAEI,GAAIub,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,IAAQ,CACxC,IAAI0W,GAAa,EAIjB,GAHIjsE,KAAK+B,QAAQ8sD,aAAe,IAC9Bod,EAAalrD,EAAMw0C,IAAI,KAErBx0C,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,IAMhC,OALAv1D,KAAK0rE,mBAAmB3qD,GACnBA,EAAMw0C,IAAI,KACbx0C,EAAMo1C,MAAM,sBAEdp1C,EAAM8oD,6BAA+BoC,GAC9B,CAEf,CAGI,OADAlrD,EAAMgnC,IAAMviD,GACL,CACX,EAEE6jE,GAAKuC,qBAAuB,SAAS7qD,EAAOmrD,GAG1C,YAFiB,IAAZA,IAAqBA,GAAU,KAEhClsE,KAAKmsE,2BAA2BprD,EAAOmrD,KACzCnrD,EAAMw0C,IAAI,KACH,EAGb,EAEE8T,GAAK8C,2BAA6B,SAASprD,EAAOmrD,GAChD,OACEnrD,EAAMw0C,IAAI,KACVx0C,EAAMw0C,IAAI,KACVx0C,EAAMw0C,IAAI,KACVv1D,KAAKosE,2BAA2BrrD,EAAOmrD,EAE7C,EACE7C,GAAK+C,2BAA6B,SAASrrD,EAAOmrD,GAChD,IAAI1mE,EAAQub,EAAMgnC,IAClB,GAAIhnC,EAAMw0C,IAAI,KAAQ,CACpB,IAAIriD,EAAM,EAAG8yC,GAAO,EACpB,GAAIhmD,KAAKqsE,wBAAwBtrD,KAC/B7N,EAAM6N,EAAM4oD,aACR5oD,EAAMw0C,IAAI,KAAUv1D,KAAKqsE,wBAAwBtrD,KACnDilC,EAAMjlC,EAAM4oD,cAEV5oD,EAAMw0C,IAAI,MAIZ,OAHa,IAATvP,GAAcA,EAAM9yC,IAAQg5D,GAC9BnrD,EAAMo1C,MAAM,0CAEP,EAGPp1C,EAAM0oD,UAAYyC,GACpBnrD,EAAMo1C,MAAM,yBAEdp1C,EAAMgnC,IAAMviD,CAClB,CACI,OAAO,CACX,EAEE6jE,GAAK0C,eAAiB,SAAShrD,GAC7B,OACE/gB,KAAKssE,4BAA4BvrD,IACjCA,EAAMw0C,IAAI,KACVv1D,KAAKusE,mCAAmCxrD,IACxC/gB,KAAKwsE,yBAAyBzrD,IAC9B/gB,KAAKysE,2BAA2B1rD,IAChC/gB,KAAK0sE,yBAAyB3rD,EAEpC,EACEsoD,GAAKkD,mCAAqC,SAASxrD,GACjD,IAAIvb,EAAQub,EAAMgnC,IAClB,GAAIhnC,EAAMw0C,IAAI,IAAQ,CACpB,GAAIv1D,KAAK2sE,qBAAqB5rD,GAC5B,OAAO,EAETA,EAAMgnC,IAAMviD,CAClB,CACI,OAAO,CACX,EACE6jE,GAAKoD,2BAA6B,SAAS1rD,GACzC,IAAIvb,EAAQub,EAAMgnC,IAClB,GAAIhnC,EAAMw0C,IAAI,IAAQ,CACpB,GAAIx0C,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,IAAQ,CAExC,GADAv1D,KAAK0rE,mBAAmB3qD,GACpBA,EAAMw0C,IAAI,IACZ,OAAO,EAETx0C,EAAMo1C,MAAM,qBACpB,CACMp1C,EAAMgnC,IAAMviD,CAClB,CACI,OAAO,CACX,EACE6jE,GAAKqD,yBAA2B,SAAS3rD,GACvC,GAAIA,EAAMw0C,IAAI,IAAQ,CAOpB,GANIv1D,KAAK+B,QAAQ8sD,aAAe,EAC9B7uD,KAAK4sE,sBAAsB7rD,GACE,KAApBA,EAAMnrB,WACfmrB,EAAMo1C,MAAM,iBAEdn2D,KAAK0rE,mBAAmB3qD,GACpBA,EAAMw0C,IAAI,IAEZ,OADAx0C,EAAM+oD,oBAAsB,GACrB,EAET/oD,EAAMo1C,MAAM,qBAClB,CACI,OAAO,CACX,EAEEkT,GAAK2C,uBAAyB,SAASjrD,GACrC,OACEA,EAAMw0C,IAAI,KACVv1D,KAAKusE,mCAAmCxrD,IACxC/gB,KAAKwsE,yBAAyBzrD,IAC9B/gB,KAAKysE,2BAA2B1rD,IAChC/gB,KAAK0sE,yBAAyB3rD,IAC9B/gB,KAAK6sE,kCAAkC9rD,IACvC/gB,KAAK8sE,mCAAmC/rD,EAE9C,EAEEsoD,GAAKwD,kCAAoC,SAAS9rD,GAIhD,OAHI/gB,KAAKosE,2BAA2BrrD,GAAO,IACzCA,EAAMo1C,MAAM,sBAEP,CACX,EAEEkT,GAAK0D,0BAA4B,SAAShsD,GACxC,IAAI9f,EAAK8f,EAAMnrB,UACf,QAAIu0E,GAAkBlpE,KACpB8f,EAAM4oD,aAAe1oE,EACrB8f,EAAMsqD,WACC,EAGb,EAYEhC,GAAKiD,4BAA8B,SAASvrD,GAG1C,IAFA,IAAIvb,EAAQub,EAAMgnC,IACd9mD,EAAK,GAC0B,KAA3BA,EAAK8f,EAAMnrB,aAAsBu0E,GAAkBlpE,IACzD8f,EAAMsqD,UAER,OAAOtqD,EAAMgnC,MAAQviD,CACzB,EAEE6jE,GAAKyD,mCAAqC,SAAS/rD,GACjD,IAAI9f,EAAK8f,EAAMnrB,UACf,SACU,IAARqL,GACO,KAAPA,GACEA,GAAM,IAASA,GAAM,IAChB,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,MAAPA,KAEA8f,EAAMsqD,WACC,EAGb,EAEEhC,GAAKuD,sBAAwB,SAAS7rD,GACpC,GAAIA,EAAMw0C,IAAI,IAAQ,CACpB,GAAIv1D,KAAKgtE,oBAAoBjsD,GAK3B,OAJyD,IAArDA,EAAMipD,WAAWv4E,QAAQsvB,EAAM6oD,kBACjC7oD,EAAMo1C,MAAM,qCAEdp1C,EAAMipD,WAAWj0E,KAAKgrB,EAAM6oD,iBAG9B7oD,EAAMo1C,MAAM,gBAClB,CACA,EAEEkT,GAAK2D,oBAAsB,SAASjsD,GAElC,GADAA,EAAM6oD,gBAAkB,GACpB7oD,EAAMw0C,IAAI,IAAQ,CACpB,GAAIv1D,KAAKitE,+BAA+BlsD,IAAUA,EAAMw0C,IAAI,IAC1D,OAAO,EAETx0C,EAAMo1C,MAAM,6BAClB,CACI,OAAO,CACX,EAEEkT,GAAK4D,+BAAiC,SAASlsD,GAE7C,GADAA,EAAM6oD,gBAAkB,GACpB5pE,KAAKktE,gCAAgCnsD,GAAQ,CAE/C,IADAA,EAAM6oD,iBAAmBM,GAAkBnpD,EAAM4oD,cAC1C3pE,KAAKmtE,+BAA+BpsD,IACzCA,EAAM6oD,iBAAmBM,GAAkBnpD,EAAM4oD,cAEnD,OAAO,CACb,CACI,OAAO,CACX,EAEEN,GAAK6D,gCAAkC,SAASnsD,GAC9C,IAAIvb,EAAQub,EAAMgnC,IACd9mD,EAAK8f,EAAMnrB,UAMf,OALAmrB,EAAMsqD,UAEK,KAAPpqE,GAAgBjB,KAAKotE,sCAAsCrsD,KAC7D9f,EAAK8f,EAAM4oD,cAETS,GAAwBnpE,IAC1B8f,EAAM4oD,aAAe1oE,GACd,IAGT8f,EAAMgnC,IAAMviD,GACL,EACX,EAKE6jE,GAAK8D,+BAAiC,SAASpsD,GAC7C,IAAIvb,EAAQub,EAAMgnC,IACd9mD,EAAK8f,EAAMnrB,UAMf,OALAmrB,EAAMsqD,UAEK,KAAPpqE,GAAgBjB,KAAKotE,sCAAsCrsD,KAC7D9f,EAAK8f,EAAM4oD,cAETU,GAAuBppE,IACzB8f,EAAM4oD,aAAe1oE,GACd,IAGT8f,EAAMgnC,IAAMviD,GACL,EACX,EAKE6jE,GAAKsD,qBAAuB,SAAS5rD,GACnC,SACE/gB,KAAKqtE,wBAAwBtsD,IAC7B/gB,KAAKstE,+BAA+BvsD,IACpC/gB,KAAKutE,0BAA0BxsD,IAC9BA,EAAM2oD,SAAW1pE,KAAKwtE,qBAAqBzsD,MAI1CA,EAAM0oD,UACgB,KAApB1oD,EAAMnrB,WACRmrB,EAAMo1C,MAAM,0BAEdp1C,EAAMo1C,MAAM,oBAEP,EACX,EACEkT,GAAKgE,wBAA0B,SAAStsD,GACtC,IAAIvb,EAAQub,EAAMgnC,IAClB,GAAI/nD,KAAKytE,wBAAwB1sD,GAAQ,CACvC,IAAIuiC,EAAIviC,EAAM4oD,aACd,GAAI5oD,EAAM0oD,QAIR,OAHInmB,EAAIviC,EAAMgpD,mBACZhpD,EAAMgpD,iBAAmBzmB,IAEpB,EAET,GAAIA,GAAKviC,EAAM+oD,mBACb,OAAO,EAET/oD,EAAMgnC,IAAMviD,CAClB,CACI,OAAO,CACX,EACE6jE,GAAKmE,qBAAuB,SAASzsD,GACnC,GAAIA,EAAMw0C,IAAI,KAAQ,CACpB,GAAIv1D,KAAKgtE,oBAAoBjsD,GAE3B,OADAA,EAAMkpD,mBAAmBl0E,KAAKgrB,EAAM6oD,kBAC7B,EAET7oD,EAAMo1C,MAAM,0BAClB,CACI,OAAO,CACX,EAEEkT,GAAKkE,0BAA4B,SAASxsD,GACxC,OACE/gB,KAAK0tE,wBAAwB3sD,IAC7B/gB,KAAK2tE,yBAAyB5sD,IAC9B/gB,KAAK4tE,eAAe7sD,IACpB/gB,KAAK6tE,4BAA4B9sD,IACjC/gB,KAAKotE,sCAAsCrsD,KACzCA,EAAM0oD,SAAWzpE,KAAK8tE,oCAAoC/sD,IAC5D/gB,KAAK+tE,yBAAyBhtD,EAEpC,EACEsoD,GAAKsE,yBAA2B,SAAS5sD,GACvC,IAAIvb,EAAQub,EAAMgnC,IAClB,GAAIhnC,EAAMw0C,IAAI,IAAQ,CACpB,GAAIv1D,KAAKguE,wBAAwBjtD,GAC/B,OAAO,EAETA,EAAMgnC,IAAMviD,CAClB,CACI,OAAO,CACX,EACE6jE,GAAKuE,eAAiB,SAAS7sD,GAC7B,OAAwB,KAApBA,EAAMnrB,YAAwB+0E,GAAe5pD,EAAMqqD,eACrDrqD,EAAM4oD,aAAe,EACrB5oD,EAAMsqD,WACC,EAGb,EAEEhC,GAAKqE,wBAA0B,SAAS3sD,GACtC,IAAI9f,EAAK8f,EAAMnrB,UACf,OAAW,MAAPqL,GACF8f,EAAM4oD,aAAe,EACrB5oD,EAAMsqD,WACC,GAEE,MAAPpqE,GACF8f,EAAM4oD,aAAe,GACrB5oD,EAAMsqD,WACC,GAEE,MAAPpqE,GACF8f,EAAM4oD,aAAe,GACrB5oD,EAAMsqD,WACC,GAEE,MAAPpqE,GACF8f,EAAM4oD,aAAe,GACrB5oD,EAAMsqD,WACC,GAEE,MAAPpqE,IACF8f,EAAM4oD,aAAe,GACrB5oD,EAAMsqD,WACC,EAGb,EAEEhC,GAAK2E,wBAA0B,SAASjtD,GACtC,IAAI9f,EAAK8f,EAAMnrB,UACf,QAAI00E,GAAgBrpE,KAClB8f,EAAM4oD,aAAe1oE,EAAK,GAC1B8f,EAAMsqD,WACC,EAGb,EAQEhC,GAAK+D,sCAAwC,SAASrsD,GACpD,IAAIvb,EAAQub,EAAMgnC,IAElB,GAAIhnC,EAAMw0C,IAAI,KAAQ,CACpB,GAAIv1D,KAAKiuE,yBAAyBltD,EAAO,GAAI,CAC3C,IAAImtD,EAAOntD,EAAM4oD,aACjB,GAAI5oD,EAAM0oD,SAAWyE,GAAQ,OAAUA,GAAQ,MAAQ,CACrD,IAAIC,EAAmBptD,EAAMgnC,IAC7B,GAAIhnC,EAAMw0C,IAAI,KAAUx0C,EAAMw0C,IAAI,MAAUv1D,KAAKiuE,yBAAyBltD,EAAO,GAAI,CACnF,IAAIqtD,EAAQrtD,EAAM4oD,aAClB,GAAIyE,GAAS,OAAUA,GAAS,MAE9B,OADArtD,EAAM4oD,aAAiC,MAAjBuE,EAAO,QAAmBE,EAAQ,OAAU,OAC3D,CAErB,CACUrtD,EAAMgnC,IAAMomB,EACZptD,EAAM4oD,aAAeuE,CAC/B,CACQ,OAAO,CACf,CACM,GACEntD,EAAM0oD,SACN1oD,EAAMw0C,IAAI,MACVv1D,KAAKquE,oBAAoBttD,IACzBA,EAAMw0C,IAAI,MACVgV,GAAexpD,EAAM4oD,cAErB,OAAO,EAEL5oD,EAAM0oD,SACR1oD,EAAMo1C,MAAM,0BAEdp1C,EAAMgnC,IAAMviD,CAClB,CAEI,OAAO,CACX,EAKE6jE,GAAK0E,yBAA2B,SAAShtD,GACvC,GAAIA,EAAM0oD,QACR,QAAIzpE,KAAK+sE,0BAA0BhsD,MAG/BA,EAAMw0C,IAAI,MACZx0C,EAAM4oD,aAAe,IACd,GAKX,IAAI1oE,EAAK8f,EAAMnrB,UACf,QAAW,KAAPqL,GAAkB8f,EAAM2oD,SAAkB,MAAPzoE,KACrC8f,EAAM4oD,aAAe1oE,EACrB8f,EAAMsqD,WACC,EAIb,EAEEhC,GAAKoE,wBAA0B,SAAS1sD,GACtCA,EAAM4oD,aAAe,EACrB,IAAI1oE,EAAK8f,EAAMnrB,UACf,GAAIqL,GAAM,IAASA,GAAM,GAAO,CAC9B,GACE8f,EAAM4oD,aAAe,GAAK5oD,EAAM4oD,cAAgB1oE,EAAK,IACrD8f,EAAMsqD,iBACEpqE,EAAK8f,EAAMnrB,YAAc,IAASqL,GAAM,IAClD,OAAO,CACb,CACI,OAAO,CACX,EAEEooE,GAAKiE,+BAAiC,SAASvsD,GAC7C,IAAI9f,EAAK8f,EAAMnrB,UAEf,GAAI40E,GAAuBvpE,GAGzB,OAFA8f,EAAM4oD,cAAgB,EACtB5oD,EAAMsqD,WACC,EAGT,GACEtqD,EAAM0oD,SACNzpE,KAAK+B,QAAQ8sD,aAAe,IACpB,KAAP5tD,GAAuB,MAAPA,GACjB,CAGA,GAFA8f,EAAM4oD,cAAgB,EACtB5oD,EAAMsqD,UAEJtqD,EAAMw0C,IAAI,MACVv1D,KAAKsuE,yCAAyCvtD,IAC9CA,EAAMw0C,IAAI,KAEV,OAAO,EAETx0C,EAAMo1C,MAAM,wBAClB,CAEI,OAAO,CACX,EAYEkT,GAAKiF,yCAA2C,SAASvtD,GACvD,IAAIvb,EAAQub,EAAMgnC,IAElB,GAAI/nD,KAAKuuE,8BAA8BxtD,IAAUA,EAAMw0C,IAAI,IAAQ,CACjE,IAAIhlE,EAAOwwB,EAAM6oD,gBACjB,GAAI5pE,KAAKwuE,+BAA+BztD,GAAQ,CAC9C,IAAI/tB,EAAQ+tB,EAAM6oD,gBAElB,OADA5pE,KAAKyuE,2CAA2C1tD,EAAOxwB,EAAMyC,IACtD,CACf,CACA,CAGI,GAFA+tB,EAAMgnC,IAAMviD,EAERxF,KAAK0uE,yCAAyC3tD,GAAQ,CACxD,IAAI4tD,EAAc5tD,EAAM6oD,gBAExB,OADA5pE,KAAK4uE,0CAA0C7tD,EAAO4tD,IAC/C,CACb,CACI,OAAO,CACX,EACEtF,GAAKoF,2CAA6C,SAAS1tD,EAAOxwB,EAAMyC,GACjEmQ,EAAI4d,EAAMyoD,kBAAkBV,UAAWv4E,IACxCwwB,EAAMo1C,MAAM,yBACXp1C,EAAMyoD,kBAAkBV,UAAUv4E,GAAMqO,KAAK5L,IAC9C+tB,EAAMo1C,MAAM,yBACpB,EACEkT,GAAKuF,0CAA4C,SAAS7tD,EAAO4tD,GAC1D5tD,EAAMyoD,kBAAkBX,OAAOjqE,KAAK+vE,IACrC5tD,EAAMo1C,MAAM,wBACpB,EAEEkT,GAAKkF,8BAAgC,SAASxtD,GAC5C,IAAI9f,EAAK,EAET,IADA8f,EAAM6oD,gBAAkB,GACjBa,GAA+BxpE,EAAK8f,EAAMnrB,YAC/CmrB,EAAM6oD,iBAAmBM,GAAkBjpE,GAC3C8f,EAAMsqD,UAER,MAAiC,KAA1BtqD,EAAM6oD,eACjB,EAKEP,GAAKmF,+BAAiC,SAASztD,GAC7C,IAAI9f,EAAK,EAET,IADA8f,EAAM6oD,gBAAkB,GACjBc,GAAgCzpE,EAAK8f,EAAMnrB,YAChDmrB,EAAM6oD,iBAAmBM,GAAkBjpE,GAC3C8f,EAAMsqD,UAER,MAAiC,KAA1BtqD,EAAM6oD,eACjB,EAKEP,GAAKqF,yCAA2C,SAAS3tD,GACvD,OAAO/gB,KAAKwuE,+BAA+BztD,EAC/C,EAEEsoD,GAAKmD,yBAA2B,SAASzrD,GACvC,GAAIA,EAAMw0C,IAAI,IAAQ,CAGpB,GAFAx0C,EAAMw0C,IAAI,IACVv1D,KAAK6uE,mBAAmB9tD,GACpBA,EAAMw0C,IAAI,IACZ,OAAO,EAETx0C,EAAMo1C,MAAM,+BAClB,CACI,OAAO,CACX,EAEEkT,GAAKwF,mBAAqB,SAAS9tD,GACjC,KAAO/gB,KAAK8uE,oBAAoB/tD,IAAQ,CACtC,IAAI/M,EAAO+M,EAAM4oD,aACjB,GAAI5oD,EAAMw0C,IAAI,KAAUv1D,KAAK8uE,oBAAoB/tD,GAAQ,CACvD,IAAIw6C,EAAQx6C,EAAM4oD,cACd5oD,EAAM0oD,UAAsB,IAAVz1D,IAA0B,IAAXunD,GACnCx6C,EAAMo1C,MAAM,4BAEA,IAAVniD,IAA0B,IAAXunD,GAAgBvnD,EAAOunD,GACxCx6C,EAAMo1C,MAAM,wCAEtB,CACA,CACA,EAEEkT,GAAKyF,oBAAsB,SAAS/tD,GAClC,IAAIvb,EAAQub,EAAMgnC,IAElB,GAAIhnC,EAAMw0C,IAAI,IAAQ,CACpB,GAAIv1D,KAAK+uE,sBAAsBhuD,GAC7B,OAAO,EAET,GAAIA,EAAM0oD,QAAS,CACjB,IAAIuF,EAAOjuD,EAAMnrB,WACJ,KAATo5E,GAAkBlE,GAAakE,KACjCjuD,EAAMo1C,MAAM,wBAEdp1C,EAAMo1C,MAAM,iBACpB,CACMp1C,EAAMgnC,IAAMviD,CAClB,CAEI,IAAIvE,EAAK8f,EAAMnrB,UACf,OAAW,KAAPqL,IACF8f,EAAM4oD,aAAe1oE,EACrB8f,EAAMsqD,WACC,EAIb,EAEEhC,GAAK0F,sBAAwB,SAAShuD,GACpC,IAAIvb,EAAQub,EAAMgnC,IAElB,GAAIhnC,EAAMw0C,IAAI,IAEZ,OADAx0C,EAAM4oD,aAAe,GACd,EAGT,GAAI5oD,EAAM0oD,SAAW1oD,EAAMw0C,IAAI,IAE7B,OADAx0C,EAAM4oD,aAAe,IACd,EAGT,IAAK5oD,EAAM0oD,SAAW1oD,EAAMw0C,IAAI,IAAQ,CACtC,GAAIv1D,KAAKivE,6BAA6BluD,GACpC,OAAO,EAETA,EAAMgnC,IAAMviD,CAClB,CAEI,OACExF,KAAKstE,+BAA+BvsD,IACpC/gB,KAAKutE,0BAA0BxsD,EAErC,EAEEsoD,GAAK4F,6BAA+B,SAASluD,GAC3C,IAAI9f,EAAK8f,EAAMnrB,UACf,SAAI+0E,GAAe1pE,IAAc,KAAPA,KACxB8f,EAAM4oD,aAAe1oE,EAAK,GAC1B8f,EAAMsqD,WACC,EAGb,EAEEhC,GAAKwE,4BAA8B,SAAS9sD,GAC1C,IAAIvb,EAAQub,EAAMgnC,IAClB,GAAIhnC,EAAMw0C,IAAI,KAAQ,CACpB,GAAIv1D,KAAKiuE,yBAAyBltD,EAAO,GACvC,OAAO,EAELA,EAAM0oD,SACR1oD,EAAMo1C,MAAM,kBAEdp1C,EAAMgnC,IAAMviD,CAClB,CACI,OAAO,CACX,EAEE6jE,GAAKgD,wBAA0B,SAAStrD,GACtC,IAAIvb,EAAQub,EAAMgnC,IACd9mD,EAAK,EAET,IADA8f,EAAM4oD,aAAe,EACdgB,GAAe1pE,EAAK8f,EAAMnrB,YAC/BmrB,EAAM4oD,aAAe,GAAK5oD,EAAM4oD,cAAgB1oE,EAAK,IACrD8f,EAAMsqD,UAER,OAAOtqD,EAAMgnC,MAAQviD,CACzB,EAKE6jE,GAAKgF,oBAAsB,SAASttD,GAClC,IAAIvb,EAAQub,EAAMgnC,IACd9mD,EAAK,EAET,IADA8f,EAAM4oD,aAAe,EACdiB,GAAW3pE,EAAK8f,EAAMnrB,YAC3BmrB,EAAM4oD,aAAe,GAAK5oD,EAAM4oD,aAAekB,GAAS5pE,GACxD8f,EAAMsqD,UAER,OAAOtqD,EAAMgnC,MAAQviD,CACzB,EAkBE6jE,GAAKyE,oCAAsC,SAAS/sD,GAClD,GAAI/gB,KAAKkvE,qBAAqBnuD,GAAQ,CACpC,IAAIouD,EAAKpuD,EAAM4oD,aACf,GAAI3pE,KAAKkvE,qBAAqBnuD,GAAQ,CACpC,IAAIquD,EAAKruD,EAAM4oD,aACXwF,GAAM,GAAKnvE,KAAKkvE,qBAAqBnuD,GACvCA,EAAM4oD,aAAoB,GAALwF,EAAe,EAALC,EAASruD,EAAM4oD,aAE9C5oD,EAAM4oD,aAAoB,EAALwF,EAASC,CAExC,MACQruD,EAAM4oD,aAAewF,EAEvB,OAAO,CACb,CACI,OAAO,CACX,EAEE9F,GAAK6F,qBAAuB,SAASnuD,GACnC,IAAI9f,EAAK8f,EAAMnrB,UACf,OAAIk1E,GAAa7pE,IACf8f,EAAM4oD,aAAe1oE,EAAK,GAC1B8f,EAAMsqD,WACC,IAETtqD,EAAM4oD,aAAe,GACd,EACX,EAKEN,GAAK4E,yBAA2B,SAASltD,EAAOzyB,GAC9C,IAAIkX,EAAQub,EAAMgnC,IAClBhnC,EAAM4oD,aAAe,EACrB,IAAK,IAAIn7E,EAAI,EAAGA,EAAIF,IAAUE,EAAG,CAC/B,IAAIyS,EAAK8f,EAAMnrB,UACf,IAAKg1E,GAAW3pE,GAEd,OADA8f,EAAMgnC,IAAMviD,GACL,EAETub,EAAM4oD,aAAe,GAAK5oD,EAAM4oD,aAAekB,GAAS5pE,GACxD8f,EAAMsqD,SACZ,CACI,OAAO,CACX,EAGE,IAAIgE,GAAQ,SAAezzE,GACzBoE,KAAK5P,KAAOwL,EAAExL,KACd4P,KAAKhN,MAAQ4I,EAAE5I,MACfgN,KAAKwF,MAAQ5J,EAAE4J,MACfxF,KAAKyF,IAAM7J,EAAE6J,IACT7J,EAAEmG,QAAQutD,YACVtvD,KAAKuwD,IAAM,IAAIjC,EAAe1yD,EAAGA,EAAEw0D,SAAUx0D,EAAEy0D,SAC/Cz0D,EAAEmG,QAAQ0tD,SACVzvD,KAAKiP,MAAQ,CAACrT,EAAE4J,MAAO5J,EAAE6J,KACjC,EAGM6pE,GAAO7d,GAAOr/D,UAwalB,SAASm9E,GAAoBphF,GAC3B,OAAIA,GAAQ,MAAiByd,OAAOC,aAAa1d,IACjDA,GAAQ,MACDyd,OAAOC,aAA4B,OAAd1d,GAAQ,IAA8B,OAAR,KAAPA,IACvD,CAzaEmhF,GAAK14D,KAAO,SAAS44D,IACdA,GAAiCxvE,KAAK5P,KAAKk4D,SAAWtoD,KAAKgyD,aAC5DhyD,KAAKs2D,iBAAiBt2D,KAAKwF,MAAO,8BAAgCxF,KAAK5P,KAAKk4D,SAC5EtoD,KAAK+B,QAAQwtD,SACbvvD,KAAK+B,QAAQwtD,QAAQ,IAAI8f,GAAMrvE,OAEnCA,KAAKwyD,WAAaxyD,KAAKyF,IACvBzF,KAAKuyD,aAAevyD,KAAKwF,MACzBxF,KAAKqyD,cAAgBryD,KAAKqwD,OAC1BrwD,KAAKsyD,gBAAkBtyD,KAAKowD,SAC5BpwD,KAAKg0D,WACT,EAEEsb,GAAKG,SAAW,WAEd,OADAzvE,KAAK4W,OACE,IAAIy4D,GAAMrvE,KACrB,EAEwB,qBAAXnR,SACPygF,GAAKzgF,OAAOkB,UAAY,WACxB,IAAIitE,EAASh9D,KAEb,MAAO,CACL4W,KAAM,WACJ,IAAIq5C,EAAQ+M,EAAOyS,WACnB,MAAO,CACLjwD,KAAMywC,EAAM7/D,OAAS64D,EAAMI,IAC3Br2D,MAAOi9D,EAEnB,EAEA,GAGEqf,GAAKtH,WAAa,WAChB,OAAOhoE,KAAKlJ,QAAQkJ,KAAKlJ,QAAQxI,OAAS,EAC9C,EAGEghF,GAAKtb,UAAY,WACf,IAAIgU,EAAahoE,KAAKgoE,aAKtB,OAJKA,GAAeA,EAAWjB,eAAiB/mE,KAAK0vE,YAErD1vE,KAAKwF,MAAQxF,KAAK+nD,IACd/nD,KAAK+B,QAAQutD,YAAatvD,KAAKowD,SAAWpwD,KAAKoyD,eAC/CpyD,KAAK+nD,KAAO/nD,KAAK8kD,MAAMx2D,OAAiB0R,KAAK2vE,YAAY1mB,EAAMI,KAE/D2e,EAAWhB,SAAmBgB,EAAWhB,SAAShnE,WAC/CA,KAAK4vE,UAAU5vE,KAAK6vE,oBAC/B,EAEEP,GAAKM,UAAY,SAASzhF,GACxB,OAAI65D,EAAkB75D,EAAM6R,KAAK+B,QAAQ8sD,aAAe,IAAe,KAAT1gE,EACnD6R,KAAK8vE,WAET9vE,KAAK+vE,iBAAiB5hF,EACjC,EAEEmhF,GAAKO,kBAAoB,WACvB,IAAI1hF,EAAO6R,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KACtC,OAAI55D,GAAQ,OAAUA,GAAQ,MAAiBA,GAEvCA,GAAQ,IADL6R,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GACf,QACjC,EAEEunB,GAAKU,iBAAmB,WACtB,IAMM1+E,EANF8+D,EAAWpwD,KAAK+B,QAAQytD,WAAaxvD,KAAKoyD,cAC1C5sD,EAAQxF,KAAK+nD,IAAKtiD,EAAMzF,KAAK8kD,MAAMrzD,QAAQ,KAAMuO,KAAK+nD,KAAO,GAGjE,IAFa,IAATtiD,GAAczF,KAAKm2D,MAAMn2D,KAAK+nD,IAAM,EAAG,wBAC3C/nD,KAAK+nD,IAAMtiD,EAAM,EACbzF,KAAK+B,QAAQutD,UAGf,IAFA5B,EAAWgB,UAAYlpD,GAEflU,EAAQo8D,EAAWiB,KAAK3uD,KAAK8kD,SAAWxzD,EAAMmE,MAAQuK,KAAK+nD,OAC/D/nD,KAAKmyD,QACPnyD,KAAKiyD,UAAY3gE,EAAMmE,MAAQnE,EAAM,GAAGhD,OAGxC0R,KAAK+B,QAAQytD,WACbxvD,KAAK+B,QAAQytD,WAAU,EAAMxvD,KAAK8kD,MAAM3oD,MAAMqJ,EAAQ,EAAGC,GAAMD,EAAOxF,KAAK+nD,IACtDqI,EAAUpwD,KAAKoyD,cAC5C,EAEEkd,GAAKnc,gBAAkB,SAAS8c,GAI9B,IAHA,IAAIzqE,EAAQxF,KAAK+nD,IACbqI,EAAWpwD,KAAK+B,QAAQytD,WAAaxvD,KAAKoyD,cAC1CnxD,EAAKjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KAAOkoB,GACpCjwE,KAAK+nD,IAAM/nD,KAAK8kD,MAAMx2D,SAAWq/D,EAAU1sD,IAChDA,EAAKjB,KAAK8kD,MAAM5jD,aAAalB,KAAK+nD,KAEhC/nD,KAAK+B,QAAQytD,WACbxvD,KAAK+B,QAAQytD,WAAU,EAAOxvD,KAAK8kD,MAAM3oD,MAAMqJ,EAAQyqE,EAAWjwE,KAAK+nD,KAAMviD,EAAOxF,KAAK+nD,IACpEqI,EAAUpwD,KAAKoyD,cAC5C,EAGEkd,GAAKI,UAAY,WACfQ,EAAM,KAAOlwE,KAAK+nD,IAAM/nD,KAAK8kD,MAAMx2D,QAAQ,CACzC,IAAI2S,EAAKjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KACpC,OAAQ9mD,GACR,KAAK,GAAI,KAAK,MACVjB,KAAK+nD,IACP,MACF,KAAK,GACyC,KAAxC/nD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,MACjC/nD,KAAK+nD,IAEX,KAAK,GAAI,KAAK,KAAM,KAAK,OACrB/nD,KAAK+nD,IACH/nD,KAAK+B,QAAQutD,cACbtvD,KAAKmyD,QACPnyD,KAAKiyD,UAAYjyD,KAAK+nD,KAExB,MACF,KAAK,GACH,OAAQ/nD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,IACzC,KAAK,GACH/nD,KAAKgwE,mBACL,MACF,KAAK,GACHhwE,KAAKmzD,gBAAgB,GACrB,MACF,QACE,MAAM+c,EAER,MACF,QACE,KAAIjvE,EAAK,GAAKA,EAAK,IAAMA,GAAM,MAAQ4sD,EAAmBjvD,KAAKgN,OAAOC,aAAa5K,KAGjF,MAAMivE,IAFJlwE,KAAK+nD,IAKjB,CACA,EAGEunB,GAAKK,YAAc,SAASv/E,EAAMwzE,GAChC5jE,KAAKyF,IAAMzF,KAAK+nD,IACZ/nD,KAAK+B,QAAQutD,YAAatvD,KAAKqwD,OAASrwD,KAAKoyD,eACjD,IAAI2V,EAAW/nE,KAAK5P,KACpB4P,KAAK5P,KAAOA,EACZ4P,KAAKhN,MAAQ4wE,EAEb5jE,KAAK6oD,cAAckf,EACvB,EAGEuH,GAAKa,cAAgB,WACnB,IAAIv5D,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC5C,GAAInxC,GAAQ,IAAMA,GAAQ,GAAM,OAAO5W,KAAKowE,YAAW,GACvD,IAAIC,EAAQrwE,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC7C,OAAI/nD,KAAK+B,QAAQ8sD,aAAe,GAAc,KAATj4C,GAAyB,KAAVy5D,GAClDrwE,KAAK+nD,KAAO,EACL/nD,KAAK2vE,YAAY1mB,EAAMmB,cAE5BpqD,KAAK+nD,IACA/nD,KAAK2vE,YAAY1mB,EAAMc,KAEpC,EAEEulB,GAAKgB,gBAAkB,WACrB,IAAI15D,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC5C,OAAI/nD,KAAK0yD,eAAiB1yD,KAAK+nD,IAAY/nD,KAAKijE,cACnC,KAATrsD,EAAsB5W,KAAKuwE,SAAStnB,EAAM/3D,OAAQ,GAC/C8O,KAAKuwE,SAAStnB,EAAMmC,MAAO,EACtC,EAEEkkB,GAAKkB,0BAA4B,SAASriF,GACxC,IAAIyoB,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GACxClhC,EAAO,EACP4pD,EAAqB,KAATtiF,EAAc86D,EAAMkC,KAAOlC,EAAMiC,OAQjD,OANIlrD,KAAK+B,QAAQ8sD,aAAe,GAAc,KAAT1gE,GAAwB,KAATyoB,MAChDiQ,EACF4pD,EAAYxnB,EAAMoC,SAClBz0C,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,IAG7B,KAATnxC,EAAsB5W,KAAKuwE,SAAStnB,EAAM/3D,OAAQ21B,EAAO,GACtD7mB,KAAKuwE,SAASE,EAAW5pD,EACpC,EAEEyoD,GAAKoB,mBAAqB,SAASviF,GACjC,IAAIyoB,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC5C,OAAInxC,IAASzoB,EAAe6R,KAAKuwE,SAAkB,MAATpiF,EAAe86D,EAAMwB,UAAYxB,EAAMyB,WAAY,GAChF,KAAT9zC,EAAsB5W,KAAKuwE,SAAStnB,EAAM/3D,OAAQ,GAC/C8O,KAAKuwE,SAAkB,MAATpiF,EAAe86D,EAAM0B,UAAY1B,EAAM4B,WAAY,EAC5E,EAEEykB,GAAKqB,gBAAkB,WAErB,OAAa,KADF3wE,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAClB/nD,KAAKuwE,SAAStnB,EAAM/3D,OAAQ,GAC/C8O,KAAKuwE,SAAStnB,EAAM2B,WAAY,EAC3C,EAEE0kB,GAAKsB,mBAAqB,SAASziF,GACjC,IAAIyoB,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC5C,OAAInxC,IAASzoB,EACE,KAATyoB,GAAgB5W,KAAK2yD,UAAoD,KAAxC3yD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,IAC7C,IAApB/nD,KAAKwyD,aAAoB/E,EAAU7uD,KAAKoB,KAAK8kD,MAAM3oD,MAAM6D,KAAKwyD,WAAYxyD,KAAK+nD,MAK7E/nD,KAAKuwE,SAAStnB,EAAMuB,OAAQ,IAJjCxqD,KAAKmzD,gBAAgB,GACrBnzD,KAAK0vE,YACE1vE,KAAKg0D,aAIH,KAATp9C,EAAsB5W,KAAKuwE,SAAStnB,EAAM/3D,OAAQ,GAC/C8O,KAAKuwE,SAAStnB,EAAMgC,QAAS,EACxC,EAEEqkB,GAAKuB,gBAAkB,SAAS1iF,GAC9B,IAAIyoB,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GACxClhC,EAAO,EACX,OAAIjQ,IAASzoB,GACX04B,EAAgB,KAAT14B,GAAuD,KAAxC6R,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAAY,EAAI,EACxB,KAA3C/nD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAMlhC,GAAuB7mB,KAAKuwE,SAAStnB,EAAM/3D,OAAQ21B,EAAO,GACxF7mB,KAAKuwE,SAAStnB,EAAM+B,SAAUnkC,IAE1B,KAATjQ,GAAwB,KAATzoB,GAAgB6R,KAAK2yD,UAAoD,KAAxC3yD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,IACzC,KAAxC/nD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,IAKxB,KAATnxC,IAAeiQ,EAAO,GACnB7mB,KAAKuwE,SAAStnB,EAAM8B,WAAYlkC,KALrC7mB,KAAKmzD,gBAAgB,GACrBnzD,KAAK0vE,YACE1vE,KAAKg0D,YAIlB,EAEEsb,GAAKwB,kBAAoB,SAAS3iF,GAChC,IAAIyoB,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC5C,OAAa,KAATnxC,EAAsB5W,KAAKuwE,SAAStnB,EAAM6B,SAAkD,KAAxC9qD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAAY,EAAI,GAC5F,KAAT55D,GAAwB,KAATyoB,GAAe5W,KAAK+B,QAAQ8sD,aAAe,GAC5D7uD,KAAK+nD,KAAO,EACL/nD,KAAK2vE,YAAY1mB,EAAMgB,QAEzBjqD,KAAKuwE,SAAkB,KAATpiF,EAAc86D,EAAMsB,GAAKtB,EAAMn4D,OAAQ,EAChE,EAEEw+E,GAAKS,iBAAmB,SAAS5hF,GAC/B,OAAQA,GACR,KAAK,GACH,OAAO6R,KAAKmwE,gBAEd,KAAK,GAAgB,QAAVnwE,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMS,QACnD,KAAK,GAAgB,QAAV1pD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMU,QACnD,KAAK,GAAgB,QAAV3pD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMY,MACnD,KAAK,GAAgB,QAAV7pD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMW,OACnD,KAAK,GAAgB,QAAV5pD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMK,UACnD,KAAK,GAAgB,QAAVtpD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMM,UACnD,KAAK,IAAiB,QAAVvpD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMO,QACpD,KAAK,IAAiB,QAAVxpD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMQ,QACpD,KAAK,GAAgB,QAAVzpD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMa,OACnD,KAAK,GAAgB,QAAV9pD,KAAK+nD,IAAY/nD,KAAK2vE,YAAY1mB,EAAMe,UAEnD,KAAK,GACH,GAAIhqD,KAAK+B,QAAQ8sD,YAAc,EAAK,MAEpC,QADE7uD,KAAK+nD,IACA/nD,KAAK2vE,YAAY1mB,EAAMoB,WAEhC,KAAK,GACH,IAAIzzC,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC5C,GAAa,MAATnxC,GAAyB,KAATA,EAAe,OAAO5W,KAAK+wE,gBAAgB,IAC/D,GAAI/wE,KAAK+B,QAAQ8sD,aAAe,EAAG,CACjC,GAAa,MAATj4C,GAAyB,KAATA,EAAe,OAAO5W,KAAK+wE,gBAAgB,GAC/D,GAAa,KAATn6D,GAAwB,KAATA,EAAe,OAAO5W,KAAK+wE,gBAAgB,EACtE,CAEI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAC3E,OAAO/wE,KAAKowE,YAAW,GAEzB,KAAK,GAAI,KAAK,GACZ,OAAOpwE,KAAKgxE,WAAW7iF,GAGzB,KAAK,GACH,OAAO6R,KAAKswE,kBAEd,KAAK,GAAI,KAAK,GACZ,OAAOtwE,KAAKwwE,0BAA0BriF,GAExC,KAAK,IAAK,KAAK,GACb,OAAO6R,KAAK0wE,mBAAmBviF,GAEjC,KAAK,GACH,OAAO6R,KAAK2wE,kBAEd,KAAK,GAAI,KAAK,GACZ,OAAO3wE,KAAK4wE,mBAAmBziF,GAEjC,KAAK,GAAI,KAAK,GACZ,OAAO6R,KAAK6wE,gBAAgB1iF,GAE9B,KAAK,GAAI,KAAK,GACZ,OAAO6R,KAAK8wE,kBAAkB3iF,GAEhC,KAAK,IACH,OAAO6R,KAAKuwE,SAAStnB,EAAMn4D,OAAQ,GAGrCkP,KAAKm2D,MAAMn2D,KAAK+nD,IAAK,yBAA2BwnB,GAAoBphF,GAAQ,IAChF,EAEEmhF,GAAKiB,SAAW,SAASngF,EAAMy2B,GAC7B,IAAIoqD,EAAMjxE,KAAK8kD,MAAM3oD,MAAM6D,KAAK+nD,IAAK/nD,KAAK+nD,IAAMlhC,GAEhD,OADA7mB,KAAK+nD,KAAOlhC,EACL7mB,KAAK2vE,YAAYv/E,EAAM6gF,EAClC,EAEE3B,GAAKrM,WAAa,WAEhB,IADA,IAAIiO,EAASC,EAAS3rE,EAAQxF,KAAK+nD,MAC1B,CACH/nD,KAAK+nD,KAAO/nD,KAAK8kD,MAAMx2D,QAAU0R,KAAKm2D,MAAM3wD,EAAO,mCACvD,IAAIvE,EAAKjB,KAAK8kD,MAAM6S,OAAO33D,KAAK+nD,KAEhC,GADI0F,EAAU7uD,KAAKqC,IAAOjB,KAAKm2D,MAAM3wD,EAAO,mCACvC0rE,EAKIA,GAAU,MALL,CACZ,GAAW,MAAPjwE,EAAckwE,GAAU,OACvB,GAAW,MAAPlwE,GAAckwE,EAAWA,GAAU,OACvC,GAAW,MAAPlwE,IAAekwE,EAAW,MACnCD,EAAiB,OAAPjwE,CAClB,GACQjB,KAAK+nD,GACb,CACI,IAAIsb,EAAUrjE,KAAK8kD,MAAM3oD,MAAMqJ,EAAOxF,KAAK+nD,OACzC/nD,KAAK+nD,IACP,IAAIqpB,EAAapxE,KAAK+nD,IAClB1zD,EAAQ2L,KAAKqxE,YACbrxE,KAAKgyD,aAAehyD,KAAK21D,WAAWyb,GAExC,IAAIrwD,EAAQ/gB,KAAKszD,cAAgBtzD,KAAKszD,YAAc,IAAIgW,GAAsBtpE,OAC9E+gB,EAAM8iB,MAAMr+B,EAAO69D,EAAShvE,GAC5B2L,KAAKsrE,oBAAoBvqD,GACzB/gB,KAAKwrE,sBAAsBzqD,GAE3B,IAAI/tB,EAAQ,KACZ,IACEA,EAAQ,IAAIuL,OAAO8kE,EAAShvE,EAClC,CAAM,MAAOyM,GACb,CAEI,OAAOd,KAAK2vE,YAAY1mB,EAAME,OAAQ,CAACka,QAASA,EAAShvE,MAAOA,EAAOrB,MAAOA,GAClF,EAGEs8E,GAAKgC,QAAU,SAASC,EAAO/c,GAE7B,IADA,IAAIhvD,EAAQxF,KAAK+nD,IAAKypB,EAAQ,EACrBhjF,EAAI,EAAGsS,EAAW,MAAP0zD,EAAc7pB,IAAW6pB,EAAKhmE,EAAIsS,IAAKtS,EAAG,CAC5D,IAAIL,EAAO6R,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KAAM6b,OAAO,EAKnD,IAJkBA,EAAdz1E,GAAQ,GAAYA,EAAO,GAAK,GAC3BA,GAAQ,GAAYA,EAAO,GAAK,GAChCA,GAAQ,IAAMA,GAAQ,GAAYA,EAAO,GACrCw8C,MACF4mC,EAAS,QAClBvxE,KAAK+nD,IACPypB,EAAQA,EAAQD,EAAQ3N,CAC9B,CACI,OAAI5jE,KAAK+nD,MAAQviD,GAAgB,MAAPgvD,GAAex0D,KAAK+nD,IAAMviD,IAAUgvD,EAAc,KAErEgd,CACX,EAEElC,GAAKyB,gBAAkB,SAASQ,GAC9B,IAAI/rE,EAAQxF,KAAK+nD,IACjB/nD,KAAK+nD,KAAO,EACZ,IAAI6b,EAAM5jE,KAAKsxE,QAAQC,GAMvB,OALW,MAAP3N,GAAe5jE,KAAKm2D,MAAMn2D,KAAKwF,MAAQ,EAAG,4BAA8B+rE,GACxEvxE,KAAK+B,QAAQ8sD,aAAe,IAA0C,MAApC7uD,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,MAC/D6b,EAAwB,qBAAX6N,OAAyBA,OAAOzxE,KAAK8kD,MAAM3oD,MAAMqJ,EAAOxF,KAAK+nD,MAAQ,OAChF/nD,KAAK+nD,KACEC,EAAkBhoD,KAAK6vE,sBAAwB7vE,KAAKm2D,MAAMn2D,KAAK+nD,IAAK,oCACxE/nD,KAAK2vE,YAAY1mB,EAAMC,IAAK0a,EACvC,EAGE0L,GAAKc,WAAa,SAASsB,GACzB,IAAIlsE,EAAQxF,KAAK+nD,IACZ2pB,GAAsC,OAArB1xE,KAAKsxE,QAAQ,KAAgBtxE,KAAKm2D,MAAM3wD,EAAO,kBACrE,IAAImsE,EAAQ3xE,KAAK+nD,IAAMviD,GAAS,GAAsC,KAAjCxF,KAAK8kD,MAAM5jD,WAAWsE,GACvDmsE,GAAS3xE,KAAKmnD,QAAUnnD,KAAKm2D,MAAM3wD,EAAO,kBAC9C,IAAIoR,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KACtC,IAAK4pB,IAAUD,GAAiB1xE,KAAK+B,QAAQ8sD,aAAe,IAAe,MAATj4C,EAAc,CAC9E,IAAIg7D,EAAQ5xE,KAAK8kD,MAAM3oD,MAAMqJ,EAAOxF,KAAK+nD,KACrC8pB,EAA0B,qBAAXJ,OAAyBA,OAAOG,GAAS,KAG5D,QAFE5xE,KAAK+nD,IACHC,EAAkBhoD,KAAK6vE,sBAAwB7vE,KAAKm2D,MAAMn2D,KAAK+nD,IAAK,oCACjE/nD,KAAK2vE,YAAY1mB,EAAMC,IAAK2oB,EACzC,CACQF,GAAS,OAAO/yE,KAAKoB,KAAK8kD,MAAM3oD,MAAMqJ,EAAOxF,KAAK+nD,QAAS4pB,GAAQ,GAC1D,KAAT/6D,GAAgB+6D,MAChB3xE,KAAK+nD,IACP/nD,KAAKsxE,QAAQ,IACb16D,EAAO5W,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,MAEtB,KAATnxC,GAAwB,MAATA,GAAkB+6D,IAEvB,MADb/6D,EAAO5W,KAAK8kD,MAAM5jD,aAAalB,KAAK+nD,OACR,KAATnxC,KAAiB5W,KAAK+nD,IAChB,OAArB/nD,KAAKsxE,QAAQ,KAAgBtxE,KAAKm2D,MAAM3wD,EAAO,mBAEjDwiD,EAAkBhoD,KAAK6vE,sBAAwB7vE,KAAKm2D,MAAMn2D,KAAK+nD,IAAK,oCAExE,IAAIkpB,EAAMjxE,KAAK8kD,MAAM3oD,MAAMqJ,EAAOxF,KAAK+nD,KACnC6b,EAAM+N,EAAQG,SAASb,EAAK,GAAKc,WAAWd,GAChD,OAAOjxE,KAAK2vE,YAAY1mB,EAAMC,IAAK0a,EACvC,EAGE0L,GAAK0C,cAAgB,WACnB,IAA0C7jF,EAE1C,GAAW,MAFF6R,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KAEpB,CACV/nD,KAAK+B,QAAQ8sD,YAAc,GAAK7uD,KAAK21D,aACzC,IAAIsc,IAAYjyE,KAAK+nD,IACrB55D,EAAO6R,KAAKkyE,YAAYlyE,KAAK8kD,MAAMrzD,QAAQ,IAAKuO,KAAK+nD,KAAO/nD,KAAK+nD,OAC/D/nD,KAAK+nD,IACH55D,EAAO,SAAY6R,KAAKmyE,mBAAmBF,EAAS,2BAC9D,MACM9jF,EAAO6R,KAAKkyE,YAAY,GAE1B,OAAO/jF,CACX,EAQEmhF,GAAK0B,WAAa,SAASoB,GAEzB,IADA,IAAIlK,EAAM,GAAImK,IAAeryE,KAAK+nD,MACzB,CACH/nD,KAAK+nD,KAAO/nD,KAAK8kD,MAAMx2D,QAAU0R,KAAKm2D,MAAMn2D,KAAKwF,MAAO,gCAC5D,IAAIvE,EAAKjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KACpC,GAAI9mD,IAAOmxE,EAAS,MACT,KAAPnxE,GACFinE,GAAOloE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,KACzCmgB,GAAOloE,KAAKsyE,iBAAgB,GAC5BD,EAAaryE,KAAK+nD,MAEd4F,EAAU1sD,EAAIjB,KAAK+B,QAAQ8sD,aAAe,KAAO7uD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,kCAC1ExF,KAAK+nD,IAEf,CAEI,OADAmgB,GAAOloE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,OAClC/nD,KAAK2vE,YAAY1mB,EAAMG,OAAQ8e,EAC1C,EAGE,IAAIqK,GAAgC,CAAC,EAErCjD,GAAK9H,qBAAuB,WAC1BxnE,KAAKwyE,mBAAoB,EACzB,IACExyE,KAAKyyE,eACX,CAAM,MAAOv5E,GACP,GAAIA,IAAQq5E,GAGV,MAAMr5E,EAFN8G,KAAK0yE,0BAIb,CAEI1yE,KAAKwyE,mBAAoB,CAC7B,EAEElD,GAAK6C,mBAAqB,SAASQ,EAAU1+E,GAC3C,GAAI+L,KAAKwyE,mBAAqBxyE,KAAK+B,QAAQ8sD,aAAe,EACxD,MAAM0jB,GAENvyE,KAAKm2D,MAAMwc,EAAU1+E,EAE3B,EAEEq7E,GAAKmD,cAAgB,WAEnB,IADA,IAAIvK,EAAM,GAAImK,EAAaryE,KAAK+nD,MACvB,CACH/nD,KAAK+nD,KAAO/nD,KAAK8kD,MAAMx2D,QAAU0R,KAAKm2D,MAAMn2D,KAAKwF,MAAO,yBAC5D,IAAIvE,EAAKjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KACpC,GAAW,KAAP9mD,GAAoB,KAAPA,GAAqD,MAAxCjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,IAAM,GAC7D,OAAI/nD,KAAK+nD,MAAQ/nD,KAAKwF,OAAUxF,KAAK5P,OAAS64D,EAAMiB,UAAYlqD,KAAK5P,OAAS64D,EAAMkB,iBASpF+d,GAAOloE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,KAClC/nD,KAAK2vE,YAAY1mB,EAAMiB,SAAUge,IAT3B,KAAPjnE,GACFjB,KAAK+nD,KAAO,EACL/nD,KAAK2vE,YAAY1mB,EAAMqB,kBAE5BtqD,KAAK+nD,IACA/nD,KAAK2vE,YAAY1mB,EAAMoB,YAMpC,GAAW,KAAPppD,EACFinE,GAAOloE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,KACzCmgB,GAAOloE,KAAKsyE,iBAAgB,GAC5BD,EAAaryE,KAAK+nD,SACb,GAAI4F,EAAU1sD,GAAK,CAGxB,OAFAinE,GAAOloE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,OACvC/nD,KAAK+nD,IACC9mD,GACR,KAAK,GACqC,KAApCjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,QAAiB/nD,KAAK+nD,IACvD,KAAK,GACHmgB,GAAO,KACP,MACF,QACEA,GAAOt8D,OAAOC,aAAa5K,GAGzBjB,KAAK+B,QAAQutD,cACbtvD,KAAKmyD,QACPnyD,KAAKiyD,UAAYjyD,KAAK+nD,KAExBsqB,EAAaryE,KAAK+nD,GAC1B,OACU/nD,KAAK+nD,GAEf,CACA,EAEEunB,GAAKoD,yBAA2B,WAC9B,KAAO1yE,KAAK+nD,IAAM/nD,KAAK8kD,MAAMx2D,OAAQ0R,KAAK+nD,MACxC,OAAQ/nD,KAAK8kD,MAAM9kD,KAAK+nD,MACxB,IAAK,OACD/nD,KAAK+nD,IACP,MAEF,IAAK,IACH,GAAiC,MAA7B/nD,KAAK8kD,MAAM9kD,KAAK+nD,IAAM,GACxB,MAGJ,IAAK,IACH,OAAO/nD,KAAK2vE,YAAY1mB,EAAMkB,gBAAiBnqD,KAAK8kD,MAAM3oD,MAAM6D,KAAKwF,MAAOxF,KAAK+nD,MAIrF/nD,KAAKm2D,MAAMn2D,KAAKwF,MAAO,wBAC3B,EAGE8pE,GAAKgD,gBAAkB,SAASM,GAC9B,IAAI3xE,EAAKjB,KAAK8kD,MAAM5jD,aAAalB,KAAK+nD,KAEtC,SADE/nD,KAAK+nD,IACC9mD,GACR,KAAK,IAAK,MAAO,KACjB,KAAK,IAAK,MAAO,KACjB,KAAK,IAAK,OAAO2K,OAAOC,aAAa7L,KAAKkyE,YAAY,IACtD,KAAK,IAAK,OAAO3C,GAAoBvvE,KAAKgyE,iBAC1C,KAAK,IAAK,MAAO,KACjB,KAAK,GAAI,MAAO,KAChB,KAAK,IAAK,MAAO,KACjB,KAAK,IAAK,MAAO,KACjB,KAAK,GAA4C,KAApChyE,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,QAAiB/nD,KAAK+nD,IAC9D,KAAK,GAEH,OADI/nD,KAAK+B,QAAQutD,YAAatvD,KAAKiyD,UAAYjyD,KAAK+nD,MAAO/nD,KAAKmyD,SACzD,GACT,KAAK,GACL,KAAK,GACH,GAAIygB,EAAY,CACd,IAAIX,EAAUjyE,KAAK+nD,IAAM,EAOzB,OALA/nD,KAAKmyE,mBACHF,EACA,8CAGK,IACf,CACI,QACE,GAAIhxE,GAAM,IAAMA,GAAM,GAAI,CACxB,IAAI4xE,EAAW7yE,KAAK8kD,MAAMguB,OAAO9yE,KAAK+nD,IAAM,EAAG,GAAGz2D,MAAM,WAAW,GAC/DqgF,EAAQG,SAASe,EAAU,GAe/B,OAdIlB,EAAQ,MACVkB,EAAWA,EAAS12E,MAAM,GAAI,GAC9Bw1E,EAAQG,SAASe,EAAU,IAE7B7yE,KAAK+nD,KAAO8qB,EAASvkF,OAAS,EAC9B2S,EAAKjB,KAAK8kD,MAAM5jD,WAAWlB,KAAK+nD,KACd,MAAb8qB,GAA2B,KAAP5xE,GAAoB,KAAPA,IAAejB,KAAKmnD,SAAUyrB,GAClE5yE,KAAKmyE,mBACHnyE,KAAK+nD,IAAM,EAAI8qB,EAASvkF,OACxBskF,EACI,mCACA,gCAGDhnE,OAAOC,aAAa8lE,EACnC,CACM,OAAIhkB,EAAU1sD,GACL,GAEF2K,OAAOC,aAAa5K,GAEjC,EAGEquE,GAAK4C,YAAc,SAAS1d,GAC1B,IAAIyd,EAAUjyE,KAAK+nD,IACfzE,EAAItjD,KAAKsxE,QAAQ,GAAI9c,GAEzB,OADU,OAANlR,GAActjD,KAAKmyE,mBAAmBF,EAAS,iCAC5C3uB,CACX,EAGEgsB,GAAK+B,UAAY,WACfrxE,KAAKgyD,aAAc,EAGnB,IAFA,IAAI+gB,EAAO,GAAI9T,GAAQ,EAAMoT,EAAaryE,KAAK+nD,IAC3CE,EAASjoD,KAAK+B,QAAQ8sD,aAAe,EAClC7uD,KAAK+nD,IAAM/nD,KAAK8kD,MAAMx2D,QAAQ,CACnC,IAAI2S,EAAKjB,KAAK6vE,oBACd,GAAI3nB,EAAiBjnD,EAAIgnD,GACvBjoD,KAAK+nD,KAAO9mD,GAAM,MAAS,EAAI,MAC1B,IAAW,KAAPA,EAaT,MAZAjB,KAAKgyD,aAAc,EACnB+gB,GAAQ/yE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,KAC1C,IAAIirB,EAAWhzE,KAAK+nD,IACsB,MAAtC/nD,KAAK8kD,MAAM5jD,aAAalB,KAAK+nD,MAC7B/nD,KAAKmyE,mBAAmBnyE,KAAK+nD,IAAK,+CACpC/nD,KAAK+nD,IACP,IAAIkrB,EAAMjzE,KAAKgyE,iBACT/S,EAAQjX,EAAoBE,GAAkB+qB,EAAKhrB,IACrDjoD,KAAKmyE,mBAAmBa,EAAU,0BACtCD,GAAQxD,GAAoB0D,GAC5BZ,EAAaryE,KAAK+nD,GAG1B,CACMkX,GAAQ,CACd,CACI,OAAO8T,EAAO/yE,KAAK8kD,MAAM3oD,MAAMk2E,EAAYryE,KAAK+nD,IACpD,EAGEunB,GAAKQ,SAAW,WACd,IAAIiD,EAAO/yE,KAAKqxE,YACZjhF,EAAO64D,EAAM14D,KAIjB,OAHIyP,KAAKsnD,SAAS1oD,KAAKm0E,KACrB3iF,EAAO24D,EAAWgqB,IAEb/yE,KAAK2vE,YAAYv/E,EAAM2iF,EAClC,EAGE,IAAInzB,GAAU,QAyBd,SAASkU,GAAMhP,EAAO/iD,GACpB,OAAO0vD,GAAOqC,MAAMhP,EAAO/iD,EAC/B,CAGE,SAAS2yD,GAAkB5P,EAAOiD,EAAKhmD,GACrC,OAAO0vD,GAAOiD,kBAAkB5P,EAAOiD,EAAKhmD,EAChD,CAGE,SAAS8yD,GAAU/P,EAAO/iD,GACxB,OAAO0vD,GAAOoD,UAAU/P,EAAO/iD,EACnC,CAnCE0vD,GAAOxK,MAAQ,CACbwK,OAAQA,GACR7R,QAASA,GACTgP,eAAgBA,EAChBV,SAAUA,EACVI,eAAgBA,EAChBE,YAAaA,EACbmY,KAAMA,GACNxe,UAAWA,EACX+qB,SAAUjqB,EACVkqB,aAAcpqB,EACd8d,WAAYA,GACZuM,YAAanM,GACb/e,iBAAkBA,EAClBF,kBAAmBA,EACnBqnB,MAAOA,GACP1hB,UAAWA,EACXF,UAAWA,EACXC,WAAYA,EACZG,mBAAoBA,GAkBtB9M,EAAQ4lB,KAAOA,GACf5lB,EAAQ0Q,OAASA,GACjB1Q,EAAQmN,SAAWA,EACnBnN,EAAQuN,eAAiBA,EACzBvN,EAAQ8lB,WAAaA,GACrB9lB,EAAQsuB,MAAQA,GAChBtuB,EAAQoH,UAAYA,EACpBpH,EAAQ6N,eAAiBA,EACzB7N,EAAQyN,YAAcA,EACtBzN,EAAQmH,iBAAmBA,EAC3BnH,EAAQiH,kBAAoBA,EAC5BjH,EAAQ4M,UAAYA,EACpB5M,EAAQoyB,aAAepqB,EACvBhI,EAAQ0M,UAAYA,EACpB1M,EAAQ2M,WAAaA,EACrB3M,EAAQ8M,mBAAqBA,EAC7B9M,EAAQ+S,MAAQA,GAChB/S,EAAQ2T,kBAAoBA,GAC5B3T,EAAQqyB,YAAcnM,GACtBlmB,EAAQmyB,SAAWjqB,EACnBlI,EAAQ8T,UAAYA,GACpB9T,EAAQnB,QAAUA,GAElBzuD,OAAOgB,eAAe4uD,EAAS,aAAc,CAAE/tD,OAAO,GAExD,GAEA,EAAE,CAAC,GAAG,EAAE,CAAC,SAASjF,EAAQqzD,EAAOL,GAEjC,EAAE,CAAC,GAAG,EAAE,CAAC,SAAShzD,EAAQqzD,EAAOL,GACjC,SAASsyB,EAAUC,GAAkB,IAAdvxE,EAAO1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChC,MAAM,YACJmlF,EAAc,KAAI,cAClBC,EAAa,uBACbC,EAAsB,eACtBC,EAAc,UACdC,EAAY,GAAE,UACdC,EAAY,CAAC,EAAC,aACdC,EAAY,6BACZC,GACEhyE,EACEiyE,EAAQ,IAAIC,MAAMX,EAAI,CAAEvzE,IAAKm0E,IAC7BC,EAAmB,GACnBC,EAAc,CAAC,EACrB,IAEIC,EAFAC,EAAa,EACbC,EAAS,GAEb,OAAOP,EACP,SAASE,EAAOnmB,EAAKnrB,GACnB,OAAQA,GACN,IAAK,aAAc,OAAO4xC,EAC1B,IAAK,kBAAmB,OAAOC,EAC/B,IAAK,4BAA6B,OAAOJ,EACzC,IAAK,iBAAkB,OAAOK,EAC9B,IAAK,QAAS,OAAO7wC,EACrB,IAAK,YAAa,OAAO8wC,EACzB,IAAK,WAAY,OAAOz4E,EACxB,IAAK,yBAA0B,OAAO04E,EAExC,MAA4B,oBAAjBtB,EAAG1wC,GACL,WACL,OAAQA,GACN,IAAK,WAMH,OALI6wC,EACFG,EAAU79E,KAAK,GAAGw+E,QAAaf,oBAA8BA,qCAE7DI,EAAU79E,KAAK,GAAGw+E,IAASf,iBAEtBF,EAAGuB,WACZ,IAAK,eAAgB,CACnB,MAAMC,EAAe,GAAGtB,aAAuBW,EAAiB7lF,SAChEslF,EAAU79E,KAAK,GAAGw+E,UAAeO,OAAkBtB,mBAA6BnlF,UAAU,SAC1F,MAAM0mF,EAAYzB,EAAG0B,aAAa3mF,UAAU,IAC5C,GAAI0mF,GAAkC,kBAAdA,EAAwB,CAC9C,MAAME,EAAkBC,EAAmBH,EAAW,CACpDI,YACAzB,yBACAE,YACAJ,YAAasB,EACbX,mBACAN,YACAU,SACAR,iCAGF,OADAI,EAAiBp+E,KAAKk/E,GACfA,CACrB,CAGY,OAFEd,EAAiBp+E,KAAK,MAEjBg/E,CACnB,CACU,IAAK,aACH,MAAMvmF,EAAI2lF,EAAiB1iF,QAAQpD,UAAU,IAC7C,IAAI+mF,EACJ,IAAW,IAAP5mF,EAAU,CACZ,MAAMsmF,EAAeO,EAAgBhnF,UAAU,IAC3CymF,GACFM,EAAqBN,EACrBlB,EAAU79E,KAAK,GAAGw+E,IAASO,OAE3BM,EAAqB,GAAG5B,YAAsBW,EAAiB7lF,SAC/D6lF,EAAiBp+E,KAAK1H,UAAU,IAChCulF,EAAU79E,KAAK,GAAGw+E,UAAea,WAA4B/mF,UAAU,GAAGwR,YAAYtP,QAAQlC,UAAU,GAAGC,YAE3H,MACc8mF,EAAqB,GAAG5B,YAAsBhlF,IAEhD6lF,EAAyBe,EACzB,MAAME,EAAoB,CACxBjnF,UAAU,GACVA,UAAU,GACVA,UAAU,GACVA,UAAU,GACV8mF,EAAU9mF,UAAU,IACpB8mF,EAAU9mF,UAAU,IACpB+mF,GASF,OAPAxB,EAAU79E,KAAK,GAAGw+E,IAASf,gBAA0B8B,EAAkB/4D,KAAK,WACxEo3D,GACF4B,EAASlnF,UAAU,GAAIA,UAAU,IAE/BylF,GACFA,EAAasB,EAAoBE,GAE5BhC,EAAGkC,WAAWnoC,MAAMimC,EAAIjlF,WACjC,IAAK,cAEH,OADAulF,EAAU79E,KAAK,GAAGw+E,IAASf,kBAA4BiC,EAAkBpnF,UAAU,GAAI,CAAEmlF,cAAaW,mBAAkBgB,YAAWO,cAAa7B,YAAWE,uCACpJT,EAAGqC,YAAYtnF,UAAU,IAEpC,IAAIy/B,EAASwlD,EAAG1wC,GAAUyK,MAAMimC,EAAIjlF,WACpC,cAAey/B,GACb,IAAK,YAEH,YADA8lD,EAAU79E,KAAK,GAAGw+E,IAASqB,EAAmBhzC,EAAUv0C,eAE1D,IAAK,SACL,IAAK,UACH,GAAIqlF,IAAoF,IAA1DS,EAAiB1iF,QAAQokF,EAAmB/nD,IAAiB,CACzF8lD,EAAU79E,KAAK,GAAGw+E,UAAef,YAAsBW,EAAiB7lF,YAAYsnF,EAAmBhzC,EAAUv0C,eACjH8lF,EAAiBp+E,KAAK+3B,EAAS+nD,EAAmB/nD,IAClD,KACd,CACU,QACiB,OAAXA,EACF8lD,EAAU79E,KAAK,GAAG6/E,EAAmBhzC,EAAUv0C,eAE/CulF,EAAU79E,KAAK,GAAGw+E,UAAef,YAAsBW,EAAiB7lF,YAAYsnF,EAAmBhzC,EAAUv0C,eAGnH8lF,EAAiBp+E,KAAK+3B,GAE1B,OAAOA,CACf,GAEIsmD,EAAYd,EAAG1wC,IAAaA,EACrB0wC,EAAG1wC,GACd,CACE,SAAS1mC,IACP,OAAO03E,EAAUr3D,KAAK,KAC1B,CACE,SAASsnB,IACP,KAAO+vC,EAAUtlF,OAAS,GACxBslF,EAAU/9E,KAEhB,CACE,SAAS6+E,EAAenkF,EAAMyC,GAC5B6gF,EAAUtjF,GAAQyC,CACtB,CACE,SAASmiF,EAAUniF,GACjB,MAAMzC,EAAO6jF,EAAYphF,GACzB,OAAIzC,EACKijF,EAAc,IAAMjjF,EAEtByC,CACX,CACE,SAAS2hF,EAAUmB,GACjBvB,EAAS,IAAIxoE,OAAO+pE,EACxB,CACE,SAASJ,EAAY1iF,EAAO8kB,GAC1B,MAAMg9D,EAAe,GAAGtB,YAAsBW,EAAiB7lF,SAG/D,OAFAslF,EAAU79E,KAAK,GAAGw+E,UAAeO,OAAkBh9D,MACnDq8D,EAAiBp+E,KAAK/C,GACf8hF,CACX,CACE,SAASS,EAASnpE,EAAOC,GACvB,MAAM0pE,EAAiB,GAAGvC,YAAsBW,EAAiB7lF,SAC3D0nF,EAAgB,aAAa1B,IACnCV,EAAU79E,KAAK,GAAGw+E,QAAayB,gBAA4BrC,cAA2BvnE,WAAeC,6BACrGunE,EAAU79E,KAAK,GAAGw+E,wBAA6ByB,uBAC/CpC,EAAU79E,KAAK,GAAGw+E,MAAWyB,QAAoBD,gBAA6BA,oBAAiCA,mBAC/GnC,EAAU79E,KAAK,GAAGw+E,MAClBX,EAAU79E,KAAK,GAAGw+E,0CAClBX,EAAU79E,KAAK,GAAGw+E,qCAA0CZ,WAAwBqC,OACpFpC,EAAU79E,KAAK,GAAGw+E,MAClBD,GACJ,CACE,SAASE,EAAWxhF,GAClB4gF,EAAU79E,KAAK,GAAGw+E,OAAYvhF,IAClC,CACE,SAASyhF,IACPb,EAAU79E,KAAK,GAAGw+E,cACpBA,kBAAuBf,kBACvBe,kBAAuBf,cACvBe,qDACAA,gDACAA,gCACAA,YAAiBf,yBACjBe,2BAAgCf,uBAChCe,WACAA,SACAA,OACAA,SACF,CACE,SAASqB,EAAmBtgF,EAAQ2gF,GAClC,MAAO,GAAGzC,KAAel+E,KAAUmgF,EAAkBQ,EAAM,CAAEzC,cAAaW,mBAAkBgB,YAAWO,cAAa7B,YAAWE,mCACnI,CAEE,SAASsB,EAAgBriF,GACvB,GAAI6gF,EACF,IAAK,MAAMtjF,KAAQsjF,EACjB,GAAIA,EAAUtjF,KAAUyC,EACtB,OAAOzC,EAIb,OAAO,IACX,CAEE,SAASqkF,EAAuB5hF,GAC9B,MAAMxE,EAAI2lF,EAAiB1iF,QAAQuB,GACnC,OAAW,IAAPxE,EACK,GAAGglF,YAAsBhlF,IAE3B,IACX,CACA,CAEA,SAAS0mF,EAAmBH,EAAWhzE,GACrC,MAAMiyE,EAAQ,IAAIC,MAAMc,EAAW,CAAEh1E,IAAKm0E,IACpCgC,EAAuB,CAAC,GACxB,YACJ1C,EAAW,iBACXW,EAAgB,UAChBgB,EAAS,uBACTzB,EAAsB,UACtBE,EAAS,UACTC,EAAS,OACTU,EAAM,6BACNR,GACEhyE,EACJ,OAAOiyE,EACP,SAASE,EAAOnmB,EAAKnrB,GACnB,MAA6B,oBAAlBmrB,EAAInrB,GACN,WACL,GACO,qBADCA,EAGJ,OADAgxC,EAAU79E,KAAK,GAAGw+E,IAASf,uBAAiCiC,EAAkBpnF,UAAU,GAAI,CAAEmlF,cAAaW,mBAAkBgB,UAAWgB,EAAoBT,cAAa7B,YAAWE,uCAC7KgB,EAAUqB,iBAAiB/nF,UAAU,IAEhD,IAAIy/B,EAASinD,EAAUnyC,GAAUyK,MAAM0nC,EAAW1mF,WAClD,cAAey/B,GACb,IAAK,YAEH,YADA8lD,EAAU79E,KAAK,GAAGw+E,IAASqB,EAAmBhzC,EAAUv0C,eAE1D,IAAK,SACL,IAAK,UACCqlF,IAAoF,IAA1DS,EAAiB1iF,QAAQokF,EAAmB/nD,KACxE8lD,EAAU79E,KAAK,GAAGw+E,UAAef,YAAsBW,EAAiB7lF,YAAYsnF,EAAmBhzC,EAAUv0C,eACjH8lF,EAAiBp+E,KAAK+3B,EAAS+nD,EAAmB/nD,MAElD8lD,EAAU79E,KAAK,GAAGw+E,UAAef,YAAsBW,EAAiB7lF,YAAYsnF,EAAmBhzC,EAAUv0C,eACjH8lF,EAAiBp+E,KAAK+3B,IAExB,MACF,QACiB,OAAXA,EACF8lD,EAAU79E,KAAK,GAAG6/E,EAAmBhzC,EAAUv0C,eAE/CulF,EAAU79E,KAAK,GAAGw+E,UAAef,YAAsBW,EAAiB7lF,YAAYsnF,EAAmBhzC,EAAUv0C,eAEnH8lF,EAAiBp+E,KAAK+3B,GAE1B,OAAOA,CACf,GAEIooD,EAAqBnB,EAAUnyC,IAAaA,EACrCmyC,EAAUnyC,GACrB,CAEE,SAASuzC,EAAmBnjF,GAC1B,OAAIkjF,EAAqB/+E,eAAenE,GAC/B,GAAGwgF,KAAe0C,EAAqBljF,KAEzCmiF,EAAUniF,EACrB,CAEE,SAAS4iF,EAAmBtgF,EAAQ2gF,GAClC,MAAO,GAAGzC,KAAel+E,KAAUmgF,EAAkBQ,EAAM,CAAEzC,cAAaW,mBAAkBgB,UAAWgB,EAAoBT,cAAa7B,YAAWE,mCACvJ,CAEE,SAAS2B,EAAY1iF,EAAO8kB,GAC1B,MAAMg9D,EAAe,GAAGtB,YAAsBW,EAAiB7lF,SAG/D,OAFA6lF,EAAiBp+E,KAAK/C,GACtB4gF,EAAU79E,KAAK,GAAGw+E,UAAeO,OAAkBh9D,MAC5Cg9D,CACX,CACA,CAEA,SAASW,EAAkBQ,EAAMl0E,GAC/B,MAAM,UAAE8xE,EAAS,6BAAEE,GAAiChyE,EACpD,OAAQhN,MAAMshF,KAAKJ,GAAMnvD,KAAKwvD,IAC5B,MAAMxB,EAAeO,EAAgBiB,GACrC,OAAIxB,GAGGyB,EAAiBD,EAAKv0E,EAAQ,IACpCwa,KAAK,MAER,SAAS84D,EAAgBriF,GACvB,GAAI6gF,EACF,IAAK,MAAMtjF,KAAQsjF,EACjB,GAAKA,EAAU18E,eAAe5G,IAC1BsjF,EAAUtjF,KAAUyC,EACtB,OAAOzC,EAIb,OAAIwjF,EACKA,EAA6B/gF,GAE/B,IACX,CACA,CAEA,SAASujF,EAAiBD,EAAKv0E,GAC7B,MAAM,YAAEyxE,EAAW,iBAAEW,EAAgB,UAAEgB,EAAS,YAAEO,EAAW,6BAAE3B,GAAiChyE,EAChG,GAAmB,qBAARu0E,EACT,MAAO,YAET,GAAY,OAARA,EACF,MAAO,OAET,MAAM9nF,EAAI2lF,EAAiB1iF,QAAQ6kF,GACnC,GAAI9nF,GAAK,EACP,MAAO,GAAGglF,YAAsBhlF,IAElC,OAAQ8nF,EAAIz2E,YAAYtP,MACtB,IAAK,SACH,MAAMimF,EAAW,KAAK53E,KAAK03E,GACrBG,EAAkB,IAAI73E,KAAK03E,GAC3BI,EAAkB,IAAI93E,KAAK03E,GACjC,OAAIE,EACK,IAAMF,EAAM,IACVG,IAAoBC,EACtB,IAAMJ,EAAM,IAEZ,IAAMA,EAAM,IAIvB,IAAK,SACL,IAAK,UAAW,OAAOnB,EAAUmB,GACjC,IAAK,QACH,OAAOZ,EAAYY,EAAK,OAAOA,EAAIz2E,YAAYtP,SAASwE,MAAMshF,KAAKC,GAAK/5D,KAAK,UAC/E,IAAK,eACL,IAAK,aACL,IAAK,cACL,IAAK,aACH,OAAOm5D,EAAYY,EAAK,OAAOA,EAAIz2E,YAAYtP,QAAQomF,KAAKC,UAAU7hF,MAAMshF,KAAKC,QACnF,QACE,GAAIvC,EAA8B,CAChC,MAAM8C,EAAsB9C,EAA6BuC,GACzD,GAAIO,EACF,OAAOA,CAEjB,CACM,MAAM,IAAIxlF,MAAM,8BAA8BilF,EAAIz2E,YAAYtP,QAEpE,CAEA,SAASslF,EAAmB7iF,GAC1B,OAAO,IAAIA,EAAM6M,YAAY7M,EAC/B,CAEsB,qBAAXouD,IACTA,EAAOL,QAAU,CAAEsyB,YAAW6B,uBAGV,qBAAXr5E,SACTw3E,EAAU6B,mBAAqBA,EAC/Br5E,OAAOw3E,UAAYA,EAGrB,EAAE,CAAC,GAAG,EAAE,CAAC,SAAStlF,EAAQqzD,EAAOL,GACjC,SAAS+1B,EAAeb,GACtB,MAAMc,EAAe,IAAIhiF,MAAMkhF,EAAK3nF,QACpC,IAAK,IAAIE,EAAI,EAAGA,EAAIynF,EAAK3nF,OAAQE,IAAK,CACpC,MAAM8nF,EAAML,EAAKznF,GACb8nF,EAAI/yB,QACNwzB,EAAavoF,GAAK8nF,EAAI/yB,UAEtBwzB,EAAavoF,GAAK8nF,CAExB,CACE,OAAOS,CACT,CAEA,SAASC,IACP,MAAMf,EAAOa,EAAezoF,WACtByyB,EAAM,IAAIm2D,aAAaj3E,KAAKk3E,OAAOrmF,GACzC,IAAK,IAAIA,EAAI,EAAGA,EAAImP,KAAKk3E,OAAOrmF,EAAGA,IACjCmP,KAAKm3E,OAAOtmF,EAAIA,EAChBmP,KAAKm3E,OAAOnmE,EAAI,EAChBhR,KAAKm3E,OAAOC,EAAI,EAChBt2D,EAAIjwB,GAAKmP,KAAKq3E,IAAIhqC,MAAMrtC,KAAMi2E,GAEhC,OAAOn1D,CACT,CAEA,SAASw2D,IACP,MAAMrB,EAAOa,EAAezoF,WACtBkpF,EAAS,IAAIxiF,MAAMiL,KAAKk3E,OAAOlmE,GACrC,IAAK,IAAIA,EAAI,EAAGA,EAAIhR,KAAKk3E,OAAOlmE,EAAGA,IAAK,CACtC,MAAM8P,EAAM,IAAIm2D,aAAaj3E,KAAKk3E,OAAOrmF,GACzC,IAAK,IAAIA,EAAI,EAAGA,EAAImP,KAAKk3E,OAAOrmF,EAAGA,IACjCmP,KAAKm3E,OAAOtmF,EAAIA,EAChBmP,KAAKm3E,OAAOnmE,EAAIA,EAChBhR,KAAKm3E,OAAOC,EAAI,EAChBt2D,EAAIjwB,GAAKmP,KAAKq3E,IAAIhqC,MAAMrtC,KAAMi2E,GAEhCsB,EAAOvmE,GAAK8P,CAChB,CACE,OAAOy2D,CACT,CAEA,SAASC,IACP,MAAMvB,EAAOa,EAAezoF,WAC5B,IAAK,IAAI2iB,EAAI,EAAGA,EAAIhR,KAAKk3E,OAAOlmE,EAAGA,IACjC,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKk3E,OAAOrmF,EAAGA,IACjCmP,KAAKm3E,OAAOtmF,EAAIA,EAChBmP,KAAKm3E,OAAOnmE,EAAIA,EAChBhR,KAAKm3E,OAAOC,EAAI,EAChBp3E,KAAKq3E,IAAIhqC,MAAMrtC,KAAMi2E,EAG3B,CAEA,SAASwB,IACP,MAAMxB,EAAOa,EAAezoF,WACtBqpF,EAAO,IAAI3iF,MAAMiL,KAAKk3E,OAAOE,GACnC,IAAK,IAAIA,EAAI,EAAGA,EAAIp3E,KAAKk3E,OAAOE,EAAGA,IAAK,CACtC,MAAMG,EAAS,IAAIxiF,MAAMiL,KAAKk3E,OAAOlmE,GACrC,IAAK,IAAIA,EAAI,EAAGA,EAAIhR,KAAKk3E,OAAOlmE,EAAGA,IAAK,CACtC,MAAM8P,EAAM,IAAIm2D,aAAaj3E,KAAKk3E,OAAOrmF,GACzC,IAAK,IAAIA,EAAI,EAAGA,EAAImP,KAAKk3E,OAAOrmF,EAAGA,IACjCmP,KAAKm3E,OAAOtmF,EAAIA,EAChBmP,KAAKm3E,OAAOnmE,EAAIA,EAChBhR,KAAKm3E,OAAOC,EAAIA,EAChBt2D,EAAIjwB,GAAKmP,KAAKq3E,IAAIhqC,MAAMrtC,KAAMi2E,GAEhCsB,EAAOvmE,GAAK8P,CAClB,CACI42D,EAAKN,GAAKG,CACd,CACE,OAAOG,CACT,CAEA,SAASC,EAAYC,GACnBA,EAAOC,UAAaX,IAClBU,EAAOV,OAASY,EAAYZ,GACxBU,EAAOG,WACTC,EAAeJ,EACrB,EAEEA,EAAOK,OAAS,KACd,MAAM,IAAI5mF,MAAM,0BAA0B,EAE5CumF,EAAOM,aAAgB3M,IACrBqM,EAAOO,UAAY5M,EACZqM,GAETA,EAAOQ,aAAgB7M,IACrBqM,EAAOG,UAAYxM,EACZqM,GAETA,EAAOS,UAAa9M,IAClBqM,EAAOU,OAAS/M,EACTqM,GAETA,EAAOW,WAAchN,IACnBqM,EAAO9gF,QAAUy0E,EACVqM,GAETA,EAAO9uD,QAAU,OACjB8uD,EAAOY,iBAAmB,OACtBZ,EAAOG,WAAaH,EAAOV,QAC7Bc,EAAeJ,GAEjBA,EAAOjpB,KAAO,WACZ,OAAO,IAAI5oB,SAAQ,CAACnjB,EAASojB,KAC3B,IACEpjB,EAAQg1D,EAAOvqC,MAAMuqC,EAAQvpF,WACrC,CAAQ,MAAMyS,GACNklC,EAAOllC,EACf,IAEA,EACE82E,EAAOa,UAAaC,IAClB,MAAM,EAAC7nF,EAAC,EAAEmgB,GAAK4mE,EAAOV,OACtB,OAAOwB,EAAOC,EAAWf,EAAOgB,WAAWvjF,KAAMxE,EAAGmgB,GAAK4mE,EAAOgB,WAAWvjF,KAAK8G,MAAM,EAAE,EAE1Fy7E,EAAOlpE,MAAQ,SAAS+qC,EAAGo/B,EAAG9zE,EAAGP,GACd,qBAANA,IACTA,EAAI,GAGNi1C,EAAIrgD,KAAK0/E,MAAU,IAAJr/B,GACfo/B,EAAIz/E,KAAK0/E,MAAU,IAAJD,GACf9zE,EAAI3L,KAAK0/E,MAAU,IAAJ/zE,GACfP,EAAIpL,KAAK0/E,MAAU,IAAJt0E,GAEf,MAAM4H,EAAQwrE,EAAOV,OAAOrmF,EACtBwb,EAASurE,EAAOV,OAAOlmE,EAKvBvb,EAHImiF,EAAOT,OAAOtmF,GACdwb,EAASurE,EAAOT,OAAOnmE,EAAI,GAEf5E,EAEtBwrE,EAAOmB,WAAmB,EAARtjF,EAAY,GAAKgkD,EACnCm+B,EAAOmB,WAAmB,EAARtjF,EAAY,GAAKojF,EACnCjB,EAAOmB,WAAmB,EAARtjF,EAAY,GAAKsP,EACnC6yE,EAAOmB,WAAmB,EAARtjF,EAAY,GAAK+O,CACvC,EAEE,MAAMw0E,EAAaA,IAAMpB,EACnBqB,EAAU,CACd,kBACA,mBACA,YACA,yBACA,WACA,uBACA,mBACA,eACA,qBACA,oBACA,cACA,eACA,qBACA,eACA,oBACA,mBACA,uBACA,sBACA,sBACA,kBACA,gBAEF,IAAK,IAAIzqF,EAAI,EAAGA,EAAIyqF,EAAQ3qF,OAAQE,IAClCopF,EAAOqB,EAAQzqF,IAAMwqF,EAEvB,OAAOpB,CACT,CAEA,SAASI,EAAeJ,GACtB,MAAM,EAAC/mF,EAAC,EAAEmgB,GAAK4mE,EAAOV,OACtB,GAAIU,EAAO9gF,SAAW8gF,EAAO9gF,QAAQoiF,gBAAiB,CACpD,MAAM7jF,EAAO,IAAI8jF,kBAAkBtoF,EAAImgB,EAAI,GAC3C4mE,EAAOgB,WAAahB,EAAO9gF,QAAQoiF,gBAAgBroF,EAAGmgB,GACtD4mE,EAAOmB,WAAa1jF,CACxB,KAAS,CACL,MAAMA,EAAO,IAAI8jF,kBAAkBtoF,EAAImgB,EAAI,GAC3C4mE,EAAOgB,WAAa,CAAEvjF,QACtBuiF,EAAOmB,WAAa1jF,CACxB,CACA,CAEA,SAASyiF,EAAYZ,GACnB,IAAIppD,EAAS,KACb,GAAIopD,EAAO5oF,OACT,GAAsB,IAAlB4oF,EAAO5oF,OAAc,CACvB,MAAOuC,EAAEmgB,EAAEomE,GAAKF,EAChBppD,EAAS,CAAEj9B,IAAGmgB,IAAGomE,IACvB,MAAW,GAAsB,IAAlBF,EAAO5oF,OAAc,CAC9B,MAAOuC,EAAEmgB,GAAKkmE,EACdppD,EAAS,CAAEj9B,IAAGmgB,IACpB,KAAW,CACL,MAAOngB,GAAKqmF,EACZppD,EAAS,CAAEj9B,IACjB,MAEIi9B,EAASopD,EAEX,OAAOppD,CACT,CAEA,SAASsrD,EAAQxnF,GAAmB,IAAfynF,EAAQhrF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC/B,MAAM6oF,EAASmC,EAASnC,OAASY,EAAYuB,EAASnC,QAAU,KAChE,SAASU,IACP,OAAIA,EAAOV,OAAOE,EACTK,EAAOpqC,MAAMuqC,EAAQvpF,WACnBupF,EAAOV,OAAOlmE,EACnB4mE,EAAOG,UACFP,EAAgBnqC,MAAMuqC,EAAQvpF,WAEhCipF,EAAOjqC,MAAMuqC,EAAQvpF,WAErB2oF,EAAO3pC,MAAMuqC,EAAQvpF,UAElC,CAcE,OAbAupF,EAAOP,IAAMzlF,EACbgmF,EAAOO,UAAYkB,EAASlB,WAAa,KACzCP,EAAO9gF,QAAUuiF,EAASviF,SAAW,KACrC8gF,EAAOU,OAASe,EAASf,QAAU,KACnCV,EAAOG,UAAYsB,EAAStB,YAAa,EACzCH,EAAOgB,WAAa,KACpBhB,EAAOmB,WAAa,KACpBnB,EAAOV,OAASA,EAChBU,EAAOT,OAAS,CACdtmF,EAAG,EACHmgB,EAAG,EACHomE,EAAG,GAEEO,EAAYC,EACrB,CAEA,SAASe,EAAWW,EAAQltE,EAAOC,GACjC,MAAMktE,EAAaltE,EAAS,EAAI,EAC1BmtE,EAAsB,EAARptE,EACd0nC,EAAO,IAAIqlC,kBAA0B,EAAR/sE,GAC7B0hB,EAASwrD,EAAOn9E,MAAM,GAC5B,IAAK,IAAI6U,EAAI,EAAGA,EAAIuoE,IAAcvoE,EAAG,CACnC,MAAMyoE,EAAYzoE,EAAIwoE,EAChBE,GAAgBrtE,EAAS2E,EAAI,GAAKwoE,EAExC1lC,EAAKzhD,IAAIy7B,EAAO6rD,SAASF,EAAWA,EAAYD,IAEhD1rD,EAAO8rD,WAAWH,EAAWC,EAAcA,EAAeF,GAE1D1rD,EAAOz7B,IAAIyhD,EAAM4lC,EACrB,CACE,OAAO5rD,CACT,CAEAszB,EAAOL,QAAU,CACfq4B,UAGF,EAAE,CAAC,GAAG,EAAE,CAAC,SAASrrF,EAAQqzD,EAAOL,GACjC,MAAM,MAAE84B,GAAU9rF,EAAQ,WAE1B,SAAS+rF,EAAMvpF,EAAMunB,GACnB,MAAMiiE,EAAWjiE,EAAO5b,WACxB,OAAO,IAAI89E,SAAS,mBAAoBzpF,MAAWspF,EAAMI,2BAA2BF,GAAUx9D,KAAK,eAChGs9D,EAAMK,0BAA0BH,QAD5B,EAGT,CAEA34B,EAAOL,QAAU,CACf+4B,QAEF,EAAE,CAAC,UAAU,MAAM,EAAE,CAAC,SAAS/rF,EAAQqzD,EAAOL,GAC9C,MAAM,aAAEo5B,GAAiBpsF,EAAQ,oBAEjC,MAAMqsF,UAAwBD,EAC5BE,WAAAA,CAAYC,EAAKC,GAEf,IAAKv6E,KAAKw6E,aAAc,CACtBD,EAAOxkF,KAAK,YACZwkF,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAKzP,MACjBgqF,EAAOxkF,KAAK,KAEZ,IAAK,IAAIvH,EAAI,EAAGA,EAAIwR,KAAKy6E,cAAcnsF,SAAUE,EAAG,CAClD,MAAMksF,EAAe16E,KAAKy6E,cAAcjsF,GAEpCA,EAAI,GACN+rF,EAAOxkF,KAAK,MAEdwkF,EAAOxkF,KAAK,SACZwkF,EAAOxkF,KAAK2kF,EACpB,CAEMH,EAAOxkF,KAAK,QAClB,CAEI,IAAK,IAAIvH,EAAI,EAAGA,EAAI8rF,EAAIz5E,KAAKA,KAAKvS,SAAUE,EAC1CwR,KAAK26E,WAAWL,EAAIz5E,KAAKA,KAAKrS,GAAI+rF,GAClCA,EAAOxkF,KAAK,MAMd,OAHKiK,KAAKw6E,cACRD,EAAOxkF,KAAK,OAEPwkF,CACX,CAEEK,kBAAAA,CAAmBN,EAAKC,GACtB,MAAMnqF,EAAO4P,KAAK66E,YAAc76E,KAAK86E,QAAQR,EAAIhgB,UAsBjD,OApBKt6D,KAAK66E,aACR76E,KAAK66E,WAAazqF,GAGhB4P,KAAKw6E,cACPD,EAAOxkF,KAAKiK,KAAK+6E,wBACjB/6E,KAAK26E,WAAWL,EAAIhgB,SAAUigB,GAC9BA,EAAOxkF,KAAK,OACZwkF,EAAOxkF,KAAKiK,KAAKg7E,0BACjBT,EAAOxkF,KAAK,gBACHiK,KAAKi7E,aACdV,EAAOxkF,KAAK,mBAAoBiK,KAAKzP,WACrCyP,KAAK26E,WAAWL,EAAIhgB,SAAUigB,GAC9BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,0BAA2BiK,KAAKzP,WAE5CgqF,EAAOxkF,KAAK,WACZiK,KAAK26E,WAAWL,EAAIhgB,SAAUigB,GAC9BA,EAAOxkF,KAAK,MAEPwkF,CACX,CAEEW,UAAAA,CAAWZ,EAAKC,GAEd,GAAIriC,MAAMoiC,EAAItnF,OACZ,MAAMgN,KAAKm7E,eACT,uCAAyCb,EAAItnF,MAC7CsnF,GAMJ,OAFAC,EAAOxkF,KAAKukF,EAAItnF,OAETunF,CACX,CAEEa,mBAAAA,CAAoBd,EAAKC,GAMvB,OALAA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAKukF,EAAIxa,UAChB9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3BA,EAAOxkF,KAAK,KACLwkF,CACX,CAEEc,uBAAAA,CAAwBC,EAASf,GAC/B,GAAqB,eAAjBe,EAAQlrF,KACV,MAAM4P,KAAKm7E,eACT,2CACAG,GAgBJ,MAXO,aADCA,EAAQ/qF,KAEZgqF,EAAOxkF,KAAK,YAGRiK,KAAKm4E,WAAan4E,KAAKm4E,UAAUhhF,eAAemkF,EAAQ/qF,MAC1DgqF,EAAOxkF,KAAK,aAAeulF,EAAQ/qF,MAEnCgqF,EAAOxkF,KAAK,QAAUulF,EAAQ/qF,MAI7BgqF,CACX,CAEEgB,eAAAA,CAAgBC,EAASjB,GACvB,GAAqB,iBAAjBiB,EAAQprF,KACV,MAAM4P,KAAKm7E,eAAe,wBAAyBK,GAGrD,MAAMC,EAAU,GACVC,EAAU,GACVC,EAAY,GACZC,EAAU,GAChB,IAAIC,EAAS,KAEb,GAAIL,EAAQ9+D,KAAM,CAChB1c,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWa,EAAQ9+D,KAAM++D,GAC9B,IAAK,IAAIjtF,EAAI,EAAGA,EAAIitF,EAAQntF,OAAQE,IAC9BitF,EAAQjtF,GAAG+E,UAAYkoF,EAAQjtF,GAAG+E,SAAS,OAC7CsoF,GAAS,GAGb77E,KAAK+7E,SAAS,mBACpB,MACMF,GAAS,EAyBX,GAtBIL,EAAQ58E,KACVoB,KAAK26E,WAAWa,EAAQ58E,KAAM88E,GAE9BG,GAAS,EAGPL,EAAQ7kE,OACV3W,KAAK26E,WAAWa,EAAQ7kE,OAAQglE,GAEhCE,GAAS,EAGPL,EAAQ36E,OACVb,KAAK87E,UAAU,aACf97E,KAAK26E,WAAWa,EAAQ36E,KAAM+6E,GAC9B57E,KAAK+7E,SAAS,cAGD,OAAXF,IACFA,EAAS77E,KAAK67E,OAAOL,EAAQ9+D,OAAS1c,KAAK67E,OAAOL,EAAQ58E,OAGxDi9E,EACFtB,EAAOxkF,KAAK,QAAQ0lF,EAAQl/D,KAAK,OAAOm/D,EAAQn/D,KAAK,OAAOo/D,EAAUp/D,KAAK,WAC3Eg+D,EAAOxkF,KAAK6lF,EAAQr/D,KAAK,KACzBg+D,EAAOxkF,KAAK,WACP,CACL,MAAMimF,EAAgBh8E,KAAKi8E,wBAAwB,SAC/CR,EAAQntF,OAAS,GACnBisF,EAAOxkF,KAAK0lF,EAAQl/D,KAAK,IAAK,OAEhCg+D,EAAOxkF,KAAK,YAAYimF,OAAmBA,cAA0BA,WACjEN,EAAQptF,OAAS,GACnBisF,EAAOxkF,KAAK,QAAQ2lF,EAAQn/D,KAAK,iBAEnCg+D,EAAOxkF,KAAK6lF,EAAQr/D,KAAK,KACzBg+D,EAAOxkF,KAAK,KAAK4lF,EAAUp/D,KAAK,QAChCg+D,EAAOxkF,KAAK,MAClB,CACI,OAAOwkF,CACX,CAEE2B,iBAAAA,CAAkBC,EAAW5B,GAC3B,GAAuB,mBAAnB4B,EAAU/rF,KACZ,MAAM4P,KAAKm7E,eACT,0BACAgB,GAcJ,OAVA5B,EAAOxkF,KAAK,wCACZwkF,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWwB,EAAUv9E,KAAM27E,GAChCA,EAAOxkF,KAAK,SACZiK,KAAK26E,WAAWwB,EAAUt7E,KAAM05E,GAChCA,EAAOxkF,KAAK,cACZwkF,EAAOxkF,KAAK,YACZwkF,EAAOxkF,KAAK,OACZwkF,EAAOxkF,KAAK,OAELwkF,CACX,CAEE6B,mBAAAA,CAAoBC,EAAa9B,GAC/B,GAAyB,qBAArB8B,EAAYjsF,KACd,MAAM4P,KAAKm7E,eACT,0BACAkB,GAaJ,OATA9B,EAAOxkF,KAAK,wCACZiK,KAAK26E,WAAW0B,EAAYx7E,KAAM05E,GAClCA,EAAOxkF,KAAK,SACZiK,KAAK26E,WAAW0B,EAAYz9E,KAAM27E,GAClCA,EAAOxkF,KAAK,SACZwkF,EAAOxkF,KAAK,YACZwkF,EAAOxkF,KAAK,OACZwkF,EAAOxkF,KAAK,OAELwkF,CAEX,CAEE+B,uBAAAA,CAAwBC,EAAShC,GAC/B,MAAMvc,EAAch+D,KAAKw8E,eAAeD,EAAQvoE,MAChD,GAAIgqD,IAAgBA,EAAYye,WAC9B,MAAMz8E,KAAKm7E,eAAe,YAAYoB,EAAQvoE,KAAKzjB,8BAA+BgsF,GAKpF,OAHAv8E,KAAK26E,WAAW4B,EAAQvoE,KAAMumE,GAC9BA,EAAOxkF,KAAKwmF,EAAQzc,UACpB9/D,KAAK26E,WAAW4B,EAAQhhB,MAAOgf,GACxBA,CACX,CAEEmC,iBAAAA,CAAkBC,EAAOpC,GACvB,GAAIv6E,KAAK48E,QAAQ,aAAc,CAC7B58E,KAAK87E,UAAU,cACf,IAAK,IAAIttF,EAAI,EAAGA,EAAImuF,EAAM97E,KAAKvS,OAAQE,IACrCwR,KAAK26E,WAAWgC,EAAM97E,KAAKrS,GAAI+rF,GAEjCv6E,KAAK+7E,SAAS,aACpB,KAAW,CACLxB,EAAOxkF,KAAK,OACZ,IAAK,IAAIvH,EAAI,EAAGA,EAAImuF,EAAM97E,KAAKvS,OAAQE,IACrCwR,KAAK26E,WAAWgC,EAAM97E,KAAKrS,GAAI+rF,GAEjCA,EAAOxkF,KAAK,MAClB,CACI,OAAOwkF,CACX,CAEEsC,sBAAAA,CAAuBC,EAAYvC,GACjCA,EAAOxkF,KAAK,GAAG+mF,EAAW1lB,SAC1B,MAAM,aAAEuC,GAAiBmjB,EACzB,IAAK,IAAItuF,EAAI,EAAGA,EAAImrE,EAAarrE,OAAQE,IAAK,CACxCA,EAAI,GACN+rF,EAAOxkF,KAAK,KAEd,MAAMioE,EAAcrE,EAAanrE,GAC3BuF,EAAOiM,KAAKw8E,eAAexe,EAAYvmC,IACxC1jC,EAAKgpF,YACRhpF,EAAKgpF,UAAY/8E,KAAK86E,QAAQ9c,EAAYthD,OAE5C1c,KAAK26E,WAAW3c,EAAauc,EACnC,CAII,OAHKv6E,KAAK48E,QAAQ,qBAChBrC,EAAOxkF,KAAK,KAEPwkF,CACX,CAEEyC,cAAAA,CAAeC,EAAQ1C,GAsBrB,OArBAA,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWsC,EAAOr+E,KAAM27E,GAC7BA,EAAOxkF,KAAK,KACmB,mBAA3BknF,EAAO5iB,WAAWjqE,KACpB4P,KAAK26E,WAAWsC,EAAO5iB,WAAYkgB,IAEnCA,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWsC,EAAO5iB,WAAYkgB,GACnCA,EAAOxkF,KAAK,UAGVknF,EAAO7oF,YACTmmF,EAAOxkF,KAAK,SACkB,mBAA1BknF,EAAO7oF,UAAUhE,MAAuD,gBAA1B6sF,EAAO7oF,UAAUhE,KACjE4P,KAAK26E,WAAWsC,EAAO7oF,UAAWmmF,IAElCA,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWsC,EAAO7oF,UAAWmmF,GAClCA,EAAOxkF,KAAK,WAGTwkF,CAEX,CAEE2C,kBAAAA,CAAmB5C,EAAKC,GACtB,MAAM,aAAEhgB,EAAY,MAAEC,GAAU8f,EAChCC,EAAOxkF,KAAK,YACZiK,KAAK26E,WAAWpgB,EAAcggB,GAC9BA,EAAOxkF,KAAK,SACZ,IAAK,IAAIvH,EAAI,EAAGA,EAAIgsE,EAAMlsE,OAAQE,IACV,OAAlBgsE,EAAMhsE,GAAGoQ,MAQb27E,EAAOxkF,KAAK,SACZiK,KAAK26E,WAAWngB,EAAMhsE,GAAGoQ,KAAM27E,GAC/BA,EAAOxkF,KAAK,OACRykE,EAAMhsE,GAAG6rE,YAAcG,EAAMhsE,GAAG6rE,WAAW/rE,OAAS,IACtD0R,KAAK26E,WAAWngB,EAAMhsE,GAAG6rE,WAAYkgB,GACrCA,EAAOxkF,KAAK,eAZZwkF,EAAOxkF,KAAK,cACZiK,KAAK26E,WAAWngB,EAAMhsE,GAAG6rE,WAAYkgB,GACjC/f,EAAMhsE,GAAG6rE,YAAcG,EAAMhsE,GAAG6rE,WAAW/rE,OAAS,GACtDisF,EAAOxkF,KAAK,aAYlBwkF,EAAOxkF,KAAK,MAChB,CAEEonF,iBAAAA,CAAkBC,EAAO7C,GAEvB,OADAA,EAAOxkF,KAAK,SACLwkF,CACX,CAEE8C,mBAAAA,CAAoBC,EAAO/C,GACzB,MAAM,UACJgD,EAAS,KACTntF,EAAI,SACJwyC,EAAQ,UACR46C,EAAS,UACTC,EAAS,UACTC,EAAS,KACTntF,EAAI,OACJotF,GACE39E,KAAK49E,2BAA2BN,GACpC,OAAQC,GACN,IAAK,oBAEH,OADAhD,EAAOxkF,KAAK,gBAAiBxF,KACtBgqF,EACT,IAAK,oBACH,OAAQhqF,GACN,IAAK,IACHgqF,EAAOxkF,KAAK,WACZ,MACF,IAAK,IACHwkF,EAAOxkF,KAAK,WACZ,MACF,IAAK,IACHwkF,EAAOxkF,KAAK,WACZ,MACF,QACE,MAAMiK,KAAKm7E,eAAe,wBAAyBmC,GAEvD,OAAO/C,EACT,IAAK,QA6CL,QACE,MAAMv6E,KAAKm7E,eAAe,wBAAyBmC,GA5CrD,IAAK,UACL,IAAK,YACL,IAAK,cACL,IAAK,cACH,GAAe,SAAXK,EAEF,OADApD,EAAOxkF,KAAKqD,KAAK7I,IACVgqF,EAET,OAAQ33C,GACN,IAAK,IAEH,OADA23C,EAAOxkF,KAAK,QAASxF,QACdgqF,EACT,IAAK,IAEH,OADAA,EAAOxkF,KAAK,QAASxF,QACdgqF,EACT,IAAK,IAEH,OADAA,EAAOxkF,KAAK,QAASxF,QACdgqF,EACT,IAAK,IAEH,OADAA,EAAOxkF,KAAK,QAASxF,QACdgqF,EAEX,MACF,IAAK,uBACL,IAAK,yBACL,IAAK,2BACL,IAAK,6BACH,MACF,IAAK,SAKH,OAJAv6E,KAAK26E,WAAW2C,EAAMv7B,OAAQw4B,GAC9BA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW2C,EAAM16C,SAAU23C,GAChCA,EAAOxkF,KAAK,KACLwkF,EACT,IAAK,WAQH,OAPAv6E,KAAK26E,WAAW2C,EAAMv7B,OAAOA,OAAQw4B,GACrCA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW2C,EAAMv7B,OAAOnf,SAAU23C,GACvCA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW2C,EAAM16C,SAAU23C,GAChCA,EAAOxkF,KAAK,KACLwkF,EAKX,IAAK+C,EAAMlgB,SACT,OAAQhtE,GACN,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,UAEH,OADAmqF,EAAOxkF,KAAK,GAAG4nF,KAAUptF,KAClBgqF,EAIb,MAAMsD,EAAa,GAAGF,KAAUptF,IAe9B,CACE,IAAIs2B,EACAi3D,EACJ,GAAe,cAAXH,EAAwB,CAC1B,MAAMI,EAAW/9E,KAAKm4E,UAAU5nF,GAChCutF,EAAuC,UAA7B99E,KAAKg+E,cAAcztF,GAC7Bs2B,EAAOi3D,EAAUC,EAASl3D,KAAO,IAC3C,MACUi3D,EAAU99E,KAAK89E,QAAQvtF,GACvBs2B,EAAOi3D,EAAU99E,KAAKi+E,cAAcj+E,KAAKy6E,cAAchpF,QAAQlB,IAAS,KAE1EgqF,EAAOxkF,KAAK,GAAI8nF,KACZH,GAAaD,EACXK,GACFvD,EAAOxkF,KAAK,MACZiK,KAAK26E,WAAW+C,EAAWnD,GAC3BA,EAAOxkF,KAAK,IAAKiK,KAAKk+E,iBAAmB,sBAAwBr3D,EAAK,GAAKA,EAAK,SAChF7mB,KAAK26E,WAAW8C,EAAWlD,GAC3BA,EAAOxkF,KAAK,IAAKiK,KAAKk+E,iBAAmB,UAAYr3D,EAAK,QAC1D7mB,KAAK26E,WAAW6C,EAAWjD,GAC3BA,EAAOxkF,KAAK,OAEZwkF,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW+C,EAAWnD,GAC3BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW8C,EAAWlD,GAC3BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW6C,EAAWjD,GAC3BA,EAAOxkF,KAAK,MAEL0nF,EACLK,GACFvD,EAAOxkF,KAAK,MACZiK,KAAK26E,WAAW8C,EAAWlD,GAC3BA,EAAOxkF,KAAK,IAAKiK,KAAKk+E,iBAAmB,UAAYr3D,EAAK,QAC1D7mB,KAAK26E,WAAW6C,EAAWjD,GAC3BA,EAAOxkF,KAAK,OAEZwkF,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW8C,EAAWlD,GAC3BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW6C,EAAWjD,GAC3BA,EAAOxkF,KAAK,MAEgB,qBAAdynF,IAChBjD,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW6C,EAAWjD,GAC3BA,EAAOxkF,KAAK,KACtB,CAEI,OAAOwkF,CACX,CAEE4D,iBAAAA,CAAkB7D,EAAKC,GACrB,GAAiB,mBAAbD,EAAIlqF,KACN,MAAM4P,KAAKm7E,eAAe,yBAA0Bb,GAEtD,IAAI8D,EAAep+E,KAAKq+E,0BAA0B/D,EAAIzX,QAElD7iE,KAAKs+E,gBAAgB7sF,QAAQ2sF,GAAgB,GAC/Cp+E,KAAKs+E,gBAAgBvoF,KAAKqoF,GAGLp+E,KAAKu+E,kBAAkBjE,GAE1Ct6E,KAAKw+E,gBACPx+E,KAAKw+E,eAAex+E,KAAKzP,KAAM6tF,EAAc9D,EAAIjsF,WAGnDksF,EAAOxkF,KAAKqoF,GAEZ7D,EAAOxkF,KAAK,KACZ,MAAM0oF,EAAcz+E,KAAK0+E,4BAA4BN,IAAiB,GACtE,IAAK,IAAI5vF,EAAI,EAAGA,EAAI8rF,EAAIjsF,UAAUC,SAAUE,EAAG,CAC7C,MAAM8rE,EAAWggB,EAAIjsF,UAAUG,GAE/B,IAAImwF,EAAe3+E,KAAK86E,QAAQxgB,GAC3BmkB,EAAYjwF,IACfwR,KAAK4+E,yBAAyBR,EAAc5vF,EAAGmwF,EAAc3+E,MAG3DxR,EAAI,GACN+rF,EAAOxkF,KAAK,MAEdiK,KAAK26E,WAAWrgB,EAAUigB,EAChC,CAGI,OAFAA,EAAOxkF,KAAK,KAELwkF,CACX,CAEEsE,kBAAAA,CAAmBC,EAASvE,GAC1B,MAAMM,EAAa76E,KAAK86E,QAAQgE,GAC1BC,EAASD,EAAQp3C,SAASp5C,OAC1Bo5C,EAAW,GACjB,IAAK,IAAIl5C,EAAI,EAAGA,EAAIuwF,IAAUvwF,EAAG,CAC/B,MAAM4S,EAAU,GAChBpB,KAAK26E,WAAWmE,EAAQp3C,SAASl5C,GAAI4S,GACrCsmC,EAAS3xC,KAAKqL,EAAQmb,KAAK,IACjC,CACI,OAAQs+D,GACN,IAAK,YACL,IAAK,YACL,IAAK,YACHN,EAAOxkF,KAAK,IAAI2xC,EAASnrB,KAAK,UAC9B,MACF,QACEg+D,EAAOxkF,KAAK,qBAAqB2xC,EAASnrB,KAAK,WAEnD,OAAOg+D,CACX,CAEEyE,oBAAAA,CAAqBF,EAASvE,GAE5B,OADAA,EAAOxkF,KAAK,aACLwkF,CACX,EAGAn5B,EAAOL,QAAU,CACfq5B,kBAEF,EAAE,CAAC,mBAAmB,KAAK,EAAE,CAAC,SAASrsF,EAAQqzD,EAAOL,GACtD,MAAM,MAAE84B,GAAU9rF,EAAQ,eAE1B,SAASkxF,EAAkB9G,EAAWlvB,GACpC,MAAMi2B,EAAU,GAChB,IAAK,MAAM3uF,KAAQ04D,EAAO,CACxB,IAAKA,EAAM9xD,eAAe5G,GAAO,SACjC,MAAMH,EAAO64D,EAAM14D,GACbwtF,EAAW5F,EAAU5nF,GAC3B,OAAQH,GACN,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,UACH8uF,EAAQnpF,KAAK,GAAGxF,KAAQwtF,KACxB,MACF,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,YACHmB,EAAQnpF,KAAK,GAAGxF,SAAYwtF,EAASl+E,YAAYtP,QAAQomF,KAAKC,UAAU7hF,MAAMshF,KAAK0H,QAG3F,CACE,MAAO,KAAMmB,EAAQ3iE,UACvB,CAEA,SAAS4iE,EAAgBC,EAAW7uF,GAClC,MAAM8uF,EAAS,GACTC,EAAiB,GACjBC,EAAe,GAEfC,GAAsB,YAAY5gF,KAAKwgF,EAAU1wE,MAAMxS,YAgB7D,GAdAmjF,EAAOtpF,KACL,wEACA,mCAAmC4gF,KAAKC,UAAU7hF,MAAMshF,KAAK+I,EAAUlI,aACvE,4BAA4BP,KAAKC,UAAUwI,EAAUpB,kBACrD,wBAAwBiB,EAAkBG,EAAUjH,UAAWiH,EAAUpB,mBAG3EsB,EAAevpF,KACb,6BACA,eACA,cACA,mCAGEqpF,EAAUrH,UAAW,CACvBsH,EAAOtpF,KAAK,gDAAgDqpF,EAAUlI,OAAO,OAAOkI,EAAUlI,OAAO,QACrGmI,EAAOtpF,KAAK,8CAA8CqpF,EAAUlI,OAAO,QAAQkI,EAAUlI,OAAO,YAEpG,MAAMuI,EAAU5F,EAAM6F,yBAAyBF,EAAqB,YAAc,IAAMJ,EAAU1wE,MAAMxS,WAAY,CAClHyjF,WAAazyE,IACX,OAAQA,GACN,IAAK,aACH,MAAO,aACT,IAAK,aACH,MAAO,aACT,IAAK,SACH,MAAO,SACT,IAAK,SACH,MAAO,cAEX,OAAOypE,KAAKC,UAAUwI,EAAUlyE,GAAc,EAEhD0yE,eAAgBA,CAAC79B,EAAQxxD,IAChB,OAILsvF,EAAchG,EAAM6F,yBAAyBF,EAAqB,YAAc,IAAMJ,EAAU3G,UAAUv8E,WAAY,CAC1HyjF,WAAazyE,IACX,OAAQA,GACN,IAAK,aACH,MAAO,aACT,IAAK,aACH,MAAO,aACT,IAAK,SACH,MAAO,SACT,IAAK,SACH,MAAO,cAEX,OAAOypE,KAAKC,UAAUwI,EAAUlyE,GAAc,EAEhD0yE,eAAgBA,IACP,OAIXN,EAAevpF,KACb,kBACA,kBACA,cAAc0pF,MAGhBF,EAAaxpF,KACX,wBAAwB8pF,KAE9B,CAEE,MAAM7B,EAAgB,GAChB8B,EAAe3uF,OAAOkgB,KAAK+tE,EAAUpB,eAC3C,IAAK,IAAIxvF,EAAI,EAAGA,EAAIsxF,EAAaxxF,OAAQE,IACvCwvF,EAAcjoF,KAAKqpF,EAAUpB,cAAc8B,IAE7C,IAA2D,IAAvDV,EAAUW,cAActuF,QAAQ,oBAAyE,IAA7CusF,EAAcvsF,QAAQ,kBAA0B,CAC9G,MAAMuuF,EAA0BnG,EAAM6F,yBAAyBF,EAAqB,YAAc,IAAMJ,EAAUa,gBAAgB/jF,WAAY,CAC5IgkF,YAAa,CAAC,UACdN,eAAgBA,CAAC79B,EAAQxxD,IACR,SAAXwxD,GACMy9B,EAAqB,YAAc,IAAMJ,EAAU7uF,GAAM2L,WAE5D,KAETyjF,WAAazyE,IACX,OAAQA,GACN,IAAK,SACH,OACF,IAAK,UACH,MAAO,UACnB,IAGIqyE,EAAaxpF,KAAKiqF,GAClBV,EAAevpF,KAAK,wBACpBupF,EAAevpF,KAAK,uBACxB,MAAS,IAAsD,IAAlDqpF,EAAUW,cAActuF,QAAQ,eAA+D,IAAxCusF,EAAcvsF,QAAQ,aAAqB,CAC3G,MAAM0uF,EAA0BtG,EAAM6F,yBAAyBF,EAAqB,YAAc,IAAMJ,EAAUgB,gBAAgBlkF,WAAY,CAC5I0jF,eAAgBA,CAAC79B,EAAQxxD,IAChB,KAETovF,WAAazyE,IACX,OAAQA,GACN,IAAK,SACH,MAAO,kBACT,IAAK,UACH,MAAO,mBAEX,MAAM,IAAI7b,MAAM,uBAAuB,IAG3CkuF,EAAaxpF,KAAKoqF,GAClBb,EAAevpF,KAAK,uBACxB,CAEE,MAAO,yBACNspF,EAAO9iE,KAAK,2vBA0Bb6iE,EAAUiB,qCAEGf,EAAe/iE,KAAK,gBAC9BgjE,EAAahjE,KAAK,4BAGvB,CAEA6kC,EAAOL,QAAU,CACfo+B,kBAEF,EAAE,CAAC,cAAc,MAAM,EAAE,CAAC,SAASpxF,EAAQqzD,EAAOL,GAClD,MAAM,OAAEu/B,GAAWvyF,EAAQ,cACrB,gBAAEwyF,GAAoBxyF,EAAQ,wBAC9B,gBAAEqsF,GAAoBrsF,EAAQ,oBAC9B,MAAE8rF,GAAU9rF,EAAQ,gBACpB,gBAAEoxF,GAAoBpxF,EAAQ,mBAEpC,MAAMyyF,UAAkBF,EACtB,kBAAOG,GACL,OAAOzgF,KAAK0gF,QAChB,CACE,mBAAWA,GACT,OAAOvvF,OAAOwvF,OAAO,CACnBC,WAAW,EACXC,2BAA2B,GAEjC,CACE,sBAAWC,GACT,OAAO,CACX,CACE,qBAAOC,CAAejqF,GACpB,OAAO,CACX,CACE,eAAWgnB,GACT,MAAO,KACX,CAEE,8BAAOkjE,GACL,OAAO,IACX,CAEE,+BAAOC,GACL,MAAM,IAAI5vF,MAAM,2DAA2D2O,KAAKzP,OACpF,CAEE,qBAAO2wF,CAAeC,GACpB,OAAOA,CACX,CAEE,mBAAOC,CAAaxJ,EAAQmI,GAC1B,MAAO,OAASA,EAAczxF,OAAS,EAAI,IAAMyxF,EAAcxjE,KAAK,KAAO,GAC/E,CAEE1c,WAAAA,CAAYiY,EAAQuhE,GAClBgI,MAAMvpE,EAAQuhE,GACdr5E,KAAKshF,cAAcxpE,EAAOuhE,UAAYA,GAEtCr5E,KAAK44E,WAAa,KAClB54E,KAAK+4E,WAAa,KAClB/4E,KAAKqgF,cAAgB,KACrBrgF,KAAKuhF,iBAAmB,GACxBvhF,KAAKm3E,OAAS,CACZtmF,EAAG,EACHmgB,EAAG,EACHomE,EAAG,GAELp3E,KAAKwhF,kBAAoB,IAC7B,CAEEC,UAAAA,GACE,MAAwB,qBAAbrjF,SACFA,SAASC,cAAc,UACM,qBAApBqjF,gBACT,IAAIA,gBAAgB,EAAG,QADzB,CAGX,CAEEC,WAAAA,GACE,OAAK3hF,KAAKs4E,OACHt4E,KAAKs4E,OAAOsJ,WAAW,MADL,IAE7B,CAEEC,WAAAA,CAAYxI,GACV,MAAO,EACX,CAEEb,gBAAAA,CAAiBvC,GACf,IAAKj2E,KAAKk3E,QAAiC,IAAvBl3E,KAAKk3E,OAAO5oF,OAAc,CAC5C,GAAoB,IAAhB2nF,EAAK3nF,OACP,MAAM,IAAI+C,MAAM,8DAGlB,MAAMywF,EAAUjI,EAAMkI,gBAAgB9L,EAAK,GAAIj2E,KAAKgiF,gBACpD,GAAgB,UAAZF,EACF9hF,KAAKk3E,OAAS2C,EAAMoI,cAAcH,OAC7B,IAAgB,kBAAZA,GAA2C,oBAAZA,EAGxC,MAAM,IAAIzwF,MAAM,6CAA+CywF,GAF/D9hF,KAAKk3E,OAASjB,EAAK,GAAGiB,MAG9B,CACA,CAEI,GAAIl3E,KAAK+3E,WACoB,IAAvB/3E,KAAKk3E,OAAO5oF,OACd,MAAM,IAAI+C,MAAM,mDAIpB2O,KAAKkiF,aACT,CAEEC,eAAAA,GAEE,GADAniF,KAAK+6E,uBAAyB/6E,KAAKk3E,OAAO5oF,OAAS,EAAI,gBAAkB,eACrE0R,KAAKoiF,WAAY,CACnB,MAAMpH,EAA2B,GACjC,IAAK,IAAIxsF,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAAK,CAC/C,MAAM,KACJ+B,GACEyP,KAAKoiF,WAAW5zF,GACpBwsF,EAAyBjlF,KAAKiK,KAAKk3E,OAAO5oF,OAAS,EAAI,WAAYiC,0BAA+BA,OAAa,UAAWA,0BAA+BA,OACjK,CACMyP,KAAKg7E,yBAA2BA,EAAyBz+D,KAAK,GACpE,CACI,MAAM8lE,EAAkB9B,EAAgB+B,WAAWtiF,KAAMo6E,GACzDp6E,KAAKwhF,kBAAoBa,EAAgBE,cAAc,UAClDviF,KAAK+3E,WAAc/3E,KAAK66E,aAC3B76E,KAAK66E,WAAawH,EAAgBG,sBAExC,CAEEC,KAAAA,GACE,GAAIziF,KAAK0iF,MAAO,OAMhB,GALA1iF,KAAK2iF,iBACL3iF,KAAK82E,eAAezoF,WACpB2R,KAAKw4E,iBAAiBnqF,WACtB2R,KAAKmiF,kBAEDniF,KAAK+3E,UAAW,CAClB,MAAM,OACJO,EAAM,OACNpB,GACEl3E,KACJ,IAAKs4E,EACH,MAAM,IAAIjnF,MAAM,kDAElB,MAAM+a,EAAQ8qE,EAAO,GACf7qE,EAAS6qE,EAAO,IAAM,EAC5BoB,EAAOlsE,MAAQA,EACfksE,EAAOjsE,OAASA,EAChBrM,KAAK44E,WAAa54E,KAAKlJ,QAAQoiF,gBAAgB9sE,EAAOC,GACtDrM,KAAK+4E,WAAa,IAAII,kBAAkB/sE,EAAQC,EAAS,EAC/D,CAEI,MAAMu2E,EAAe5iF,KAAK6iF,kBAC1B7iF,KAAK4iF,aAAeA,EAEhB5iF,KAAK8iF,QACPlwD,QAAQj6B,IAAI,oBACZi6B,QAAQj6B,IAAIiqF,IAGd,IACE5iF,KAAK+iF,IAAM,IAAI/I,SAAS,GAAI4I,GAAcj6D,KAAK3oB,KAApC,EACjB,CAAM,MAAOc,GACP8xB,QAAQhY,MAAM,+CAAgD9Z,EACpE,CACId,KAAKgjF,eAAe30F,WACpB2R,KAAK0iF,OAAQ,CACjB,CAEEh0E,KAAAA,CAAM+qC,EAAGo/B,EAAG9zE,EAAGP,GACI,qBAANA,IACTA,EAAI,GAGNi1C,EAAIrgD,KAAK0/E,MAAU,IAAJr/B,GACfo/B,EAAIz/E,KAAK0/E,MAAU,IAAJD,GACf9zE,EAAI3L,KAAK0/E,MAAU,IAAJ/zE,GACfP,EAAIpL,KAAK0/E,MAAU,IAAJt0E,GAEf,MAAM4H,EAAQpM,KAAKk3E,OAAO,GACpB7qE,EAASrM,KAAKk3E,OAAO,GAKrBzhF,EAHIuK,KAAKm3E,OAAOtmF,GACZwb,EAASrM,KAAKm3E,OAAOnmE,EAAI,GAEb5E,EAEtBpM,KAAK+4E,WAAmB,EAARtjF,EAAY,GAAKgkD,EACjCz5C,KAAK+4E,WAAmB,EAARtjF,EAAY,GAAKojF,EACjC74E,KAAK+4E,WAAmB,EAARtjF,EAAY,GAAKsP,EACjC/E,KAAK+4E,WAAmB,EAARtjF,EAAY,GAAK+O,CACrC,CAEEq+E,eAAAA,GACE,GAA2B,OAAvB7iF,KAAKqgF,cAAwB,OAAOrgF,KAAKqgF,cAE7C,IAAI4C,EAAqB,MACrB,kBACFzB,GACExhF,KAUJ,OATIwhF,EAAkBlzF,OAAS,EAC7BkzF,EAAoBA,EAAkB0B,QAAOtxF,GACvC,YAAYgN,KAAKhN,GAAYA,GACjCqxF,EAAqBrxF,GACd,KAGTqxF,EAAqBzB,EAAkB/iC,QAElCz+C,KAAKqgF,cAAgB,sBAAuBrgF,KAAKmjF,2BACvDnjF,KAAKojF,gBAAkB,gCAEvBpjF,KAAKqjF,4BACLrjF,KAAKsjF,kCACGtjF,KAAKy6E,cAAc3zD,KAAI4zD,GAAgB,QAAUA,IAAcn+D,KAAK,oBAC1Evc,KAAKuhF,iBAAiBhlE,KAAK,YAC3Bvc,KAAKujF,uBACLvjF,KAAKwjF,4BACLxjF,KAAK+3E,UAAY/3E,KAAKyjF,qBAAqBR,GAAsBjjF,KAAK0jF,kBAAkBT,WACxFzB,EAAkBlzF,OAAS,EAAIkzF,EAAkBjlE,KAAK,MAAQ,UAErE,CAEErgB,QAAAA,GACE,OAAOijF,EAAgBn/E,KAC3B,CAEEmjF,iBAAAA,GACE,OACEnjF,KAAK2jF,kBACL,IAAK7R,SAAS9xE,KAAK2jF,sBACnB,QAEN,CAEEL,iBAAAA,GACE,IAAKtjF,KAAKm4E,UAAW,MAAO,GAE5B,MAAMrqD,EAAS,GACf,IAAK,IAAIlyB,KAAKoE,KAAKm4E,UAEjB,OADan4E,KAAKg+E,cAAcpiF,IAE9B,IAAK,aACL,IAAK,kBACL,IAAK,YACL,IAAK,cACL,IAAK,YACL,IAAK,YACHkyB,EAAO/3B,KAAK,uBAAuB6F,2CAA2CA,SAC9E,MACF,IAAK,iBACHkyB,EAAO/3B,KAAK,uBAAuB6F,2CAA2CA,SAC9E,MACF,IAAK,QACHkyB,EAAO/3B,KAAK,uBAAuB6F,sBAAsBA,cACzD,MACF,QACEkyB,EAAO/3B,KAAK,uBAAuB6F,sBAAsBA,QAG/D,OAAOkyB,EAAOvR,KAAK,GACvB,CAEEgnE,YAAAA,GACE,GAAIvjF,KAAK+3E,UAAW,MAAO,GAC3B,GAAI/3E,KAAK4jF,UAAW,MAAO,GAC3B,IAAK5jF,KAAK6jF,SAAU,MAAO,GAC3B,MAAMC,EAAiB,GACvB,IAAK,IAAIt1F,EAAI,EAAGA,EAAIwR,KAAK+/E,cAAczxF,OAAQE,IACf,UAA1BwR,KAAK+/E,cAAcvxF,IACrBs1F,EAAe/tF,KAAKiK,KAAKy6E,cAAcjsF,IAG3C,GAA8B,IAA1Bs1F,EAAex1F,OAAc,MAAO,GACxC,MAAMy1F,EAAS,GACf,IAAK,IAAIv1F,EAAI,EAAGA,EAAIs1F,EAAex1F,OAAQE,IAAK,CAC9C,MAAMksF,EAAeoJ,EAAet1F,GAC9Bw1F,EAAkBhkF,KAAKikF,gBAAeC,GAAa,QAAQxJ,gBAA2BwJ,EAAU3zF,SAAQgsB,KAAK,QACnHwnE,EAAOhuF,KAAK,QAAQ2kF,eAA0BsJ,EAAkB,OAAOA,IAAoB,KACjG,CACI,MAAO,OAAOD,EAAOxnE,KAAK,gGAC9B,CAEEinE,iBAAAA,GACE,MAAM11D,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAK+/E,cAAczxF,OAAQE,IAAK,CAClD,MAAMsmF,EAAe,QAAQ90E,KAAKy6E,cAAcjsF,KAChD,OAAQwR,KAAK+/E,cAAcvxF,IACzB,IAAK,aACL,IAAK,kBACL,IAAK,YACL,IAAK,cACL,IAAK,YACL,IAAK,YACHs/B,EAAO/3B,KAAK,OAAO++E,4BAAuCA,SAC1D,MACF,IAAK,iBACHhnD,EAAO/3B,KAAK,OAAO++E,4BAAuCA,SAC1D,MACF,IAAK,QACHhnD,EAAO/3B,KAAK,OAAO++E,OAAkBA,cACrC,MACF,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,gBACL,IAAK,+BACHhnD,EAAO/3B,KAAK,aACZ++E,oLAK8CA,kDAE9CA,wFAEwBA,gBACxBA,OAAkBA,+CACIA,uBAKhC,CACI,OAAOhnD,EAAOvR,KAAK,GACvB,CAEE6jE,eAAAA,CAAgBj7C,GACd,MAAMmzC,EAASt4E,KAAKs4E,OACdlsE,EAAQ+4B,EAAM/4B,MAAQ,EAAI+4B,EAAM/4B,MAAQ+4B,EAAMg/C,WAC9C93E,EAAS84B,EAAM94B,OAAS,EAAI84B,EAAM94B,OAAS84B,EAAMi/C,YACnD9L,EAAOlsE,MAAQA,IACjBksE,EAAOlsE,MAAQA,GAEbksE,EAAOjsE,OAASA,IAClBisE,EAAOjsE,OAASA,GAElB,MAAMg4E,EAAMrkF,KAAKlJ,QACjB,IAAIwtF,EACAn/C,EAAMtlC,cAAgB0kF,UACxBD,EAAan/C,EAAM9vC,MAEnBgvF,EAAIG,UAAUr/C,EAAO,EAAG,EAAG/4B,EAAOC,GAClCi4E,EAAaD,EAAII,aAAa,EAAG,EAAGr4E,EAAOC,GAAQhX,MAErD,MAAMqvF,EAAa,IAAI3vF,MAAMsX,GAC7B,IAAI5W,EAAQ,EACZ,IAAK,IAAIub,EAAI3E,EAAS,EAAG2E,GAAK,EAAGA,IAAK,CACpC,MAAM8P,EAAM4jE,EAAW1zE,GAAK,IAAIjc,MAAMqX,GACtC,IAAK,IAAIvb,EAAI,EAAGA,EAAIub,EAAOvb,IAAK,CAC9B,MAAM8zF,EAAQ,IAAI1N,aAAa,GAC/B0N,EAAM,GAAKL,EAAW7uF,KAAW,IACjCkvF,EAAM,GAAKL,EAAW7uF,KAAW,IACjCkvF,EAAM,GAAKL,EAAW7uF,KAAW,IACjCkvF,EAAM,GAAKL,EAAW7uF,KAAW,IACjCqrB,EAAIjwB,GAAK8zF,CACjB,CACA,CACI,OAAOD,CACX,CAEEjM,SAAAA,CAAUC,GACR,MAAOtsE,EAAOC,GAAUrM,KAAKk3E,OAC7B,OAAOwB,EAAOmB,EAAMlB,WAAW34E,KAAK44E,WAAWvjF,KAAM+W,EAAOC,GAAUrM,KAAK44E,WAAWvjF,KAAK8G,MAAM,EACrG,CAEE8jF,eAAAA,CAAgB2E,GACd,MAAMC,EAAc,IAAI9vF,MAAM6vF,EAAOt2F,QACrC,IAAK,IAAIE,EAAI,EAAGA,EAAIo2F,EAAOt2F,OAAQE,IACjCq2F,EAAYr2F,GAAKwR,KAAKogF,gBAAgBwE,EAAOp2F,IAE/C,OAAOq2F,CACX,CAEExB,mBAAAA,GACE,GAAIrjF,KAAK+3E,UAAW,MAAO,GAC3B,GAAI/3E,KAAK4jF,UAAW,MAAO,GAC3B,IAAK5jF,KAAK6jF,SAAU,MAAO,GAC3B,OAAQ7jF,KAAKk3E,OAAO5oF,QAClB,KAAK,EACH,OAAO0R,KAAK8kF,0BACd,KAAK,EACH,OAAO9kF,KAAK+kF,0BACd,KAAK,EACH,OAAO/kF,KAAKglF,0BAEpB,CAEEtB,iBAAAA,CAAkBd,GAChB,OAAQ5iF,KAAKk3E,OAAO5oF,QAClB,KAAK,EACH,QAAS0R,KAAK4jF,WAAa5jF,KAAK6jF,SAAW7jF,KAAKilF,2BAA2BrC,GAAgB5iF,KAAKklF,6BAA6BtC,IAAiB5iF,KAAKmlF,gBACrJ,KAAK,EACH,QAASnlF,KAAK4jF,WAAa5jF,KAAK6jF,SAAW7jF,KAAKolF,2BAA2BxC,GAAgB5iF,KAAKqlF,6BAA6BzC,IAAiB5iF,KAAKmlF,gBACrJ,KAAK,EACH,QAASnlF,KAAK4jF,WAAa5jF,KAAK6jF,SAAW7jF,KAAKslF,2BAA2B1C,GAAgB5iF,KAAKulF,6BAA6B3C,IAAiB5iF,KAAKmlF,gBACrJ,QACE,MAAM,IAAI9zF,MAAM,2BAExB,CAEEoyF,oBAAAA,CAAqBR,GACnB,GACO,IADCjjF,KAAKk3E,OAAO5oF,OAEhB,OAAO0R,KAAKwlF,uBAAuBvC,GAAsBjjF,KAAKylF,mBAE9D,MAAM,IAAIp0F,MAAM,0BAExB,CAEEo0F,gBAAAA,GACE,MAAO,sHAIX,CAEEC,qCAAAA,GACE,OAAQ1lF,KAAK66E,YACX,IAAK,iBACL,IAAK,SACL,IAAK,UACL,IAAK,QACH,MAAO,eACT,IAAK,WACL,IAAK,WACL,IAAK,WACH,MAAO,QACT,QACE,GAAI76E,KAAK+3E,UACP,MAAO,eAET,MAAM,IAAI1mF,MAAM,wBAAyB2O,KAAK66E,cAEtD,CAEEqK,4BAAAA,CAA6BtC,GAC3B,MAAM+C,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,8DACcC,oBAClB3lF,KAAKikF,gBAAeC,GAAa,gBAAiBA,EAAU3zF,cAAeo1F,kBAAiCppE,KAAK,gBACjHvc,KAAKikF,gBAAeC,GAAa,uBAAwBA,EAAU3zF,YAAYgsB,KAAK,yIAKlFqmE,UAET,CAEEkC,uBAAAA,GACE,MAAMa,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,8DACcC,oBAClB3lF,KAAKikF,gBAAeC,GAAa,gBAAiBA,EAAU3zF,cAAeo1F,kBAAiCppE,KAAK,gBACjHvc,KAAKikF,gBAAeC,GAAa,uBAAwBA,EAAU3zF,YAAYgsB,KAAK,SAC3F,CAEE0oE,0BAAAA,CAA2BrC,GACzB,MAAO,oKAKFA,UAET,CAEEyC,4BAAAA,CAA6BzC,GAC3B,MAAM+C,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,yHAGJ1lF,KAAKikF,gBAAeC,GAAa,gBAAiBA,EAAU3zF,iCAAiCgsB,KAAK,gBAClGvc,KAAKikF,gBAAeC,GAAa,uBAAwBA,EAAU3zF,YAAYgsB,KAAK,+IAInDopE,sBAC/B3lF,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,iBAAkB2zF,EAAU3zF,iBAAiBo1F,kBAAiCppE,KAAK,uFAG9IqmE,mBAGX,CAEEmC,uBAAAA,GACE,MAAMY,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,yHAGJ1lF,KAAKikF,gBAAeC,GAAa,gBAAiBA,EAAU3zF,iCAAiCgsB,KAAK,gBAClGvc,KAAKikF,gBAAeC,GAAa,uBAAwBA,EAAU3zF,YAAYgsB,KAAK,2FAEnDopE,sBAC/B3lF,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,iBAAkB2zF,EAAU3zF,iBAAiBo1F,kBAAiCppE,KAAK,YAEzJ,CAEE6oE,0BAAAA,CAA2BxC,GACzB,MAAM+C,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,kNAMF1lF,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,iBAAkB2zF,EAAU3zF,iBAAiBo1F,kBAAiCppE,KAAK,uFAG9IqmE,mBAGX,CAEE4C,sBAAAA,CAAuB5C,GACrB,MAAO,yPAOAA,mBAGX,CAEE2C,4BAAAA,CAA6B3C,GAC3B,MAAM+C,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,+JAIJ1lF,KAAKikF,gBAAeC,GAAa,gBAAiBA,EAAU3zF,iCAAiCgsB,KAAK,gBAClGvc,KAAKikF,gBAAeC,GAAa,uBAAwBA,EAAU3zF,YAAYgsB,KAAK,4IAIlFvc,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,iBAAkB2zF,EAAU3zF,oCAAmCgsB,KAAK,8HAG/FopE,wBAChC3lF,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,kBAAmB2zF,EAAU3zF,iBAAiBo1F,kBAAiCppE,KAAK,qGAG/IqmE,8BAIb,CAEEoC,uBAAAA,GACE,MAAMW,EAAoB3lF,KAAK0lF,wCAC/B,MAAO,+JAIJ1lF,KAAKikF,gBAAeC,GAAa,gBAAiBA,EAAU3zF,iCAAiCgsB,KAAK,gBAClGvc,KAAKikF,gBAAeC,GAAa,uBAAwBA,EAAU3zF,YAAYgsB,KAAK,kHAGlFvc,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,iBAAkB2zF,EAAU3zF,oCAAmCgsB,KAAK,kGAE/FopE,wBAChC3lF,KAAKikF,gBAAeC,GAAa,iBAAkBA,EAAU3zF,kBAAmB2zF,EAAU3zF,iBAAiBo1F,kBAAiCppE,KAAK,6BAG5J,CAEE+oE,0BAAAA,CAA2B1C,GACzB,MAAO,yZAWEA,8BAIb,CAEEuC,aAAAA,GACE,OAAKnlF,KAAKoiF,WAGH,gDAEFpiF,KAAKoiF,WAAWt7D,KAAIo9D,GAAa,GAAIA,EAAUthD,oBAAsBshD,EAAU3zF,SAASgsB,KAAK,uBAJzF,sBAMb,CAEE0nE,cAAAA,CAAeryF,GACb,OAA2B,OAApBoO,KAAKoiF,WAAsB,CAAC,IACjCpiF,KAAKoiF,WAAWt7D,IAAIl1B,EAC1B,CAEEk3B,OAAAA,CAAQ88D,GACFA,UACK5lF,KAAKs4E,MAElB,CAEE,qBAAOuN,CAAe/uF,GAAU,CAEhCmhF,MAAAA,GACE,MAAM6N,EAAOzE,MAAMpJ,SAEnB,OADA6N,EAAKC,cAAgBxF,EAAgB+B,WAAWtiF,KAAMo6E,GAAiBnC,SAChE6N,CACX,CAEEjO,SAAAA,CAAUX,GACRmK,MAAMxJ,UAAUX,GAChB,MAAO9qE,EAAOC,GAAUrM,KAAKk3E,OACzBl3E,KAAK+3E,YACP/3E,KAAK44E,WAAa54E,KAAKlJ,QAAQoiF,gBAAgB9sE,EAAOC,GACtDrM,KAAK+4E,WAAa,IAAII,kBAAkB/sE,EAAQC,EAAS,GAE/D,CAEE25E,aAAAA,CAAchzF,GACZ,GAAIgN,KAAKqgF,cAAe,MAAM,IAAIhvF,MAAM,wBACxC2O,KAAKuhF,iBAAiBxrF,KAAK/C,EAC/B,CAEEizF,gBAAAA,CAAiBjzF,GACf,OAAOgN,KAAKuhF,iBAAiB9vF,QAAQuB,IAAU,CACnD,EAGAouD,EAAOL,QAAU,CACfy/B,YAEF,EAAE,CAAC,cAAc,IAAI,sBAAsB,EAAE,YAAY,GAAG,kBAAkB,EAAE,kBAAkB,IAAI,EAAE,CAAC,SAASzyF,EAAQqzD,EAAOL,GACjI,MAAMw/B,EACJ,iBAAO+B,CAAW1K,EAAQuC,EAAc+L,GACtC,MAAM,gBACJC,EAAe,gBACfC,EAAe,cACf3L,EAAa,cACbwD,EAAa,kBACboI,EAAiB,UACjBlO,EAAS,kBACTmO,EAAiB,MACjBxD,EAAK,kBACLa,EAAiB,gBACjB4C,EAAe,OACfrP,EAAM,oBACNsP,EAAmB,UACnBC,EAAS,QACTlyB,EAAO,OACPz8C,EAAM,WACNsqE,EAAU,UACV7b,EAAS,uBACTwU,EAAsB,yBACtBC,EAAwB,iBACxBkD,EAAgB,cAChBwI,GACE9O,EAEEmI,EAAgB,IAAIhrF,MAAMoxF,EAAgB73F,QAC1C0vF,EAAgB,CAAC,EAEvB,IAAK,IAAIxvF,EAAI,EAAGA,EAAI23F,EAAgB73F,OAAQE,IAC1CuxF,EAAcvxF,GAAK23F,EAAgB33F,GAAG4B,KAGxC,IAAK,IAAI5B,EAAI,EAAGA,EAAI43F,EAAgB93F,OAAQE,IAAK,CAC/C,MAAMm4F,EAAiBP,EAAgB53F,GACvCwvF,EAAc2I,EAAep2F,MAAQo2F,EAAev2F,IAC1D,CAEI,MAAMw2F,EAAoBA,CAACxI,EAAc3oF,IAChC4sF,EAAgBuE,kBAAkBxI,EAAc3oF,GAGnDoxF,EAAqBA,CAACzI,EAAc3oF,EAAOrF,KAC/CiyF,EAAgBwE,mBAAmBzI,EAAc3oF,EAAOrF,EAAK,EAGzD02F,EAAmBA,CAAC1I,EAAc9D,EAAKyM,IACpC1E,EAAgByE,iBAAiB1I,EAAc9D,EAAKyM,GAGvDrI,EAA+BN,GAC5BiE,EAAgB3D,4BAA4BN,GAG/C4I,EAA6BA,CAAC5I,EAAc6I,IACzC5E,EAAgB2E,2BAA2B5I,EAAc6I,GAG5DC,EAAiCA,CAAC9I,EAAc1D,IAC7C2H,EAAgB6E,+BAA+B9I,EAAc1D,GAGhEkE,EAA2BA,CAACR,EAAc5vF,EAAGmwF,EAAcoI,KAC/D1E,EAAgBwE,mBAAmBzI,EAAc5vF,EAAGmwF,EAAcoI,EAAe,EAG7EI,EAA+BA,CAAC/I,EAAc1D,EAAc0M,EAAoBH,KACpF5E,EAAgBgF,uBAAuBjJ,EAAc1D,EAAc0M,EAAoBH,EAAc,EAGjGzI,EAAiBA,CAACJ,EAAcgJ,EAAoBnR,KACxDoM,EAAgBiF,kBAAkBlJ,EAAcgJ,EAAoBnR,EAAK,EAGrEsR,EAAmBA,CAACjN,EAAKxiE,KAC7B,MAAM2iE,EAAgB,GACtB,IAAK,IAAIjsF,EAAI,EAAGA,EAAI8rF,EAAIje,OAAO/tE,OAAQE,IACrCisF,EAAc1kF,KAAKukF,EAAIje,OAAO7tE,GAAG+B,MAEnC,MAAMi3F,EAAiB,IAAIrN,EAAariE,EAAQ3mB,OAAOD,OAAO,CAAC,EAAGu2F,EAAa,CAC7E5M,WAAY,KACZP,MACA/pF,KAAM+pF,EAAI7iD,GAAGlnC,KACbkqF,gBACAqM,mBACApI,8BACAsI,6BACAE,iCACAN,oBACAC,qBACAjI,2BACAuI,+BACA3I,oBAEFgJ,EAAeE,iBAAiBpN,GAChC+H,EAAgBsF,gBAAgBH,EAAe,EAG3CC,EAAct2F,OAAOD,OAAO,CAChCspF,cAAc,EACd+M,mBACAT,mBACApI,8BACAsI,6BACAE,iCACAN,oBACAC,qBACAjI,2BACAuI,+BACA3I,iBACAgI,sBACAC,YACAtO,YACA6F,gBACAsI,oBACAxD,QACAa,oBACAzM,SACA3iB,UACA2pB,mBACAwI,iBACCR,GAAoB,CAAC,GAElB0B,EAAkBz2F,OAAOD,OAAO,CAAC,EAAGu2F,EAAa,CACrDjN,cAAc,EACdjqF,KAAM,SACNkqF,gBACAsF,gBACA9B,gBACAoI,oBACAtL,yBACAC,6BAGF,GAAsB,kBAAXljE,GAAuBA,EAAOiuE,cACvC,OAAO,IAAIxF,GAAkBsH,SAAS/vE,EAAOiuE,cAAe5L,GAG9D,MAAM2N,EAAW,IAAI3N,EAAariE,EAAQ8vE,GAE1C,IAAI7B,EAAgB,KAChBxf,IACFwf,EAAgBxf,EAAUz/C,KAAKl1B,GAAO,IAAIuoF,EAAavoF,EAAGkmB,OAAQ,CAChE+iE,WAAYjpF,EAAGipF,WACfkF,cAAenuF,EAAGmuF,cAClB7I,SACA3iB,UACA4jB,YACA6F,gBACAsI,oBACAE,sBACAC,YACAK,mBACApI,8BACAsI,6BACAE,iCACAN,oBACAC,qBACAjI,2BACAuI,+BACA3I,iBACA+I,wBAIJ,IAAIQ,EAAiB,KACjB3F,IACF2F,EAAiB3F,EAAWt7D,KAAKo9D,IAC/B,MAAM,KAAE3zF,EAAI,OAAEunB,GAAWosE,EACzB,OAAO,IAAI/J,EAAariE,EAAQ3mB,OAAOD,OAAO,CAAC,EAAGu2F,EAAa,CAC7Dl3F,OACA0qF,aAAa,EACbT,cAAc,IACb,KAIP,MAAM6H,EAAkB,IAAI9B,EAAgB,CAC1C3I,SACAkQ,WACA/B,gBACAQ,kBACAwB,mBAGF,OAAO1F,CACX,CAEExiF,WAAAA,CAAYw5E,GAiBV,GAhBAA,EAAWA,GAAY,CAAC,EACxBr5E,KAAK43E,OAASyB,EAASzB,OACvB53E,KAAK8nF,SAAWzO,EAASyO,SACzB9nF,KAAK+lF,cAAgB1M,EAAS0M,eAAiB,GAC/C/lF,KAAK+nF,eAAiB1O,EAAS0O,gBAAkB,GACjD/nF,KAAKumF,gBAAkBlN,EAASkN,iBAAmB,GACnDvmF,KAAKgoF,YAAc,CAAC,EACpBhoF,KAAKioF,oBAAsB,GAC3BjoF,KAAKkoF,YAAc,GACnBloF,KAAKmoF,yBAA2B,CAAC,EACjCnoF,KAAKooF,cAAgB,CAAC,EAElBpoF,KAAK8nF,WACP9nF,KAAKgoF,YAAoB,OAAIhoF,KAAK8nF,UAGhC9nF,KAAK+lF,cACP,IAAK,IAAIv3F,EAAI,EAAGA,EAAIwR,KAAK+lF,cAAcz3F,OAAQE,IAC7CwR,KAAKgoF,YAAYhoF,KAAK+lF,cAAcv3F,GAAG+B,MAAQyP,KAAK+lF,cAAcv3F,GAItE,GAAIwR,KAAK+nF,eACP,IAAK,IAAIv5F,EAAI,EAAGA,EAAIwR,KAAK+nF,eAAez5F,OAAQE,IAC9CwR,KAAKgoF,YAAYhoF,KAAK+nF,eAAev5F,GAAG+B,MAAQyP,KAAK+nF,eAAev5F,GAIxE,GAAIwR,KAAKumF,gBACP,IAAK,IAAI/3F,EAAI,EAAGA,EAAIwR,KAAKumF,gBAAgBj4F,OAAQE,IAAK,CACpD,MAAM65F,EAAiBroF,KAAKumF,gBAAgB/3F,GAC5CwR,KAAKioF,oBAAoBlyF,KAAKsyF,EAAe93F,KACrD,CAEA,CAEEo3F,eAAAA,CAAgBW,GACd,IAAKA,EAAa/3F,KAAM,MAAM,IAAIc,MAAM,+BACxC2O,KAAKgoF,YAAYM,EAAa/3F,MAAQ+3F,EAClCA,EAAa9N,eACfx6E,KAAK8nF,SAAWQ,EAEtB,CAEEC,kBAAAA,CAAmBnK,EAAcoK,GAI/B,GAHApK,EAAeA,GAAgB,SAC/BoK,EAAUA,GAAW,GAEjBxoF,KAAKioF,oBAAoBx2F,QAAQ2sF,IAAiB,EAAG,CACvD,MAAMqK,EAAsBD,EAAQ/2F,QAAQ2sF,GAC5C,IAA6B,IAAzBqK,EACFD,EAAQzyF,KAAKqoF,OACR,CACL,MAAMsK,EAA8BF,EAAQ9lD,OAAO+lD,EAAqB,GAAG,GAC3ED,EAAQzyF,KAAK2yF,EACrB,CACM,OAAOF,CACb,CAEI,MAAMF,EAAetoF,KAAKgoF,YAAY5J,GACtC,GAAIkK,EAAc,CAChB,MAAMK,EAAgBH,EAAQ/2F,QAAQ2sF,GACtC,IAAuB,IAAnBuK,EAAsB,CACxBH,EAAQzyF,KAAKqoF,GACbkK,EAAapsF,WACb,IAAK,IAAI1N,EAAI,EAAGA,EAAI85F,EAAahK,gBAAgBhwF,SAAUE,EACzDwR,KAAKuoF,mBAAmBD,EAAahK,gBAAgB9vF,GAAIg6F,EAEnE,KAAa,CACL,MAAMI,EAAwBJ,EAAQ9lD,OAAOimD,EAAe,GAAG,GAC/DH,EAAQzyF,KAAK6yF,EACrB,CACA,CAEI,OAAOJ,CACX,CAEEK,kBAAAA,CAAmBzK,GACjB,OAAOp+E,KAAKuiF,cAAcnE,GAAc7hE,KAAK,KACjD,CAEEgmE,aAAAA,CAAcnE,GAIZ,OAHIp+E,KAAK8nF,UACP9nF,KAAK8nF,SAAS5rF,WAEZkiF,EACKp+E,KAAK8oF,+BAA+B9oF,KAAKuoF,mBAAmBnK,EAAc,IAAI2K,WAEhF/oF,KAAK8oF,+BAA+B33F,OAAOkgB,KAAKrR,KAAKgoF,aAChE,CAEEgB,0BAAAA,CAA2BC,GACzB,MAAMC,EAAM,GACZ,IAAK,IAAI16F,EAAI,EAAGA,EAAIy6F,EAAa36F,SAAUE,EAC5BwR,KAAKgoF,YAAYiB,EAAaz6F,KAEzC06F,EAAInzF,KAAKiK,KAAKgoF,YAAYiB,EAAaz6F,IAAI0N,YAG/C,OAAOgtF,EAAI3sE,KAAK,KACpB,CAEEusE,8BAAAA,CAA+BG,GAC7B,MAAMC,EAAM,GACZ,IAAK,IAAI16F,EAAI,EAAGA,EAAIy6F,EAAa36F,SAAUE,EAAG,CAC5C,MAAM4vF,EAAe6K,EAAaz6F,GAC5Bm6F,EAAgB3oF,KAAKioF,oBAAoBx2F,QAAQ2sF,GACvD,GAAIuK,GAAiB,EAAG,CACtBO,EAAInzF,KAAKiK,KAAKumF,gBAAgBoC,GAAe7wE,QAC7C,QACR,CACM,MAAMppB,EAAOsR,KAAKgoF,YAAY5J,GAC1B1vF,GACFw6F,EAAInzF,KAAKrH,EAAKwN,WAEtB,CACI,OAAOgtF,CACX,CAEEjR,MAAAA,GACE,OAAOj4E,KAAKuoF,mBAAmBvoF,KAAK8nF,SAASv3F,MAAMw4F,UAAUjiE,KAAIv2B,IAC/D,MAAM44F,EAAcnpF,KAAKumF,gBAAgB90F,QAAQlB,GACjD,GAAI44F,GAAe,EACjB,MAAO,CACL54F,OACAunB,OAAQ9X,KAAKumF,gBAAgB4C,GAAarxE,QAEvC,GAAI9X,KAAKgoF,YAAYz3F,GAC1B,OAAOyP,KAAKgoF,YAAYz3F,GAAM0nF,SAE9B,MAAM,IAAI5mF,MAAM,YAAad,cACrC,GAEA,CAEEs3F,QAAAA,CAASuB,EAAmBjP,GAC1Bn6E,KAAKgoF,YAAc,CAAC,EACpB,IAAK,IAAIx5F,EAAI,EAAGA,EAAI46F,EAAkB96F,OAAQE,IAAK,CACjD,MAAM66F,EAAmBD,EAAkB56F,GAC3CwR,KAAKgoF,YAAYqB,EAAiBhQ,SAAS9oF,MAAQ,IAAI4pF,EAAakP,EAAiB/O,IAAK+O,EAAiBhQ,SACjH,CACI,OAAOr5E,IACX,CAEEspF,SAAAA,CAAUlL,GACR,OAAIA,EACKp+E,KAAKgpF,2BAA2BhpF,KAAKuoF,mBAAmBnK,GAAc2K,WAExE/oF,KAAKgpF,2BAA2B73F,OAAOkgB,KAAKrR,KAAKgoF,aAC5D,CAEElB,gBAAAA,CAAiB1I,EAAc9D,EAAKyM,GAClC,GAAiB,mBAAbzM,EAAIlqF,KACN,MAAM,IAAIiB,MAAM,iDAAkDipF,EAAIlqF,QAExE,GAAI4P,KAAKupF,kBAAkBnL,GACzB,OAAOp+E,KAAKwpF,gCAAgCpL,GACvC,GAAIp+E,KAAKypF,YAAYrL,GAAe,CACzC,MAAM1vF,EAAOsR,KAAK0pF,aAAatL,GAC/B,GAAI1vF,EAAKmsF,WACP,OAAOnsF,EAAKmsF,WACP,CACL,IAAK,IAAIrsF,EAAI,EAAGA,EAAIwR,KAAKkoF,YAAY55F,OAAQE,IAC3C,GAAIwR,KAAKkoF,YAAY15F,GAAG8rF,MAAQA,EAAK,CACnC,GAAkC,IAA9B5rF,EAAKqxF,cAAczxF,QAAgBgsF,EAAIjsF,UAAUC,OAAS,EAAG,CAC/D,MAAM2nF,EAAOqE,EAAIjsF,UACjB,IAAK,IAAIs7F,EAAI,EAAGA,EAAI1T,EAAK3nF,OAAQq7F,IAC/B3pF,KAAKkoF,YAAYnyF,KAAK,CACpBxF,KAAMw2F,EAAex2F,KACrB+pF,IAAKrE,EAAKznF,GACVu4F,mBAEFr4F,EAAKqxF,cAAc4J,GAAK5C,EAAejM,QAAQ7E,EAAK0T,IACpD3pF,KAAKkoF,YAAYryF,MAEnB,OAAOnH,EAAKmsF,WAAansF,EAAKosF,QAAQpsF,EAAKk7F,WACzD,CAEY,MAAM,IAAIv4F,MAAM,4BAC5B,CAEQ2O,KAAKkoF,YAAYnyF,KAAK,CACpBxF,KAAMw2F,EAAex2F,KACrB+pF,MACAyM,mBAEF,MAAM32F,EAAO1B,EAAKosF,QAAQpsF,EAAKk7F,YAE/B,OADA5pF,KAAKkoF,YAAYryF,MACVnH,EAAKmsF,WAAazqF,CACjC,CACA,CAEI,OAAO,IACX,CAEEs5F,YAAAA,CAAatL,GAIX,OAHKp+E,KAAKypF,YAAYrL,GAGfp+E,KAAKgoF,YAAY5J,EAC5B,CAEEqL,WAAAA,CAAYrL,GACV,OAAOyL,QAAQ7pF,KAAKgoF,YAAY5J,GACpC,CAEE0L,kBAAAA,CAAmB1L,GACjB,IAAK,IAAI5vF,EAAI,EAAGA,EAAIwR,KAAKumF,gBAAgBj4F,OAAQE,IAC/C,GAAIwR,KAAKumF,gBAAgB/3F,GAAG+B,OAAS6tF,EAAc,OAAOp+E,KAAKumF,gBAAgB/3F,GAEjF,OAAO,IACX,CAEE+6F,iBAAAA,CAAkBnL,GAChB,OAAOyL,QAAQ7pF,KAAK8pF,mBAAmB1L,GAC3C,CAEEoL,+BAAAA,CAAgCpL,GAC9B,IAAIiK,EAAiBroF,KAAK8pF,mBAAmB1L,GAC7C,GAAIiK,EACF,OAAOA,EAAexN,WAExB,MAAM,IAAIxpF,MAAM,mBAAoB+sF,cACxC,CAEEM,2BAAAA,CAA4BN,GAC1B,OAAIp+E,KAAKupF,kBAAkBnL,GAClBp+E,KAAK8pF,mBAAmB1L,GAAc2B,cACpC//E,KAAKypF,YAAYrL,GACnBp+E,KAAK0pF,aAAatL,GAAc2B,cAElC,IACX,CAEEiH,0BAAAA,CAA2B5I,EAAc6I,GACvC,OAAOjnF,KAAK0pF,aAAatL,GAAc3D,cAAcwM,EACzD,CAEEC,8BAAAA,CAA+B9I,EAAc1D,GAC3C,IAAK16E,KAAKypF,YAAYrL,GACpB,MAAM,IAAI/sF,MAAM,sBAElB,GAAI2O,KAAK8nF,SAASv3F,OAAS6tF,EAAc,CACvC,MAAM5vF,EAAIwR,KAAK8nF,SAASrN,cAAchpF,QAAQipF,GAC9C,IAAW,IAAPlsF,EACF,OAAOwR,KAAK8nF,SAASzB,kBAAkB73F,EAE/C,CACI,MAAME,EAAOsR,KAAK0pF,aAAatL,GACzB5vF,EAAIE,EAAK+rF,cAAchpF,QAAQipF,GACrC,IAAW,IAAPlsF,EACF,MAAM,IAAI6C,MAAM,sBAElB,MAAM04F,EAAWr7F,EAAK23F,kBAAkB73F,GACxC,GAAwB,kBAAbu7F,EACT,MAAM,IAAI14F,MAAM,gCAElB,OAAO04F,CACX,CAEEnD,iBAAAA,CAAkBxI,EAAc5vF,GAC9B,QAAKwR,KAAKypF,YAAYrL,KACPp+E,KAAK0pF,aAAatL,GAClB2B,cAAcvxF,EACjC,CAEEq4F,kBAAAA,CAAmBzI,EAAc5vF,EAAGmwF,EAAcoI,GAChD,IAAK/mF,KAAKypF,YAAYrL,GAAe,OACrC,MAAM4L,EAAShqF,KAAK0pF,aAAatL,GAC5B4L,EAAOjK,cAAcvxF,KACxBw7F,EAAOjK,cAAcvxF,GAAKmwF,EAEhC,CAEE0I,sBAAAA,CAAuBjJ,EAAc1D,EAAc0M,EAAoBH,GACrE,MAAMv4F,EAAOsR,KAAK0pF,aAAatL,GAC/B,GAAIp+E,KAAKupF,kBAAkBnC,GAAqB,OAAO,KACvD,MAAM6C,EAAajqF,KAAK0pF,aAAatC,GAC/B54F,EAAIE,EAAK+rF,cAAchpF,QAAQipF,GACrC,IAAW,IAAPlsF,EACF,MAAM,IAAI6C,MAAM,YAAYqpF,0CAAqD0D,KAEnF,MAAM2L,EAAWr7F,EAAK23F,kBAAkB73F,GACxC,GAAwB,kBAAbu7F,EACT,MAAM,IAAI14F,MAAM,0BAA0BqpF,2BAAsC0D,KAE7E6L,EAAW5D,oBACd4D,EAAW5D,kBAAoB,IAAItxF,MAAMk1F,EAAWxP,cAAcnsF,SAEpE,MAAM47F,EAAiBD,EAAW5D,kBAAkB73F,GACpD,GAA8B,kBAAnB07F,EAA6B,CACtC,GAAIA,IAAmBH,EACrB,MAAM,IAAI14F,MAAM,4CAA4C+sF,iBAA4B1D,KAE1F,OAAOwP,CACb,CAEI,OADAD,EAAW5D,kBAAkB73F,GAAKu7F,EAC3BA,CACX,CAEEzC,iBAAAA,CAAkBlJ,EAAcgJ,EAAoBnR,GAC7Cj2E,KAAKmoF,yBAAyB/J,KACjCp+E,KAAKmoF,yBAAyB/J,GAAgB,IAAIxgF,IAClDoC,KAAKooF,cAAchK,GAAgB,IAErCp+E,KAAKmoF,yBAAyB/J,GAAclgF,IAAIkpF,GAChDpnF,KAAKooF,cAAchK,GAAcroF,KAAKkgF,EAC1C,CAEEuM,mBAAAA,GACE,OAAOxiF,KAAK8nF,SAASjN,YAAc76E,KAAK8nF,SAAShN,QAAQ96E,KAAK8nF,SAASxN,IAC3E,CAEE6P,sBAAAA,CAAuB10F,GACrB,MAAM20F,EAAgBpqF,KAAK+nF,eAAetyF,GAC1C,IAAI40F,GAAS,EACb,IAAK,IAAIC,EAAoB,EAAGA,EAAoBtqF,KAAK8nF,SAASM,cAAc95F,OAAQg8F,IACjEtqF,KAAK8nF,SAASM,cAAckC,GAChChQ,IAAIzX,OAAOtyE,OAAS65F,EAAc75F,OACjD85F,GAAS,GAGb,IAAKA,EACH,MAAM,IAAIh5F,MAAM,aAAc+4F,EAAc75F,+BAE9C,OAAO65F,EAAcvP,YAAcuP,EAActP,QAAQsP,EAAcR,WAC3E,CAEEW,cAAAA,GACE,MAAMz8D,EAAS,CACb,CAAC9tB,KAAK8nF,SAASv3F,MAAOyP,KAAK8nF,SAAShN,QAAQ96E,KAAK8nF,SAASxN,MAEtDr/C,EAAOj7B,KAAKuoF,mBAAmBvoF,KAAK8nF,SAASv3F,MACnD,IAAK,IAAI/B,EAAI,EAAGA,EAAIysC,EAAK3sC,OAAQE,IAAK,CACpC,MAAM4vF,EAAenjD,EAAKzsC,GACpB85F,EAAetoF,KAAKgoF,YAAY5J,GACtCtwD,EAAOswD,GAAgBkK,EAAaxN,QAAQwN,EAAahO,IAC/D,CACI,OAAOxsD,CACX,EAGAszB,EAAOL,QAAU,CACfw/B,kBAEF,EAAE,CAAC,GAAG,GAAG,CAAC,SAASxyF,EAAQqzD,EAAOL,GAClC,MAAMkG,EAAQl5D,EAAQ,UAChB,MAAE8rF,GAAU9rF,EAAQ,aACpB,eAAEy8F,GAAmBz8F,EAAQ,qBAEnC,MAAMosF,EACJt6E,WAAAA,CAAYiY,EAAQuhE,GAClB,IAAKvhE,IAAWuhE,EAASiB,IACvB,MAAM,IAAIjpF,MAAM,+BA8ClB,GA5CAgoF,EAAWA,GAAY,CAAC,EACxBr5E,KAAK8X,OAASA,EACd9X,KAAKs6E,IAAM,KACXt6E,KAAKzP,KAAyB,kBAAXunB,EAAsBuhE,EAASmB,aAChD,SACCnB,EAAS9oF,MAAQspF,EAAM4Q,0BAA0B3yE,GAAW,KAC/D9X,KAAKs+E,gBAAkB,GACvBt+E,KAAKm4E,UAAY,CAAC,EAClBn4E,KAAKg+E,cAAgB,CAAC,EACtBh+E,KAAKsmF,kBAAoB,CAAC,EAC1BtmF,KAAKw6E,cAAe,EACpBx6E,KAAKi7E,aAAc,EACnBj7E,KAAK8iF,MAAQ,KACb9iF,KAAKumE,UAAY,KACjBvmE,KAAK0qF,YAAc,KACnB1qF,KAAK+6B,SAAW,KAChB/6B,KAAKooF,cAAgB,KACrBpoF,KAAK2qF,OAAS,GACd3qF,KAAK4mF,kBAAoB,KACzB5mF,KAAK6mF,mBAAqB,KAC1B7mF,KAAK8mF,iBAAmB,KACxB9mF,KAAK0+E,4BAA8B,KACnC1+E,KAAKknF,+BAAiC,KACtClnF,KAAK4+E,yBAA2B,KAChC5+E,KAAKmnF,6BAA+B,KACpCnnF,KAAKunF,iBAAmB,KACxBvnF,KAAKw+E,eAAiB,KACtBx+E,KAAKwmF,oBAAsB,KAC3BxmF,KAAKymF,UAAY,KACjBzmF,KAAK2jF,kBAAoB,KACzB3jF,KAAKy6E,cAAwC,kBAAhBz6E,KAAK8X,OAAsB+hE,EAAMI,2BAA2Bj6E,KAAK8X,QAAU,KACxG9X,KAAK+/E,cAAgB,GACrB//E,KAAKi+E,cAAgB,GACrBj+E,KAAKqmF,kBAAoB,KACzBrmF,KAAK66E,WAAa,KAClB76E,KAAKk3E,OAAS,GACdl3E,KAAKu0D,QAAU,KACfv0D,KAAK+6E,uBAAyB,KAC9B/6E,KAAKg7E,yBAA2B,KAChCh7E,KAAK0mF,cAAgB,KACrB1mF,KAAKk+E,iBAAmB,KACxBl+E,KAAK4qF,sBAAuB,EAC5B5qF,KAAK6qF,2BAA6B,KAE9BxR,EACF,IAAK,MAAMz9E,KAAKy9E,EACTA,EAASliF,eAAeyE,IACxBoE,KAAK7I,eAAeyE,KACzBoE,KAAKpE,GAAKy9E,EAASz9E,IAIvBoE,KAAK8qF,aAAe,CAAC,EAErB9qF,KAAK+qF,WACL/qF,KAAKgrF,QAAU,KACfhrF,KAAKirF,uBAAyB,CAAC,CACnC,CAEEF,QAAAA,GACE,GAA2B,kBAAhB/qF,KAAK8X,SAAwB9X,KAAKs6E,IAC3C,MAAM,IAAIjpF,MAAM,4BAGlB,IAAK2O,KAAKs6E,MAAQT,EAAMqR,iBAAiBlrF,KAAK8X,QAC5C,MAAM,IAAIzmB,MAAM,qCAGlB,IAAK2O,KAAKzP,KACR,MAAM,IAAIc,MAAM,8BAGlB,GAAI2O,KAAK+/E,cAAczxF,OAAS,GAAK0R,KAAK+/E,cAAczxF,SAAW0R,KAAKy6E,cAAcnsF,OACpF,MAAM,IAAI+C,MAAM,0BAA2B2O,KAAK+/E,cAAczxF,kBAAoB0R,KAAKy6E,cAAcnsF,UAGvG,GAAI0R,KAAKk3E,OAAO5oF,OAAS,EACvB,MAAM,IAAI+C,MAAM,gCAEtB,CAEE85F,oBAAAA,CAAqB56F,GACnB,QAAKyP,KAAKm4E,WACHn4E,KAAKm4E,UAAUhhF,eAAe5G,EACzC,CAEEutF,OAAAA,CAAQpD,GACN,MAAwE,UAAjE16E,KAAK+/E,cAAc//E,KAAKy6E,cAAchpF,QAAQipF,GACzD,CAEEoB,SAAAA,CAAU/6D,GACR/gB,KAAK2qF,OAAO50F,KAAKgrB,EACrB,CAEEg7D,QAAAA,CAASh7D,GACP,GAAI/gB,KAAK+gB,QAAUA,EACjB,MAAM,IAAI1vB,MAAM,mBAAoB0vB,aAAmB/gB,KAAK+gB,SAE9D/gB,KAAK2qF,OAAO90F,KAChB,CAEE+mF,OAAAA,CAAQ77D,GACN,OAAO/gB,KAAK+gB,QAAUA,CAC1B,CAEE,SAAIA,GACF,OAAO/gB,KAAK2qF,OAAO3qF,KAAK2qF,OAAOr8F,OAAS,EAC5C,CAEE+vF,yBAAAA,CAA0B/D,GACxB,GAAiB,eAAbA,EAAIlqF,KACN,OAAOkqF,EAAI/pF,KACN,GAAiB,mBAAb+pF,EAAIlqF,KACb,MAAO,OAGT,GAAiB,qBAAbkqF,EAAIlqF,MACFkqF,EAAIv4B,QAAUu4B,EAAI13C,SACpB,OAAI03C,EAAIv4B,OAAO5qD,eAAe,SAA+B,SAApBmjF,EAAIv4B,OAAOxxD,KAC3CyP,KAAKq+E,0BAA0B/D,EAAI13C,UAI1C5iC,KAAKq+E,0BAA0B/D,EAAIv4B,QACnC,IACA/hD,KAAKq+E,0BAA0B/D,EAAI13C,UAKzC,GAAI03C,EAAInjF,eAAe,eAAgB,CACrC,MAAMi0F,EAAkB9Q,EAAIlZ,YAAY,GACxC,GAA6B,YAAzBgqB,EAAgBh7F,MAAgD,IAA1Bg7F,EAAgBp4F,OAA0C,IAA3BsnF,EAAIlZ,YAAY9yE,OACvF,OAAO0R,KAAKq+E,0BAA0B/D,EAAIlZ,YAAY,GAE9D,CAEI,MAAMphE,KAAKm7E,eAAe,oCAAqCb,EACnE,CAEEsP,QAAAA,CAASyB,GACP,GAAIrrF,KAAKs6E,IACP,OAAOt6E,KAAKs6E,IAEd,GAA2B,kBAAhBt6E,KAAK8X,OAEd,OADA9X,KAAK0nF,iBAAiB1nF,KAAK8X,QACpB9X,KAAKs6E,IAAMt6E,KAAK8X,OAIzB,GAAiB,QADjBuzE,EAAWA,GAAYpkC,GAErB,MAAM,IAAI51D,MAAM,4BAGlB,MAAMipF,EAAMnpF,OAAOwvF,OAAO0K,EAASv3B,MAAM,gBAAiB9zD,KAAKzP,UAAYyP,KAAK8X,UAAY,CAC1Fw3C,WAAW,KAEPg8B,EAAchR,EAAIz5E,KAAK,GAAG84D,aAAa,GAAGj9C,KAGhD,GAFA1c,KAAK0nF,iBAAiB4D,IAEjBhR,EACH,MAAM,IAAIjpF,MAAM,2BAGlB,OAAO2O,KAAKs6E,IAAMgR,CACtB,CAEE5D,gBAAAA,CAAiBpN,GACf,MAAM,SAAEv/C,EAAQ,aAAE4+B,EAAY,UAAE4M,EAAS,YAAEmkB,EAAW,cAAEtC,GAAkB,IAAIoC,EAAelQ,GAC7Ft6E,KAAK+6B,SAAWA,EAChB/6B,KAAK0qF,YAAcA,EACnB1qF,KAAKooF,cAAgBA,EACrBpoF,KAAKumE,UAAYA,EACjB,IAAK,IAAI/3E,EAAI,EAAGA,EAAImrE,EAAarrE,OAAQE,IAAK,CAC5C,MAAMwvE,EAAcrE,EAAanrE,IAC3B,IAAE8rF,EAAG,cAAEiR,EAAa,cAAEC,GAAkBxtB,GACxC,KAAEthD,GAAS49D,EACXt8E,EAAegC,KAAKyrF,gBAAgB/uE,GAC1C,IAAIqgE,EAAY,KAEhB,GAAIwO,GAAiBC,EACnBzO,EAAY,eAEZ,GAAIrgE,EAAM,CACR,MAAMgvE,EAAW1rF,KAAK86E,QAAQp+D,GAC9B,OAAQgvE,GACN,IAAK,UACL,IAAK,QACL,IAAK,SAED3O,EADgB,qBAAdrgE,EAAKtsB,KACKs7F,EAEA,SAEd,MACF,IAAK,iBACH3O,EAAY,SACZ,MACF,QACEA,EAAY2O,EAE1B,CAEM1tB,EAAY+e,UAAYA,EACxB/e,EAAYhgE,aAAeA,EAC3BggE,EAAY6d,OAAS77E,KAAK2rF,mBAAmB3tF,EACnD,CAEI,IAAK,IAAIxP,EAAI,EAAGA,EAAI+3E,EAAUj4E,OAAQE,IACpCwR,KAAKunF,iBAAiBhhB,EAAU/3E,GAAIwR,KAAK8X,OAE/C,CAEE0kE,cAAAA,CAAelC,GACb,IAAK,IAAI9rF,EAAI,EAAGA,EAAIwR,KAAK0qF,YAAYp8F,OAAQE,IAAK,CAChD,MAAMo9F,EAAa5rF,KAAK0qF,YAAYl8F,GACpC,GAAI8rF,IAAQsR,EAAWtR,IACrB,OAAOsR,EAAW5tB,WAE1B,CACI,OAAO,IACX,CAEE+jB,eAAAA,CAAgBzH,GACd,GAAiB,eAAbA,EAAIlqF,KACN,MAAM,IAAIiB,MAAM,UAAUipF,EAAIlqF,yBAEhC,IAAIA,EAAO,KACX,MAAM62F,EAAgBjnF,KAAKy6E,cAAchpF,QAAQ6oF,EAAI/pF,MACrD,IAAuB,IAAnB02F,EAAsB,CACxB,MAAMjpB,EAAch+D,KAAKw8E,eAAelC,GACxC,GAAItc,EACF,OAAOA,EAAY+e,SAE3B,KAAW,CACL,MAAM4B,EAAe3+E,KAAK+/E,cAAckH,GACpCtI,IACFvuF,EAAOuuF,EAEf,CACI,IAAKvuF,GAAQ4P,KAAK4qF,qBAChB,MAAM,IAAIv5F,MAAM,kBAAkBd,kBAEpC,OAAOH,CACX,CAEEy7F,aAAAA,CAAcz7F,GACZ,IAAK07F,EAAc30F,eAAe/G,GAChC,MAAM,IAAIiB,MAAM,yBAA0BjB,KAE5C,OAAO07F,EAAc17F,EACzB,CAEE27F,eAAAA,CAAgBC,GACd,GAAIhsF,KAAKg+E,cAAcgO,GAAe,CACpC,MAAM57F,EAAO4P,KAAKg+E,cAAcgO,GAChC,MAAa,UAAT57F,EACK,SAEAA,CAEf,CACI,MAAM,IAAIiB,MAAM,sBAAuB26F,kBAC3C,CAEE9vF,QAAAA,GACE,OAAI8D,KAAKgrF,QAAgBhrF,KAAKgrF,QACvBhrF,KAAKgrF,QAAUhrF,KAAK26E,WAAW36E,KAAK4pF,WAAY,IAAIrtE,KAAK,IAAI/qB,MACxE,CAEEymF,MAAAA,GACE,MAAMoB,EAAW,CACfvhE,OAAQ9X,KAAK8X,OACbvnB,KAAMyP,KAAKzP,KACX4nF,UAAWn4E,KAAKm4E,UAChB6F,cAAeh+E,KAAKg+E,cACpBxD,aAAcx6E,KAAKw6E,aACnBS,YAAaj7E,KAAKi7E,YAClB6H,MAAO9iF,KAAK8iF,MACZ5L,OAAQl3E,KAAKk3E,OACbyM,kBAAmB3jF,KAAK2jF,kBACxBlJ,cAAez6E,KAAKy6E,cACpBsF,cAAe//E,KAAK+/E,cACpB9B,cAAej+E,KAAKi+E,cACpBpD,WAAY76E,KAAK66E,WACjBE,uBAAwB/6E,KAAK+6E,uBAC7BC,yBAA0Bh7E,KAAKg7E,0BAGjC,MAAO,CACLV,IAAKt6E,KAAKs6E,IACVjB,WAEN,CAEEyB,OAAAA,CAAQR,GACN,GAAIvlF,MAAMC,QAAQslF,GAChB,OAAOt6E,KAAK86E,QAAQR,EAAIA,EAAIhsF,OAAS,IAEvC,OAAQgsF,EAAIlqF,MACV,IAAK,iBACH,OAAO4P,KAAK86E,QAAQR,EAAIz5E,MAC1B,IAAK,kBAEH,OADkBb,KAAK86E,QAAQR,EAAI5yC,SAAS,KAE1C,IAAK,WACL,IAAK,WACL,IAAK,WACH,MAAO,UAAU4yC,EAAI5yC,SAASp5C,UAElC,MAAO,SAAUgsF,EAAI5yC,SAASp5C,UAChC,IAAK,UACH,MAAM29F,EAAajsF,KAAKksF,OAAO5R,GAC/B,OAAIt6E,KAAK8qF,aAAamB,GACbjsF,KAAK8qF,aAAamB,GAEvBE,OAAOC,UAAU9R,EAAItnF,OAChB,kBACgB,IAAdsnF,EAAItnF,QAAgC,IAAdsnF,EAAItnF,MAC5B,UAEA,SAET,IAAK,uBACH,OAAOgN,KAAK86E,QAAQR,EAAItmE,MAC1B,IAAK,iBACH,GAAIhU,KAAKu+E,kBAAkBjE,GACzB,MAAO,SAET,IAAKA,EAAIzX,SAAWyX,EAAIzX,OAAOtyE,KAAM,CACnC,GAAwB,uBAApB+pF,EAAIzX,OAAOzyE,MAAiCkqF,EAAIzX,OAAOzB,YAAYkZ,EAAIzX,OAAOzB,YAAY9yE,OAAS,GAAGs0C,SAASryC,KAAM,CACvH,MAAM6tF,EAAe9D,EAAIzX,OAAOzB,YAAYkZ,EAAIzX,OAAOzB,YAAY9yE,OAAS,GAAGs0C,SAASryC,KAExF,OADAyP,KAAKqsF,2BAA2BjO,EAAc9D,EAAIjsF,WAC3C2R,KAAK8mF,iBAAiB1I,EAAc9D,EAAKt6E,KAC9D,CACY,GAAoD,eAAhDA,KAAKssF,qBAAqBhS,EAAIzX,QAAQ,GACxC,OAAO,KAET,GAAwB,qBAApByX,EAAIzX,OAAOzyE,MAA+BkqF,EAAIzX,OAAO9gB,QAAUu4B,EAAIzX,OAAOjgC,UAAY03C,EAAIzX,OAAOjgC,SAASryC,MAAQ+pF,EAAIjsF,UAAW,CACnI,MAAM+vF,EAAe9D,EAAIzX,OAAOjgC,SAASryC,KAEzC,OADAyP,KAAKqsF,2BAA2BjO,EAAc9D,EAAIjsF,WAC3C2R,KAAK8mF,iBAAiB1I,EAAc9D,EAAKt6E,KAC9D,CACY,MAAMA,KAAKm7E,eAAe,0BAA2Bb,EACjE,CACU,GAAIA,EAAIzX,QAAUyX,EAAIzX,OAAOtyE,KAAM,CACjC,MAAM6tF,EAAe9D,EAAIzX,OAAOtyE,KAEhC,OADAyP,KAAKqsF,2BAA2BjO,EAAc9D,EAAIjsF,WAC3C2R,KAAK8mF,iBAAiB1I,EAAc9D,EAAKt6E,KAC5D,CACU,MAAMA,KAAKm7E,eAAe,2BAA4Bb,EAAIlqF,QAAUkqF,GACtE,IAAK,oBACH,MAAO,UACT,IAAK,mBACH,OAAQA,EAAIxa,UACV,IAAK,IACL,IAAK,IACH,GAAI9/D,KAAK6qF,2BACP,MAAO,SAEP,MAEF,IAAK,IACL,IAAK,IACH,MAAO,UACT,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,MACH,MAAO,UAEb,MAAMz6F,EAAO4P,KAAK86E,QAAQR,EAAItmE,MAC9B,GAAIhU,KAAK48E,QAAQ,2BAA4B,OAAOxsF,EACpD,GAAa,mBAATA,EAA2B,CAC7B,MAAMm8F,EAAYvsF,KAAK86E,QAAQR,EAAI/e,OACnC,MAAkB,mBAAdgxB,EACEjS,EAAItmE,KAAKhhB,MAAQ,IAAM,EAClB,UAEA,QAGJu5F,CACnB,CACU,OAAOT,EAAc17F,IAASA,EAChC,IAAK,mBA6CL,IAAK,kBACH,OAAO4P,KAAK86E,QAAQR,EAAIhgB,UA5C1B,IAAK,kBACH,MAAqB,MAAjBggB,EAAIxa,SACC,UAEF9/D,KAAK86E,QAAQR,EAAIhgB,UAC1B,IAAK,sBAAuB,CAC1B,MAAMX,EAAe2gB,EAAI3gB,aACzB,IAAI6yB,EACJ,IAAK,IAAIh+F,EAAI,EAAGA,EAAImrE,EAAarrE,OAAQE,IAAK,CAC5C,MAAMwvE,EAAcrE,EAAanrE,GACjCg+F,EAAWxsF,KAAK86E,QAAQ9c,EACpC,CACU,IAAKwuB,EACH,MAAMxsF,KAAKm7E,eAAe,sCAAuCb,GAEnE,OAAOkS,CACjB,CACQ,IAAK,qBACH,MAAMxuB,EAAch+D,KAAKw8E,eAAelC,EAAI7iD,IAC5C,IAAKumC,EACH,MAAMh+D,KAAKm7E,eAAe,4BAA6Bb,GAGzD,IAAKtc,EAAY+e,UACf,MAAM/8E,KAAKm7E,eAAe,sCAAuCb,GAGnE,OAAOtc,EAAY+e,UACrB,IAAK,aACH,GAAiB,aAAbzC,EAAI/pF,KACN,MAAO,SAET,GAAIyP,KAAKysF,cAAcnS,IAEH,UADAt6E,KAAKssF,qBAAqBhS,GAE1C,OAAOt6E,KAAK0sF,qBAAqBpS,GAGrC,MAAMqD,EAAS39E,KAAK2sF,qBAAqBrS,GACzC,OAAIqD,GAAUA,EAAOjhE,KACZ1c,KAAK86E,QAAQ6C,EAAOjhE,MAEtB,KAGT,IAAK,mBACH,GAAI1c,KAAKu+E,kBAAkBjE,GAAM,CAC/B,OAAQA,EAAI13C,SAASryC,MACnB,IAAK,OAEL,IAAK,QAEL,IAAK,QACH,MAAO,UAEX,MAAO,QACnB,CACU,GAAIyP,KAAKysF,cAAcnS,GAAM,CAE3B,OAD0Bt6E,KAAKssF,qBAAqBhS,IAElD,IAAK,UACH,OAAOt6E,KAAK6rF,cAAc7rF,KAAK0sF,qBAAqBpS,EAAIv4B,SAC1D,IAAK,YACH,OAAO/hD,KAAK6rF,cAAc7rF,KAAK0sF,qBAAqBpS,EAAIv4B,OAAOA,SACjE,IAAK,cACH,OAAO/hD,KAAK6rF,cAAc7rF,KAAK0sF,qBAAqBpS,EAAIv4B,OAAOA,OAAOA,SACxE,IAAK,gBACH,OAAO/hD,KAAK6rF,cAAc7rF,KAAK0sF,qBAAqBpS,EAAIv4B,OAAOA,OAAOA,OAAOA,SAC/E,IAAK,qBACL,IAAK,oBACH,MAAO,UACT,IAAK,oBACH,OAAO/hD,KAAK0mF,cAAgB,UAAY,iBAC1C,IAAK,uBACH,OAAO1mF,KAAK+rF,gBAAgBzR,EAAI13C,SAASryC,MAC3C,IAAK,yBACH,OAAOyP,KAAK6rF,cAAc7rF,KAAK+rF,gBAAgBzR,EAAIv4B,OAAOnf,SAASryC,OACrE,IAAK,2BACH,OAAOyP,KAAK6rF,cAAc7rF,KAAK+rF,gBAAgBzR,EAAIv4B,OAAOA,OAAOnf,SAASryC,OAC5E,IAAK,6BACH,OAAOyP,KAAK6rF,cAAc7rF,KAAK+rF,gBAAgBzR,EAAIv4B,OAAOA,OAAOA,OAAOnf,SAASryC,OACnF,IAAK,+BACH,OAAOyP,KAAK6rF,cAAc7rF,KAAK+rF,gBAAgBzR,EAAIv4B,OAAOA,OAAOA,OAAOA,OAAOnf,SAASryC,OAC1F,IAAK,SACL,IAAK,WACL,IAAK,aACH,OAAOyP,KAAK6rF,cAAc7rF,KAAK86E,QAAQR,EAAIv4B,SAC7C,IAAK,cACH,GAAI/hD,KAAK4sF,kBAAkBtS,GACzB,MAAO,SAET,OAAQA,EAAI13C,SAASryC,MACnB,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH,OAAOyP,KAAK6rF,cAAc7rF,KAAK0sF,qBAAqBpS,EAAIv4B,SAE5D,IAAK,OACH,MAAO,SAEb,MAAM/hD,KAAKm7E,eAAe,qCAAsCb,EAC5E,CACU,MAAMt6E,KAAKm7E,eAAe,qCAAsCb,GAClE,IAAK,wBASL,IAAK,cACH,OAAOt6E,KAAK86E,QAAQR,EAAIjgB,YAR1B,IAAK,sBACL,IAAK,qBACH,MAAMwyB,EAAa7sF,KAAK8sF,eAAexS,EAAIz5E,MAC3C,OAAIgsF,EACK7sF,KAAK86E,QAAQ+R,GAEf,KAGT,IAAK,qBACH,OAAO7sF,KAAK86E,QAAQR,EAAIlZ,YAAYkZ,EAAIlZ,YAAY9yE,OAAS,IAC/D,QACE,MAAM0R,KAAKm7E,eAAe,2BAA4Bb,EAAIlqF,QAAUkqF,GAE9E,CAEEoS,oBAAAA,CAAqBpS,GACnB,MAAMlqF,EAAO4P,KAAK+hF,gBAAgBzH,GAClC,IAAKlqF,EACH,MAAM4P,KAAKm7E,eAAe,GAAGb,EAAIlqF,sBAAuBkqF,GAE1D,OAAOlqF,CACX,CAEEi8F,0BAAAA,CAA2BjO,EAAcnI,GACvC,IAAK,IAAIznF,EAAI,EAAGA,EAAIynF,EAAK3nF,OAAQE,IAAK,CACpC,IAAKwR,KAAK4mF,kBAAkBxI,EAAc5vF,GAAI,SAC9C,MAAM4B,EAAO4P,KAAK86E,QAAQ7E,EAAKznF,IAC/B,IAAK4B,EACH,MAAM4P,KAAKm7E,eAAe,4BAA4B3sF,IAAKynF,EAAKznF,IAElEwR,KAAK6mF,mBAAmBzI,EAAc5vF,EAAG4B,EAC/C,CACA,CAEEw8F,iBAAAA,CAAkBtS,GAChB,MAAMyS,EAAiB,CACrB,IACA,KACA,QACA,UACA,MACA,OACA,QACA,UAEF,MAAoB,qBAAbzS,EAAIlqF,MACTkqF,EAAIv4B,QAA8B,eAApBu4B,EAAIv4B,OAAO3xD,MACL,SAApBkqF,EAAIv4B,OAAOxxD,MACX+pF,EAAI13C,UACkB,eAAtB03C,EAAI13C,SAASxyC,MACb28F,EAAet7F,QAAQ6oF,EAAI13C,SAASryC,OAAS,CACnD,CAEEguF,iBAAAA,CAAkBjE,GAChB,MAAM0S,EAAgB,CACpB,MACA,OACA,QACA,OACA,QACA,OACA,QACA,QACA,OACA,OACA,QACA,MACA,OACA,QACA,MACA,QACA,SACA,OACA,MACA,OACA,QACA,QACA,MACA,MACA,MACA,SACA,QACA,OACA,MACA,OACA,OACA,MACA,OACA,SAEF,MAAoB,mBAAb1S,EAAIlqF,MACTkqF,EAAIzX,QACgB,qBAApByX,EAAIzX,OAAOzyE,MACXkqF,EAAIzX,OAAO9gB,QACgB,eAA3Bu4B,EAAIzX,OAAO9gB,OAAO3xD,MACS,SAA3BkqF,EAAIzX,OAAO9gB,OAAOxxD,MAClB+pF,EAAIzX,OAAOjgC,UACkB,eAA7B03C,EAAIzX,OAAOjgC,SAASxyC,MACpB48F,EAAcv7F,QAAQ6oF,EAAIzX,OAAOjgC,SAASryC,OAAS,CACzD,CAEEk8F,aAAAA,CAAcnS,GACZ,MAAoB,eAAbA,EAAIlqF,MAAsC,qBAAbkqF,EAAIlqF,IAC5C,CAEEyrF,MAAAA,CAAOvB,GACL,OAAOt6E,KAAK2rF,mBAAmB3rF,KAAKyrF,gBAAgBnR,GACxD,CAEEqR,kBAAAA,CAAmB3tF,GACjB,OAAOA,IAAgBA,EAAaivF,OAAQjvF,EAAaivF,OAAM7xD,GAAcA,EAAWygD,QAC5F,CAEE4P,eAAAA,CAAgBnR,EAAKt8E,EAAckvF,GAIjC,GAHKlvF,IACHA,EAAe,KAEZs8E,EAAK,OAAO,KACjB,GAAIvlF,MAAMC,QAAQslF,GAAM,CACtB,IAAK,IAAI9rF,EAAI,EAAGA,EAAI8rF,EAAIhsF,OAAQE,IAC9BwR,KAAKyrF,gBAAgBnR,EAAI9rF,GAAIwP,EAAckvF,GAE7C,OAAOlvF,CACb,CACI,OAAQs8E,EAAIlqF,MACV,IAAK,uBAGH,OAFA4P,KAAKyrF,gBAAgBnR,EAAItmE,KAAMhW,EAAckvF,GAC7CltF,KAAKyrF,gBAAgBnR,EAAI/e,MAAOv9D,EAAckvF,GACvClvF,EACT,IAAK,wBAIH,OAHAgC,KAAKyrF,gBAAgBnR,EAAI17E,KAAMZ,EAAckvF,GAC7CltF,KAAKyrF,gBAAgBnR,EAAIlmF,UAAW4J,EAAckvF,GAClDltF,KAAKyrF,gBAAgBnR,EAAIjgB,WAAYr8D,EAAckvF,GAC5ClvF,EACT,IAAK,UACHA,EAAajI,KAAK,CAChB4nF,OAAQ,UACR3qF,MAAOsnF,EAAItnF,MACX6oF,QAAsB,IAAdqR,GAA6B5S,EAAItnF,OAAQ,KAAasnF,EAAItnF,MAAQ23C,MAAauN,MAAMoiC,EAAItnF,SAEnG,MACF,IAAK,qBACH,OAAOgN,KAAKyrF,gBAAgBnR,EAAI59D,KAAM1e,EAAckvF,GACtD,IAAK,aACH,MAAMlvB,EAAch+D,KAAKw8E,eAAelC,GACxC,GAAItc,EACFhgE,EAAajI,KAAK,CAChBxF,KAAM+pF,EAAI/pF,KACVotF,OAAQ,cACR9B,QAAQqR,GAAoBltF,KAAK2rF,mBAAmB3tB,EAAYhgE,qBAE7D,GAAIgC,KAAKy6E,cAAchpF,QAAQ6oF,EAAI/pF,OAAS,EACjDyN,EAAajI,KAAK,CAChBxF,KAAM+pF,EAAI/pF,KACVotF,OAAQ,WACR9B,QAAQ,SAEL,GAAI77E,KAAK4qF,qBACd,MAAM,IAAIv5F,MAAM,kCAAkCipF,EAAI/pF,SAExD,MACF,IAAK,sBACH,OAAOyP,KAAKyrF,gBAAgBnR,EAAIz5E,KAAKA,KAAKy5E,EAAIz5E,KAAKA,KAAKvS,OAAS,GAAI0P,EAAckvF,GACrF,IAAK,kBACH,OAAOltF,KAAKyrF,gBAAgBnR,EAAIhgB,SAAUt8D,GAC5C,IAAK,mBACL,IAAK,oBAIH,OAHAkvF,EAA8B,MAAjB5S,EAAIxa,UAAqC,MAAjBwa,EAAIxa,SACzC9/D,KAAKyrF,gBAAgBnR,EAAItmE,KAAMhW,EAAckvF,GAC7CltF,KAAKyrF,gBAAgBnR,EAAI/e,MAAOv9D,EAAckvF,GACvClvF,EACT,IAAK,kBACL,IAAK,mBACH,OAAOgC,KAAKyrF,gBAAgBnR,EAAIhgB,SAAUt8D,EAAckvF,GAC1D,IAAK,sBACH,OAAOltF,KAAKyrF,gBAAgBnR,EAAI3gB,aAAc37D,EAAckvF,GAC9D,IAAK,kBAKH,OAJAlvF,EAAajI,KAAK,CAChB4nF,OAAQ,cACR9B,QAAQ,IAEH79E,EACT,IAAK,iBAKH,OAJAA,EAAajI,KAAK,CAChB4nF,OAAQ,WACR9B,QAAQ,IAEH79E,EACT,IAAK,mBACH,MAAMmvF,EAAUntF,KAAK49E,2BAA2BtD,GAChD,OAAQ6S,EAAQ5P,WACd,IAAK,UACHv9E,KAAKyrF,gBAAgBnR,EAAIv4B,OAAQ/jD,EAAckvF,GAC/C,MACF,IAAK,YACHltF,KAAKyrF,gBAAgBnR,EAAIv4B,OAAOA,OAAQ/jD,EAAckvF,GACtD,MACF,IAAK,cACHltF,KAAKyrF,gBAAgBnR,EAAIv4B,OAAOA,OAAOA,OAAQ/jD,EAAckvF,GAC7D,MACF,IAAK,oBACCltF,KAAK0mF,eACP1oF,EAAajI,KAAK,CAChBxF,KAAM48F,EAAQ58F,KACdotF,OAAQ,SACR9B,QAAQ,IAKhB,GAAIsR,EAaF,OAZIA,EAAQvqD,UACV5iC,KAAKyrF,gBAAgB0B,EAAQvqD,SAAU5kC,EAAckvF,GAEnDC,EAAQ3P,WACVx9E,KAAKyrF,gBAAgB0B,EAAQ3P,UAAWx/E,EAAckvF,GAEpDC,EAAQ1P,WACVz9E,KAAKyrF,gBAAgB0B,EAAQ1P,UAAWz/E,EAAckvF,GAEpDC,EAAQzP,WACV19E,KAAKyrF,gBAAgB0B,EAAQzP,UAAW1/E,EAAckvF,GAEjDlvF,EAET,IAAK,qBACH,OAAOgC,KAAKyrF,gBAAgBnR,EAAIlZ,YAAapjE,EAAckvF,GAC7D,QACE,MAAMltF,KAAKm7E,eAAe,kBAAmBb,EAAIlqF,0BAA4BkqF,GAEnF,OAAOt8E,CACX,CAEEsuF,oBAAAA,CAAqBhS,EAAK8S,GACxB,IAAKptF,KAAKysF,cAAcnS,GACtB,MAAM,IAAIjpF,MAAM,gBAAiBipF,EAAIlqF,qCAEvC,GAAiB,eAAbkqF,EAAIlqF,KACN,MAAO,QAET,MAAMmtF,EAAY,GAClB,KACOjD,GACDA,EAAIld,SACNmgB,EAAUxnF,KAAK,MACO,mBAAbukF,EAAIlqF,KACbmtF,EAAUpmC,QAAQ,QACTmjC,EAAI13C,UAAY03C,EAAI13C,SAASryC,KAEd,MAAtB+pF,EAAI13C,SAASryC,MACS,MAAtB+pF,EAAI13C,SAASryC,MACS,MAAtB+pF,EAAI13C,SAASryC,KAEbgtF,EAAUpmC,QAAQi2C,EAAiB,IAAM9S,EAAI13C,SAASryC,KAAO,UAEvC,cAAtB+pF,EAAI13C,SAASryC,MACS,WAAtB+pF,EAAI13C,SAASryC,MACS,WAAtB+pF,EAAI13C,SAASryC,KAEbgtF,EAAUpmC,QAAQ,IAAMmjC,EAAI13C,SAASryC,MAErCgtF,EAAUpmC,QAAQi2C,EAAiB,IAAM9S,EAAI13C,SAASryC,KAAO,UAEtD+pF,EAAI/pF,KACbgtF,EAAUpmC,QAAQi2C,EAAiB9S,EAAI/pF,KAAO,SACrC+pF,EAAIzX,QAAUyX,EAAIzX,OAAOtyE,KAClCgtF,EAAUpmC,QAAQi2C,EAAiB9S,EAAIzX,OAAOtyE,KAAO,KAAO,QACnD+pF,EAAI5yC,SACb61C,EAAUpmC,QAAQ,MAElBomC,EAAUpmC,QAAQ,WAEpBmjC,EAAMA,EAAIv4B,OAGZ,MAAMsrC,EAAkB9P,EAAUhhE,KAAK,IACvC,OAAI6wE,GAIuB,CACzB,QACA,UACA,YACA,cACA,gBACA,cACA,qBACA,oBACA,oBACA,uBACA,yBACA,2BACA,6BACA,+BACA,SACA,WACA,aACA,QAEqB37F,QAAQ47F,IAAoB,EAvB1CA,EA0BF,IACX,CAEE5K,KAAAA,GACE,OAAOziF,KAAK9D,WAAW5N,OAAS,CACpC,CAEEqsF,UAAAA,CAAWL,EAAKC,GACd,GAAY,OAARD,EACF,MAAMt6E,KAAKm7E,eAAe,WAAYb,GAEtC,GAAIvlF,MAAMC,QAAQslF,GAAM,CACtB,IAAK,IAAI9rF,EAAI,EAAGA,EAAI8rF,EAAIhsF,OAAQE,IAC9BwR,KAAK26E,WAAWL,EAAI9rF,GAAI+rF,GAE1B,OAAOA,CACf,CAEM,OAAQD,EAAIlqF,MACV,IAAK,sBACH,OAAO4P,KAAKstF,uBAAuBhT,EAAKC,GAC1C,IAAK,qBACH,OAAOv6E,KAAKutF,sBAAsBjT,EAAKC,GACzC,IAAK,kBACH,OAAOv6E,KAAK46E,mBAAmBN,EAAKC,GACtC,IAAK,UACH,OAAOv6E,KAAKk7E,WAAWZ,EAAKC,GAC9B,IAAK,mBACH,OAAOv6E,KAAKo7E,oBAAoBd,EAAKC,GACvC,IAAK,aACH,OAAOv6E,KAAKq7E,wBAAwBf,EAAKC,GAC3C,IAAK,uBACH,OAAOv6E,KAAKs8E,wBAAwBhC,EAAKC,GAC3C,IAAK,sBACH,OAAOv6E,KAAKwtF,uBAAuBlT,EAAKC,GAC1C,IAAK,iBACH,OAAOv6E,KAAKytF,kBAAkBnT,EAAKC,GACrC,IAAK,iBACH,OAAOv6E,KAAK08E,kBAAkBpC,EAAKC,GACrC,IAAK,cACH,OAAOv6E,KAAKg9E,eAAe1C,EAAKC,GAClC,IAAK,kBACH,OAAOv6E,KAAKk9E,mBAAmB5C,EAAKC,GACtC,IAAK,iBACH,OAAOv6E,KAAK0tF,kBAAkBpT,EAAKC,GACrC,IAAK,oBACH,OAAOv6E,KAAK2tF,qBAAqBrT,EAAKC,GACxC,IAAK,eACH,OAAOv6E,KAAKu7E,gBAAgBjB,EAAKC,GACnC,IAAK,iBACH,OAAOv6E,KAAKk8E,kBAAkB5B,EAAKC,GACrC,IAAK,mBACH,OAAOv6E,KAAKo8E,oBAAoB9B,EAAKC,GACvC,IAAK,sBACH,OAAOv6E,KAAK68E,uBAAuBvC,EAAKC,GAC1C,IAAK,qBACH,OAAOv6E,KAAK4tF,sBAAsBtT,EAAKC,GACzC,IAAK,iBACH,OAAOv6E,KAAKm9E,kBAAkB7C,EAAKC,GACrC,IAAK,qBACH,OAAOv6E,KAAK6tF,sBAAsBvT,EAAKC,GACzC,IAAK,kBACH,OAAOv6E,KAAK8tF,mBAAmBxT,EAAKC,GACtC,IAAK,mBACH,OAAOv6E,KAAK+tF,oBAAoBzT,EAAKC,GACvC,IAAK,oBACH,OAAOv6E,KAAKguF,qBAAqB1T,EAAKC,GACxC,IAAK,mBACH,OAAOv6E,KAAKq9E,oBAAoB/C,EAAKC,GACvC,IAAK,iBACH,OAAOv6E,KAAKm+E,kBAAkB7D,EAAKC,GACrC,IAAK,kBACH,OAAOv6E,KAAK6+E,mBAAmBvE,EAAKC,GACtC,IAAK,oBACH,OAAOv6E,KAAKg/E,qBAAqB1E,EAAKC,GACxC,IAAK,wBACH,OAAOv6E,KAAKiuF,yBAAyB3T,EAAKC,GAG9C,MAAMv6E,KAAKm7E,eAAe,sBAAwBb,EAAIlqF,KAAMkqF,EAElE,CACEa,cAAAA,CAAevgE,EAAO0/D,GACpB,GAA2B,kBAAhBt6E,KAAK8X,OACd,OAAO,IAAIzmB,MAAMupB,GAGnB,MAAMszE,EAAcrU,EAAMsU,aAAanuF,KAAK8X,OAAQwiE,GAE9C8T,EADgBpuF,KAAK8X,OAAOg7D,OAAOwH,EAAI90E,OACZnS,MAAM,MACjCg7F,EAAaD,EAAW9/F,OAAS,EAAI8/F,EAAWA,EAAW9/F,OAAS,GAAK,EAC/E,OAAO,IAAI+C,MAAM,GAAGupB,aAAkBwzE,EAAW9/F,oBAAsB+/F,EAAW//F,aAAe4/F,IACrG,CAEElP,oBAAAA,CAAqBF,EAASvE,GAC5B,OAAOA,CACX,CAEE0T,wBAAAA,CAAyB3T,EAAKC,GAC5B,GAAiB,0BAAbD,EAAIlqF,KACN,MAAM4P,KAAKm7E,eAAe,+BAAgCb,GAS5D,OAPAC,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAI17E,KAAM27E,GAC1BA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAIjgB,WAAYkgB,GAChCA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAIlmF,UAAWmmF,GAC/BA,EAAOxkF,KAAK,KACLwkF,CACX,CAEEF,WAAAA,CAAYC,EAAKC,GACf,MAAM,IAAIlpF,MAAM,gCAAiC2O,KAAKH,YAAYtP,OACtE,CAEE+8F,sBAAAA,CAAuBhT,EAAKC,GAC1B,OAAIv6E,KAAKsuF,gBAAgBhU,GAChBC,EAEFv6E,KAAKq6E,YAAYC,EAAKC,EACjC,CACEgT,qBAAAA,CAAsBjT,EAAKC,GACzB,OAAIv6E,KAAKsuF,gBAAgBhU,GAChBC,EAEFv6E,KAAKq6E,YAAYC,EAAKC,EACjC,CACE+T,eAAAA,CAAgBhU,GACd,IAAK,IAAI9rF,EAAI,EAAGA,EAAIwR,KAAKumE,UAAUj4E,OAAQE,IACzC,GAAIwR,KAAKumE,UAAU/3E,KAAO8rF,EACxB,OAAO,EAGX,OAAO,CACX,CACEM,kBAAAA,CAAmBN,EAAKC,GACtB,OAAOA,CACX,CACEW,UAAAA,CAAWZ,EAAKC,GAEd,OADAv6E,KAAK8qF,aAAa9qF,KAAKksF,OAAO5R,IAAQ,SAC/BC,CACX,CACEa,mBAAAA,CAAoBd,EAAKC,GACvB,OAAOA,CACX,CACEc,uBAAAA,CAAwBf,EAAKC,GAC3B,OAAOA,CACX,CACE+B,uBAAAA,CAAwBhC,EAAKC,GAC3B,OAAOA,CACX,CACEiT,sBAAAA,CAAuBe,EAAQhU,GAG7B,OAFAv6E,KAAK26E,WAAW4T,EAAO13B,WAAY0jB,GACnCA,EAAOxkF,KAAK,KACLwkF,CACX,CACEkT,iBAAAA,CAAkBe,EAAOjU,GACvB,OAAOA,CACX,CACEmC,iBAAAA,CAAkBpC,EAAKC,GACrB,OAAOA,CACX,CACEyC,cAAAA,CAAe1C,EAAKC,GAClB,OAAOA,CACX,CACE2C,kBAAAA,CAAmB5C,EAAKC,GACtB,OAAOA,CACX,CACEmT,iBAAAA,CAAkBe,EAAQlU,GAExB,OADAA,EAAOxkF,KAAK,UACLwkF,CACX,CACEoT,oBAAAA,CAAqBe,EAAQnU,GAE3B,OADAA,EAAOxkF,KAAK,eACLwkF,CACX,CACEgB,eAAAA,CAAgBjB,EAAKC,GACnB,OAAOA,CACX,CACE2B,iBAAAA,CAAkB5B,EAAKC,GACrB,OAAOA,CACX,CACE6B,mBAAAA,CAAoB9B,EAAKC,GACvB,OAAOA,CACX,CACEqT,qBAAAA,CAAsBe,EAAapU,GAMjC,OALAv6E,KAAK26E,WAAWgU,EAAYl3D,GAAI8iD,GACP,OAArBoU,EAAYjyE,OACd69D,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWgU,EAAYjyE,KAAM69D,IAE7BA,CACX,CACE4C,iBAAAA,CAAkB7C,EAAKC,GACrB,OAAOA,CACX,CACEsT,qBAAAA,CAAsBe,EAAOrU,GAC3B,MAAM,YAAEnZ,GAAgBwtB,EAClBC,EAAiB,GACvB,IAAK,IAAIrgG,EAAI,EAAGA,EAAI4yE,EAAY9yE,OAAQE,IAAK,CAC3C,MAAMqoE,EAAauK,EAAY5yE,GACzBsgG,EAAmB,GACzB9uF,KAAK26E,WAAW9jB,EAAYi4B,GAC5BD,EAAe94F,KAAK+4F,EAAiBvyE,KAAK,IAChD,CAMI,OALIsyE,EAAevgG,OAAS,EAC1BisF,EAAOxkF,KAAK,IAAK84F,EAAetyE,KAAK,KAAM,KAE3Cg+D,EAAOxkF,KAAK84F,EAAe,IAEtBtU,CACX,CACEuT,kBAAAA,CAAmBiB,EAAOxU,GAExB,OADoBv6E,KAAKgvF,8BAA8BD,EAAOxU,KAK1DwU,EAAMj+F,QACRypF,EAAOxkF,KAAKg5F,EAAMjvB,UAClB9/D,KAAK26E,WAAWoU,EAAMz0B,SAAUigB,KAEhCv6E,KAAK26E,WAAWoU,EAAMz0B,SAAUigB,GAChCA,EAAOxkF,KAAKg5F,EAAMjvB,YARXya,CAYb,CAEEyU,6BAAAA,CAA8BD,EAAOxU,GAAS,CAE9CwT,mBAAAA,CAAoBgB,EAAOxU,GASzB,OARIwU,EAAMj+F,QACRypF,EAAOxkF,KAAKg5F,EAAMjvB,UAClB9/D,KAAK26E,WAAWoU,EAAMz0B,SAAUigB,KAEhCv6E,KAAK26E,WAAWoU,EAAMz0B,SAAUigB,GAChCA,EAAOxkF,KAAKg5F,EAAMjvB,WAGbya,CACX,CACEyT,oBAAAA,CAAqBiB,EAAS1U,GAM5B,OALAA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWsU,EAAQj7E,KAAMumE,GAC9BA,EAAOxkF,KAAKk5F,EAAQnvB,UACpB9/D,KAAK26E,WAAWsU,EAAQ1zB,MAAOgf,GAC/BA,EAAOxkF,KAAK,KACLwkF,CACX,CACE8C,mBAAAA,CAAoB/C,EAAKC,GACvB,OAAOA,CACX,CACE4D,iBAAAA,CAAkB7D,EAAKC,GACrB,OAAOA,CACX,CACEsE,kBAAAA,CAAmBvE,EAAKC,GACtB,OAAOA,CACX,CAEEqD,0BAAAA,CAA2BtD,GACzB,GAAiB,qBAAbA,EAAIlqF,KACN,MAAM4P,KAAKm7E,eAAe,cAAeb,EAAIlqF,8BAAgCkqF,GAE/E,IAAI/pF,EAAO,KACPH,EAAO,KACX,MAAM8+F,EAAoBlvF,KAAKssF,qBAAqBhS,GACpD,OAAQ4U,GACN,IAAK,QACH,OAAO,KACT,IAAK,qBACL,IAAK,oBACL,IAAK,oBACH,MAAO,CACL3R,UAAW2R,EACT9+F,KAAM,UACNG,KAAM+pF,EAAI13C,SAASryC,MAEzB,IAAK,UACH,GAA+B,kBAApB+pF,EAAIv4B,OAAOxxD,KACpB,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAGrD,OADA/pF,EAAO+pF,EAAIv4B,OAAOxxD,KACX,CACLA,OACAotF,OAAQ,OACNJ,UAAW2R,EACX9+F,KAAM4P,KAAK+hF,gBAAgBzH,EAAIv4B,QAC/By7B,UAAWlD,EAAI13C,UAErB,IAAK,YACH,GAAsC,kBAA3B03C,EAAIv4B,OAAOA,OAAOxxD,KAC3B,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAGrD,OADA/pF,EAAO+pF,EAAIv4B,OAAOA,OAAOxxD,KAClB,CACLA,OACAotF,OAAQ,OACNJ,UAAW2R,EACX9+F,KAAM4P,KAAK+hF,gBAAgBzH,EAAIv4B,OAAOA,QACtC07B,UAAWnD,EAAIv4B,OAAOnf,SACtB46C,UAAWlD,EAAI13C,UAErB,IAAK,cACH,GAA6C,kBAAlC03C,EAAIv4B,OAAOA,OAAOA,OAAOxxD,KAClC,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAGrD,OADA/pF,EAAO+pF,EAAIv4B,OAAOA,OAAOA,OAAOxxD,KACzB,CACLA,OACAotF,OAAQ,OACNJ,UAAW2R,EACX9+F,KAAM4P,KAAK+hF,gBAAgBzH,EAAIv4B,OAAOA,OAAOA,QAC7C27B,UAAWpD,EAAIv4B,OAAOA,OAAOnf,SAC7B66C,UAAWnD,EAAIv4B,OAAOnf,SACtB46C,UAAWlD,EAAI13C,UAErB,IAAK,gBACH,GAAoD,kBAAzC03C,EAAIv4B,OAAOA,OAAOA,OAAOA,OAAOxxD,KACzC,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAGrD,OADA/pF,EAAO+pF,EAAIv4B,OAAOA,OAAOA,OAAOA,OAAOxxD,KAChC,CACLA,OACAotF,OAAQ,OACNJ,UAAW2R,EACX9+F,KAAM4P,KAAK+hF,gBAAgBzH,EAAIv4B,OAAOA,OAAOA,OAAOA,QACpD27B,UAAWpD,EAAIv4B,OAAOA,OAAOnf,SAC7B66C,UAAWnD,EAAIv4B,OAAOnf,SACtB46C,UAAWlD,EAAI13C,UAErB,IAAK,cACH,GAAiC,kBAAtB03C,EAAI13C,SAASryC,KACtB,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAErD,GAAIt6E,KAAK4sF,kBAAkBtS,GAEzB,OADA/pF,EAAO+pF,EAAI13C,SAASryC,KACb,CACLA,OACAotF,OAAQ,OACRvtF,KAAM,SACNmtF,UAAW2R,GAGf,OAAQ5U,EAAI13C,SAASryC,MACnB,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAEH,OADAA,EAAO+pF,EAAIv4B,OAAOxxD,KACX,CACLA,OACAqyC,SAAU03C,EAAI13C,SAASryC,KACrBotF,OAAQ,OACRJ,UAAW2R,EACX9+F,KAAM,UAEZ,QACE,MAAM4P,KAAKm7E,eAAe,wBAAyBb,GAEvD,IAAK,uBACH,GAAiC,kBAAtBA,EAAI13C,SAASryC,KACtB,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAIrD,GAFA/pF,EAAO+pF,EAAI13C,SAASryC,KACpBH,EAAO4P,KAAK+rF,gBAAgBx7F,IACvBH,EACH,MAAM4P,KAAKm7E,eAAe,uBAAwBb,GAEpD,MAAO,CACL/pF,OACAH,OACAutF,OAAQ,YACNJ,UAAW2R,GAEjB,IAAK,yBACH,GAAwC,kBAA7B5U,EAAIv4B,OAAOnf,SAASryC,KAC7B,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAIrD,GAFA/pF,EAAO+pF,EAAIv4B,OAAOnf,SAASryC,KAC3BH,EAAO4P,KAAK+rF,gBAAgBx7F,IACvBH,EACH,MAAM4P,KAAKm7E,eAAe,uBAAwBb,GAEpD,MAAO,CACL/pF,OACAH,OACAutF,OAAQ,YACNJ,UAAW2R,EACX1R,UAAWlD,EAAI13C,UAErB,IAAK,2BACH,GAA+C,kBAApC03C,EAAIv4B,OAAOA,OAAOnf,SAASryC,KACpC,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAIrD,GAFA/pF,EAAO+pF,EAAIv4B,OAAOA,OAAOnf,SAASryC,KAClCH,EAAO4P,KAAK+rF,gBAAgBx7F,IACvBH,EACH,MAAM4P,KAAKm7E,eAAe,uBAAwBb,GAEpD,MAAO,CACL/pF,OACAH,OACAutF,OAAQ,YACRJ,UAAW2R,EACXzR,UAAWnD,EAAIv4B,OAAOnf,SACtB46C,UAAWlD,EAAI13C,UAGnB,IAAK,6BACH,GAAsD,kBAA3C03C,EAAIv4B,OAAOA,OAAOA,OAAOnf,SAASryC,KAC3C,MAAMyP,KAAKm7E,eAAe,wBAAyBb,GAIrD,GAFA/pF,EAAO+pF,EAAIv4B,OAAOA,OAAOA,OAAOnf,SAASryC,KACzCH,EAAO4P,KAAK+rF,gBAAgBx7F,IACvBH,EACH,MAAM4P,KAAKm7E,eAAe,uBAAwBb,GAEpD,MAAO,CACL/pF,OACAH,OACAutF,OAAQ,YACRJ,UAAW2R,EACXxR,UAAWpD,EAAIv4B,OAAOA,OAAOnf,SAC7B66C,UAAWnD,EAAIv4B,OAAOnf,SACtB46C,UAAWlD,EAAI13C,UAGnB,IAAK,SACL,IAAK,WACL,IAAK,OACH,MAAO,CACL26C,UAAW2R,EACTtsD,SAAU03C,EAAI13C,UAEpB,QACE,MAAM5iC,KAAKm7E,eAAe,wBAAyBb,GAE7D,CAEEqS,oBAAAA,CAAqBwC,GACnB,MAAM59F,EAAQ,CAACyO,KAAKs6E,KAEpB,KAAO/oF,EAAMjD,OAAS,GAAG,CACvB,MAAM8gG,EAAS79F,EAAM,GACrB,GAAoB,uBAAhB69F,EAAOh/F,MAAiCg/F,EAAO33D,IAAM23D,EAAO33D,GAAGlnC,MAAQ6+F,EAAO33D,GAAGlnC,OAAS4+F,EAAU5+F,KACtG,OAAO6+F,EAGT,GADA79F,EAAMktD,QACF2wC,EAAO90B,SACT/oE,EAAMwE,KAAKq5F,EAAO90B,eACb,GAAI80B,EAAOvuF,KAChBtP,EAAMwE,KAAKq5F,EAAOvuF,WACb,GAAIuuF,EAAOz1B,aAChBpoE,EAAMwE,KAAKq5F,EAAOz1B,mBACb,GAAI5kE,MAAMC,QAAQo6F,GACvB,IAAK,IAAI5gG,EAAI,EAAGA,EAAI4gG,EAAO9gG,OAAQE,IACjC+C,EAAMwE,KAAKq5F,EAAO5gG,GAG5B,CACI,OAAO,IACX,CAEEs+F,cAAAA,CAAexS,GACb,MAAM/oF,EAAQ,CAAC+oF,GAAOt6E,KAAKs6E,KAE3B,KAAO/oF,EAAMjD,OAAS,GAAG,CACvB,MAAM8gG,EAAS79F,EAAMsE,MACrB,GAAoB,oBAAhBu5F,EAAOh/F,KACT,OAAOg/F,EAET,GAAoB,wBAAhBA,EAAOh/F,KAGX,GAAIg/F,EAAO90B,SACT/oE,EAAMwE,KAAKq5F,EAAO90B,eACb,GAAI80B,EAAOvuF,KAChBtP,EAAMwE,KAAKq5F,EAAOvuF,WACb,GAAIuuF,EAAOz1B,aAChBpoE,EAAMwE,KAAKq5F,EAAOz1B,mBACb,GAAI5kE,MAAMC,QAAQo6F,GACvB,IAAK,IAAI5gG,EAAI,EAAGA,EAAI4gG,EAAO9gG,OAAQE,IACjC+C,EAAMwE,KAAKq5F,EAAO5gG,SAEX4gG,EAAO/0B,WAChB9oE,EAAMwE,KAAKq5F,EAAO/0B,YACT+0B,EAAO50B,OAChBjpE,EAAMwE,KAAKq5F,EAAO50B,MAE1B,CACI,OAAO,IACX,CAEEyhB,uBAAAA,CAAwB1rF,GAKtB,OAJKyP,KAAKirF,uBAAuB9zF,eAAe5G,KAC9CyP,KAAKirF,uBAAuB16F,GAAQ,GAEtCyP,KAAKirF,uBAAuB16F,KACc,IAAtCyP,KAAKirF,uBAAuB16F,GACvBA,EAEFA,EAAOyP,KAAKirF,uBAAuB16F,EAC9C,CAEE27F,MAAAA,CAAO5R,GAAsB,IAAjB+U,EAAShhG,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,IACtB,IAAKisF,EAAI90E,QAAU80E,EAAI70E,IAAK,MAAM,IAAIpU,MAAM,4BAC5C,MAAO,GAAGipF,EAAI90E,QAAQ6pF,IAAY/U,EAAI70E,KAC1C,EAGA,MAAMqmF,EAAgB,CACpB,OAAU,SACV,MAAS,QACT,QAAW,UACX,MAAS,SACT,WAAY,SACZ,WAAY,SACZ,WAAY,SACZ,YAAa,SACb,YAAa,SACb,YAAa,SACb,QAAW,SACX,QAAW,SACX,MAAS,SACT,WAAc,WACd,gBAAmB,WACnB,UAAa,WACb,YAAe,WACf,UAAa,WACb,UAAa,WACb,eAAkB,WAClB,cAAiB,SACjB,6BAAgC,SAChC,aAAc,WACd,aAAc,WACd,aAAc,WACd,aAAc,WACd,aAAc,WACd,aAAc,WACd,aAAc,WACd,aAAc,WACd,aAAc,WACd,kBAAmB,SACnB,kBAAmB,WACnB,kBAAmB,WACnB,kBAAmB,YAGrB1qC,EAAOL,QAAU,CACfo5B,eAEF,EAAE,CAAC,WAAW,IAAI,oBAAoB,GAAG,MAAQ,IAAI,GAAG,CAAC,SAASpsF,EAAQqzD,EAAOL,GACjF,MAAM,MAAE84B,GAAU9rF,EAAQ,YAE1B,SAASi9B,EAAKjE,GACZ,OAAOA,EAAMz4B,OAAS,EAAIy4B,EAAMA,EAAMz4B,OAAS,GAAK,IACtD,CAEA,MAAMq8F,EAAS,CACb2E,iBAAkB,mBAClBC,iBAAkB,mBAClBhE,cAAe,iBAGjB,MAAMf,EACJ3qF,WAAAA,CAAYy6E,GACVt6E,KAAKwvF,gBAAkB,GACvBxvF,KAAKyvF,iBAAmB,GACxBzvF,KAAK+6B,SAAW,GAChB/6B,KAAKooF,cAAgB,GACrBpoF,KAAK25D,aAAe,GACpB35D,KAAK0qF,YAAc,GACnB1qF,KAAKumE,UAAY,GACjBvmE,KAAK0vF,iBAAmB,GACxB1vF,KAAK2vF,mBAAqB,KAC1B3vF,KAAK2qF,OAAS,GACd3qF,KAAK4vF,qBACL5vF,KAAK6vF,KAAKvV,EACd,CAEEsC,OAAAA,CAAQ77D,GACN,OAAO/gB,KAAK2qF,OAAO3qF,KAAK2qF,OAAOr8F,OAAS,KAAOyyB,CACnD,CAEE+uE,QAAAA,CAAS/uE,GACP,OAAO/gB,KAAK2qF,OAAOl5F,QAAQsvB,IAAU,CACzC,CAEE+6D,SAAAA,CAAU/6D,GACR/gB,KAAK2qF,OAAO50F,KAAKgrB,EACrB,CAEEg7D,QAAAA,CAASh7D,GACP,IAAI/gB,KAAK48E,QAAQ77D,GAGf,MAAM,IAAI1vB,MAAM,oCAAoC0vB,MAFpD/gB,KAAK2qF,OAAO90F,KAIlB,CAEE,0BAAIk6F,GACF,OAAO/kE,EAAKhrB,KAAKyvF,iBACrB,CAEE,kBAAIO,GACF,OAAOhlE,EAAKhrB,KAAKwvF,gBACrB,CAEEI,kBAAAA,GACE,MAAMK,EAAa,CAAE,eAAgB,YACrCjwF,KAAK+6B,SAAShlC,KAAKk6F,GACnBjwF,KAAKyvF,iBAAiB15F,KAAKk6F,EAC/B,CAEEA,UAAAA,CAAWlN,GACT,MAAMkN,EAAa9+F,OAAOD,OAAO,CAAE,eAAgB,aAAe8O,KAAKgwF,gBACvEhwF,KAAK+6B,SAAShlC,KAAKk6F,GACnBjwF,KAAKwvF,gBAAgBz5F,KAAKk6F,GAC1BlN,IACA,MAAM,uBAAEgN,GAA2B/vF,KACnC,IAAK,MAAMpE,KAAKm0F,EACTA,EAAuB54F,eAAeyE,KAAMq0F,EAAW94F,eAAeyE,KAC3Eq0F,EAAWr0F,GAAKm0F,EAAuBn0F,IAGzC,OADAoE,KAAKwvF,gBAAgB35F,MACdo6F,CACX,CAEEC,kBAAAA,CAAmBnN,GACjB,MAAMoN,EAAkBnlE,EAAKhrB,KAAKyvF,kBAClCzvF,KAAKwvF,gBAAgBz5F,KAAKo6F,GAC1BpN,IACA/iF,KAAKwvF,gBAAgB35F,KACzB,CAEEu6F,cAAAA,CAAerN,GACb,MAAM4M,EAAqB3vF,KAAK2vF,mBAAqB,GAKrD,OAJA3vF,KAAK87E,UAAU6O,EAAO2E,kBACtBvM,IACA/iF,KAAK2vF,mBAAqB,KAC1B3vF,KAAK+7E,SAAS4O,EAAO2E,kBACdK,CACX,CAEEnT,cAAAA,CAAejsF,GACb,MAAM,eAAEy/F,EAAc,uBAAED,EAAsB,gBAAEP,GAAoBxvF,KAC9Dg+D,EAAcgyB,EAAez/F,IAASw/F,EAAuBx/F,IAAS,KAE5E,IACGytE,GACDgyB,IAAmBD,GACnBP,EAAgBlhG,OAAS,EACzB,CACA,MAAM+hG,EAAyBb,EAAgBA,EAAgBlhG,OAAS,GACxE,GAAI+hG,EAAuB9/F,GACzB,OAAO8/F,EAAuB9/F,EAEtC,CAEI,OAAOytE,CACX,CAEE6xB,IAAAA,CAAKvV,GACH,GAAKA,EACL,GAAIvlF,MAAMC,QAAQslF,GAChB,IAAK,IAAI9rF,EAAI,EAAGA,EAAI8rF,EAAIhsF,OAAQE,IAC9BwR,KAAK6vF,KAAKvV,EAAI9rF,SAIlB,OAAQ8rF,EAAIlqF,MACV,IAAK,UACH4P,KAAKkwF,oBAAmB,KACtBlwF,KAAK6vF,KAAKvV,EAAIz5E,KAAK,IAErB,MACF,IAAK,iBACHb,KAAKiwF,YAAW,KACdjwF,KAAK6vF,KAAKvV,EAAIz5E,KAAK,IAErB,MACF,IAAK,uBACL,IAAK,oBAIL,IAAK,mBACHb,KAAK6vF,KAAKvV,EAAItmE,MACdhU,KAAK6vF,KAAKvV,EAAI/e,OACd,MACF,IAAK,mBACH,GAAqB,OAAjB+e,EAAIxa,SAAmB,CACzB,MAAM9B,EAAch+D,KAAKw8E,eAAelC,EAAIhgB,SAAS/pE,MACjDytE,IACFA,EAAYsyB,cAAgB,UAExC,CACQtwF,KAAK6vF,KAAKvV,EAAIhgB,UACd,MACF,IAAK,kBACHt6D,KAAK6vF,KAAKvV,EAAIhgB,UACd,MACF,IAAK,sBACc,QAAbggB,EAAIljB,KACNp3D,KAAKkwF,oBAAmB,KACtB5V,EAAI3gB,aAAekgB,EAAM0W,sBAAsBjW,GAC/Ct6E,KAAK6vF,KAAKvV,EAAI3gB,aAAa,KAG7B2gB,EAAI3gB,aAAekgB,EAAM0W,sBAAsBjW,GAC/Ct6E,KAAK6vF,KAAKvV,EAAI3gB,eAEhB,MACF,IAAK,qBAAsB,CACzB,MAAM,eAAEq2B,GAAmBhwF,KACrBurF,EAAgBvrF,KAAK8vF,SAASnF,EAAOY,eACrCvtB,EAAc,CAClBsc,IAAKA,EACLxjF,QAASk5F,EACTz/F,KAAM+pF,EAAI7iD,GAAGlnC,KACbotF,OAAQ,cACR4N,gBACAC,cAAe,KACf/O,WAAYuT,IAAmBhwF,KAAK+vF,yBAA4BxE,IAAkByE,EAAe74F,eAAemjF,EAAI7iD,GAAGlnC,MACvH+/F,cAAe,KACfvT,UAAW,KACX/+E,aAAc,KACd69E,OAAQ,MAELmU,EAAe1V,EAAI7iD,GAAGlnC,QACzBy/F,EAAe1V,EAAI7iD,GAAGlnC,MAAQytE,GAEhCh+D,KAAK25D,aAAa5jE,KAAKioE,GACvBh+D,KAAK6vF,KAAKvV,EAAI7iD,IACdz3B,KAAK6vF,KAAKvV,EAAI59D,MACd,KACR,CACM,IAAK,qBACL,IAAK,sBACiC,IAAhC1c,KAAKwvF,gBAAgBlhG,OACvB0R,KAAK6vF,KAAKvV,EAAIz5E,MAEdb,KAAKumE,UAAUxwE,KAAKukF,GAEtB,MACF,IAAK,cACHt6E,KAAK6vF,KAAKvV,EAAI17E,MACdoB,KAAK6vF,KAAKvV,EAAIjgB,YACVigB,EAAIlmF,WAAW4L,KAAK6vF,KAAKvV,EAAIlmF,WACjC,MACF,IAAK,eAAgB,CACnB,IAAIo8F,EACJ,MAAM15F,EAAUkJ,KAAKiwF,YAAW,KAC9BjwF,KAAK87E,UAAU6O,EAAOY,eACtBvrF,KAAK6vF,KAAKvV,EAAI59D,MACd1c,KAAK+7E,SAAS4O,EAAOY,eAErBiF,EAAkBxwF,KAAKowF,gBAAe,KACpCpwF,KAAK6vF,KAAKvV,EAAI17E,KAAK,IAGrBoB,KAAK6vF,KAAKvV,EAAI3jE,QACd3W,KAAKiwF,YAAW,KACdjwF,KAAK6vF,KAAKvV,EAAIz5E,KAAK,GACnB,IAGJ,GAAI2vF,EACF,IAAK,MAAM50F,KAAK9E,EACJ,iBAAN8E,GACA40F,EAAgB/+F,QAAQmK,IAAM,IAChC9E,EAAQ8E,GAAG4vF,eAAgB,GAIjC,KACR,CACM,IAAK,mBACL,IAAK,iBACHxrF,KAAKiwF,YAAW,KACdjwF,KAAK6vF,KAAKvV,EAAIz5E,MACdb,KAAK6vF,KAAKvV,EAAI17E,KAAK,IAErB,MACF,IAAK,aACCoB,KAAK48E,QAAQ+N,EAAO2E,mBACtBtvF,KAAK2vF,mBAAmB55F,KAAKukF,EAAI/pF,MAEnCyP,KAAK0qF,YAAY30F,KAAK,CACpBe,QAASkJ,KAAKgwF,eACdhyB,YAAah+D,KAAKw8E,eAAelC,EAAI/pF,MACrC+pF,QAEF,MAEF,IAAK,kBACHt6E,KAAK0vF,iBAAiB35F,KAAKukF,GAC3Bt6E,KAAK6vF,KAAKvV,EAAIhgB,UACd,MACF,IAAK,mBACHt6D,KAAK87E,UAAU6O,EAAO4E,kBACtBvvF,KAAK6vF,KAAKvV,EAAIv4B,QACd/hD,KAAK6vF,KAAKvV,EAAI13C,UACd5iC,KAAK+7E,SAAS4O,EAAO4E,kBACrB,MACF,IAAK,sBACHvvF,KAAK6vF,KAAKvV,EAAIzjB,YACd,MACF,IAAK,qBACH72D,KAAK6vF,KAAKvV,EAAIlZ,aACd,MACF,IAAK,iBACHphE,KAAKooF,cAAcryF,KAAK,CACtBe,QAASkJ,KAAKgwF,eACd1V,QAEFt6E,KAAK6vF,KAAKvV,EAAIjsF,WACd,MACF,IAAK,kBACH2R,KAAK6vF,KAAKvV,EAAI5yC,UACd,MACF,IAAK,wBACH1nC,KAAK6vF,KAAKvV,EAAI17E,MACdoB,KAAK6vF,KAAKvV,EAAIlmF,WACd4L,KAAK6vF,KAAKvV,EAAIjgB,YACd,MACF,IAAK,kBACHr6D,KAAK6vF,KAAKvV,EAAI/f,cACdv6D,KAAK6vF,KAAKvV,EAAI9f,OACd,MACF,IAAK,aACHx6D,KAAK6vF,KAAKvV,EAAI17E,MACdoB,KAAK6vF,KAAKvV,EAAIjgB,YACd,MAEF,IAAK,iBACL,IAAK,UACL,IAAK,oBACL,IAAK,iBACL,IAAK,iBACL,IAAK,oBACH,MACF,QACE,MAAM,IAAIhpE,MAAM,mBAAmBipF,EAAIlqF,SAE/C,EAGAgxD,EAAOL,QAAU,CACfypC,iBAEF,EAAE,CAAC,WAAW,MAAM,GAAG,CAAC,SAASz8F,EAAQqzD,EAAOL,GAChD,MAAM,UAAEsyB,GAActlF,EAAQ,eACxB,MAAE8rF,GAAU9rF,EAAQ,eAE1B,SAAS0iG,EAAqB7+F,GAC5B,OAAOA,EAAGsK,WACPzI,QAAQ,KAAM,IACdA,QAAQ,aAAc,IACtBA,QAAQ,YAAa,aAC1B,CAEA,SAASi9F,EAAepQ,EAAQrK,EAAM0a,EAAcC,EAAoBC,GACjEF,EAAajO,OAChBiO,EAAalO,MAAMp1C,MAAMsjD,EAAc1a,GAEzCA,EAAOA,EAAOlhF,MAAMshF,KAAKJ,GAAMnvD,KAAIwvD,IACjC,cAAeA,GACb,IAAK,UACH,OAAO,IAAIuT,QAAQvT,GACrB,IAAK,SACH,OAAO,IAAI6V,OAAO7V,GACpB,QACE,OAAOA,EACf,IACO,KAEL,MAAMwa,EAAa,GACbh6F,EAAUu8E,EAAUsd,EAAa75F,QAAS,CAC9C48E,wBAAwB,EACxBI,aAAeid,IACb,GAAInZ,EAAOwK,WAAX,CACE,GAAK4O,EAGE,CACL,MAAMpuD,EAAWg1C,EAAOwK,WAAW6O,KAAyBruD,SAC5DkuD,EAAW/6F,KAAK,aAAamiD,MAAMtV,GAAY,IAAMA,EAAW,IAAIA,UAAiBsuD,EAAgBH,EAAYnZ,MAC3H,MALUkZ,EAAW/6F,KAAK,gCAAgCm7F,EAAgBH,EAAYnZ,SAC5EoZ,GAAgC,EAK9BC,IAA0BrZ,EAAOwK,WAAW9zF,QAC9CwiG,EAAW/6F,KAAK,qBAG1B,MACUg7F,EACFD,EAAW/6F,KAAK,cAAcm7F,EAAgBH,EAAYnZ,OAE1DkZ,EAAW/6F,KAAK,mBACxB,EAEIg+E,6BAA+BzZ,IAC7B,MAAMogB,EAAeyW,EAAgB72B,EAAUsd,EAAOuO,gBAAiB,GAAIrvF,GAC3E,GAAI4jF,EACF,OAAOA,EAET,MAAMsR,EAAemF,EAAgB72B,EAAUsd,EAAOwO,gBAAiBjO,EAAYhnF,OAAOkgB,KAAK8mE,GAAWrxD,KAAInb,GAAOwsE,EAAUxsE,KAAQ,GAAI7U,GAC3I,OAAIk1F,GAGG,IAAI,IAGf,IAAIgF,GAAgC,EAChCC,EAAwB,EAC5B,MAAM,OACJn5E,EAAM,OACNwgE,EAAM,OACNpB,EAAM,SACN2M,EAAQ,UACR9L,EAAS,kBACT4L,EAAiB,UACjBxL,EAAS,oBACTqO,EAAmB,UACnBC,EAAS,2BACToE,EAA0B,UAC1BtkB,EAAS,gBACTggB,EAAe,WACfnE,EAAU,UACVwB,EAAS,cACT7D,EAAa,cACb/B,EAAa,gBACbmI,EAAe,gBACfC,EAAe,OACfgL,GACET,EACE/Y,EAAS,IAAI0I,EAAOxoE,EAAQ,CAChCwgE,SACAxhF,UACAu6F,cAAc,EACdna,SACA2M,WACA9L,YACA4L,oBACAxL,YACAqO,sBACAC,YACAoE,6BACAtkB,YACAggB,kBACAnE,aACAwB,YACA7D,gBACA/B,gBACAoT,WAEF,IAAItjE,EAAS,GA6Eb,GA5EAh3B,EAAQ69E,UAAU,GAClBiD,EAAO6K,MAAMp1C,MAAMuqC,EAAQ3B,GAC3BnoD,EAAO/3B,KAAKe,EAAQoF,YACpBpF,EAAQ+sC,QAER+zC,EAAOuO,gBAAgB9mE,SAAQ,CAACiyE,EAAgB9iG,KAC9C,OAAQ8iG,EAAelhG,MACrB,IAAK,UACL,IAAK,UACL,IAAK,SACL,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,aACL,IAAK,YACL,IAAK,YASL,IAAK,QACH0G,EAAQ49E,eAAe,eAAe4c,EAAe/gG,OAAQ+gG,EAAeC,aAC5E,MARF,IAAK,iBACH,IAAK,IAAIC,EAAa,EAAGA,EAAavb,EAAKznF,GAAGF,OAAQkjG,IAAc,CAClE,MAAMlb,EAAML,EAAKznF,GACjBsI,EAAQ49E,eAAe,eAAe4c,EAAe/gG,QAAQihG,KAAelb,EAAIkb,GAC1F,CACQ,MAIF,IAAK,+BACL,IAAK,gBACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACH16F,EAAQ49E,eAAe,eAAe4c,EAAe/gG,OAAQ0lF,EAAKznF,GAAGijG,SACrE,MACF,QACE,MAAM,IAAIpgG,MAAM,gEAAgEigG,EAAelhG,QACvG,IAEE09B,EAAO/3B,KAAK,uCACZ+3B,EAAO/3B,KAAK,YAAY06F,EAAqB5W,EAAM6X,cACnD5jE,EAAO/3B,KAAK,YAAY06F,EAAqB5W,EAAM8X,qBACnD7jE,EAAO/3B,KAAK,YAAY06F,EAAqB5W,EAAM+X,qBACnD9jE,EAAO/3B,KAAK,YAAY06F,EAAqB5W,EAAMgY,qBACnD/jE,EAAO/3B,KAAK,YAAY06F,EAAqB5W,EAAM7kF,YAC/C4iF,EAAOka,eAAiBla,EAAOma,eAAiBna,EAAOoa,cACzDlkE,EAAO/3B,KACL,mCAAmC06F,EAAqB7Y,EAAOoa,kBAGnElkE,EAAO/3B,KAAK,qCACZ+3B,EAAO/3B,KAAK,mCAAmC6hF,EAAOuO,gBAAgBr/D,KAAIwqE,GAAkBA,EAAeW,UAAS11E,KAAK,YACzHzlB,EAAQ69E,UAAU,GAClBiD,EAAOmL,IAAI11C,MAAMuqC,EAAQ3B,GACrB2B,EAAOsa,cACTta,EAAOsa,gBACEta,EAAOka,cAChBla,EAAOka,eAEThkE,EAAO/3B,KAAK,qDACZ6hF,EAAOuO,gBAAgB9mE,SAAQiyE,IAC7BxjE,EAAO/3B,KAAK,OAASu7F,EAAea,wBAAwB9+F,MAAM,MAAMkpB,KAAK,UAAU,IAEzFuR,EAAO/3B,KAAK,mDACZ+3B,EAAO/3B,KAAKe,EAAQoF,YAChB07E,EAAOka,eAAiBla,EAAOma,cAAe,CAChDj7F,EAAQ+sC,QACR,MAAMuuD,EAAkBt7F,EAAQ89E,uBAAuBgD,EAAOya,aAC9D,GAAIza,EAAOsa,cAAe,CACxB,MAAMhT,EAAUtH,EAAOsa,gBACjBI,EAAcx7F,EAAQ89E,uBAAuBgD,EAAO6Z,QAAQA,SAClE3jE,EAAO/3B,KAAK,mDAEEu8F,sBACFpT,EAAQpxD,OAAO19B,4BACbmiG,EAAiBrT,EAAQpxD,OAAQwkE,EAAaF,gBAE5D,MAAM,WAAEhQ,EAAU,eAAEoQ,GAAmB5a,EACvC,IAAK,IAAIppF,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IAAK,CAC1C,MAAMijG,EAAUe,EAAehkG,GACzB01F,EAAY9B,EAAW5zF,GACvBikG,EAAkBvT,EAAQgF,EAAUthD,UACpC8vD,EAAuB57F,EAAQ89E,uBAAuB6c,EAAQA,SACpE3jE,EAAO/3B,KAAK,WACZmuF,EAAUthD,iCACE8vD,sBACFD,EAAgBriG,4BACdmiG,EAAiBE,EAAiBC,EAAsBN,eAE5E,CACMtkE,EAAO/3B,KAAK,SAClB,KAAW,CACL,MAAM48F,EAAW/a,EAAOka,eAClBQ,EAAcx7F,EAAQ89E,uBAAuBgD,EAAO6Z,QAAQA,SAClE3jE,EAAO/3B,KAAK,kCACEu8F,sBACFK,EAASviG,4BACPmiG,EAAiBI,EAAUL,EAAaF,eAE5D,CACA,CACEtkE,EAAO/3B,KAAK,QAAO86F,EAAuB,KAAOA,EAAuB,OAAQ,KAChF/iE,EAAO/3B,KAAK+6F,EAAWv0E,KAAK,OAC5BuR,EAAO/3B,KAAK,QACR6hF,EAAOG,YACTjqD,EAAO/3B,KAAK68F,EAAmBhb,IAC/B9pD,EAAO/3B,KAAK,yCAEd+3B,EAAO/3B,KAAK,yBAEZ,IAAI88F,EAAkB,GAItB,OAHAzM,EAAgB/mE,SAASsnE,IACvBkM,EAAgB98F,KAAK,GAAG4wF,EAAewL,0BAA0B,IAE5D,8EAELU,EAAgBt2E,KAAK,UACrBq0E,GAA0C,OAC5C9iE,EAAOvR,KAAK,UAEd,CAEA,SAAS20E,EAAgBH,EAAYnZ,GACnC,MAAMkb,EAAqC,WAArBlb,EAAO6O,UAAyBsK,EAAa,oBAAoBA,YACvF,OAAInZ,EAAOV,OAAO,GACT,gBAAgB4b,MAAkBlb,EAAOV,OAAO,OAAOU,EAAOV,OAAO,OAAOU,EAAOV,OAAO,MAE/FU,EAAOV,OAAO,GACT,gBAAgB4b,MAAkBlb,EAAOV,OAAO,OAAOU,EAAOV,OAAO,MAGvE,gBAAgB4b,MAAkBlb,EAAOV,OAAO,KACzD,CAEA,SAAS0b,EAAmBhb,GAC1B,MAAMa,EAAYb,EAAOa,UAAUv8E,WAC7BsjF,GAAsB,YAAY5gF,KAAK65E,GAC7C,OAAOoB,EAAM6F,wBAAwB,GAAGF,EAAqB,YAAc,KAAM/G,IAAc,CAC7FmH,eAAgBA,CAAC79B,EAAQxxD,IACR,UAAXwxD,EACK,SAASxxD,OAAUspF,EAAMtpF,GAAM2L,cAEjC,KAETyjF,WAAa/8C,IACX,GAAiB,YAAbA,EACF,OAAO,KAET,GAAIg1C,EAAOzgF,eAAeyrC,GACxB,OAAO+zC,KAAKC,UAAUgB,EAAOh1C,IAE/B,MAAM,IAAIvxC,MAAM,wBAAyBuxC,IAAY,GAG3D,CAEA,SAAS2vD,EAAiBQ,EAAcT,EAAaF,GACnD,MAAM7uC,EAAUwvC,EAAaxvC,QAAQrnD,WAC/BsjF,GAAsB,YAAY5gF,KAAK2kD,GA4B7C,MAAO,8CAC2B6uC,YA5BPvY,EAAM6F,wBAAwB,GAAGF,EAAqB,YAAc,KAAMj8B,IAAY,CAC/Gq8B,eAAgBA,CAAC79B,EAAQxxD,KACvB,GAAe,UAAXwxD,EACF,MAAO,SAASxxD,OAAUspF,EAAMtpF,GAAM2L,cACjC,GAAe,SAAX6lD,EACT,MAAa,gBAATxxD,EACK,GAEF,GAAGivF,EAAqB,YAAc,KAAKuT,EAAaxiG,GAAM2L,aAErE,MAAM,IAAI7K,MAAM,uBACxB,EAEIsuF,WAAYA,CAAC/8C,EAAUowD,KACrB,GAAiB,YAAbpwD,EACF,OAAO0vD,EAET,GAAiB,YAAb1vD,EACF,OAAIowD,EAAsB,KACnB,KAET,GAAID,EAAa57F,eAAeyrC,GAC9B,OAAO+zC,KAAKC,UAAUmc,EAAanwD,IAErC,MAAM,IAAIvxC,MAAM,wBAAyBuxC,IAAY,+BAQ3D,CAEA,SAASuuD,EAAgB72B,EAAU24B,EAAcC,EAAQp8F,EAASq8F,GAChE,GAAiB,OAAb74B,EAAmB,OAAO,KAC9B,GAAqB,OAAjB24B,EAAuB,OAAO,KAClC,cAAe34B,GACb,IAAK,UACL,IAAK,SACH,OAAO,KAEX,GAC8B,qBAArB84B,kBACP94B,aAAoB84B,iBAEpB,IAAK,IAAI5kG,EAAI,EAAGA,EAAIykG,EAAa3kG,OAAQE,IAAK,CAC5C,MAAM6kG,EAAcJ,EAAazkG,GACjC,GAAyB,mBAArB6kG,EAAYjjG,MAA6BijG,EAAa,SAC1D,GAAIA,EAAY9B,cAAgBj3B,EAAU,SAC1C,MAAMg5B,EAAgBJ,EAAO1kG,GAAGiD,QAAQ6oE,GACxC,IAAuB,IAAnBg5B,EAAsB,SAC1B,MAAMxe,EAAe,eAAeue,EAAY9iG,QAAQ+iG,KAExD,OADAx8F,EAAQ49E,eAAeI,EAAcxa,GAC9Bwa,CACb,CAGE,IAAK,IAAItmF,EAAI,EAAGA,EAAIykG,EAAa3kG,OAAQE,IAAK,CAC5C,MAAM6kG,EAAcJ,EAAazkG,GACjC,GAAI8rE,IAAa+4B,EAAY9B,YAAa,SAC1C,MAAMgC,EAAW,eAAeF,EAAY9iG,OAE5C,OADAuG,EAAQ49E,eAAe6e,EAAUF,GAC1BE,CACX,CACE,OAAO,IACT,CAEAnyC,EAAOL,QAAU,CACf2vC,iBAEF,EAAE,CAAC,cAAc,IAAI,aAAa,IAAI,GAAG,CAAC,SAAS3iG,EAAQqzD,EAAOL,GAClE,MAAM,OAAEu/B,GAAWvyF,EAAQ,cACrB,MAAE8rF,GAAU9rF,EAAQ,gBACpB,qBAAEylG,GAAyBzlG,EAAQ,4BACnC,uBAAE0lG,GAA2B1lG,EAAQ,+BACrC,uBAAE2lG,GAA2B3lG,EAAQ,+BACrC,qBAAE4lG,GAAyB5lG,EAAQ,4BACnC,uBAAE6lG,GAA2B7lG,EAAQ,+BACrC,uBAAE8lG,GAA2B9lG,EAAQ,+BACrC,qBAAE+lG,GAAyB/lG,EAAQ,4BACnC,uBAAEgmG,GAA2BhmG,EAAQ,+BACrC,uBAAEimG,GAA2BjmG,EAAQ,+BACrC,eAAEkmG,GAAmBlmG,EAAQ,oBAC7B,iBAAEmmG,GAAqBnmG,EAAQ,uBAC/B,iBAAEomG,GAAqBpmG,EAAQ,uBAC/B,yBAAEqmG,GAA6BrmG,EAAQ,+BACvC,2BAAEsmG,GAA+BtmG,EAAQ,kCACzC,2BAAEumG,GAA+BvmG,EAAQ,kCACzC,kBAAEwmG,GAAsBxmG,EAAQ,uBAChC,oBAAEymG,GAAwBzmG,EAAQ,0BAClC,oBAAE0mG,GAAwB1mG,EAAQ,0BAClC,mBAAE2mG,GAAuB3mG,EAAQ,uBAEvC,MAAM4mG,UAAiBrU,EACrB,eAAWxiE,GACT,MAAO,KACX,CAEE,qBAAO82E,GACL,MAGMhd,EAAS,IAAI53E,KAHE,sDAGiB,CACpClJ,QAASkJ,KAAK60F,YACdvc,OAAQt4E,KAAK80F,WACb/J,UAAU,EACV7T,OAAQ,CAAC,GACTuP,UAAW,SACX5L,WAAY,SACZuW,OAAQ,UAEVxZ,EAAO6K,QACP7K,EAAOmL,MACP,MAAMj1D,EAAS8pD,EAAOka,eAEtB,OADAla,EAAO9uD,SAAQ,GACM,IAAdgF,EAAO,EAClB,CAEE,mCAAOinE,GACL,SAASC,EAAeC,EAAIC,GAC1B,OAAOD,EAAGj1F,KAAKm3E,OAAOtmF,GAAKqkG,EAAGl1F,KAAKm3E,OAAOtmF,EAChD,CACI,MAAM+mF,EAAS,IAAI53E,KAAKg1F,EAAe94F,WAAY,CACjDpF,QAASkJ,KAAK60F,YACdvc,OAAQt4E,KAAK80F,WACb/J,UAAU,EACV7T,OAAQ,CAAC,GACT2D,WAAY,SACZ4L,UAAW,WACX2K,OAAQ,UAEJnb,EAAO,CACX,CAAC,EAAG,SACJ,CAAC,EAAG,OAEN2B,EAAO6K,MAAMp1C,MAAMuqC,EAAQ3B,GAC3B2B,EAAOmL,IAAI11C,MAAMuqC,EAAQ3B,GACzB,MAAMnoD,EAAS8pD,EAAOka,eAEtB,OADAla,EAAO9uD,SAAQ,GACM,IAAdgF,EAAO,IAA0B,OAAdA,EAAO,EACrC,CAEE,gCAAOqnE,GACL,SAASH,EAAehiG,GACtB,OAAOA,EAAMgN,KAAKm3E,OAAOtmF,EAC/B,CACI,MAAM+mF,EAAS,IAAI53E,KAAKg1F,EAAe94F,WAAY,CACjDpF,QAASkJ,KAAK60F,YACdvc,OAAQt4E,KAAK80F,WACb/J,UAAU,EACV7T,OAAQ,CAAC,GACT2D,WAAY,SACZ4L,UAAW,WACX2K,OAAQ,UAEJnb,EAAO,CACX,CAAC,EAAG,EAAG,EAAG,IAEZ2B,EAAO6K,MAAMp1C,MAAMuqC,EAAQ3B,GAC3B2B,EAAOmL,IAAI11C,MAAMuqC,EAAQ3B,GACzB,MAAMnoD,EAAS8pD,EAAOka,eAEtB,OADAla,EAAO9uD,SAAQ,GACkB,IAA1B1vB,KAAKg8F,MAAMtnE,EAAO,KAAuC,IAA1B10B,KAAKg8F,MAAMtnE,EAAO,KAAuC,IAA1B10B,KAAKg8F,MAAMtnE,EAAO,KAAuC,IAA1B10B,KAAKg8F,MAAMtnE,EAAO,GAC1H,CAEE,qBAAWgnE,GACT,MAAM,IAAIzjG,MAAM,+BAAgC2O,KAAKzP,OACzD,CAEE,sBAAWskG,GACT,MAAM,IAAIxjG,MAAM,gCAAiC2O,KAAKzP,OAC1D,CAEE,kBAAOkwF,GACL,MAAMnN,EAAKtzE,KAAK60F,YACVQ,EAAgBr1F,KAAKs1F,mBAC3B,OAAOnkG,OAAOwvF,OAAO,CACnB4U,YAAav1F,KAAK40F,iBAClB/T,0BAA2B7gF,KAAK+0F,+BAChCS,uBAAwBx1F,KAAKm1F,4BAC7BM,eAAgBz1F,KAAK01F,oBACrBL,gBACAzU,UAAWyU,EACXM,aAAc31F,KAAK41F,kBACnBC,eAAgB71F,KAAK81F,oBACrBC,gBAAiBziB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAG4iB,SACpEC,kBAAmB7iB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAG8iB,WACtEC,mBAAoB/iB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGgjB,YACvEC,qBAAsBjjB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGkjB,cACzEC,iBAAkBnjB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGojB,UACrEC,mBAAoBrjB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGsjB,aAE7E,CAEE,yBAAOC,GACL,MAAM,IAAIxlG,MAAM,uCAAwC2O,KAAKzP,OACjE,CAEE,mBAAO6wF,CAAaxJ,EAAQmI,GAC1B,OAAOnI,EAAOkf,8BAAgC/W,EAAczxF,OAAS,EAAI,IAAMyxF,EAAcxjE,KAAK,KAAO,GAC7G,CAEEw6E,6BAAAA,CAA8BC,GAE5B,OADAh3F,KAAK6qF,2BAA6BmM,EAC3Bh3F,IACX,CAEEi3F,YAAAA,CAAa1rB,GAEX,OADAvrE,KAAKymF,UAAYlb,EACVvrE,IACX,CAEEk3F,gBAAAA,CAAiB3rB,GAGf,OAFAsO,EAAMsd,eAAe,SAAU,mBAAoB,0BACnDn3F,KAAKo3F,cAAgB7rB,EACdvrE,IACX,CAEE,8BAAOghF,CAAwBlpE,GAC7B,MAAMioE,EAAgB,GAChBtF,EAAgB,GAChBkQ,EAAS,GACT0M,EAAyB,aACzBC,EAAiB,eACvB,IAAI9oG,EAAI,EACJksF,EAAe,KACfiE,EAAe,KACnB,KAAOnwF,EAAIspB,EAAOxpB,QAAQ,CACxB,MAAMqoD,EAAO7+B,EAAOtpB,GACd+oG,EAAWz/E,EAAOtpB,EAAI,GACtBuyB,EAAQ4pE,EAAOr8F,OAAS,EAAIq8F,EAAOA,EAAOr8F,OAAS,GAAK,KAE9D,GAAc,uBAAVyyB,GAA2C,MAAT41B,GAA6B,MAAb4gD,EAI/C,GAAc,uBAAVx2E,GAA2C,MAAT41B,GAA6B,MAAb4gD,EAMxD,GAAc,uBAAVx2E,GAA2C,MAAT41B,GAA6B,MAAb4gD,EAIpD,GAAc,YAAVx2E,GAAgC,OAAT41B,EAM7B,GAAc,OAAV51B,GAA2B,MAAT41B,EAAtB,CAIE,GAAc,uBAAV51B,EAAgC,CACzC,GAAa,MAAT41B,EAAc,CAChBg0C,EAAO90F,MACP,KACV,CACQ,GAAa,MAAT8gD,GAA6B,MAAb4gD,GAAsC,MAAlBz/E,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,GAAY,CACxIm8F,EAAO50F,KAAK,oBACZ4oF,EAAe,QACfjE,EAAe,GACflsF,GAAK,EACL,QACV,CAAe,GAAa,MAATmoD,GAA6B,MAAb4gD,GAAsC,MAAlBz/E,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,GAAY,CAC7Fm8F,EAAO50F,KAAK,oBACZ4oF,EAAe,MACfjE,EAAe,GACflsF,GAAK,EACL,QACV,CAAe,GAAa,MAATmoD,GAA6B,MAAb4gD,GAAsC,MAAlBz/E,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,GAAY,CACtHm8F,EAAO50F,KAAK,oBACZ4oF,EAAe,OACfjE,EAAe,GACflsF,GAAK,EACL,QACV,CAAe,GAAa,MAATmoD,GAA6B,MAAb4gD,GAAsC,MAAlBz/E,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,GAAY,CACtHm8F,EAAO50F,KAAK,oBACZ4oF,EAAe,OACfjE,EAAe,GACflsF,GAAK,EACL,QACV,CAAe,GAAa,MAATmoD,GAA6B,MAAb4gD,GAAsC,MAAlBz/E,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,IAAgC,MAAlBspB,EAAOtpB,EAAI,GAAY,CACtHm8F,EAAO50F,KAAK,oBACZ4oF,EAAe,OACfjE,EAAe,GACflsF,GAAK,EACL,QACV,CACA,MAEW,GAAc,qBAAVuyB,EAA8B,CACrC,GAAqB,KAAjB25D,EAAqB,CACvB,GAAa,MAAT/jC,EAAc,CAChBnoD,IACA,QACZ,CACU,IAAK6oG,EAAuBz4F,KAAK+3C,GAC/B,MAAM,IAAItlD,MAAM,uCAE5B,CACQqpF,GAAgB/jC,EACX2gD,EAAe14F,KAAK24F,KACvB5M,EAAO90F,MACP4kF,EAAc1kF,KAAK2kF,GACnBqF,EAAchqF,KAAKyhG,EAAQ7Y,IAErC,CAEMnwF,GAFN,MAzDQm8F,EAAO50F,KAAK,sBACZvH,SAPAm8F,EAAO90F,MACPrH,SALAm8F,EAAO50F,KAAK,WACZvH,GAAK,OAPLm8F,EAAO90F,MACPrH,GAAK,OALLm8F,EAAO50F,KAAK,sBACZvH,GAAK,CA+Eb,CACI,GAAIm8F,EAAOr8F,OAAS,EAClB,MAAM,IAAI+C,MAAM,kCAElB,MAAO,CACLopF,gBACAsF,gBAEN,CAEE,+BAAOkB,CAAyBnpE,GAC9B,OAAO0/E,EAAQ1/E,EAAOxmB,MAAM,sBAAsB,GACtD,CAEE,qBAAO4vF,CAAeC,EAAgBsW,GACpCtW,EAAe9zC,MAAM,KAAMh/C,WAC3B,MAAM,QACJqpG,EAAO,QACP5gG,EAAO,UACP6gG,GACEF,EAAWC,QACf,IAAI5pE,EACJ,GAA6B,WAAzB2pE,EAAWhR,UAAwB,CACrC,MAAMmR,EAAIF,EAAQ,GACZG,EAAIz+F,KAAK0+F,KAAKJ,EAAQ,GAAK,GACjC5pE,EAAS,IAAImpD,aAAa2gB,EAAIC,EAAI,EAAI,GACtC/gG,EAAQ0+E,WAAW,EAAG,EAAGoiB,EAAO,EAAJC,EAAO/gG,EAAQihG,KAAMjhG,EAAQkhG,MAAOlqE,EACtE,KAAW,CACL,MAAMmqE,EAAQ,IAAIC,WAAWR,EAAQ,GAAKA,EAAQ,GAAK,GACvD5gG,EAAQ0+E,WAAW,EAAG,EAAGkiB,EAAQ,GAAIA,EAAQ,GAAI5gG,EAAQihG,KAAMjhG,EAAQqhG,cAAeF,GACtFnqE,EAAS,IAAImpD,aAAaghB,EAAMG,OACtC,CAII,OAFAtqE,EAASA,EAAO6rD,SAAS,EAAGge,EAAU,GAAKA,EAAU,GAAKA,EAAU,IAEnC,IAA7BF,EAAWvgB,OAAO5oF,OACbw/B,EAC+B,IAA7B2pE,EAAWvgB,OAAO5oF,OACpBurF,EAAMwe,WAAWvqE,EAAQ2pE,EAAWvgB,OAAO,IACZ,IAA7BugB,EAAWvgB,OAAO5oF,OACdurF,EAAMwe,WAAWvqE,EAAQ2pE,EAAWvgB,OAAO,GAAKugB,EAAWvgB,OAAO,IACnEpwD,KAAI,SAASj2B,GACvB,OAAOgpF,EAAMwe,WAAWxnG,EAAG4mG,EAAWvgB,OAAO,GACrD,SAJW,CAMX,CAEEr3E,WAAAA,CAAYiY,EAAQuhE,GAClBgI,MAAMvpE,EAAQuhE,GACdr5E,KAAKs4F,eAAiB,KACtBt4F,KAAKgyF,aAAe,KACpBhyF,KAAKu4F,mBAAqB,KAC1Bv4F,KAAK8xF,aAAe,KACpB9xF,KAAKw4F,gBAAkB,KACvBx4F,KAAK03F,QAAU,KACf13F,KAAKy4F,iBAAmB,KACxBz4F,KAAK04F,uBAAyB,KAC9B14F,KAAK24F,qBAAuB,KAC5B34F,KAAK44F,iBAAmB,KACxB54F,KAAK64F,iBAAmB,KACxB74F,KAAK84F,uBAAyB,IAClC,CAEEC,gBAAAA,GACE,MAAM,SAAErY,GAAa1gF,KAAKH,YAC1B,GAAIG,KAAK03F,QAAQ,GAAKhX,EAASmV,gBAAkB71F,KAAK03F,QAAQ,GAAKhX,EAASmV,eAC1E,MAAM,IAAIxkG,MAAM,iBAAiB2O,KAAK03F,QAAQ,MAAM13F,KAAK03F,QAAQ,0DAA0DhX,EAASmV,kBAAkBnV,EAASmV,kBAErK,CAEE1T,eAAAA,GACE,MAAM,IAAI9wF,MAAM,oCAAoC2O,KAAKH,YAAYtP,OACzE,CAEEyoG,kBAAAA,CAAmB/iB,GACjB,GAAIj2E,KAAK+3E,UAIP,OAHA/3E,KAAKw4F,gBAAkBx4F,KAAKi5F,6BAC5Bj5F,KAAKs4F,eAAkBhf,GAAWA,EAClCt5E,KAAKu4F,mBAAqB7D,EACnB,KAET,GAAuB,aAAnB10F,KAAKymF,UAGP,GAFAzmF,KAAKw4F,gBAAkBx4F,KAAKi5F,6BAC5Bj5F,KAAKs4F,eAAiBt4F,KAAKk5F,+BACvBl5F,KAAK6jF,SAKP,OAJA7jF,KAAK8xF,aAAe9xF,KAAK+xF,cACD,OAApB/xF,KAAKoiF,aACPpiF,KAAKkyF,cAAgBlyF,KAAKm5F,yBAEpBn5F,KAAK66E,YACX,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,UACH,OAAI76E,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB9D,EACnB,MACEz0F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB/D,EACnB,OAEPx0F,KAAKu4F,mBAAqBhE,EACnB,MAET,IAAK,WACL,IAAK,WACL,IAAK,WACH,OAAOv0F,KAAKo5F,gBAAgBnjB,QAMlC,OAHwB,OAApBj2E,KAAKoiF,aACPpiF,KAAKkyF,cAAgBlyF,KAAKq5F,uBAEpBr5F,KAAK66E,YACX,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,UAEH,OADA76E,KAAK8xF,aAAe9xF,KAAKs5F,aACrBt5F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB9D,EAC1Bz0F,KAAKgyF,aAAenY,EAAM0f,mBACnB,MACEv5F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB/D,EAC1Bx0F,KAAKgyF,aAAenY,EAAM2f,mBACnB,OAEPx5F,KAAKu4F,mBAAqBhE,EAC1Bv0F,KAAKgyF,aAAenY,EAAM4f,iBACnB,MAET,IAAK,WACL,IAAK,WACL,IAAK,WACH,OAAOz5F,KAAKo5F,gBAAgBnjB,OAG/B,IAAuB,WAAnBj2E,KAAKymF,UAqNd,MAAM,IAAIp1F,MAAM,2BAA2B2O,KAAKymF,cAlNhD,GAFAzmF,KAAKw4F,gBAAkBx4F,KAAK05F,8BAC5B15F,KAAKs4F,eAAiBt4F,KAAK05F,8BACvB15F,KAAK6jF,SAKP,OAJA7jF,KAAK8xF,aAAe9xF,KAAK+xF,cACD,OAApB/xF,KAAKoiF,aACPpiF,KAAKkyF,cAAgBlyF,KAAKm5F,yBAEpBn5F,KAAK66E,YACX,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,UACH,OAAI76E,KAAKwmF,oBACHxmF,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBjE,EACnB,MACEt0F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBlE,EACnB,OAEPr0F,KAAKu4F,mBAAqBnE,EACnB,MAGLp0F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBpE,EACnB,MACEn0F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBrE,EACnB,OAEPl0F,KAAKu4F,mBAAqBtE,EACnB,MAIb,IAAK,WACH,OAAIj0F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB7E,EACnB,MACE1zF,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB9E,EACnB,OAEPzzF,KAAKu4F,mBAAqB/E,EACnB,MAGX,IAAK,WACH,OAAIxzF,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB1E,EACnB,MACE7zF,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB3E,EACnB,OAEP5zF,KAAKu4F,mBAAqB5E,EACnB,MAGX,IAAK,WACH,OAAI3zF,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBvE,EACnB,MACEh0F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBxE,EACnB,OAEP/zF,KAAKu4F,mBAAqBzE,EACnB,MASf,GAJA9zF,KAAK8xF,aAAe9xF,KAAKs5F,aACD,OAApBt5F,KAAKoiF,aACPpiF,KAAKkyF,cAAgBlyF,KAAKq5F,uBAExBr5F,KAAKwmF,oBACP,OAAQxmF,KAAK66E,YACX,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,UACH,OAAI76E,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBjE,EAC1Bt0F,KAAKgyF,aAAenY,EAAM8f,4BACnB,MACE35F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBlE,EAC1Br0F,KAAKgyF,aAAenY,EAAM+f,4BACnB,OAEP55F,KAAKu4F,mBAAqBnE,EAC1Bp0F,KAAKgyF,aAAenY,EAAMggB,0BACnB,MAGX,IAAK,WACH,OAAI75F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB7E,EAC1B1zF,KAAKgyF,aAAenY,EAAMigB,cACnB,MACE95F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB9E,EAC1BzzF,KAAKgyF,aAAenY,EAAMkgB,cACnB,OAEP/5F,KAAKu4F,mBAAqB/E,EAC1BxzF,KAAKgyF,aAAenY,EAAMmgB,YACnB,MAGX,IAAK,WACH,OAAIh6F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB1E,EAC1B7zF,KAAKgyF,aAAenY,EAAMogB,cACnB,MACEj6F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB3E,EAC1B5zF,KAAKgyF,aAAenY,EAAMqgB,cACnB,OAEPl6F,KAAKu4F,mBAAqB5E,EAC1B3zF,KAAKgyF,aAAenY,EAAMsgB,YACnB,MAGX,IAAK,WACH,OAAIn6F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBvE,EAC1Bh0F,KAAKgyF,aAAenY,EAAMugB,cACnB,MACEp6F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBxE,EAC1B/zF,KAAKgyF,aAAenY,EAAMwgB,cACnB,OAEPr6F,KAAKu4F,mBAAqBzE,EAC1B9zF,KAAKgyF,aAAenY,EAAMygB,YACnB,WAKb,OAAQt6F,KAAK66E,YACX,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,UACH,OAAI76E,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBpE,EAC1Bn0F,KAAKgyF,aAAenY,EAAM0gB,aACnB,MACEv6F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBrE,EAC1Bl0F,KAAKgyF,aAAenY,EAAM2gB,aACnB,OAEPx6F,KAAKu4F,mBAAqBtE,EAC1Bj0F,KAAKgyF,aAAenY,EAAM4gB,WACnB,MAGX,IAAK,WACH,OAAIz6F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB7E,EAC1B1zF,KAAKgyF,aAAenY,EAAMigB,cACnB,MACE95F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB9E,EAC1BzzF,KAAKgyF,aAAenY,EAAMkgB,cACnB,OAEP/5F,KAAKu4F,mBAAqB/E,EAC1BxzF,KAAKgyF,aAAenY,EAAMmgB,YACnB,MAGX,IAAK,WACH,OAAIh6F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqB1E,EAC1B7zF,KAAKgyF,aAAenY,EAAMogB,cACnB,MACEj6F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqB3E,EAC1B5zF,KAAKgyF,aAAenY,EAAMqgB,cACnB,OAEPl6F,KAAKu4F,mBAAqB5E,EAC1B3zF,KAAKgyF,aAAenY,EAAMsgB,YACnB,MAGX,IAAK,WACH,OAAIn6F,KAAKk3E,OAAO,GAAK,GACnBl3E,KAAKu4F,mBAAqBvE,EAC1Bh0F,KAAKgyF,aAAenY,EAAMugB,cACnB,MACEp6F,KAAKk3E,OAAO,GAAK,GAC1Bl3E,KAAKu4F,mBAAqBxE,EAC1B/zF,KAAKgyF,aAAenY,EAAMwgB,cACnB,OAEPr6F,KAAKu4F,mBAAqBzE,EAC1B9zF,KAAKgyF,aAAenY,EAAMygB,YACnB,MAOrB,CAEI,MAAM,IAAIjpG,MAAM,0BAA0B2O,KAAK66E,cACnD,CAEEgI,eAAAA,GACE,MAAM,IAAIxxF,MAAM,uBACpB,CAEEqpG,oBAAAA,GACE,OAAQ16F,KAAK66E,YACX,IAAK,iBACL,IAAK,QACL,IAAK,UACL,IAAK,SACH,OAAO76E,KAAK26F,6BACd,IAAK,WACH,OAAO36F,KAAK46F,6BACd,IAAK,WACH,OAAO56F,KAAK66F,6BACd,IAAK,WACH,OAAO76F,KAAK86F,6BACd,QACE,MAAM,IAAIzpG,MAAM,6BAA8B2O,KAAK66E,cAE3D,CAEEkgB,gCAAAA,GACE,MAAM,IAAI1pG,MAAM,uBACpB,CACE2pG,mCAAAA,GACE,MAAM,IAAI3pG,MAAM,uBACpB,CACE4pG,gCAAAA,GACE,MAAM,IAAI5pG,MAAM,uBACpB,CACE6pG,mCAAAA,GACE,MAAM,IAAI7pG,MAAM,uBACpB,CACE8pG,gCAAAA,GACE,MAAM,IAAI9pG,MAAM,uBACpB,CACE+pG,mCAAAA,GACE,MAAM,IAAI/pG,MAAM,uBACpB,CACEgqG,gCAAAA,GACE,MAAM,IAAIhqG,MAAM,uBACpB,CACEiqG,mCAAAA,GACE,MAAM,IAAIjqG,MAAM,uBACpB,CACEkqG,sBAAAA,GACE,MAAM,IAAIlqG,MAAM,uBACpB,CACEmqG,kCAAAA,GACE,MAAM,IAAInqG,MAAM,uBACpB,CACEoqG,yBAAAA,GACE,MAAM,IAAIpqG,MAAM,uBACpB,CAEEqqG,mBAAAA,GACE,OAAI17F,KAAK+3E,UACA/3E,KAAKu7F,yBACgB,WAAnBv7F,KAAKymF,UACVzmF,KAAKwmF,oBACAxmF,KAAKw7F,qCAEPx7F,KAAK06F,uBAEL16F,KAAKy7F,2BAElB,CAEEd,0BAAAA,GACE,OAAO9gB,EAAM8hB,cAAc37F,KAAK+6F,oCAC9BlhB,EAAM8hB,cAAc37F,KAAKg7F,sCAC/B,CAEEJ,0BAAAA,GACE,OAAO/gB,EAAM8hB,cAAc37F,KAAKi7F,oCAC9BphB,EAAM8hB,cAAc37F,KAAKk7F,sCAC/B,CAEEL,0BAAAA,GACE,OAAOhhB,EAAM8hB,cAAc37F,KAAKm7F,oCAC9BthB,EAAM8hB,cAAc37F,KAAKo7F,sCAC/B,CAEEN,0BAAAA,GACE,OAAOjhB,EAAM8hB,cAAc37F,KAAKq7F,oCAC9BxhB,EAAM8hB,cAAc37F,KAAKs7F,sCAC/B,CAEEM,yBAAAA,GAEE,MAAO,aADmB57F,KAAK82F,2BAA2B92F,KAAK03F,QAAS13F,KAAKoxF,kBAEjF,CAEEyK,uBAAAA,GACE,MAAO,aAAa77F,KAAK82F,2BAA2B92F,KAAK03F,QAAS13F,KAAKoxF,QAAQ,WACnF,CAEE0K,6BAAAA,GACE,MAAO,aAAa97F,KAAK82F,2BAA2B92F,KAAK03F,QAAS13F,KAAKoxF,sBAC3E,CAEE2K,kCAAAA,GACE,MAAO,aAAa/7F,KAAK82F,2BAA2B92F,KAAK03F,QAAS13F,KAAKoxF,2BAC3E,CAEEW,aAAAA,GACE,OAAO/xF,KAAK4jF,UAAY5jF,KAAKyxF,QAAQp1D,QAAUr8B,KAAKyxF,OACxD,CACEwH,4BAAAA,GACE,GAAuB,aAAnBj5F,KAAKymF,UAA0B,MAAM,IAAIp1F,MAAM,4CACnD,MAAM,QACJqmG,EACA5gG,QAASw8E,GACPtzE,KACE8tB,EAAS,IAAIoqE,WAAWR,EAAQ,GAAKA,EAAQ,GAAK,GAExD,OADApkB,EAAGkC,WAAW,EAAG,EAAGkiB,EAAQ,GAAIA,EAAQ,GAAIpkB,EAAGykB,KAAMzkB,EAAG6kB,cAAerqE,GAChEA,CACX,CAEEorE,8BAAAA,GACE,OAAO,IAAIjiB,aAAaj3E,KAAKi5F,+BAA+Bb,OAChE,CAEEsB,6BAAAA,GACE,GAAuB,WAAnB15F,KAAKymF,UAAwB,MAAM,IAAIp1F,MAAM,0CACjD,MAAM,QACJqmG,EACA5gG,QAASw8E,GACPtzE,KACE43F,EAAIF,EAAQ,GACZG,EAAIH,EAAQ,GACZ5pE,EAAS,IAAImpD,aAAa2gB,EAAIC,EAAI,GAExC,OADAvkB,EAAGkC,WAAW,EAAG,EAAGoiB,EAAGC,EAAGvkB,EAAGykB,KAAMzkB,EAAG0kB,MAAOlqE,GACtCA,CACX,CAEE2qD,SAAAA,CAAUC,GACR,MACE5hF,QAASw8E,EAAE,OACX4D,GACEl3E,MACGoM,EAAOC,GAAU6qE,EAClBoC,EAAS,IAAI4e,WAAW9rF,EAAQC,EAAS,GAE/C,OADAinE,EAAGkC,WAAW,EAAG,EAAGppE,EAAOC,EAAQinE,EAAGykB,KAAMzkB,EAAG6kB,cAAe7e,GACvD,IAAIH,mBAAmBT,EAAOY,EAASO,EAAMlB,WAAWW,EAAQltE,EAAOC,IAAS+rF,OAC3F,CAEEiB,qBAAAA,GACE,MAAMvrE,EAAS,CACbA,OAAQ9tB,KAAK8xF,gBAEf,IAAK,IAAItjG,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAC1Cs/B,EAAO9tB,KAAKoiF,WAAW5zF,GAAGo0C,UAAY5iC,KAAKwyF,eAAehkG,GAAG+0D,UAE/D,OAAOz1B,CACX,CAEEqrE,uBAAAA,GACE,MAAMrrE,EAAS,CACbA,OAAQ9tB,KAAK8xF,gBAEf,GAAI9xF,KAAK4jF,UACP,IAAK,IAAIp1F,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAC1Cs/B,EAAO9tB,KAAKoiF,WAAW5zF,GAAGo0C,UAAY5iC,KAAKwyF,eAAehkG,GAAG6tC,aAG/D,IAAK,IAAI7tC,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAC1Cs/B,EAAO9tB,KAAKoiF,WAAW5zF,GAAGo0C,UAAY5iC,KAAKwyF,eAAehkG,GAG9D,OAAOs/B,CACX,CAEEkuE,qBAAAA,GACE,MAAMC,EAAgBj8F,KAAK44F,iBAE3B,OADA54F,KAAK44F,iBAAmB,KACjBqD,CACX,CAEEpkB,SAAAA,CAAUX,GACR,MAAMglB,EAAYl8F,KAAKm8F,eAAejlB,GACtC,GAAIl3E,KAAK0vD,QAAS,CAChB,IAAK1vD,KAAK0mF,cACR,MAAM,IAAIr1F,MAAM,+DAElB,MAAM+qG,EAAe,CAACF,EAAU,GAAIA,EAAU,IAAM,EAAGA,EAAU,IAAM,GACjEG,EAAaxiB,EAAMyiB,qBAAqB,CAC5C9V,oBAAqBxmF,KAAKwmF,oBAC1BC,UAAWzmF,KAAKymF,WACf2V,GACGG,EAAav8F,KAAK03F,QACxB,GAAI6E,EAAY,CACd,MAAMC,EAAex8F,KAAK82F,2BAA2ByF,EAAYv8F,KAAKoxF,QAChEqL,EAAez8F,KAAK82F,2BAA2BuF,EAAYr8F,KAAKoxF,QACtE,GAAIoL,IAAiBC,EASnB,OARIz8F,KAAK8iF,OACPlwD,QAAQ8pE,KAAK,wEAEf18F,KAAK28F,cAAc,CACjBvsG,KAAM,0BACNq2F,UAAWgW,EACXG,OAAQ1lB,GAIpB,CACMl3E,KAAKk3E,OAASglB,EACdl8F,KAAK23F,UAAYyE,EACjBp8F,KAAK03F,QAAU2E,EACf,MAAQvlG,QAASw8E,GAAOtzE,KAaxB,GAZAszE,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,aACxCryF,KAAK+8F,mBACL/8F,KAAKqyF,YAAYjmF,MAAQpM,KAAK03F,QAAQ,GACtC13F,KAAKqyF,YAAYhmF,OAASrM,KAAK03F,QAAQ,GACvCpkB,EAAG0pB,SAAS,EAAG,EAAGh9F,KAAKi9F,WAAW,GAAIj9F,KAAKi9F,WAAW,IACtDj9F,KAAKs4E,OAAOlsE,MAAQpM,KAAKi9F,WAAW,GACpCj9F,KAAKs4E,OAAOjsE,OAASrM,KAAKi9F,WAAW,GACjCj9F,KAAKyxF,SACPzxF,KAAKyxF,QAAQryE,SAEfpf,KAAKyxF,QAAU,KACfzxF,KAAKk9F,sBACDl9F,KAAKwyF,gBAAkBxyF,KAAKwyF,eAAelkG,OAAS,EAAG,CACzD,IAAK,IAAIE,EAAI,EAAGA,EAAIwR,KAAKwyF,eAAelkG,OAAQE,IAC9CwR,KAAKwyF,eAAehkG,GAAG4wB,SAEzBpf,KAAKwyF,eAAiB,KACtBxyF,KAAKm9F,yBACb,CACA,MACMn9F,KAAKk3E,OAASglB,EAEhB,OAAOl8F,IACX,CACEs5F,YAAAA,GACE,OAAOt5F,KAAKgyF,aACVhyF,KAAKs4F,iBACLt4F,KAAKk3E,OAAO,GACZl3E,KAAKk3E,OAAO,GACZl3E,KAAKk3E,OAAO,GAElB,CACEylB,aAAAA,CAAcphF,GACRvb,KAAK44F,iBACP54F,KAAK44F,iBAAiB7iG,KAAKwlB,GAE3Bvb,KAAK44F,iBAAmB,CAACr9E,EAE/B,CACEu7E,0BAAAA,GAA4F,IAAjEsG,EAAW/uG,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG2R,KAAK03F,QAAStG,EAAM/iG,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG2R,KAAKoxF,OAAQiM,EAAKhvG,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,IAAAA,UAAA,GAChF,IAAK+iG,EAAQ,CACX,IAAKpxF,KAAKH,YAAY6gF,SAAS8U,uBAAwB,MAAO,QAC9D,MAAM8H,EAAMt9F,KAAKH,YAAY6gF,SAAS2c,EAAQ,kBAAoB,qBAC5DE,EAASv9F,KAAKH,YAAY6gF,SAAS2c,EAAQ,qBAAuB,wBAClEG,EAAOx9F,KAAKH,YAAY6gF,SAAS2c,EAAQ,mBAAqB,sBAC9DI,EAAerkG,KAAKskG,KAAKN,EAAY,GAAKA,EAAY,IAC5D,GAAIK,GAAgBH,EAAIK,SACtB,MAAO,OACF,GAAIF,GAAgBF,EAAOI,SAChC,MAAO,UACF,GAAIF,GAAgBD,EAAKG,SAC9B,MAAO,QAEP,MAAM,IAAItsG,MAAM,+DAExB,CACI,OAAQ+/F,GACN,IAAK,QACH,MAAO,OACT,IAAK,WACH,MAAO,UACT,IAAK,YACH,MAAO,QACT,QACE,MAAM,IAAI//F,MAAM,mBAAmB+/F,8DAE3C,CAEEwM,yBAAAA,CAA0BvK,EAAa/c,GACrC,GAAKt2E,KAAK4jF,UACV,GAAI5jF,KAAKyxF,QAAQA,UAAYnb,EAAImb,QAAS,CACxC,MAAM,QAAEoM,GAAYxK,EAChBwK,IAC4B,IAA1BA,EAAQpM,QAAQqM,QAClB99F,KAAKyxF,QAAQryE,SACbpf,KAAKyxF,QAAUoM,EAAQxhE,QACvBr8B,KAAK64F,kBAAmB,GAE1BgF,EAAQz+E,UAEVi0E,EAAYwK,QAAUvnB,EAAIj6C,OAChC,MAAW,GAAIr8B,KAAKwyF,gBAAkBxyF,KAAKwyF,eAAelkG,OAAS,EAAG,CAChE,MAAM,eAAEkkG,GAAmBxyF,KAC3B,IAAK,IAAIxR,EAAI,EAAGA,EAAIgkG,EAAelkG,OAAQE,IAAK,CAC9C,MAAMuvG,EAAgBvL,EAAehkG,GACrC,GAAIuvG,EAActM,UAAYnb,EAAImb,QAAS,CACzC,MAAM,QAAEoM,GAAYxK,EAUpB,OATIwK,IAC4B,IAA1BA,EAAQpM,QAAQqM,QAClBC,EAAc3+E,SACdozE,EAAehkG,GAAKqvG,EAAQxhE,QAC5Br8B,KAAK84F,uBAAuBtqG,IAAK,GAEnCqvG,EAAQz+E,eAEVi0E,EAAYwK,QAAUvnB,EAAIj6C,QAEpC,CACA,CACA,CACA,CAEE2hE,UAAAA,CAAWC,GAGT,GAFAj+F,KAAK64F,kBAAmB,EACxB74F,KAAKyxF,QAAUwM,EAAexM,QAC1BzxF,KAAKwyF,eAAgB,CACvB,IAAK,IAAIhkG,EAAI,EAAGA,EAAIwR,KAAKwyF,eAAelkG,OAAQE,IAC9CwR,KAAK84F,uBAAuBtqG,IAAK,EAEnCwR,KAAKwyF,eAAiByL,EAAezL,cAC3C,CACA,CAEE/Q,UAAAA,GAAc,EAGhB,MAAM+V,EAAU,CACd0G,IAAK,UACLC,MAAO,SACPC,KAAM,WACNC,KAAM,WACNC,KAAM,YAGRl9C,EAAOL,QAAU,CACf4zC,WAEF,EAAE,CAAC,cAAc,IAAI,YAAY,GAAG,0BAA0B,GAAG,6BAA6B,GAAG,6BAA6B,GAAG,0BAA0B,GAAG,6BAA6B,GAAG,6BAA6B,GAAG,0BAA0B,GAAG,6BAA6B,GAAG,6BAA6B,GAAG,kBAAkB,GAAG,qBAAqB,GAAG,qBAAqB,GAAG,sBAAsB,GAAG,6BAA6B,GAAG,gCAAgC,GAAG,gCAAgC,GAAG,qBAAqB,GAAG,wBAAwB,GAAG,wBAAwB,KAAK,GAAG,CAAC,SAAS5mG,EAAQqzD,EAAOL,GAC3mB,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAM0lG,UAA+BQ,EACnCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMkgB,cAAc/5F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAChF,EAGA91B,EAAOL,QAAU,CACf0yC,yBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS1lG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAM2lG,UAA+BO,EACnCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMigB,cAAc95F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAChG,EAGA91B,EAAOL,QAAU,CACf2yC,yBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS3lG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMylG,UAA6BS,EACjCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMmgB,YAAYh6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAC9E,EAGA91B,EAAOL,QAAU,CACfyyC,uBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASzlG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAM6lG,UAA+BK,EACnCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMqgB,cAAcl6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAChF,EAGA91B,EAAOL,QAAU,CACf6yC,yBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS7lG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAM8lG,UAA+BI,EACnCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMogB,cAAcj6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAChG,EAGA91B,EAAOL,QAAU,CACf8yC,yBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS9lG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAM4lG,UAA6BM,EACjCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMsgB,YAAYn6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAC9D,EAGA91B,EAAOL,QAAU,CACf4yC,uBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS5lG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMgmG,UAA+BE,EACnCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMwgB,cAAcr6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAChF,EAGA91B,EAAOL,QAAU,CACfgzC,yBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAShmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMimG,UAA+BC,EACnCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMugB,cAAcp6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAChG,EAGA91B,EAAOL,QAAU,CACfizC,yBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASjmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAM+lG,UAA6BG,EACjCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMygB,YAAYt6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAC9D,EAGA91B,EAAOL,QAAU,CACf+yC,uBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS/lG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMmmG,UAAyBD,EAC7Bp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAM2gB,aAAax6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAC/E,EAGA91B,EAAOL,QAAU,CACfmzC,mBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASnmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMomG,UAAyBF,EAC7Bp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAM0gB,aAAav6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAC/F,EAGA91B,EAAOL,QAAU,CACfozC,mBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASpmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,UAAEwwG,GAAcxwG,EAAQ,WAE9B,MAAMkmG,UAAuBsK,EAC3B,eAAIC,GACF,OAAOx+F,KAAKlJ,QAAQkhG,KACxB,CACEn4F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEooG,eAAAA,GACE,MAAMllB,EAAKtzE,KAAKlJ,QACV+vB,EAAO7mB,KAAK6mB,KAClBysD,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,eACxC/e,EAAGmrB,qBACDnrB,EAAGwpB,YACHxpB,EAAGorB,kBACHprB,EAAGqrB,WACH3+F,KAAKyxF,QACL,GAEF,MAAM3jE,EAAS,IAAImpD,aAAapwD,EAAK,GAAKA,EAAK,GAAK,GAEpD,OADAysD,EAAGkC,WAAW,EAAG,EAAG3uD,EAAK,GAAIA,EAAK,GAAIysD,EAAGykB,KAAMzkB,EAAG0kB,MAAOlqE,GAClDA,CACX,CACEwrE,YAAAA,GACE,OAAIt5F,KAAK4+F,SAAiB,KACnB5+F,KAAKw4F,iBAChB,CACEj1C,OAAAA,GACE,OAAOs2B,EAAM4gB,WAAWz6F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAC7D,EAGA91B,EAAOL,QAAU,CACfkzC,iBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASlmG,EAAQqzD,EAAOL,GACnE,MAAM,kBAAEwzC,GAAsBxmG,EAAQ,cAEtC,MAAM2mG,UAA2BH,EAC/B10F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,iBAChB,CACEmzD,OAAAA,GACE,OAAOvjD,KAAKs5F,cAChB,EAGAl4C,EAAOL,QAAU,CACf2zC,qBAEF,EAAE,CAAC,aAAa,KAAK,GAAG,CAAC,SAAS3mG,EAAQqzD,EAAOL,GACjD,MAAM,QAAE89C,GAAY9wG,EAAQ,oBAE5B,MAAMwwG,UAAkBM,EACtB,eAAIL,GACF,MAAM,IAAIntG,MAAM,oCAAqC2O,KAAKzP,OAC9D,CAEE8rC,KAAAA,GACE,OAAO,IAAIr8B,KAAKH,YAAYG,KAChC,CAEE8+F,YAAAA,GACE,OAAI9+F,KAAKyxF,QAAQqM,MAAQ,IACvB99F,KAAK++F,cACE,EAGb,CAEEC,YAAAA,GACEh/F,KAAKyxF,QAAQqM,QACb,MAAQhnG,QAASw8E,EAAE,KAAEzsD,EAAI,QAAE4qE,EAAO,OAAE7Z,GAAW53E,KAC3C43E,EAAOkL,OACTlwD,QAAQ8pE,KAAK,4BAEfppB,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,eACxC4M,EAAc3rB,EAAIme,GAClBne,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAYlN,EAAS,GACtF,MAAMztF,EAASsvE,EAAG4rB,gBAClBD,EAAc3rB,EAAItvE,GAClBsvE,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAG3+F,KAAKo/F,eAAgBv4E,EAAK,GAAIA,EAAK,GAAI,EAAG7mB,KAAKq/F,cAAer/F,KAAKw+F,YAAa,MAChHlrB,EAAGgsB,kBAAkBhsB,EAAGqrB,WAAY,EAAG,EAAG,EAAG,EAAG,EAAG93E,EAAK,GAAIA,EAAK,IACjE7iB,EAAO85F,MAAQ,EACf99F,KAAKyxF,QAAUztF,CACnB,CAEE+6F,UAAAA,GACE/+F,KAAKyxF,QAAQqM,QACb,MAAMxqB,EAAKtzE,KAAKlJ,QACV+vB,EAAO7mB,KAAK6mB,KACH7mB,KAAK43E,OACTkL,OACTlwD,QAAQ8pE,KAAK,wBAEf,MAAM14F,EAASsvE,EAAG4rB,gBAClBD,EAAc3rB,EAAItvE,GAClBsvE,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAG3+F,KAAKo/F,eAAgBv4E,EAAK,GAAIA,EAAK,GAAI,EAAG7mB,KAAKq/F,cAAer/F,KAAKw+F,YAAa,MAChHx6F,EAAO85F,MAAQ,EACf99F,KAAKyxF,QAAUztF,CACnB,CAEEu7F,KAAAA,GACE,GAAIv/F,KAAKyxF,QAAQqM,MAAO,CACtB99F,KAAKyxF,QAAQqM,QACb,MAAMxqB,EAAKtzE,KAAKlJ,QACVkN,EAAShE,KAAKyxF,QAAUne,EAAG4rB,gBACjCD,EAAc3rB,EAAItvE,GAClB,MAAM6iB,EAAO7mB,KAAK6mB,KAClB7iB,EAAO85F,MAAQ,EACfxqB,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAG3+F,KAAKo/F,eAAgBv4E,EAAK,GAAIA,EAAK,GAAI,EAAG7mB,KAAKq/F,cAAer/F,KAAKw+F,YAAa,KACtH,CACI,MAAQ1nG,QAASw8E,EAAE,QAAEme,GAAYzxF,KACjCszE,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,eACxC/e,EAAGksB,YAAYlsB,EAAGqrB,WAAYlN,GAC9BwN,EAAc3rB,EAAIme,GAClBne,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAYlN,EAAS,GACtFne,EAAGmsB,WAAW,EAAG,EAAG,EAAG,GACvBnsB,EAAGisB,MAAMjsB,EAAGosB,iBAAmBpsB,EAAGqsB,iBACtC,CAEEvgF,SACMpf,KAAK4+F,WACT5+F,KAAK4+F,UAAW,EACZ5+F,KAAKyxF,QAAQqM,QACf99F,KAAKyxF,QAAQqM,QACT99F,KAAKyxF,QAAQqM,QAEnB99F,KAAKlJ,QAAQ8oG,cAAc5/F,KAAKyxF,SACpC,CAEEY,WAAAA,GAIE,OAHKryF,KAAK6/F,eACR7/F,KAAK6/F,aAAe7/F,KAAK43E,OAAOkoB,uBAAuB9/F,KAAK6mB,KAAK,GAAI7mB,KAAK6mB,KAAK,KAE1E7mB,KAAK6/F,YAChB,EAGA,SAASZ,EAAc3rB,EAAIme,GACzBne,EAAGysB,cAAczsB,EAAG0sB,WACpB1sB,EAAGksB,YAAYlsB,EAAGqrB,WAAYlN,GAC9Bne,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG4sB,eAAgB5sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG8sB,eAAgB9sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG+sB,mBAAoB/sB,EAAGgtB,SAC1DhtB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAGitB,mBAAoBjtB,EAAGgtB,QAC5D,CAEAl/C,EAAOL,QAAU,CAAEw9C,YACnB,EAAE,CAAC,mBAAmB,MAAM,GAAG,CAAC,SAASxwG,EAAQqzD,EAAOL,GACxD,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMsmG,UAAmCJ,EACvCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,8BAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAM+f,4BAA4B55F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAC9F,EAGA91B,EAAOL,QAAU,CACfszC,6BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAStmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMumG,UAAmCL,EACvCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,8BAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAM8f,4BAA4B35F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAC9G,EAGA91B,EAAOL,QAAU,CACfuzC,6BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASvmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,eAAEkmG,GAAmBlmG,EAAQ,WAEnC,MAAMqmG,UAAiCH,EACrCp0F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,8BAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAMggB,0BAA0B75F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAC5E,EAGA91B,EAAOL,QAAU,CACfqzC,2BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASrmG,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,kBAAEwmG,GAAsBxmG,EAAQ,cAEtC,MAAMymG,UAA4BD,EAChC10F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,eAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAM2f,mBAAmBx5F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GACrF,EAGA91B,EAAOL,QAAU,CACfyzC,sBAEF,EAAE,CAAC,iBAAiB,IAAI,aAAa,KAAK,GAAG,CAAC,SAASzmG,EAAQqzD,EAAOL,GACtE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,kBAAEwmG,GAAsBxmG,EAAQ,cAEtC,MAAM0mG,UAA4BF,EAChC10F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,eAChB,CACEmzD,OAAAA,GACE,OAAOs2B,EAAM0f,mBAAmBv5F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GAAIl3E,KAAKk3E,OAAO,GACrG,EAGA91B,EAAOL,QAAU,CACf0zC,sBAEF,EAAE,CAAC,iBAAiB,IAAI,aAAa,KAAK,GAAG,CAAC,SAAS1mG,EAAQqzD,EAAOL,GACtE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,UAAEwwG,GAAcxwG,EAAQ,WAE9B,MAAMwmG,UAA0BgK,EAC9B,eAAIC,GACF,OAAOx+F,KAAKlJ,QAAQqhG,aACxB,CACEt4F,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK5P,KAAO,eAChB,CACEooG,eAAAA,GACE,MAAQ1hG,QAASw8E,GAAOtzE,KACxBszE,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,eACxC/e,EAAGmrB,qBACDnrB,EAAGwpB,YACHxpB,EAAGorB,kBACHprB,EAAGqrB,WACH3+F,KAAKyxF,QACL,GAEF,MAAM3jE,EAAS,IAAIoqE,WAAWl4F,KAAK6mB,KAAK,GAAK7mB,KAAK6mB,KAAK,GAAK,GAE5D,OADAysD,EAAGkC,WAAW,EAAG,EAAGx1E,KAAK6mB,KAAK,GAAI7mB,KAAK6mB,KAAK,GAAIysD,EAAGykB,KAAMzkB,EAAG6kB,cAAerqE,GACpEA,CACX,CACEwrE,YAAAA,GACE,OAAIt5F,KAAK4+F,SAAiB,KACnB,IAAI3nB,aAAaj3E,KAAKw4F,kBAAkBJ,OACnD,CACE70C,OAAAA,GACE,OAAOs2B,EAAM4f,iBAAiBz5F,KAAKs5F,eAAgBt5F,KAAKk3E,OAAO,GACnE,EAGA91B,EAAOL,QAAU,CACfwzC,oBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASxmG,EAAQqzD,EAAOL,GACnE,MAAM6gC,EAAa7zF,EAAQ,OACrB,YAAEyyG,GAAgBzyG,EAAQ,qBAC1B,eAAE2iG,GAAmB3iG,EAAQ,uBAEnC,IAAI+yF,EAAc,KACdgU,EAAa,KACbD,EAAc,KACd4L,EAAiB,KACjB/f,EAAW,KAEf,MAAMggB,UAAyBF,EAC7B,sBAAW1f,GACT,OAAoB,OAAhBA,IACJ9gF,KAAK62F,qBACL/V,EAA8B,OAAhB+T,GAFmB/T,CAIrC,CAEE,yBAAO+V,GAGL,GAFA/B,EAAa,KACb2L,EAAiB,KACS,oBAAf7e,EACX,IAIE,GAHAiT,EAAcjT,EAAW,EAAG,EAAG,CAC7B+e,uBAAuB,KAEpB9L,IAAgBA,EAAY7f,aAAc,OAC/CyrB,EAAiB,CACfG,6BAA8B/L,EAAY7f,aAAa,gCACvD6rB,wBAAyBhM,EAAY7f,aAAa,2BAClD8rB,kBAAmBjM,EAAY7f,aAAa,qBAC5C+rB,yBAA0BlM,EAAY7f,aAAa,4BACnDgsB,uBAAwBnM,EAAY7f,aAAa,0BACjDisB,mBAAoBpM,EAAY7f,aAAa,sBAC7CksB,yBAA0BrM,EAAY7f,aAAa,6BAErD0L,EAAW1gF,KAAKygF,aACtB,CAAM,MAAO3/E,GACP8xB,QAAQ8pE,KAAK57F,EACnB,CACA,CAEE,qBAAOigF,CAAejqF,GACpB,IACE,MAAkD,UAA3CA,EAAQqqG,aAAarqG,EAAQsqG,SAC1C,CAAM,MAAOtgG,GACP,OAAO,CACb,CACA,CAEE,wBAAO40F,GACL,OAAO7L,QAAQ4W,EAAeK,kBAClC,CAEE,uBAAOxL,GACL,OAAOzL,QAAQ4W,EAAeQ,mBAClC,CAEE,sBAAOrL,GACL,OAAO6K,EAAeQ,mBACpBpM,EAAYsM,aAAaV,EAAeQ,mBAAmBI,wBAC3D,CACN,CAEE,wBAAOvL,GACL,OAAOjB,EAAYsM,aAAatM,EAAYyM,iBAChD,CAEE,qBAAWxM,GACT,OAAOA,CACX,CAEE,sBAAWD,GACT,OAAOA,CACX,CAEE,mBAAWnU,GACT,OAAOA,CACX,CAEEe,UAAAA,GACE,MAAO,CAAC,CACZ,CAEEE,WAAAA,GACE,OAAOC,EAAW,EAAG,EAAG,CACtB+e,uBAAuB,GAE7B,CAEEY,cAAAA,GACEvhG,KAAKwhG,WAAa,CAChBZ,6BAA8B5gG,KAAKlJ,QAAQk+E,aAAa,gCACxD6rB,wBAAyB7gG,KAAKlJ,QAAQk+E,aAAa,2BACnD8rB,kBAAmB9gG,KAAKlJ,QAAQk+E,aAAa,qBAC7C+rB,yBAA0B/gG,KAAKlJ,QAAQk+E,aAAa,4BACpDgsB,uBAAwBhhG,KAAKlJ,QAAQk+E,aAAa,0BAClDisB,mBAAoBjhG,KAAKlJ,QAAQk+E,aAAa,sBAEpD,CAEEyN,KAAAA,GACEpB,MAAMoB,MAAMp1C,MAAMrtC,KAAM3R,WACnB2R,KAAKyhG,mBACRzhG,KAAKwhG,WAAWZ,6BAA6Bc,OAAO1hG,KAAKi9F,WAAW,GAAIj9F,KAAKi9F,WAAW,GAE9F,CAEE0E,iBAAAA,GACE3hG,KAAKwhG,WAAWZ,6BAA+B,KAC/C5gG,KAAKwhG,WAAWX,wBAA0B,KAC1C7gG,KAAKwhG,WAAWV,kBAAoB,KACpC9gG,KAAKwhG,WAAWT,yBAA2B,KAC3C/gG,KAAKwhG,WAAWR,uBAAyB,KACzChhG,KAAKwhG,WAAWP,mBAAqB,IACzC,CAEE,qBAAOpb,CAAe/uF,GACpB,MAAMi+E,EAAYj+E,EAAQk+E,aAAa,2BACnCD,GAAaA,EAAUjsD,SACzBisD,EAAUjsD,SAEhB,CAEE5sB,QAAAA,GACE,MAAM00F,EAAqB,+CACrBC,EAAuB,gFAC7B,OAAOH,EAAe1wF,KAAKH,YAAaxR,UAAW2R,KAAM4wF,EAAoBC,EACjF,CAEEhZ,SAAAA,CAAUX,GAKR,OAJAmK,MAAMxJ,UAAUX,GACZl3E,KAAK+3E,WAAa/3E,KAAKwhG,WAAWZ,8BACpC5gG,KAAKwhG,WAAWZ,6BAA6Bc,OAAO1hG,KAAKi9F,WAAW,GAAIj9F,KAAKi9F,WAAW,IAEnFj9F,IACX,EAGAohD,EAAOL,QAAU,CACf2/C,mBAEF,EAAE,CAAC,sBAAsB,GAAG,mBAAmB,GAAG,GAAK,IAAI,GAAG,CAAC,SAAS3yG,EAAQqzD,EAAOL,GACvF,MAAM6gD,EACJ/hG,WAAAA,CAAY7M,EAAOqmF,GACjB,MAAM,KACJ9oF,EAAI,OACJqnF,EAAM,QACN9gF,EAAO,aACPu6F,EAAY,uBACZwQ,EAAsB,sBACtBC,EAAqB,OACrBnkB,EAAM,eACNqE,EAAc,KACd5xF,EAAI,OACJghG,GACE/X,EACJ,IAAK9oF,EACH,MAAM,IAAIc,MAAM,gBAElB,IAAKjB,EACH,MAAM,IAAIiB,MAAM,gBAElB,IAAKssF,EACH,MAAM,IAAItsF,MAAM,kBAElB,GAAe,SAAXssF,GAAgC,cAAXA,EACvB,MAAM,IAAItsF,MAAM,kDAAmDssF,MAErE,IAAKkkB,EACH,MAAM,IAAIxwG,MAAM,qCAElB2O,KAAKzP,KAAOA,EACZyP,KAAK29E,OAASA,EACd39E,KAAKoxF,OAASA,EACdpxF,KAAKiyF,QAAqB,cAAXtU,EAAyB,aAAaptF,IAASA,EAC9DyP,KAAK43E,OAASA,EACd53E,KAAKgiF,eAAiBA,EACtBhiF,KAAK5P,KAAO4C,EAAM5C,MAAQA,EAC1B4P,KAAK6mB,KAAO7zB,EAAM6zB,MAAQ,KAC1B7mB,KAAKvK,MAAQ,KACbuK,KAAKlJ,QAAUA,EACfkJ,KAAKqxF,aAAgC,OAAjBA,QAA0C9d,IAAjB8d,GAA6BA,EAC1ErxF,KAAK+hG,cAAgB,KACrB/hG,KAAK6hG,uBAAyBA,EAC9B7hG,KAAK8hG,sBAAwBA,EAC7B9hG,KAAKgiG,mBAAqB,IAC9B,CAEE,MAAIvqE,GACF,MAAO,GAAGz3B,KAAK29E,UAAUptF,MAC7B,CAEE0xG,SAAAA,GACE,MAAM,IAAI5wG,MAAM,8BAA+B2O,KAAKH,YAAYtP,OACpE,CAEE2xG,WAAAA,CAAYlvG,GACV,MAAM,IAAI3B,MAAM,gCAAiC2O,KAAKH,YAAYtP,OACtE,EAGA6wD,EAAOL,QAAU,CACf6gD,cAEF,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS7zG,EAAQqzD,EAAOL,GAClC,MAAM,MAAE84B,GAAU9rF,EAAQ,aACpB,MAAEo0G,GAAUp0G,EAAQ,YAE1B,MAAMuyF,EACJ,sBAAWQ,GACT,MAAM,IAAIzvF,MAAM,oCAAqC2O,KAAKzP,OAC9D,CAEE,qBAAOwwF,CAAejqF,GACpB,MAAM,IAAIzF,MAAM,uCAAwC2O,KAAKzP,OACjE,CAEE,kBAAOkwF,GACL,MAAM,IAAIpvF,MAAM,oCAAqC2O,KAAKzP,OAC9D,CAEE,qBAAOs1F,CAAe/uF,GACpB,MAAM,IAAIzF,MAAM,8BAA+B2O,KAAKzP,OACxD,CAEE,8BAAOywF,GACL,MAAM,IAAI3vF,MAAM,uCAAwC2O,KAAKzP,OACjE,CAEE,+BAAO0wF,GACL,MAAM,IAAI5vF,MAAM,wCAAyC2O,KAAKzP,OAClE,CAEE,qBAAO2wF,GACL,MAAM,IAAI7vF,MAAM,8BAA+B2O,KAAKzP,OACxD,CAEEsP,WAAAA,CAAYiY,EAAQuhE,GAClB,GAAsB,kBAAXvhE,EAAqB,CAC9B,GAAsB,kBAAXA,EACT,MAAM,IAAIzmB,MAAM,uBAElB,IAAKwoF,EAAMqR,iBAAiBpzE,GAC1B,MAAM,IAAIzmB,MAAM,+BAExB,CACI2O,KAAKoiG,kBAAmB,EACxBpiG,KAAKyhG,mBAAoB,EACzBzhG,KAAKqiG,kBAAoB,KAEzBriG,KAAKy6E,cAAkC,kBAAX3iE,EAAsB+hE,EAAMI,2BAA2BniE,GAAU,KAC7F9X,KAAK+/E,cAAgB,KACrB//E,KAAKi+E,cAAgB,KACrBj+E,KAAKqmF,kBAAoB,KACzBrmF,KAAKmmF,gBAAkB,KACvBnmF,KAAKomF,gBAAkB,KACvBpmF,KAAKsiG,2BAA6B,KAGlCtiG,KAAK8X,OAASA,EAEd9X,KAAKk3E,OAAS,KAEdl3E,KAAK8iF,OAAQ,EAEb9iF,KAAK+3E,WAAY,EAEjB/3E,KAAK2jF,kBAAoB,EAEzB3jF,KAAKm4E,UAAY,KAEjBn4E,KAAKg+E,cAAgB,KAErBh+E,KAAKsmF,kBAAoB,KAEzBtmF,KAAKk+E,kBAAmB,EAExBl+E,KAAK0mF,eAAgB,EAErB1mF,KAAKs4E,OAAS,KAEdt4E,KAAKlJ,QAAU,KAEfkJ,KAAKqxF,aAAe,KAEpBrxF,KAAKuiG,IAAM,KAEXviG,KAAKumE,UAAY,KAEjBvmE,KAAKumF,gBAAkB,KAEvBvmF,KAAKojF,eAAiB,KAEtBpjF,KAAKoiF,WAAa,KAElBpiF,KAAK+qF,UAAW,EAEhB/qF,KAAK4jF,WAAY,EAEjB5jF,KAAK6jF,UAAW,EAEhB7jF,KAAKymF,UAAY,KAEjBzmF,KAAKoxF,OAAS,KAEdpxF,KAAKu0D,QAAU,KAEfv0D,KAAK66E,WAAa,KAClB76E,KAAK+6E,uBAAyB,KAC9B/6E,KAAKg7E,yBAA2B,KAChCh7E,KAAKwmF,oBAAsB,KAC3BxmF,KAAKgiF,gBAAiB,EACtBhiF,KAAK6qF,2BAA6B,KAClC7qF,KAAK0iF,OAAQ,EACb1iF,KAAKu9E,UAAY,IACrB,CAEE+D,aAAAA,CAAcjI,GACZ,IAAK,IAAIz9E,KAAKy9E,EACZ,GAAKA,EAASliF,eAAeyE,IAAOoE,KAAK7I,eAAeyE,GAAxD,CACA,OAAQA,GACN,IAAK,SACH,IAAK7G,MAAMC,QAAQqkF,EAASnC,QAAS,CACnCl3E,KAAK63E,UAAUwB,EAASnC,QACxB,QACZ,CACU,MACF,IAAK,YACHl3E,KAAKumE,UAAY,GACjB,IAAK,IAAI/3E,EAAI,EAAGA,EAAI6qF,EAAS9S,UAAUj4E,OAAQE,IAC7CwR,KAAKwiG,YAAYnpB,EAAS9S,UAAU/3E,IAEtC,SACF,IAAK,YACC6qF,EAASz9E,KAAOy9E,EAASliF,eAAe,eAC1C6I,KAAKymF,UAAY,YAEnBzmF,KAAKpE,GAAKy9E,EAASz9E,GACnB,SACF,IAAK,kBACH,IAAKy9E,EAASkN,gBAAiB,SAC/BvmF,KAAKumF,gBAAkB,GACvB,IAAK,IAAI/3F,EAAI,EAAGA,EAAI6qF,EAASkN,gBAAgBj4F,OAAQE,IAAK,CACxD,MAAMy8E,EAAIoO,EAASkN,gBAAgB/3F,IAC7B,KAAE+B,EAAI,OAAEunB,GAAWmzD,EACzBjrE,KAAKyiG,kBAAkBlyG,EAAMunB,EAAQmzD,EACjD,CACU,SAEJjrE,KAAKpE,GAAKy9E,EAASz9E,EA9BiD,CAiCjEoE,KAAKs4E,SAAQt4E,KAAKs4E,OAASt4E,KAAKyhF,cAChCzhF,KAAKlJ,UAASkJ,KAAKlJ,QAAUkJ,KAAK2hF,eAClC3hF,KAAKu0D,UAASv0D,KAAKu0D,QAAUv0D,KAAK6hF,YAAYxI,GACvD,CACEoJ,KAAAA,GACE,MAAM,IAAIpxF,MAAM,0BAA2B2O,KAAKH,YAAYtP,OAChE,CAEEwyF,GAAAA,GACE,MAAM,IAAI1xF,MAAM,wBAAyB2O,KAAKH,YAAYtP,OAC9D,CAEEkxF,UAAAA,GACE,MAAM,IAAIpwF,MAAM,+BAAgC2O,KAAKH,YAAYtP,OACrE,CAEEoxF,WAAAA,GACE,MAAM,IAAItwF,MAAM,gCAAiC2O,KAAKH,YAAYtP,OACtE,CAEEsxF,WAAAA,CAAYxI,GACV,MAAM,IAAIhoF,MAAM,gCAAiC2O,KAAKH,YAAYtP,OACtE,CAEEiyG,WAAAA,CAAY1qF,GAAuB,IAAfuhE,EAAQhrF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC9B,GAAIypB,EAAOvnB,MAAQunB,EAAOA,QAAUA,EAAOioE,eAAiB,eAAgBjoE,EAC1E9X,KAAKumE,UAAUxwE,KAAK+hB,QACf,GAAI,aAAcA,GAAU,WAAYA,EAC7C9X,KAAKumE,UAAUxwE,KAAKiK,KAAK0iG,uBAAuB5qF,EAAOA,OAAQA,EAAOuhE,eACjE,IAAsB,kBAAXvhE,GAAyC,oBAAXA,EAG9C,MAAM,IAAIzmB,MAAM,iCAFhB2O,KAAKumE,UAAUxwE,KAAKiK,KAAK0iG,uBAAuB5qF,EAAQuhE,GAG9D,CACI,OAAOr5E,IACX,CAEEyiG,iBAAAA,CAAkBlyG,EAAMunB,GAAuB,IAAfuhE,EAAQhrF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC1C,MAAM,cAAE0xF,EAAa,cAAEtF,GAAkBpB,EAAS0G,cAChD4iB,EAAmBtpB,EAAS0G,eAC5B//E,KAAKH,YAAYmhF,wBAAwBlpE,IAAW,CAAC,EASvD,OARA9X,KAAKumF,gBAAgBxwF,KAAK,CACxBxF,OACAunB,SACAuhE,WACA0G,gBACAtF,gBACAI,WAAYxB,EAASwB,YAAc76E,KAAKH,YAAYohF,yBAAyBnpE,KAExE9X,IACX,CAEE82E,cAAAA,CAAeb,GAEb,GADAj2E,KAAKmmF,gBAAkB,GAClBnmF,KAAK+/E,cAaR,IAAK,IAAIvxF,EAAI,EAAGA,EAAIwR,KAAK+/E,cAAczxF,OAAQE,IAC7CwR,KAAKmmF,gBAAgBpwF,KAAK,CACxB3F,KAAM4P,KAAK+/E,cAAcvxF,UAd7B,IAAKwR,KAAK+/E,cAAe,CACvB//E,KAAK+/E,cAAgB,GACrB,IAAK,IAAIvxF,EAAI,EAAGA,EAAIynF,EAAK3nF,OAAQE,IAAK,CACpC,MAAMszF,EAAUjI,EAAMkI,gBAAgB9L,EAAKznF,GAAIwR,KAAKgiF,gBAC9C5xF,EAAmB,YAAZ0xF,EAAwB,SAAWA,EAChD9hF,KAAK+/E,cAAchqF,KAAK3F,GACxB4P,KAAKmmF,gBAAgBpwF,KAAK,CACxB3F,QAEZ,CACA,CASI4P,KAAKi+E,cAAgB,IAAIlpF,MAAMkhF,EAAK3nF,QACpC0R,KAAKqmF,kBAAoB,IAAIuc,WAAW3sB,EAAK3nF,QAE7C,IAAK,IAAIE,EAAI,EAAGA,EAAIynF,EAAK3nF,OAAQE,IAAK,CACpC,MAAM8nF,EAAML,EAAKznF,GACjBwR,KAAKi+E,cAAczvF,GAAK8nF,EAAIz2E,cAAgBsiG,EAAQ7rB,EAAIzvD,KAAO,KAC/D7mB,KAAKqmF,kBAAkB73F,GAAKwR,KAAK6iG,YAAYvsB,EACnD,CAEI,GAAIt2E,KAAKy6E,cAAcnsF,SAAW2nF,EAAK3nF,OACrC,MAAM,IAAI+C,MAAM,6BAEtB,CAEEsxF,cAAAA,GACE3iF,KAAKomF,gBAAkB,GACvB,IAAI0c,EAA4C,OAAvB9iG,KAAKg+E,cAK9B,GAJI8kB,IACF9iG,KAAKg+E,cAAgB,CAAC,GAExBh+E,KAAKsmF,kBAAoB,CAAC,EACtBtmF,KAAKm4E,UACP,IAAK,IAAI5nF,KAAQyP,KAAKm4E,UAAW,CAC/B,GAAI2qB,EAAoB,CACtB,MAAM1yG,EAAOypF,EAAMkI,gBAAgB/hF,KAAKm4E,UAAU5nF,GAAOyP,KAAKgiF,gBAC9DhiF,KAAKg+E,cAAcztF,GAAQH,EAC3B4P,KAAKomF,gBAAgBrwF,KAAK,CACxBxF,OACAH,QAEZ,MACU4P,KAAKomF,gBAAgBrwF,KAAK,CACxBxF,OACAH,KAAM4P,KAAKg+E,cAAcztF,KAG7ByP,KAAKsmF,kBAAkB/1F,GAAQyP,KAAK6iG,YAAY7iG,KAAKm4E,UAAU5nF,GACvE,CAEA,CAEEwyG,sBAAAA,CAAuBx3B,GAErB,OADAvrE,KAAKwmF,oBAAsBjb,EACpBvrE,IACX,CAEEm8F,cAAAA,CAAejlB,GACb,OAAIA,EAAO//E,eAAe,KACpB+/E,EAAO//E,eAAe,KACpB+/E,EAAO//E,eAAe,KACjB,CAAC+/E,EAAOrmF,EAAGqmF,EAAOlmE,EAAGkmE,EAAOE,GAE5B,CAACF,EAAOrmF,EAAGqmF,EAAOlmE,GAGpB,CAACkmE,EAAOrmF,GAGVqmF,CAEb,CAEEW,SAAAA,CAAUX,GAER,OADAl3E,KAAKk3E,OAASl3E,KAAKm8F,eAAejlB,GAC3Bl3E,IACX,CAEEgjG,QAAAA,CAASz3B,GAEP,OADAvrE,KAAK8iF,MAAQvX,EACNvrE,IACX,CAEEo4E,YAAAA,CAAa7M,GAGX,OAFAvrE,KAAK+3E,UAAYxM,EACjBvrE,KAAKymF,UAAY,WACVzmF,IACX,CAEEijG,oBAAAA,CAAqBj9C,GAEnB,OADAhmD,KAAK2jF,kBAAoB39B,EAClBhmD,IACX,CAEEk4E,YAAAA,CAAaC,GAEX,OADAn4E,KAAKm4E,UAAYA,EACVn4E,IACX,CAEEkjG,gBAAAA,CAAiBllB,GAEf,OADAh+E,KAAKg+E,cAAgBA,EACdh+E,IACX,CAEEmjG,YAAAA,CAAa58B,GACX,IAAK,IAAI/3E,EAAI,EAAGA,EAAI+3E,EAAUj4E,OAAQE,IACpCwR,KAAKwiG,YAAYj8B,EAAU/3E,IAE7B,OAAOwR,IACX,CAEEojG,kBAAAA,CAAmB7c,GACjB,IAAK,IAAI/3F,EAAI,EAAGA,EAAI+3F,EAAgBj4F,OAAQE,IAAK,CAC/C,MAAM6qF,EAAWkN,EAAgB/3F,IAC3B,KAAE+B,EAAI,OAAEunB,GAAWuhE,EACzBr5E,KAAKyiG,kBAAkBlyG,EAAMunB,EAAQuhE,EAC3C,CACI,OAAOr5E,IACX,CAEEqjG,iBAAAA,CAAkBjgB,GAEhB,OADApjF,KAAKojF,eAAiBA,EACfpjF,IACX,CAEEsjG,WAAAA,CAAY/3B,GAEV,OADAvrE,KAAK6jF,SAAWtY,EACTvrE,IACX,CAEEi3F,YAAAA,CAAa1rB,GAEX,OADAvrE,KAAKymF,UAAYlb,EACVvrE,IACX,CAEEujG,aAAAA,CAAch4B,GAGZ,OAFAsO,EAAMsd,eAAe,SAAU,gBAAiB,aAChDn3F,KAAKk3E,OAAS3L,EACPvrE,IACX,CAEEwjG,kBAAAA,CAAmBj4B,GAGjB,OAFAsO,EAAMsd,eAAe,SAAU,qBAAsB,eACrDn3F,KAAK6jF,SAAWtY,EACTvrE,IACX,CAEEyjG,YAAAA,CAAal4B,GAEX,OADAvrE,KAAK4jF,UAAYrY,EACVvrE,IACX,CAEEq4E,SAAAA,CAAUC,GAER,OADAt4E,KAAKs4E,OAASA,EACPt4E,IACX,CAEE0jG,iBAAAA,CAAkBn4B,GAEhB,OADAvrE,KAAKgiF,eAAiBzW,EACfvrE,IACX,CAEE2jG,gBAAAA,CAAiBp4B,GAEf,OADAvrE,KAAK0mF,cAAgBnb,EACdvrE,IACX,CAEE4jG,oBAAAA,CAAqBr4B,GAInB,OAHAsO,EAAMsd,eAAe,SAAU,wBAC/Bn3F,KAAK2jG,iBAAiBp4B,GACtBvrE,KAAK6jG,oBAAoBt4B,GAClBvrE,IACX,CAEE6jG,mBAAAA,CAAoBt4B,GAElB,OADAvrE,KAAKk+E,iBAAmB3S,EACjBvrE,IACX,CAEE8jG,mBAAAA,CAAoBv4B,GAElB,OADAvrE,KAAKoiG,iBAAmB72B,EACjBvrE,IACX,CAEE+jG,eAAAA,CAAgBx4B,GAEd,OADAsO,EAAMsd,eAAe,SAAU,mBACxBn3F,IACX,CAEEgkG,SAAAA,GAEE,OADAnqB,EAAMsd,eAAe,SAAU,aACxBn3F,KAAKs4E,MAChB,CAEE2rB,QAAAA,GAEE,OADApqB,EAAMsd,eAAe,SAAU,YACxBn3F,KAAKlJ,OAChB,CAEEyhF,UAAAA,CAAWzhF,GAET,OADAkJ,KAAKlJ,QAAUA,EACRkJ,IACX,CAEEkkG,gBAAAA,CAAiBnkB,GACf,GAAIhrF,MAAMC,QAAQ+qF,GAChB//E,KAAK+/E,cAAgBA,MAChB,CACL//E,KAAK+/E,cAAgB,GACrB,IAAK,MAAMnkF,KAAKmkF,EAAe,CAC7B,IAAKA,EAAc5oF,eAAeyE,GAAI,SACtC,MAAMqrF,EAAgBjnF,KAAKy6E,cAAchpF,QAAQmK,GACjD,IAAuB,IAAnBqrF,EAAsB,MAAM,IAAI51F,MAAM,2BAA4BuK,KACtEoE,KAAK+/E,cAAckH,GAAiBlH,EAAcnkF,EAC1D,CACA,CACI,OAAOoE,IACX,CAEEmkG,SAAAA,CAAU/S,GAER,OADApxF,KAAKoxF,OAASA,EACPpxF,IACX,CAEEo5F,eAAAA,CAAgBnjB,GACd,IAAKj2E,KAAKqiG,kBACR,MAAM,IAAIhxG,MAAM,sCAAuC2O,KAAKH,YAAYtP,QAG1E,OADAyP,KAAKyhG,mBAAoB,EAClBzhG,KAAKqiG,kBAAkBpsB,EAClC,CAEEuC,gBAAAA,GACE,MAAM,IAAInnF,MAAM,qCAAsC2O,KAAKH,YAAYtP,OAC3E,CAEE6zG,YAAAA,CAAalgB,GAIX,GAHwB,OAApBlkF,KAAKoiF,aACPpiF,KAAKoiF,WAAa,KAEf8B,EAAUpsE,OAAQ,MAAM,IAAIzmB,MAAM,uCACvC,IAAK6yF,EAAUthD,UAAYsV,MAAMgsC,EAAUthD,UAAW,MAAM,IAAIvxC,MAAM,yCACtE,IAAK6yF,EAAU3zF,KAAM,MAAM,IAAIc,MAAM,qCAErC,OADA2O,KAAKoiF,WAAWrsF,KAAKmuF,GACdlkF,IACX,CAEE8oB,OAAAA,CAAQu7E,GACN,MAAM,IAAIhzG,MAAM,uBAAwB2O,KAAKH,YAAYtP,OAC7D,CAEEsyG,WAAAA,CAAY7vG,GACV,GAAuB,WAAnBgN,KAAKymF,UACP,OAAO,EACF,GAAI1xF,MAAMC,QAAQhC,EAAM,IAC7B,OAAOgN,KAAK6iG,YAAY7vG,EAAM,IACzB,GAAIA,EAAM6M,cAAgBsiG,EAC/B,OAAOniG,KAAK6iG,YAAY7vG,EAAMA,OAEhC,OAAQA,EAAM6M,aACZ,KAAKs5E,kBACL,KAAK+e,WACL,KAAKoM,UACH,OAAO,EACT,KAAKC,YACL,KAAKC,WACH,OAAO,EACT,KAAKvtB,aACL,KAAK2rB,WACL,QACE,OAAO,EAEf,CAEEnqB,SAAAA,CAAUC,GACR,MAAM,IAAIrnF,MAAM,yBAA0B2O,KAAKH,YAAYtP,OAC/D,CAEE2xF,WAAAA,GACE,IAAKliF,KAAKk3E,SAAW2C,EAAM7kF,QAAQgL,KAAKk3E,QAAS,MAAM,IAAI7lF,MAAM,8BACjE,GAAI2O,KAAKk3E,OAAO5oF,OAAS,EAAG,MAAM,IAAI+C,MAAM,kDAC5C,IAAK,IAAI7C,EAAI,EAAGA,EAAIwR,KAAKk3E,OAAO5oF,OAAQE,IACtC,GAAI0pD,MAAMl4C,KAAKk3E,OAAO1oF,KAAOwR,KAAKk3E,OAAO1oF,GAAK,EAC5C,MAAM,IAAI6C,MAAM,GAAI2O,KAAKH,YAAYtP,eAAiB/B,+BAAiCwR,KAAKk3E,OAAO1oF,gDAG3G,CAEEw3F,aAAAA,CAAchzF,GACZ,MAAM,IAAI3B,MAAM,6BAA8B2O,KAAKH,YAAYtP,OACnE,CAEE01F,gBAAAA,CAAiBjzF,GACf,MAAM,IAAI3B,MAAM,gCAAiC2O,KAAKH,YAAYtP,OACtE,CAEE0nF,MAAAA,GACE,MAAO,CACLoB,SAAU,CACRnC,OAAQl3E,KAAKk3E,OACb2M,SAAU7jF,KAAK6jF,SACfpJ,cAAez6E,KAAKy6E,cACpBgqB,eAAgBzkG,KAAK+/E,cACrB5H,UAAWn4E,KAAKm4E,UAChBusB,YAAa1kG,KAAKu0D,QAAUv0D,KAAKu0D,QAAQztC,KAAI69E,GAAUA,EAAOp0G,OAAQ,KACtEsqF,WAAY76E,KAAK66E,YAGzB,CAEEmI,cAAAA,CAAe/M,GACb,MAAM2uB,EAAc5kG,KAAKH,YACzBG,KAAKu9E,UAAYqnB,EAAYxjB,aAAaphF,KAAM4kG,EAAYC,iBAAiB7kG,KAAMi2E,GACvF,CAEE,uBAAO4uB,CAAiBjtB,EAAQ3B,GAC9B,MAAM8J,EAAgB,IAAIhrF,MAAMkhF,EAAK3nF,QACrC,IAAK,IAAIE,EAAI,EAAGA,EAAIynF,EAAK3nF,OAAQE,IAAK,CACpC,MAAM8nF,EAAML,EAAKznF,GACX4B,EAAOwnF,EAAOmI,cAAcvxF,GAClC,GAAI8nF,EAAIlmF,KACN2vF,EAAcvxF,GAAK8nF,EAAIlmF,UAEvB,OAAQA,GACN,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,kBACH2vF,EAAcvxF,GAAKqrF,EAAMkI,gBAAgBzL,GACzC,MACF,QACEyJ,EAAcvxF,GAAK4B,EAG/B,CACI,OAAO2vF,CACX,CAEE,mBAAOqB,CAAaxJ,EAAQmI,GAC1B,MAAM,IAAI1uF,MAAM,qCAAsC2O,KAAKzP,OAC/D,CAEEmyG,sBAAAA,CAAuB5qF,GAAuB,IAAfuhE,EAAQhrF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACzC,GAAsB,kBAAXypB,GAAyC,oBAAXA,EAAuB,MAAM,IAAIzmB,MAAM,mCAChF,MAAMyzG,EAAiC,kBAAXhtF,EAAsBA,EAASA,EAAO5b,WAClE,IAAI6jF,EAAgB,GAWpB,OAREA,EADEhrF,MAAMC,QAAQqkF,EAAS0G,eACT1G,EAAS0G,cACkB,kBAA3B1G,EAAS0G,cACTlG,EAAMI,2BAA2B6qB,GAC9Ch+E,KAAIv2B,GAAQ8oF,EAAS0G,cAAcxvF,MAAU,GAEhC8oF,EAAS0G,eAAiB,GAGrC,CACLxvF,KAAMspF,EAAM4Q,0BAA0Bqa,IAAiB,KACvDhtF,OAAQgtF,EACR/kB,gBACAlF,WAAYxB,EAASwB,YAAc,KAEzC,CAEEmjB,UAAAA,CAAWC,GAAiB,EAG9B,SAAS0E,EAAmBoC,GAC1B,MAAMtqB,EAAgBtpF,OAAOkgB,KAAK0zF,GAC5BhlB,EAAgB,GACtB,IAAK,IAAIvxF,EAAI,EAAGA,EAAIisF,EAAcnsF,OAAQE,IAAK,CAC7C,MAAMksF,EAAeD,EAAcjsF,GACnCuxF,EAAchqF,KAAKgvG,EAAoBrqB,GAC3C,CACE,MAAO,CAAEqF,gBAAetF,gBAC1B,CAEAr5B,EAAOL,QAAU,CACfu/B,SAEF,EAAE,CAAC,WAAW,IAAI,WAAW,MAAM,GAAG,CAAC,SAASvyF,EAAQqzD,EAAOL,GAC/D,MAAMikD,EAAiB,2TAiBP5rG,KAAK6rG,eAAe7rG,KAAK6rG,gfA6BzB7rG,KAAK6rG,eAAe7rG,KAAK6rG,8DAI1B7rG,KAAK6rG,g2WA0bpB7jD,EAAOL,QAAU,CACfikD,iBAEF,EAAE,CAAC,GAAG,GAAG,CAAC,SAASj3G,EAAQqzD,EAAOL,GAClC,MAAM,MAAE84B,GAAU9rF,EAAQ,gBACpB,aAAEosF,GAAiBpsF,EAAQ,oBAEjC,MAAMm3G,UAA0B/qB,EAC9Bt6E,WAAAA,CAAYiY,EAAQuhE,GAClBgI,MAAMvpE,EAAQuhE,GACVA,GAAYA,EAASliF,eAAe,gCACtC6I,KAAK6qF,2BAA6BxR,EAASwR,2BAEjD,CAEEoD,wBAAAA,CAAyB3T,EAAKC,GAC5B,GAAiB,0BAAbD,EAAIlqF,KACN,MAAM4P,KAAKm7E,eAAe,+BAAgCb,GAE5D,MAAM6qB,EAAiBnlG,KAAK86E,QAAQR,EAAIjgB,YAClC+qC,EAAgBplG,KAAK86E,QAAQR,EAAIlmF,WACvC,OAAuB,OAAnB+wG,GAA6C,OAAlBC,GAC7B7qB,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWL,EAAI17E,KAAM27E,GAC1BA,EAAOxkF,KAAK,OACZiK,KAAK26E,WAAWL,EAAIjgB,WAAYkgB,GAChCA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,YACZiK,KAAK26E,WAAWL,EAAIlmF,UAAWmmF,GAC/BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,KACLwkF,IAETA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAI17E,KAAM27E,GAC1BA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAIjgB,WAAYkgB,GAChCA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAWL,EAAIlmF,UAAWmmF,GAC/BA,EAAOxkF,KAAK,KACLwkF,EACX,CAEEF,WAAAA,CAAYC,EAAKC,GACf,GAAIv6E,KAAKw6E,aACPD,EAAOxkF,KAAK,YACP,CACAiK,KAAK66E,YACW76E,KAAK8sF,mBAEtB9sF,KAAK66E,WAAa76E,KAAK86E,QAAQR,EAAIz5E,MACX,mBAApBb,KAAK66E,aACP76E,KAAK66E,WAAa,WAKxB,MAAM,WAAEA,GAAe76E,KACvB,GAAK66E,EAEE,CACL,MAAMzqF,EAAOonG,EAAQ3c,GACrB,IAAKzqF,EACH,MAAM,IAAIiB,MAAM,gBAAgBwpF,KAElCN,EAAOxkF,KAAK3F,EACpB,MAPQmqF,EAAOxkF,KAAK,OAQpB,CAKI,GAJAwkF,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAKzP,MACjBgqF,EAAOxkF,KAAK,MAEPiK,KAAKw6E,aACR,IAAK,IAAIhsF,EAAI,EAAGA,EAAIwR,KAAKy6E,cAAcnsF,SAAUE,EAAG,CAClD,MAAMksF,EAAe16E,KAAKy6E,cAAcjsF,GAEpCA,EAAI,GACN+rF,EAAOxkF,KAAK,MAEd,IAAI4oF,EAAe3+E,KAAK+/E,cAAc//E,KAAKy6E,cAAchpF,QAAQipF,IACjE,IAAKiE,EACH,MAAM3+E,KAAKm7E,eAAe,oBAAoBT,SAAqBJ,GAEhD,mBAAjBqE,IACF3+E,KAAK+/E,cAAcvxF,GAAKmwF,EAAe,UAEzC,MAAMvuF,EAAOonG,EAAQ7Y,GACrB,IAAKvuF,EACH,MAAM4P,KAAKm7E,eAAe,wBAAyBb,GAErD,MAAM/pF,EAAOspF,EAAMwrB,aAAa3qB,GACnB,cAATtqF,GAAiC,mBAATA,EAC1BmqF,EAAOxkF,KAAK,GAAG3F,UAAaG,gBAAmBA,oBAAuBA,QAEtEgqF,EAAOxkF,KAAK,GAAG3F,UAAaG,IAEtC,CAGIgqF,EAAOxkF,KAAK,SAEZ,IAAK,IAAIvH,EAAI,EAAGA,EAAI8rF,EAAIz5E,KAAKA,KAAKvS,SAAUE,EAC1CwR,KAAK26E,WAAWL,EAAIz5E,KAAKA,KAAKrS,GAAI+rF,GAClCA,EAAOxkF,KAAK,MAId,OADAwkF,EAAOxkF,KAAK,OACLwkF,CACX,CAEEK,kBAAAA,CAAmBN,EAAKC,GACtB,IAAKD,EAAIhgB,SAAU,MAAMt6D,KAAKm7E,eAAe,8BAA+Bb,GAC5Et6E,KAAK87E,UAAU,2BACf,MAAM1rF,EAAO4P,KAAK86E,QAAQR,EAAIhgB,UAC9Bt6D,KAAK+7E,SAAS,2BAEd,MAAMjuD,EAAS,GAUf,OARK9tB,KAAK66E,aAEN76E,KAAK66E,WADM,mBAATzqF,GAAsC,YAATA,EACb,SAEAA,GAId4P,KAAK66E,YACX,IAAK,iBACL,IAAK,SACL,IAAK,QACH,OAAQzqF,GACN,IAAK,UACH09B,EAAO/3B,KAAK,UACZiK,KAAK26E,WAAWL,EAAIhgB,SAAUxsC,GAC9BA,EAAO/3B,KAAK,KACZ,MACF,IAAK,iBACHiK,KAAKslG,mBAAmBhrB,EAAIhgB,SAAUxsC,GAEZ,YAAtB9tB,KAAK86E,QAAQR,KACfxsD,EAAOqpB,QAAQ,UACfrpB,EAAO/3B,KAAK,MAEd,MACF,QACEiK,KAAK26E,WAAWL,EAAIhgB,SAAUxsC,GAElC,MACF,IAAK,UACH,OAAQ19B,GACN,IAAK,QACL,IAAK,SACH4P,KAAKulG,mBAAmBjrB,EAAIhgB,SAAUxsC,GACtC,MACF,IAAK,iBACH9tB,KAAKwlG,qBAAqBlrB,EAAIhgB,SAAUxsC,GACxC,MACF,QACE9tB,KAAK26E,WAAWL,EAAIhgB,SAAUxsC,GAElC,MACF,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,QACH9tB,KAAK26E,WAAWL,EAAIhgB,SAAUxsC,GAC9B,MACF,QACE,MAAM9tB,KAAKm7E,eAAe,yBAAyBn7E,KAAK66E,aAAcP,GAY1E,OATIt6E,KAAKw6E,cACPD,EAAOxkF,KAAK,kBAAmB+3B,EAAOvR,KAAK,QAC3Cg+D,EAAOxkF,KAAK,YACHiK,KAAKi7E,aACdV,EAAOxkF,KAAK,mBAAoBiK,KAAKzP,UAAYu9B,EAAOvR,KAAK,QAC7Dg+D,EAAOxkF,KAAK,0BAA2BiK,KAAKzP,UAE5CgqF,EAAOxkF,KAAK,UAAW+3B,EAAOvR,KAAK,QAE9Bg+D,CACX,CAEEW,UAAAA,CAAWZ,EAAKC,GACd,GAAIriC,MAAMoiC,EAAItnF,OACZ,MAAMgN,KAAKm7E,eACT,uCAAyCb,EAAItnF,MAC7CsnF,GAIJ,MAAM3uE,EAAM3L,KAAKksF,OAAO5R,GAmBxB,OAlBI6R,OAAOC,UAAU9R,EAAItnF,OACnBgN,KAAK48E,QAAQ,uBAAyB58E,KAAK48E,QAAQ,qBACrD58E,KAAK8qF,aAAan/E,GAAO,UACzB4uE,EAAOxkF,KAAK,GAAGukF,EAAItnF,WACVgN,KAAK48E,QAAQ,qBAAuB58E,KAAK48E,QAAQ,kBAC1D58E,KAAK8qF,aAAan/E,GAAO,SACzB4uE,EAAOxkF,KAAK,GAAGukF,EAAItnF,YAKZgN,KAAK48E,QAAQ,uBAAyB58E,KAAK48E,QAAQ,qBAC5D58E,KAAK8qF,aAAan/E,GAAO,UACzB4uE,EAAOxkF,KAAKqD,KAAKg8F,MAAM9a,EAAItnF,UAE3BgN,KAAK8qF,aAAan/E,GAAO,SACzB4uE,EAAOxkF,KAAK,GAAGukF,EAAItnF,UAEdunF,CACX,CAEEa,mBAAAA,CAAoBd,EAAKC,GACvB,GAAIv6E,KAAKylG,0BAA0BnrB,EAAKC,GACtC,OAAOA,EAGT,GAAIv6E,KAAK6qF,4BAA+C,MAAjBvQ,EAAIxa,SAAkB,CAG3D,OAFAya,EAAOxkF,KAAK,oBACZiK,KAAK87E,UAAU,kBACP97E,KAAK86E,QAAQR,EAAItmE,OACvB,IAAK,UACHhU,KAAK0lG,iBAAiBprB,EAAItmE,KAAMumE,GAChC,MACF,IAAK,iBACHv6E,KAAKslG,mBAAmBhrB,EAAItmE,KAAMumE,GAClC,MACF,QACEv6E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAG9B,OADAA,EAAOxkF,KAAK,MACJiK,KAAK86E,QAAQR,EAAI/e,QACvB,IAAK,UACHv7D,KAAK0lG,iBAAiBprB,EAAI/e,MAAOgf,GACjC,MACF,IAAK,iBACHv6E,KAAKslG,mBAAmBhrB,EAAI/e,MAAOgf,GACnC,MACF,QACEv6E,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAI/B,OAFAv6E,KAAK+7E,SAAS,kBACdxB,EAAOxkF,KAAK,KACLwkF,CACb,CAEIA,EAAOxkF,KAAK,KACZ,MAAM4vG,EAAW3lG,KAAK86E,QAAQR,EAAItmE,OAAS,SACrCu4E,EAAYvsF,KAAK86E,QAAQR,EAAI/e,QAAU,SAC7C,IAAKoqC,IAAapZ,EAChB,MAAMvsF,KAAKm7E,eAAe,8BAA+Bb,GAE3D,MAAM3uE,EAAMg6F,EAAW,MAAQpZ,EAC/B,OAAQ5gF,GACN,IAAK,oBACH3L,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,oBACd,MACF,IAAK,iBACL,IAAK,iBACL,IAAK,gBACL,IAAK,kBACH/7E,KAAK87E,UAAU,kBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,kBACd,MACF,IAAK,kCACC/7E,KAAK48E,QAAQ,uBAAyB58E,KAAK48E,QAAQ,qBACrD58E,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,sBAEd/7E,KAAK87E,UAAU,kBACf97E,KAAKslG,mBAAmBhrB,EAAItmE,KAAMumE,GAClCA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAKslG,mBAAmBhrB,EAAI/e,MAAOgf,GACnCv6E,KAAK+7E,SAAS,mBAEhB,MAEF,IAAK,kBACL,IAAK,mBACH,IAAqB,MAAjBzB,EAAIxa,UAAqC,MAAjBwa,EAAIxa,UAAuC,YAAnBwa,EAAI/e,MAAMnrE,QACvD+7F,OAAOC,UAAU9R,EAAI/e,MAAMvoE,OAAQ,CACtCgN,KAAK87E,UAAU,kBACf97E,KAAK0lG,iBAAiBprB,EAAItmE,KAAMumE,GAChCA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,kBACd,KACZ,CAMQ,GAJA/7E,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK87E,UAAU,sBACQ,YAAnBxB,EAAI/e,MAAMnrE,KAAoB,CAChC,MAAMy1G,EAAgB,GAGtB,GAFA7lG,KAAK26E,WAAWL,EAAI/e,MAAOsqC,GAEP,YADA7lG,KAAK86E,QAAQR,EAAI/e,OAInC,MAAMv7D,KAAKm7E,eAAe,2CAA4Cb,GAFtEC,EAAOxkF,KAAK8vG,EAActpF,KAAK,IAI3C,MACUg+D,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3BA,EAAOxkF,KAAK,KAEdiK,KAAK+7E,SAAS,sBACd/7E,KAAK+7E,SAAS,oBACd,MACF,IAAK,2BACH/7E,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAKwlG,qBAAqBlrB,EAAI/e,MAAOgf,GACrCv6E,KAAK+7E,SAAS,oBACd,MAEF,IAAK,mBAiDL,IAAK,kBACH/7E,KAAK87E,UAAU,kBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK0lG,iBAAiBprB,EAAI/e,MAAOgf,GACjCv6E,KAAK+7E,SAAS,kBACd,MAhDF,IAAK,yBACL,IAAK,0BACH/7E,KAAK87E,UAAU,kBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAKslG,mBAAmBhrB,EAAI/e,MAAOgf,GACnCv6E,KAAK+7E,SAAS,kBACd,MACF,IAAK,yBACL,IAAK,0BACC/7E,KAAK48E,QAAQ,uBACf58E,KAAK87E,UAAU,oBACf97E,KAAKwlG,qBAAqBlrB,EAAItmE,KAAMumE,GACpCA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAKulG,mBAAmBjrB,EAAI/e,MAAOgf,GACnCv6E,KAAK+7E,SAAS,sBAEd/7E,KAAK87E,UAAU,kBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,oBACd/7E,KAAK+7E,SAAS,mBAEhB,MACF,IAAK,2BACH/7E,KAAK87E,UAAU,oBACf97E,KAAKwlG,qBAAqBlrB,EAAItmE,KAAMumE,GACpCA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,oBACd,MAEF,IAAK,oBACH/7E,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAC1BA,EAAOxkF,KAAK6vG,EAAYtrB,EAAIxa,WAAawa,EAAIxa,UAC7C9/D,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAC3Bv6E,KAAK+7E,SAAS,oBACd,MAUF,QACE,MAAM/7E,KAAKm7E,eAAe,uCAAuCxvE,IAAO2uE,GAI5E,OAFAC,EAAOxkF,KAAK,KAELwkF,CACX,CAEEkrB,yBAAAA,CAA0BnrB,EAAKC,GAC7B,MAAMurB,EAAgB9lG,KAAK+lG,kCAAkCzrB,EAAKC,GAClE,GAAIurB,EACF,OAAOA,EAET,MAIME,EAJyB,CAC7B,IAAKhmG,KAAK6qF,2BAA6B,0BAA4B,SACnE,KAAM,OAEqCvQ,EAAIxa,UACjD,IAAKkmC,EAAe,OAAO,KAG3B,OAFAzrB,EAAOxkF,KAAKiwG,GACZzrB,EAAOxkF,KAAK,KACJiK,KAAK86E,QAAQR,EAAItmE,OACvB,IAAK,UACHhU,KAAK0lG,iBAAiBprB,EAAItmE,KAAMumE,GAChC,MACF,IAAK,iBACHv6E,KAAKslG,mBAAmBhrB,EAAItmE,KAAMumE,GAClC,MACF,QACEv6E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAG9B,OADAA,EAAOxkF,KAAK,KACJiK,KAAK86E,QAAQR,EAAI/e,QACvB,IAAK,UACHv7D,KAAK0lG,iBAAiBprB,EAAI/e,MAAOgf,GACjC,MACF,IAAK,iBACHv6E,KAAKslG,mBAAmBhrB,EAAI/e,MAAOgf,GACnC,MACF,QACEv6E,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAG/B,OADAA,EAAOxkF,KAAK,KACLwkF,CACX,CAEEwrB,iCAAAA,CAAkCzrB,EAAKC,GACrC,MAQMyrB,EARyB,CAC7B,IAAK,aACL,IAAK,YACL,IAAK,aACL,KAAM,2BACN,KAAM,0BACN,MAAO,6BAEoC1rB,EAAIxa,UACjD,IAAKkmC,EAAe,OAAO,KAI3B,OAHAzrB,EAAOxkF,KAAKiwG,GACZzrB,EAAOxkF,KAAK,KACKiK,KAAK86E,QAAQR,EAAItmE,OAEhC,IAAK,SACL,IAAK,QACHhU,KAAKulG,mBAAmBjrB,EAAItmE,KAAMumE,GAClC,MACF,IAAK,iBACHv6E,KAAKwlG,qBAAqBlrB,EAAItmE,KAAMumE,GACpC,MACF,QACEv6E,KAAK26E,WAAWL,EAAItmE,KAAMumE,GAI9B,OAFAA,EAAOxkF,KAAK,KACMiK,KAAK86E,QAAQR,EAAI/e,QAEjC,IAAK,SACL,IAAK,QACHv7D,KAAKulG,mBAAmBjrB,EAAI/e,MAAOgf,GACnC,MACF,IAAK,iBACHv6E,KAAKwlG,qBAAqBlrB,EAAI/e,MAAOgf,GACrC,MACF,QACEv6E,KAAK26E,WAAWL,EAAI/e,MAAOgf,GAG/B,OADAA,EAAOxkF,KAAK,KACLwkF,CACX,CAEEyU,6BAAAA,CAA8B1U,EAAKC,GACjC,MAGMyrB,EAHyB,CAC7B,IAAK,cAEsC1rB,EAAIxa,UACjD,IAAKkmC,EAAe,OAAO,KAG3B,OAFAzrB,EAAOxkF,KAAKiwG,GACZzrB,EAAOxkF,KAAK,KACJiK,KAAK86E,QAAQR,EAAIhgB,WACvB,IAAK,SACL,IAAK,QACHt6D,KAAKulG,mBAAmBjrB,EAAIhgB,SAAUigB,GACtC,MACF,IAAK,iBACHv6E,KAAKwlG,qBAAqBlrB,EAAIhgB,SAAUigB,GACxC,MACF,QACEv6E,KAAK26E,WAAWL,EAAIhgB,SAAUigB,GAGlC,OADAA,EAAOxkF,KAAK,KACLwkF,CACX,CAEEirB,oBAAAA,CAAqBlrB,EAAKC,GAIxB,OAHAv6E,KAAK87E,UAAU,sBACf97E,KAAK26E,WAAWL,EAAKC,GACrBv6E,KAAK+7E,SAAS,sBACPxB,CACX,CAEE+qB,kBAAAA,CAAmBhrB,EAAKC,GAItB,OAHAv6E,KAAK87E,UAAU,oBACf97E,KAAK26E,WAAWL,EAAKC,GACrBv6E,KAAK+7E,SAAS,oBACPxB,CACX,CAEEgrB,kBAAAA,CAAmBjrB,EAAKC,GAMtB,OALAv6E,KAAK87E,UAAU,sBACfvB,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWL,EAAKC,GACrBA,EAAOxkF,KAAK,KACZiK,KAAK+7E,SAAS,sBACPxB,CACX,CAEEmrB,gBAAAA,CAAiBprB,EAAKC,GAMpB,OALAv6E,KAAK87E,UAAU,oBACfvB,EAAOxkF,KAAK,UACZiK,KAAK26E,WAAWL,EAAKC,GACrBA,EAAOxkF,KAAK,KACZiK,KAAK+7E,SAAS,oBACPxB,CACX,CAEEc,uBAAAA,CAAwBC,EAASf,GAC/B,GAAqB,eAAjBe,EAAQlrF,KACV,MAAM4P,KAAKm7E,eAAe,2CAA4CG,GAGxE,MAAMlrF,EAAO4P,KAAK86E,QAAQQ,GAEpB/qF,EAAOspF,EAAMwrB,aAAa/pB,EAAQ/qF,MAaxC,MAZqB,aAAjB+qF,EAAQ/qF,KACVgqF,EAAOxkF,KAAK,mBACM,YAAT3F,GACL4P,KAAKy6E,cAAchpF,QAAQlB,IAAS,EACtCgqF,EAAOxkF,KAAK,aAAaxF,MAK3BgqF,EAAOxkF,KAAK,QAAQxF,KAGfgqF,CACX,CAEEgB,eAAAA,CAAgBC,EAASjB,GACvB,GAAqB,iBAAjBiB,EAAQprF,KACV,MAAM4P,KAAKm7E,eAAe,wBAAyBK,GAGrD,MAAMC,EAAU,GACVC,EAAU,GACVC,EAAY,GACZC,EAAU,GAChB,IAAIC,EAAS,KAEb,GAAIL,EAAQ9+D,KAAM,CAChB,MAAM,aAAEi9C,GAAiB6hB,EAAQ9+D,KAC7Bi9C,EAAarrE,OAAS,IACxButF,GAAS,GAEX77E,KAAK26E,WAAWa,EAAQ9+D,KAAM++D,GAC9B,IAAK,IAAIjtF,EAAI,EAAGA,EAAImrE,EAAarrE,OAAQE,IACnCmrE,EAAanrE,GAAGkuB,MAAsC,YAA9Bi9C,EAAanrE,GAAGkuB,KAAKtsB,OAC/CyrF,GAAS,EAGnB,MACMA,GAAS,EAyBX,GAtBIL,EAAQ58E,KACVoB,KAAK26E,WAAWa,EAAQ58E,KAAM88E,GAE9BG,GAAS,EAGPL,EAAQ7kE,OACV3W,KAAK26E,WAAWa,EAAQ7kE,OAAQglE,GAEhCE,GAAS,EAGPL,EAAQ36E,OACVb,KAAK87E,UAAU,aACf97E,KAAK26E,WAAWa,EAAQ36E,KAAM+6E,GAC9B57E,KAAK+7E,SAAS,cAGD,OAAXF,IACFA,EAAS77E,KAAK67E,OAAOL,EAAQ9+D,OAAS1c,KAAK67E,OAAOL,EAAQ58E,OAGxDi9E,EAAQ,CACV,MAAMoqB,EAAaxqB,EAAQl/D,KAAK,IAC1B2pF,EAA2D,MAAtCD,EAAWA,EAAW33G,OAAS,GAC1DisF,EAAOxkF,KAAK,QAAQkwG,IAAaC,EAAqB,IAAM,KAAKxqB,EAAQn/D,KAAK,OAAOo/D,EAAUp/D,KAAK,WACpGg+D,EAAOxkF,KAAK6lF,EAAQr/D,KAAK,KACzBg+D,EAAOxkF,KAAK,MAClB,KAAW,CACL,MAAMimF,EAAgBh8E,KAAKi8E,wBAAwB,SAC/CR,EAAQntF,OAAS,GACnBisF,EAAOxkF,KAAK0lF,EAAQl/D,KAAK,IAAK,MAEhCg+D,EAAOxkF,KAAK,YAAYimF,OAAmBA,cAA0BA,WACjEN,EAAQptF,OAAS,GACnBisF,EAAOxkF,KAAK,QAAQ2lF,EAAQn/D,KAAK,iBAEnCg+D,EAAOxkF,KAAK6lF,EAAQr/D,KAAK,KACzBg+D,EAAOxkF,KAAK,KAAK4lF,EAAUp/D,KAAK,QAChCg+D,EAAOxkF,KAAK,MAClB,CACI,OAAOwkF,CACX,CAEE2B,iBAAAA,CAAkBC,EAAW5B,GAC3B,GAAuB,mBAAnB4B,EAAU/rF,KACZ,MAAM4P,KAAKm7E,eAAe,0BAA2BgB,GAGvD,MAAMH,EAAgBh8E,KAAKi8E,wBAAwB,SAQnD,OAPA1B,EAAOxkF,KAAK,YAAYimF,OAAmBA,cAA0BA,WACrEzB,EAAOxkF,KAAK,SACZiK,KAAK26E,WAAWwB,EAAUv9E,KAAM27E,GAChCA,EAAOxkF,KAAK,cACZiK,KAAK26E,WAAWwB,EAAUt7E,KAAM05E,GAChCA,EAAOxkF,KAAK,OAELwkF,CACX,CAEE6B,mBAAAA,CAAoBC,EAAa9B,GAC/B,GAAyB,qBAArB8B,EAAYjsF,KACd,MAAM4P,KAAKm7E,eAAe,0BAA2BkB,GAGvD,MAAML,EAAgBh8E,KAAKi8E,wBAAwB,SAQnD,OAPA1B,EAAOxkF,KAAK,YAAYimF,OAAmBA,cAA0BA,WACrEh8E,KAAK26E,WAAW0B,EAAYx7E,KAAM05E,GAClCA,EAAOxkF,KAAK,SACZiK,KAAK26E,WAAW0B,EAAYz9E,KAAM27E,GAClCA,EAAOxkF,KAAK,cACZwkF,EAAOxkF,KAAK,OAELwkF,CACX,CAGE+B,uBAAAA,CAAwBC,EAAShC,GAC/B,GAAyB,OAArBgC,EAAQzc,SACV9/D,KAAK26E,WAAW4B,EAAQvoE,KAAMumE,GAC9BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAW4B,EAAQvoE,KAAMumE,GAC9BA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW4B,EAAQhhB,MAAOgf,GAC/BA,EAAOxkF,KAAK,SACP,IAAyB,QAArBwmF,EAAQzc,SAQZ,CACL,MAAM6lC,EAAW3lG,KAAK86E,QAAQyB,EAAQvoE,MAChCu4E,EAAYvsF,KAAK86E,QAAQyB,EAAQhhB,OAUvC,OATAv7D,KAAK26E,WAAW4B,EAAQvoE,KAAMumE,GAC9BA,EAAOxkF,KAAKwmF,EAAQzc,UACH,YAAb6lC,GAAwC,YAAdpZ,GAC5BhS,EAAOxkF,KAAK,UACZiK,KAAK26E,WAAW4B,EAAQhhB,MAAOgf,GAC/BA,EAAOxkF,KAAK,MAEZiK,KAAK26E,WAAW4B,EAAQhhB,MAAOgf,GAE1BA,CACb,CApBMv6E,KAAK26E,WAAW4B,EAAQvoE,KAAMumE,GAC9BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAW4B,EAAQvoE,KAAMumE,GAC9BA,EAAOxkF,KAAK,KACZiK,KAAK26E,WAAW4B,EAAQhhB,MAAOgf,GAC/BA,EAAOxkF,KAAK,IAclB,CACA,CAEE2mF,iBAAAA,CAAkBC,EAAOpC,GACvB,GAAIv6E,KAAK48E,QAAQ,aAAc,CAC7B58E,KAAK87E,UAAU,cACf,IAAK,IAAIttF,EAAI,EAAGA,EAAImuF,EAAM97E,KAAKvS,OAAQE,IACrCwR,KAAK26E,WAAWgC,EAAM97E,KAAKrS,GAAI+rF,GAEjCv6E,KAAK+7E,SAAS,aACpB,KAAW,CACLxB,EAAOxkF,KAAK,OACZ,IAAK,IAAIvH,EAAI,EAAGA,EAAImuF,EAAM97E,KAAKvS,OAAQE,IACrCwR,KAAK26E,WAAWgC,EAAM97E,KAAKrS,GAAI+rF,GAEjCA,EAAOxkF,KAAK,MAClB,CACI,OAAOwkF,CACX,CAEEsC,sBAAAA,CAAuBC,EAAYvC,GACjC,MAAM5gB,EAAemjB,EAAWnjB,aAChC,IAAKA,IAAiBA,EAAa,KAAOA,EAAa,GAAGj9C,KACxD,MAAM1c,KAAKm7E,eAAe,wBAAyB2B,GAErD,MAAMhvD,EAAS,GACf,IAAI0+D,EAAW,KACf,MAAM2Z,EAAkB,GACxB,IAAIC,EAAiB,GACrB,IAAK,IAAI53G,EAAI,EAAGA,EAAImrE,EAAarrE,OAAQE,IAAK,CAC5C,MAAMwvE,EAAcrE,EAAanrE,GAC3BkuB,EAAOshD,EAAYthD,KACnB3oB,EAAOiM,KAAKw8E,eAAexe,EAAYvmC,IACvC4uE,EAAarmG,KAAK86E,QAAQ9c,EAAYthD,MAC5C,IAAItsB,EAAOi2G,EACE,mBAATj2G,IAEAA,EADyB,YAAvB2D,EAAKu8F,cACA,UAEA,UAGX,MAAMgW,EAAa9O,EAAQpnG,GAC3B,IAAKk2G,EACH,MAAMtmG,KAAKm7E,eAAe,eAAgB/qF,gBAAqB0sF,GAEjE,MAAMypB,EAAoB,GAC1B,GAAmB,YAAfF,GAAqC,YAATj2G,EAAoB,CAElD,GADA2D,EAAKgpF,UAAY,SACP,IAANvuF,GAAwB,OAAbg+F,EACb+Z,EAAkBxwG,KAAK,eAClB,GAAI3F,IAASo8F,EAClB,MAAM,IAAIn7F,MAAM,yBAElBm7F,EAAWp8F,EACXm2G,EAAkBxwG,KAAK,QAAQ8jF,EAAMwrB,aAAarnC,EAAYvmC,GAAGlnC,UACjEg2G,EAAkBxwG,KAAK,UACvBiK,KAAK26E,WAAWj+D,EAAM6pF,GACtBA,EAAkBxwG,KAAK,IAC/B,MACQhC,EAAKgpF,UAAY3sF,EACP,IAAN5B,GAAwB,OAAbg+F,EACb+Z,EAAkBxwG,KAAK,GAAGuwG,MACjBl2G,IAASo8F,IAClB2Z,EAAgBpwG,KAAKqwG,EAAe7pF,KAAK,MACzC6pF,EAAiB,GACjBG,EAAkBxwG,KAAK,GAAGuwG,OAE5B9Z,EAAWp8F,EACXm2G,EAAkBxwG,KAAK,QAAQ8jF,EAAMwrB,aAAarnC,EAAYvmC,GAAGlnC,UAC9C,WAAf81G,GAAoC,YAATj2G,EACzBssB,EAAK1I,MAA2B,YAAnB0I,EAAK1I,KAAK5jB,KACzB4P,KAAK26E,WAAWj+D,EAAM6pF,IAEtBA,EAAkBxwG,KAAK,QACvBiK,KAAK26E,WAAWj+D,EAAM6pF,GACtBA,EAAkBxwG,KAAK,MAED,mBAAfswG,GAA4C,YAATj2G,EAC5C4P,KAAKwlG,qBAAqB9oF,EAAM6pF,GAEhCvmG,KAAK26E,WAAWj+D,EAAM6pF,GAG1BH,EAAerwG,KAAKwwG,EAAkBhqF,KAAK,IACjD,CAUI,OARI6pF,EAAe93G,OAAS,GAC1B63G,EAAgBpwG,KAAKqwG,EAAe7pF,KAAK,MAG3CuR,EAAO/3B,KAAKowG,EAAgB5pF,KAAK,MAEjCg+D,EAAOxkF,KAAK+3B,EAAOvR,KAAK,KACxBg+D,EAAOxkF,KAAK,KACLwkF,CACX,CAEEyC,cAAAA,CAAeC,EAAQ1C,GAsBrB,OArBAA,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWsC,EAAOr+E,KAAM27E,GAC7BA,EAAOxkF,KAAK,KACmB,mBAA3BknF,EAAO5iB,WAAWjqE,KACpB4P,KAAK26E,WAAWsC,EAAO5iB,WAAYkgB,IAEnCA,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWsC,EAAO5iB,WAAYkgB,GACnCA,EAAOxkF,KAAK,UAGVknF,EAAO7oF,YACTmmF,EAAOxkF,KAAK,SACkB,mBAA1BknF,EAAO7oF,UAAUhE,MAAuD,gBAA1B6sF,EAAO7oF,UAAUhE,KACjE4P,KAAK26E,WAAWsC,EAAO7oF,UAAWmmF,IAElCA,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWsC,EAAO7oF,UAAWmmF,GAClCA,EAAOxkF,KAAK,WAGTwkF,CACX,CAEE2C,kBAAAA,CAAmB5C,EAAKC,GACtB,GAAiB,oBAAbD,EAAIlqF,KACN,MAAM4P,KAAKm7E,eAAe,2BAA4Bb,GAExD,MAAM,aAAE/f,EAAY,MAAEC,GAAU8f,EAC1BlqF,EAAO4P,KAAK86E,QAAQvgB,GACpB03B,EAAU,qBAAqBjyF,KAAKksF,OAAO5R,EAAK,OACtD,OAAQlqF,GACN,IAAK,QACL,IAAK,SACHmqF,EAAOxkF,KAAK,SAASk8F,QACrBjyF,KAAK26E,WAAWpgB,EAAcggB,GAC9BA,EAAOxkF,KAAK,OACZ,MACF,IAAK,UACHwkF,EAAOxkF,KAAK,OAAOk8F,QACnBjyF,KAAK26E,WAAWpgB,EAAcggB,GAC9BA,EAAOxkF,KAAK,OAGhB,GAAqB,IAAjBykE,EAAMlsE,SAAiBksE,EAAM,GAAG57D,KAElC,OADAoB,KAAK26E,WAAWngB,EAAM,GAAGH,WAAYkgB,GAC9BA,EAGT,IAAIisB,GAAiB,EACjBC,EAAgB,GAChBC,GAAqB,EACrBC,GAAc,EAClB,IAAK,IAAIn4G,EAAI,EAAGA,EAAIgsE,EAAMlsE,OAAQE,IAAK,CACrC,GAAKgsE,EAAMhsE,GAAGoQ,KAQP,CAYL,GAXU,IAANpQ,GAAYm4G,EAIVH,GACFjsB,EAAOxkF,KAAK,GAAGk8F,SACfuU,GAAiB,GAEjBjsB,EAAOxkF,KAAK,aAAak8F,UAP3B0U,GAAc,EACdpsB,EAAOxkF,KAAK,OAAOk8F,UASR,YAAT7hG,EAEF,OADiB4P,KAAK86E,QAAQtgB,EAAMhsE,GAAGoQ,OAErC,IAAK,SACL,IAAK,QACHoB,KAAKulG,mBAAmB/qC,EAAMhsE,GAAGoQ,KAAM27E,GACvC,MACF,IAAK,iBACHv6E,KAAKwlG,qBAAqBhrC,EAAMhsE,GAAGoQ,KAAM27E,OAGxC,IAAa,UAATnqF,EAWT,MAAM,IAAIiB,MAAM,aAThB,OADiB2O,KAAK86E,QAAQtgB,EAAMhsE,GAAGoQ,OAErC,IAAK,iBACHoB,KAAKslG,mBAAmB9qC,EAAMhsE,GAAGoQ,KAAM27E,GACvC,MACF,IAAK,UACHv6E,KAAK0lG,iBAAiBlrC,EAAMhsE,GAAGoQ,KAAM27E,GAKnD,CACQ,IAAK/f,EAAMhsE,GAAG6rE,YAA6C,IAA/BG,EAAMhsE,GAAG6rE,WAAW/rE,OAAc,CAC5Dk4G,GAAiB,EACjBjsB,EAAOxkF,KAAK,QACZ,QACV,CACQwkF,EAAOxkF,KAAK,QACpB,KAlD0B,CAClB,GAAIykE,EAAMlsE,OAASE,EAAI,EAAG,CACxBk4G,GAAqB,EACrB1mG,KAAK26E,WAAWngB,EAAMhsE,GAAG6rE,WAAYosC,GACrC,QACV,CACUlsB,EAAOxkF,KAAK,YAEtB,CA2CMiK,KAAK26E,WAAWngB,EAAMhsE,GAAG6rE,WAAYkgB,GACrCA,EAAOxkF,KAAK,MAClB,CAMI,OALI2wG,IACFnsB,EAAOxkF,KAAK,WACZwkF,EAAOxkF,KAAK0wG,EAAclqF,KAAK,KAC/Bg+D,EAAOxkF,KAAK,MAEPwkF,CACX,CAEE4C,iBAAAA,CAAkBC,EAAO7C,GAEvB,OADAA,EAAOxkF,KAAK,QACLwkF,CACX,CAEE8C,mBAAAA,CAAoBC,EAAO/C,GACzB,MAAM,SACJ33C,EAAQ,KACRryC,EAAI,UACJgtF,EAAS,OACTI,EAAM,KACNvtF,EAAI,UACJotF,EAAS,UACTC,EAAS,UACTC,GACE19E,KAAK49E,2BAA2BN,GACpC,OAAQC,GACN,IAAK,qBACL,IAAK,oBACH,GAAa,MAAThtF,GAAyB,MAATA,GAAyB,MAATA,EAClC,MAAMyP,KAAKm7E,eAAe,uFAAwFmC,GAGpH,OADA/C,EAAOxkF,KAAK,YAAYxF,KACjBgqF,EACT,IAAK,oBACH,GAAIv6E,KAAK0mF,cACP,OAAQn2F,GACN,IAAK,IACCyP,KAAK48E,QAAQ,oBACfrC,EAAOxkF,KAAK,uBAEZwkF,EAAOxkF,KAAK,gBAEd,MACF,IAAK,IACCiK,KAAK48E,QAAQ,oBACfrC,EAAOxkF,KAAK,uBAEZwkF,EAAOxkF,KAAK,gBAEd,MACF,IAAK,IACCiK,KAAK48E,QAAQ,oBACfrC,EAAOxkF,KAAK,uBAEZwkF,EAAOxkF,KAAK,gBAEd,MACF,QACE,MAAMiK,KAAKm7E,eAAe,wBAAyBmC,QAGvD,OAAQ/sF,GACN,IAAK,IACCyP,KAAK48E,QAAQ,sBACfrC,EAAOxkF,KAAKiK,KAAKk3E,OAAO,IAExBqD,EAAOxkF,KAAKiK,KAAKk3E,OAAO,GAAI,MAE9B,MACF,IAAK,IACCl3E,KAAK48E,QAAQ,sBACfrC,EAAOxkF,KAAKiK,KAAKk3E,OAAO,IAExBqD,EAAOxkF,KAAKiK,KAAKk3E,OAAO,GAAI,MAE9B,MACF,IAAK,IACCl3E,KAAK48E,QAAQ,sBACfrC,EAAOxkF,KAAKiK,KAAKk3E,OAAO,IAExBqD,EAAOxkF,KAAKiK,KAAKk3E,OAAO,GAAI,MAE9B,MACF,QACE,MAAMl3E,KAAKm7E,eAAe,wBAAyBmC,GAGzD,OAAO/C,EACT,IAAK,QACH,MAAMv6E,KAAKm7E,eAAe,wBAAyBmC,GACrD,IAAK,UACL,IAAK,YACL,IAAK,cACL,IAAK,gBACL,IAAK,cACH,GAAe,SAAXK,EAEF,OADApD,EAAOxkF,KAAKqD,KAAK7I,IACVgqF,EAET,MAAMqsB,EAAY/sB,EAAMwrB,aAAa90G,GACrC,OAAQqyC,GACN,IAAK,IAEH,OADA23C,EAAOxkF,KAAK,QAAS6wG,OACdrsB,EACT,IAAK,IAEH,OADAA,EAAOxkF,KAAK,QAAS6wG,OACdrsB,EACT,IAAK,IAEH,OADAA,EAAOxkF,KAAK,QAAS6wG,OACdrsB,EACT,IAAK,IAEH,OADAA,EAAOxkF,KAAK,QAAS6wG,OACdrsB,EAEX,MACF,IAAK,uBACH,GAAyB,qBAAdiD,EACT,OAAQptF,GACN,IAAK,WACL,IAAK,WACL,IAAK,WAEH,OADAmqF,EAAOxkF,KAAK,aAAc8jF,EAAMwrB,aAAa90G,MACtCgqF,EAGb,IAAK,yBACL,IAAK,2BACL,IAAK,6BACL,IAAK,+BACH,MACF,IAAK,SAKH,OAJAv6E,KAAKm+E,kBAAkBb,EAAMv7B,OAAQw4B,GACrCA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAK6mG,+BAA+BjkE,IAChD23C,EAAOxkF,KAAK,KACLwkF,EACT,IAAK,WAQH,OAPAv6E,KAAKm+E,kBAAkBb,EAAMv7B,OAAOA,OAAQw4B,GAC5CA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAK6mG,+BAA+BvpB,EAAMv7B,OAAOnf,WAC7D23C,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAK6mG,+BAA+BvpB,EAAM16C,WACtD23C,EAAOxkF,KAAK,KACLwkF,EACT,IAAK,OAKH,OAJAv6E,KAAK6+E,mBAAmBvB,EAAMv7B,OAAQw4B,GACtCA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAK6mG,+BAA+BjkE,IAChD23C,EAAOxkF,KAAK,KACLwkF,EACT,QACE,MAAMv6E,KAAKm7E,eAAe,wBAAyBmC,GAGzD,IAAuB,IAAnBA,EAAMlgB,SACR,OAAQhtE,GACN,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,UAEH,OADAmqF,EAAOxkF,KAAK,GAAG4nF,KAAU9D,EAAMwrB,aAAa90G,MACrCgqF,EAIb,MAAMsD,EAAa,GAAGF,KAAU9D,EAAMwrB,aAAa90G,KAEnD,OAAQH,GACN,IAAK,WACL,IAAK,WACL,IAAK,WACH4P,KAAK26E,WAAW2C,EAAMv7B,OAAQw4B,GAC9BA,EAAOxkF,KAAK,KACZwkF,EAAOxkF,KAAKiK,KAAK6mG,+BAA+BrpB,IAChDjD,EAAOxkF,KAAK,KACZ,MACF,IAAK,iBACHwkF,EAAOxkF,KAAK,cAAe8nF,MAAiBA,UAAqBA,UACjE79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,kBACHwkF,EAAOxkF,KAAK,yBAA0B8nF,MAAiBA,UAAqBA,UAC5E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,aACL,IAAK,aACL,IAAK,aACHwkF,EAAOxkF,KAAK,0BAA2B8nF,MAAiBA,UAAqBA,UAC7E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,kBACHwkF,EAAOxkF,KAAK,wBAAyB8nF,MAAiBA,UAAqBA,UAC3E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,aACL,IAAK,aACL,IAAK,aACHwkF,EAAOxkF,KAAK,0BAA2B8nF,MAAiBA,UAAqBA,UAC7E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,kBACHwkF,EAAOxkF,KAAK,wBAAyB8nF,MAAiBA,UAAqBA,UAC3E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,aACL,IAAK,aACL,IAAK,aACHwkF,EAAOxkF,KAAK,0BAA2B8nF,MAAiBA,UAAqBA,UAC7E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,kBACL,IAAK,aACL,IAAK,kBACL,IAAK,YACL,IAAK,cACL,IAAK,YACL,IAAK,YACHwkF,EAAOxkF,KAAK,wBAAyB8nF,MAAiBA,UAAqBA,UAC3E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,gBACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,SACL,IAAK,QACL,IAAK,UACH,GAAuB,WAAnBiK,KAAKymF,UACPlM,EAAOxkF,KAAK,wBAAwB8nF,MAAeA,UAAmBA,UACtE79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,SACP,CACL,MAAMg0F,EAAuB,SAAXpM,EAChB39E,KAAKknF,+BAA+BlnF,KAAKzP,KAAMA,GAC/CyP,KAAKsmF,kBAAkB/1F,GAEzB,OAAQw5F,GACN,KAAK,EACHxP,EAAOxkF,KAAK,QAAQ8nF,MAAeA,UAAmBA,UACtD,MACF,KAAK,EACHtD,EAAOxkF,KAAK,SAAS8nF,MAAeA,UAAmBA,UACvD,MACF,KAAK,EACL,KAAK,EACHtD,EAAOxkF,KAAK,SAAS8nF,MAAeA,UAAmBA,UACvD,MACF,QACE,MAAM,IAAIxsF,MAAM,0BAA0B04F,KAE9C/pF,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,IACtB,CACQ,MACF,IAAK,+BACHwkF,EAAOxkF,KAAK,wBAAyB8nF,MAAiBA,UAAqBA,UAC3E79E,KAAK8mG,oBAAoBtpB,EAAWC,EAAWC,EAAWnD,GAC1DA,EAAOxkF,KAAK,KACZ,MACF,IAAK,YACL,IAAK,YACL,IAAK,YACHwkF,EAAOxkF,KAAK,GAAG8nF,KAAc79E,KAAK6mG,+BAA+BppB,OAC7DA,GACFlD,EAAOxkF,KAAK,IAAIiK,KAAK6mG,+BAA+BrpB,OAEtD,MACF,QACE,MAAM,IAAInsF,MAAM,gCAAiCjB,MAErD,OAAOmqF,CACX,CAEE4D,iBAAAA,CAAkB7D,EAAKC,GACrB,IAAKD,EAAIzX,OACP,MAAM7iE,KAAKm7E,eAAe,yBAA0Bb,GAGtD,IAAI8D,EAAe,KACnB,MAAM2oB,EAAiB/mG,KAAKu+E,kBAAkBjE,GAW9C,GARE8D,EADE2oB,GAAmBzsB,EAAIzX,OAAO9gB,QAAqC,mBAA3Bu4B,EAAIzX,OAAO9gB,OAAO3xD,KAC7CkqF,EAAIzX,OAAOjgC,SAASryC,KAER,uBAApB+pF,EAAIzX,OAAOzyE,MAAoE,YAAnCkqF,EAAIzX,OAAOzB,YAAY,GAAGhxE,MAAuB8nD,MAAMoiC,EAAIzX,OAAOzB,YAAY,GAAG1B,KAGrH4a,EAAIzX,OAAOtyE,KAFX+pF,EAAIzX,OAAOzB,YAAY,GAAGx+B,SAASryC,MAK/C6tF,EACH,MAAMp+E,KAAKm7E,eAAe,yCAA0Cb,GAGtE,OAAQ8D,GACN,IAAK,MACHA,EAAe,OACf,MACF,IAAK,QACHA,EAAe,SAQnB,GAJIp+E,KAAKs+E,gBAAgB7sF,QAAQ2sF,GAAgB,GAC/Cp+E,KAAKs+E,gBAAgBvoF,KAAKqoF,GAGP,WAAjBA,GAA6Bp+E,KAAKu0D,SAAWv0D,KAAKu0D,QAAQjmE,OAAS,EACrE,IAAK,IAAIE,EAAI,EAAGA,EAAIwR,KAAKu0D,QAAQjmE,OAAQE,IAAK,CAC5C,MAAMm2G,EAAS3kG,KAAKu0D,QAAQ/lE,GAC5B,GAA6B,kBAAzBm2G,EAAOqC,eAAqCrC,EAAOsC,gBAErD,OADA1sB,EAAOxkF,KAAK4uG,EAAOsC,iBACZ1sB,CAEjB,CAWI,GARIv6E,KAAKw+E,gBACPx+E,KAAKw+E,eAAex+E,KAAKzP,KAAM6tF,EAAc9D,EAAIjsF,WAGnDksF,EAAOxkF,KAAKqoF,GAEZ7D,EAAOxkF,KAAK,KAERgxG,EACF,IAAK,IAAIv4G,EAAI,EAAGA,EAAI8rF,EAAIjsF,UAAUC,SAAUE,EAAG,CAC7C,MAAM8rE,EAAWggB,EAAIjsF,UAAUG,GACzBmwF,EAAe3+E,KAAK86E,QAAQxgB,GAC9B9rE,EAAI,GACN+rF,EAAOxkF,KAAK,MAIP,YADC4oF,EAEJ3+E,KAAK0lG,iBAAiBprC,EAAUigB,GAGhCv6E,KAAK26E,WAAWrgB,EAAUigB,EAGtC,KACW,CACL,MAAMkE,EAAcz+E,KAAK0+E,4BAA4BN,IAAiB,GACtE,IAAK,IAAI5vF,EAAI,EAAGA,EAAI8rF,EAAIjsF,UAAUC,SAAUE,EAAG,CAC7C,MAAM8rE,EAAWggB,EAAIjsF,UAAUG,GAC/B,IAAI04G,EAAazoB,EAAYjwF,GACzBA,EAAI,GACN+rF,EAAOxkF,KAAK,MAEd,MAAM4oF,EAAe3+E,KAAK86E,QAAQxgB,GAKlC,OAJK4sC,IACHlnG,KAAK4+E,yBAAyBR,EAAc5vF,EAAGmwF,EAAc3+E,MAC7DknG,EAAavoB,GAEPA,GACN,IAAK,UACH3+E,KAAK26E,WAAWrgB,EAAUigB,GAC1B,SACF,IAAK,SACL,IAAK,QACH,GAAmB,YAAf2sB,EAA0B,CAC5B3sB,EAAOxkF,KAAK,QACZiK,KAAK26E,WAAWrgB,EAAUigB,GAC1BA,EAAOxkF,KAAK,KACZ,QACd,CAAmB,GAAmB,WAAfmxG,GAA0C,UAAfA,EAAwB,CAC5DlnG,KAAK26E,WAAWrgB,EAAUigB,GAC1B,QACd,CAAmB,GAAmB,mBAAf2sB,EAAiC,CAC1ClnG,KAAKslG,mBAAmBhrC,EAAUigB,GAClC,QACd,CACY,MACF,IAAK,UACH,GAAmB,WAAf2sB,GAA0C,UAAfA,EAAwB,CACrD3sB,EAAOxkF,KAAK,UACZiK,KAAK26E,WAAWrgB,EAAUigB,GAC1BA,EAAOxkF,KAAK,KACZ,QACd,CAAmB,GAAmB,YAAfmxG,EAA0B,CACnClnG,KAAK26E,WAAWrgB,EAAUigB,GAC1B,QACd,CACY,MACF,IAAK,iBACH,GAAmB,YAAf2sB,EAA0B,CAC5BlnG,KAAKwlG,qBAAqBlrC,EAAUigB,GACpC,QACd,CAAmB,GAAmB,WAAf2sB,GAA0C,UAAfA,EAAwB,CAC5DlnG,KAAKslG,mBAAmBhrC,EAAUigB,GAClC,QACd,CAAmB,GAAmB,mBAAf2sB,EAAiC,CAC1ClnG,KAAK26E,WAAWrgB,EAAUigB,GAC1B,QACd,CACY,MACF,IAAK,WACL,IAAK,WACL,IAAK,WACH,GAAI2sB,IAAevoB,EAAc,CAC/B,GAAsB,eAAlBrkB,EAASlqE,KACXmqF,EAAOxkF,KAAK,QAAQ8jF,EAAMwrB,aAAa/qC,EAAS/pE,aAC3C,IAAsB,oBAAlB+pE,EAASlqE,MAAgD,qBAAlBkqE,EAASlqE,MAAiD,mBAAlBkqE,EAASlqE,KAGjG,MAAM4P,KAAKm7E,eAAe,2BAA4B7gB,EAASlqE,OAASkqF,GAFxEt6E,KAAK26E,WAAWrgB,EAAUigB,EAG1C,CACc,QACd,CACY,MACF,IAAK,aACL,IAAK,kBACL,IAAK,YACL,IAAK,cACL,IAAK,YACL,IAAK,iBACL,IAAK,YACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,QACL,IAAK,QACH,GAAI2sB,IAAevoB,EAAc,CAC/B,GAAsB,eAAlBrkB,EAASlqE,KAAuB,MAAM4P,KAAKm7E,eAAe,2BAA4B7gB,EAASlqE,OAASkqF,GAC5Gt6E,KAAKmnF,6BAA6BnnF,KAAKzP,KAAM+pE,EAAS/pE,KAAM6tF,EAAc5vF,GAC1E,MAAM+B,EAAOspF,EAAMwrB,aAAa/qC,EAAS/pE,MACzCgqF,EAAOxkF,KAAK,QAAQxF,UAAaA,cAAiBA,QAClD,QACd,EAGQ,MAAMyP,KAAKm7E,eAAe,qCAAsCwD,SAAsBuoB,yBAAoC5sC,EAAS/pE,QAAU+pF,EACrJ,CACA,CAGI,OAFAC,EAAOxkF,KAAK,KAELwkF,CACX,CAEEsE,kBAAAA,CAAmBC,EAASvE,GAC1B,MAAMM,EAAa76E,KAAK86E,QAAQgE,GAE1BC,EAASD,EAAQp3C,SAASp5C,OAEhC,OAAQusF,GACN,IAAK,YACL,IAAK,YACL,IAAK,YACHN,EAAOxkF,KAAK,MAAMgpF,MAClB,MACF,QACExE,EAAOxkF,KAAK,MAAMgpF,MAEtB,IAAK,IAAIvwF,EAAI,EAAGA,EAAIuwF,IAAUvwF,EAAG,CAC3BA,EAAI,GACN+rF,EAAOxkF,KAAK,MAEd,MAAMoxG,EAAUroB,EAAQp3C,SAASl5C,GACjCwR,KAAK26E,WAAWwsB,EAAS5sB,EAC/B,CAGI,OAFAA,EAAOxkF,KAAK,KAELwkF,CACX,CAEEusB,mBAAAA,CAAoBj2G,EAAGmgB,EAAGomE,EAAGmD,GAY3B,OAXInD,EACFmD,EAAOxkF,KAAKiK,KAAK6mG,+BAA+BzvB,GAAI,MAEpDmD,EAAOxkF,KAAK,OAEVib,EACFupE,EAAOxkF,KAAKiK,KAAK6mG,+BAA+B71F,GAAI,MAEpDupE,EAAOxkF,KAAK,OAEdwkF,EAAOxkF,KAAKiK,KAAK6mG,+BAA+Bh2G,IACzC0pF,CACX,CAEEssB,8BAAAA,CAA+BjkE,GAC7B,IAAKA,EACH,MAAM,IAAIvxC,MAAM,oBAElB,MACMy8B,EAAS,GACf,OAFa9tB,KAAK86E,QAAQl4C,IAGxB,IAAK,SACL,IAAK,QACH5iC,KAAKulG,mBAAmB3iE,EAAU9U,GAClC,MACF,IAAK,iBACH9tB,KAAKwlG,qBAAqB5iE,EAAU9U,GACpC,MACF,QACE9tB,KAAK26E,WAAW/3C,EAAU9U,GAE9B,OAAOA,EAAOvR,KAAK,GACvB,EAGA,MAAMi7E,EAAU,CACd,MAAS,YACT,WAAY,OACZ,WAAY,OACZ,WAAY,OACZ,YAAa,OACb,YAAa,OACb,YAAa,OACb,QAAW,YACX,QAAW,YACX,QAAW,OACX,MAAS,QACT,MAAS,YACT,QAAW,MACX,OAAU,QACV,eAAkB,QAClB,cAAiB,YACjB,6BAAgC,YAChC,kBAAmB,YACnB,kBAAmB,YACnB,kBAAmB,YACnB,kBAAmB,YACnB,UAAa,YACb,WAAc,YACd,gBAAmB,YACnB,UAAa,YACb,YAAe,YACf,UAAa,YACb,eAAkB,kBAGdoO,EAAc,CAClB,MAAO,KACP,MAAO,MAGTxkD,EAAOL,QAAU,CACfmkD,oBAEF,EAAE,CAAC,cAAc,IAAI,mBAAmB,KAAK,GAAG,CAAC,SAASn3G,EAAQqzD,EAAOL,GACzE,MAAM,wBAAEqmD,GAA4Br5G,EAAQ,2BACtC,sBAAEs5G,GAA0Bt5G,EAAQ,yBACpC,wBAAEu5G,GAA4Bv5G,EAAQ,2BAEtC,0BAAEw5G,GAA8Bx5G,EAAQ,8BACxC,iCAAEy5G,GAAqCz5G,EAAQ,sCAE/C,0BAAE05G,GAA8B15G,EAAQ,8BACxC,iCAAE25G,GAAqC35G,EAAQ,sCAE/C,4BAAE45G,GAAgC55G,EAAQ,gCAC1C,mCAAE65G,GAAuC75G,EAAQ,wCAEjD,8BAAE85G,GAAkC95G,EAAQ,kCAC5C,qCAAE+5G,GAAyC/5G,EAAQ,0CAEnD,6CAAEg6G,GAAiDh6G,EAAQ,mDAC3D,oDAAEi6G,GAAwDj6G,EAAQ,2DAElE,8BAAEk6G,GAAkCl6G,EAAQ,kCAC5C,qCAAEm6G,GAAyCn6G,EAAQ,0CAEnD,4BAAEo6G,GAAgCp6G,EAAQ,gCAC1C,mCAAEq6G,GAAuCr6G,EAAQ,wCAEjD,+BAAEs6G,GAAmCt6G,EAAQ,oCAC7C,sCAAEu6G,GAA0Cv6G,EAAQ,4CAEpD,+BAAEw6G,GAAmCx6G,EAAQ,oCAC7C,sCAAEy6G,GAA0Cz6G,EAAQ,4CAEpD,+BAAE06G,GAAmC16G,EAAQ,oCAC7C,sCAAE26G,GAA0C36G,EAAQ,4CAEpD,uBAAE46G,GAA2B56G,EAAQ,0BACrC,uBAAE66G,GAA2B76G,EAAQ,0BACrC,uBAAE86G,GAA2B96G,EAAQ,0BAErC,8BAAE+6G,GAAkC/6G,EAAQ,kCAC5C,qCAAEg7G,GAAyCh7G,EAAQ,yCAEnDi7G,EAAkB,CACtBC,SAAU,CACRC,QAAS,CACP,QAAW9B,EACX,QAAWE,EACX,MAASD,EACT,MAAS0B,EACT,WAAYJ,EACZ,WAAYC,EACZ,WAAYC,EACZ,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,MAASf,EACT,cAAiBI,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcR,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,gBAAkB,EAClB,UAAaE,GAEfpqC,OAAQ,CACN,QAAW8pC,EACX,MAASC,EACT,QAAWC,EACX,MAASwB,EACT,WAAYH,EACZ,WAAYC,EACZ,WAAYC,EACZ,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,MAAShB,EACT,cAAiBI,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcR,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,gBAAkB,EAClB,UAAaE,IAGjB0B,OAAQ,CACND,QAAS,CACP,QAAW9B,EACX,QAAWE,EACX,MAASD,EACT,MAASe,EACT,WAAYO,EACZ,WAAYC,EACZ,WAAYC,EACZ,aAAcP,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,MAASd,EACT,cAAiBM,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcR,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,gBAAkB,EAClB,UAAaE,GAEfpqC,OAAQ,CACN,QAAW8pC,EACX,MAASC,EACT,QAAWC,EACX,MAASa,EACT,WAAYQ,EACZ,WAAYC,EACZ,WAAYC,EACZ,aAAcR,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,MAASd,EACT,cAAiBM,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcR,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,gBAAkB,EAClB,UAAaE,KAKnB,SAAS2B,EAAsBh5G,EAAM84G,EAASziB,EAAWzzF,GACvD,IAAK5C,EACH,MAAM,IAAIiB,MAAM,gBAElB,IAAK63G,EACH,MAAM,IAAI73G,MAAM,mBAElB,IAAKo1F,EACH,MAAM,IAAIp1F,MAAM,qBAEd2B,EAAM5C,OACRA,EAAO4C,EAAM5C,MAEf,MAAM64D,EAAQ+/C,EAAgBviB,GAAWyiB,GACzC,IAAoB,IAAhBjgD,EAAM74D,GACR,OAAO,KACF,QAAoBmjF,IAAhBtqB,EAAM74D,GACf,MAAM,IAAIiB,MAAM,oCAAqCjB,KAEvD,OAAO64D,EAAM74D,EACf,CAEAgxD,EAAOL,QAAU,CACfqoD,wBACAJ,kBAEF,EAAE,CAAC,wBAAwB,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,yBAAyB,GAAG,oCAAoC,GAAG,oCAAoC,GAAG,yDAAyD,GAAG,wCAAwC,GAAG,sCAAsC,GAAG,0CAA0C,GAAG,0CAA0C,GAAG,0CAA0C,GAAG,sCAAsC,GAAG,wCAAwC,GAAG,wCAAwC,GAAG,uBAAuB,GAAG,4BAA4B,GAAG,4BAA4B,GAAG,yBAAyB,GAAG,iDAAiD,GAAG,gCAAgC,GAAG,8BAA8B,GAAG,kCAAkC,GAAG,kCAAkC,GAAG,kCAAkC,GAAG,8BAA8B,GAAG,gCAAgC,GAAG,gCAAgC,KAAK,GAAG,CAAC,SAASj7G,EAAQqzD,EAAOL,GACpjC,MAAM,iBAAEsoD,GAAqBt7G,EAAQ,YAC/B,MAAEo0G,GAAUp0G,EAAQ,kBAE1B,MAAMu7G,UAAyBD,EAC7BE,SAAAA,CAAUn9F,EAAOC,GACf,IAAKrM,KAAK43E,OAAOmT,SAAU,OAC3B,MAAM,eAAE8K,GAAmB71F,KAAK43E,OAAO/3E,YAAY6gF,SACnD,GAAIt0E,EAAQypF,GAAkBxpF,EAASwpF,EACrC,MAAIzpF,EAAQC,EACJ,IAAIhb,MAAM,6BAA6B+a,iCAAqCypF,kBACzEzpF,EAAQC,EACX,IAAIhb,MAAM,8BAA8Bgb,iCAAsCwpF,kBAE9E,IAAIxkG,MAAM,wCAAwCgb,iCAAsCwpF,iBAGtG,CAEE2T,KAAAA,GACExpG,KAAKypG,iBACLzpG,KAAK0pG,eACL1pG,KAAK2pG,eACT,CAEEF,cAAAA,GACEzpG,KAAKyxF,QAAUzxF,KAAK4pG,kBACxB,CAEED,aAAAA,GACE,MAAQ7yG,QAASw8E,GAAOtzE,KACxBszE,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG4sB,eAAgB5sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG8sB,eAAgB9sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG+sB,mBAAoB/sB,EAAGgtB,SAC1DhtB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAGitB,mBAAoBjtB,EAAGgtB,QAC9D,CAEEoJ,YAAAA,GACE1pG,KAAK+hG,cAAgB/hG,KAAK6hG,yBAC1B7hG,KAAKvK,MAAQuK,KAAK6pG,iBAClB7pG,KAAK8pG,aAAe9pG,KAAKy3B,GAAK,MAC9Bz3B,KAAK+pG,OAAS/pG,KAAKy3B,GAAK,MAC5B,CAEEorE,WAAAA,CAAY7vG,GACV,GAAI+B,MAAMC,QAAQhC,EAAM,IACtB,OAAOgN,KAAK6iG,YAAY7vG,EAAM,IACzB,GAAIA,EAAM6M,cAAgBsiG,EAC/B,OAAOniG,KAAK6iG,YAAY7vG,EAAMA,OAEhC,OAAQA,EAAM6M,aACZ,KAAKs5E,kBACL,KAAK+e,WACL,KAAKoM,UACH,OAAO,EACT,KAAKC,YACL,KAAKC,WACH,OAAO,EACT,KAAKvtB,aACL,KAAK2rB,WACL,QACE,OAAO,EAEf,CAEE95E,OAAAA,GACM9oB,KAAK69F,SACP79F,KAAK69F,QAAQz+E,SAEfpf,KAAKlJ,QAAQ8oG,cAAc5/F,KAAKyxF,QACpC,EAGArwC,EAAOL,QAAU,CACfuoD,mBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASv7G,EAAQqzD,EAAOL,GACnE,MAAM,iBAAEsoD,GAAqBt7G,EAAQ,WAErC,MAAM46G,UAA+BU,EACnCxpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKuxF,YAAcv+F,CACvB,CACEivG,SAAAA,CAAUjvG,GACR,MAAoB,cAAhBgN,KAAK29E,OACA,cAAc39E,KAAKy3B,aAAazkC,EAAM,MAAMA,EAAM,SAEpD,gBAAgBgN,KAAKy3B,OAChC,CAEE06D,qBAAAA,GACE,MAAoB,cAAhBnyF,KAAK29E,OAA+B,GACjC,qBAAqB39E,KAAKzP,UAAUyP,KAAKiyF,YACpD,CAEEiQ,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOoyB,cAAchqG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EAC1D,EAGAouD,EAAOL,QAAU,CACf4nD,yBAEF,EAAE,CAAC,UAAU,KAAK,GAAG,CAAC,SAAS56G,EAAQqzD,EAAOL,GAC9C,MAAM,iBAAEsoD,GAAqBt7G,EAAQ,WAErC,MAAM66G,UAA+BS,EACnCxpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKuxF,YAAcv+F,CACvB,CACEivG,SAAAA,CAAUjvG,GACR,MAAoB,cAAhBgN,KAAK29E,OACA,cAAc39E,KAAKy3B,aAAazkC,EAAM,MAAMA,EAAM,MAAMA,EAAM,SAEhE,gBAAgBgN,KAAKy3B,OAChC,CAEE06D,qBAAAA,GACE,MAAoB,cAAhBnyF,KAAK29E,OAA+B,GACjC,qBAAqB39E,KAAKzP,UAAUyP,KAAKiyF,YACpD,CAEEiQ,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOqyB,cAAcjqG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EAC1D,EAGAouD,EAAOL,QAAU,CACf6nD,yBAEF,EAAE,CAAC,UAAU,KAAK,GAAG,CAAC,SAAS76G,EAAQqzD,EAAOL,GAC9C,MAAM,iBAAEsoD,GAAqBt7G,EAAQ,WAErC,MAAM86G,UAA+BQ,EACnCxpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKuxF,YAAcv+F,CACvB,CACEivG,SAAAA,CAAUjvG,GACR,MAAoB,cAAhBgN,KAAK29E,OACA,cAAc39E,KAAKy3B,aAAazkC,EAAM,MAAMA,EAAM,MAAMA,EAAM,MAAMA,EAAM,SAE5E,gBAAgBgN,KAAKy3B,OAChC,CAEE06D,qBAAAA,GACE,MAAoB,cAAhBnyF,KAAK29E,OAA+B,GACjC,qBAAqB39E,KAAKzP,UAAUyP,KAAKiyF,YACpD,CAEEiQ,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOsyB,cAAclqG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EAC1D,EAGAouD,EAAOL,QAAU,CACf8nD,yBAEF,EAAE,CAAC,UAAU,KAAK,GAAG,CAAC,SAAS96G,EAAQqzD,EAAOL,GAC5BhzD,EAAQ,kBAC1B,MAAM,iBAAEs7G,GAAqBt7G,EAAQ,WAErC,MAAMq5G,UAAgCiC,EACpCxpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKuxF,YAAcv+F,CACvB,CACEivG,SAAAA,CAAUjvG,GACR,MAAoB,cAAhBgN,KAAK29E,OACA,cAAc39E,KAAKy3B,QAAQzkC,OAE7B,gBAAgBgN,KAAKy3B,OAChC,CAEE06D,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,YACpD,CAEEiQ,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EACzD,EAGAouD,EAAOL,QAAU,CACfqmD,0BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASr5G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,0BAAEw5G,GAA8Bx5G,EAAQ,gBAE9C,MAAMy5G,UAAyCD,EAC7CtF,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACV,MAAM,MAAEoZ,EAAK,OAAEC,GAAWrZ,EAC1BgN,KAAKupG,UAAUn9F,EAAOC,GACtBrM,KAAKoqG,WAAa,CAACh+F,EAAOC,EAAQ,GAClCrM,KAAKo9F,YAAc,CAAChxF,EAAOC,GAC3BrM,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfymD,mCAEF,EAAE,CAAC,iBAAiB,IAAI,eAAe,KAAK,GAAG,CAAC,SAASz5G,EAAQqzD,EAAOL,GACxE,MAAM,iCAAEymD,GAAqCz5G,EAAQ,wBAErD,MAAM25G,UAAyCF,GAE/CpmD,EAAOL,QAAU,CACf2mD,mCAEF,EAAE,CAAC,uBAAuB,KAAK,GAAG,CAAC,SAAS35G,EAAQqzD,EAAOL,GAC3D,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,6CAAEg6G,GAAiDh6G,EAAQ,qCAEjE,MAAMi6G,UAA4DD,EAChE9F,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYqI,GACVvqG,KAAKoqG,WAAaG,EAAaH,WAC/BpqG,KAAKupG,UAAUgB,EAAa1jF,KAAK,GAAI0jF,EAAa1jF,KAAK,IACvD7mB,KAAKo9F,YAAcmN,EAAa1jF,KAChC7mB,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYqI,EACtB,EAGAnpD,EAAOL,QAAU,CACfinD,sDAEF,EAAE,CAAC,iBAAiB,IAAI,oCAAoC,KAAK,GAAG,CAAC,SAASj6G,EAAQqzD,EAAOL,GAC7F,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,8BAAEk6G,GAAkCl6G,EAAQ,oBAElD,MAAMm6G,UAA6CD,EACjDhG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAKoqG,WAAap3G,EAAMo3G,WACxBpqG,KAAKupG,UAAUv2G,EAAM6zB,KAAK,GAAI7zB,EAAM6zB,KAAK,IACzC7mB,KAAKo9F,YAAcpqG,EAAM6zB,KACzB7mB,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfmnD,uCAEF,EAAE,CAAC,iBAAiB,IAAI,mBAAmB,KAAK,GAAG,CAAC,SAASn6G,EAAQqzD,EAAOL,GAC5E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,4BAAEo6G,GAAgCp6G,EAAQ,kBAEhD,MAAMq6G,UAA2CD,EAC/ClG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAKoqG,WAAavwB,EAAMoI,cAAcjvF,GAAO,GAC7CgN,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCxqG,KAAKoqG,WAAYpqG,KAAK+pF,UAClF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,mBACzCzqG,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfqnD,qCAEF,EAAE,CAAC,iBAAiB,IAAI,iBAAiB,KAAK,GAAG,CAAC,SAASr6G,EAAQqzD,EAAOL,GAC1E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,+BAAEs6G,GAAmCt6G,EAAQ,sBAEnD,MAAMu6G,UAA8CD,EAClDpG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAK0qG,SAAS13G,GACdgN,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfunD,wCAEF,EAAE,CAAC,iBAAiB,IAAI,qBAAqB,KAAK,GAAG,CAAC,SAASv6G,EAAQqzD,EAAOL,GAC9E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,+BAAEw6G,GAAmCx6G,EAAQ,sBAEnD,MAAMy6G,UAA8CD,EAClDtG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAK0qG,SAAS13G,GACdgN,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfynD,wCAEF,EAAE,CAAC,iBAAiB,IAAI,qBAAqB,KAAK,GAAG,CAAC,SAASz6G,EAAQqzD,EAAOL,GAC9E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,+BAAE06G,GAAmC16G,EAAQ,sBAEnD,MAAM26G,UAA8CD,EAClDxG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAK0qG,SAAS13G,GACdgN,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACf2nD,wCAEF,EAAE,CAAC,iBAAiB,IAAI,qBAAqB,KAAK,GAAG,CAAC,SAAS36G,EAAQqzD,EAAOL,GAC9E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,4BAAE45G,GAAgC55G,EAAQ,kBAEhD,MAAM65G,UAA2CD,EAC/C1F,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACV,IAAK4kG,EAAGC,EAAGx+C,GAAKrmD,EAAM6zB,KACtB7mB,KAAKoqG,WAAa,IAAIxH,WAAW,CAAChL,GAAK,EAAGC,GAAK,EAAGx+C,GAAK,IACvDr5C,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCxqG,KAAKoqG,WAAYpqG,KAAK+pF,UAClF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,mBACzCzqG,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACf6mD,qCAEF,EAAE,CAAC,iBAAiB,IAAI,iBAAiB,KAAK,GAAG,CAAC,SAAS75G,EAAQqzD,EAAOL,GAC1E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,8BAAE+6G,GAAkC/6G,EAAQ,oBAElD,MAAMg7G,UAA6CD,EACjD7G,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAKoqG,WAAavwB,EAAMoI,cAAcjvF,GAAO,GAC7CgN,KAAKo9F,YAAcvjB,EAAM8wB,oCAAoC3qG,KAAKoqG,WAAYpqG,KAAK+pF,UACnF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,IAAM,EAAIp9F,KAAK+pF,UAC/E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrD,MAAMwN,EAAO5qG,KAAK6qG,qBAAqB73G,GACvCgN,KAAK8qG,eAAiB,IAAIF,EAAK5qG,KAAKyqG,mBACpCzqG,KAAKuxF,YAAc,IAAI2G,WAAWl4F,KAAK8qG,eAAe1S,QACtDp4F,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfgoD,uCAEF,EAAE,CAAC,iBAAiB,IAAI,mBAAmB,KAAK,GAAG,CAAC,SAASh7G,EAAQqzD,EAAOL,GAC5E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,8BAAE85G,GAAkC95G,EAAQ,oBAElD,MAAM+5G,UAA6CD,EACjD5F,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,CAEE5H,WAAAA,CAAYlvG,GACV,IAAK4kG,EAAGC,EAAGx+C,GAAKrmD,EAAM6zB,KACtB7mB,KAAKoqG,WAAa,IAAIxH,WAAW,CAAChL,GAAK,EAAGC,GAAK,EAAGx+C,GAAK,IACvDr5C,KAAKo9F,YAAcvjB,EAAM8wB,oCAAoC3qG,KAAKoqG,WAAYpqG,KAAK+pF,UACnF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,IAAM,EAAIp9F,KAAK+pF,UAC/E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrD,MAAMwN,EAAO5qG,KAAK6qG,qBAAqB73G,EAAMA,OAC7CgN,KAAK8qG,eAAiB,IAAIF,EAAK5qG,KAAKyqG,mBACpCzqG,KAAKuxF,YAAc,IAAI2G,WAAWl4F,KAAK8qG,eAAe1S,QACtDp4F,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACf+mD,uCAEF,EAAE,CAAC,iBAAiB,IAAI,mBAAmB,KAAK,GAAG,CAAC,SAAS/5G,EAAQqzD,EAAOL,GAC1DhzD,EAAQ,kBAC1B,MAAM,iBAAEs7G,GAAqBt7G,EAAQ,WAErC,MAAMs5G,UAA8BgC,EAClCxpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKuxF,YAAcv+F,CACvB,CACEm/F,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,YACpD,CACEgQ,SAAAA,CAAUjvG,GACR,MAAoB,cAAhBgN,KAAK29E,OACHwO,OAAOC,UAAUp5F,GACZ,eAAegN,KAAKy3B,QAAQzkC,SAE9B,eAAegN,KAAKy3B,QAAQzkC,OAE9B,iBAAiBgN,KAAKy3B,OACjC,CAEEyqE,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOmzB,aAAa/qG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EACzD,EAGAouD,EAAOL,QAAU,CACfsmD,wBAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASt5G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAMw5G,UAAkC+B,EACtCzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACb,MAAM,MAAEjtE,EAAK,OAAEC,GAAWrZ,EAC1BgN,KAAKupG,UAAUn9F,EAAOC,GACtBrM,KAAKoqG,WAAa,CAACh+F,EAAOC,EAAQ,GAClCrM,KAAKo9F,YAAc,CAAChxF,EAAOC,GAC3BrM,KAAKuxF,YAAcv+F,CACvB,CAEEm/F,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,YACpD,CAEEgQ,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAY8I,GACV,GAAIA,EAAWnrG,cAAgBG,KAAKirG,wBAElC,YADAjrG,KAAK8hG,sBAAsBkJ,EAAWnrG,aAGxC,MAAQ/I,QAASw8E,GAAOtzE,KACxBszE,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAMzkB,EAAGykB,KAAMzkB,EAAG6kB,cAAen4F,KAAKuxF,YAAcyZ,GACvFhrG,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfwmD,4BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASx5G,EAAQqzD,EAAOL,GACnE,MAAM,0BAAEwmD,GAA8Bx5G,EAAQ,gBAE9C,MAAM05G,UAAkCF,GAExCnmD,EAAOL,QAAU,CACf0mD,4BAEF,EAAE,CAAC,eAAe,KAAK,GAAG,CAAC,SAAS15G,EAAQqzD,EAAOL,GACnD,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,YAAE6zG,GAAgB7zG,EAAQ,sBAEhC,MAAMs7G,UAAyBzH,EAC7B/hG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK8pG,aAAe,KACpB9pG,KAAK+pG,OAAS,KACd/pG,KAAKirG,wBAA0Bj4G,EAAM6M,YACrCG,KAAK4pG,iBAAmBvwB,EAASuwB,iBACjC5pG,KAAK6pG,eAAiBxwB,EAASwwB,eAC/B7pG,KAAKuxF,YAAc,KACnBvxF,KAAKo9F,YAAc,KACnBp9F,KAAK+pF,SAAW,KAChB/pF,KAAK69F,QAAU,IACnB,CAEE,MAAIpmE,GACF,MAAO,GAAGz3B,KAAK29E,UAAU9D,EAAMwrB,aAAarlG,KAAKzP,OACrD,CAEEi5G,KAAAA,GAAS,CAETqB,oBAAAA,CAAqB73G,GACnB,GAAI+B,MAAMC,QAAQhC,EAAM,IACtB,OAAOgN,KAAK6qG,qBAAqB73G,EAAM,IAEzC,OAAQA,EAAM6M,aACZ,KAAK9K,MACL,KAAK6tG,WACL,KAAK4B,WACL,KAAKF,UACH,OAAOrtB,aACT,KAAKkC,kBACL,KAAK+e,WACL,KAAKqM,YACL,KAAK6G,YACL,KAAKn0B,aACL,KAAKo0B,aACH,OAAOr4G,EAAM6M,YAGjB,OADA+yB,QAAQ8pE,KAAK,0GACN1pG,EAAM6M,WACjB,CAEEsyF,qBAAAA,GACE,MAAM,IAAI9gG,MAAM,8CAA8C2O,KAAKH,YAAYtP,OACnF,CAEEumG,0BAAAA,GACE,OAAO92F,KAAK43E,OAAOkf,2BAA2B92F,KAAKo9F,kBAAe7pB,EAAWvzE,KAAKoxF,aAAU7d,EAChG,CAEEzqD,OAAAA,GAAW,EAGbs4B,EAAOL,QAAU,CACfsoD,mBAEF,EAAE,CAAC,iBAAiB,IAAI,qBAAqB,KAAK,GAAG,CAAC,SAASt7G,EAAQqzD,EAAOL,GAC5DhzD,EAAQ,kBAC1B,MAAM,iBAAEs7G,GAAqBt7G,EAAQ,WAErC,MAAMu5G,UAAgC+B,EACpCxpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKuxF,YAAcv+F,CACvB,CACEm/F,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,YACpD,CACEgQ,SAAAA,CAAUjvG,GACR,MAAoB,cAAhBgN,KAAK29E,OACA,aAAa39E,KAAKy3B,QAASq6C,SAAS9+E,QAEtC,eAAegN,KAAKy3B,OAC/B,CAEEyqE,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EACzD,EAGAouD,EAAOL,QAAU,CACfumD,0BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASv5G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAE/Bu9G,EAAY,8IAElB,MAAMvD,UAAqDuB,EACzDzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACb,MAAOjtE,EAAOC,GAAUrZ,EAAM6zB,KAC9B7mB,KAAKupG,UAAUn9F,EAAOC,GACtBrM,KAAKoqG,WAAap3G,EAAMo3G,WACxBpqG,KAAKo9F,YAAcpqG,EAAM6zB,KACzB7mB,KAAKuxF,YAAcv+F,EAAMy+F,QACzBzxF,KAAKgiG,oBAAqB,CAC9B,CAEEwH,KAAAA,GACExpG,KAAK0pG,cACT,CAEEvX,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,oBACpD,CAEEgQ,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYqI,GACV,GAAIA,EAAa1qG,cAAgBG,KAAKirG,wBAEpC,YADAjrG,KAAK8hG,sBAAsByI,EAAa1qG,aAG1C,GAAIG,KAAKqxF,cAAgBkZ,EAAazzG,UAAYkJ,KAAKlJ,QACrD,MAAM,IAAIzF,MAAM,SAAS2O,KAAKzP,SAASyP,KAAK5P,mCAG9C,MAAM,OAAEwnF,EAAQ9gF,QAASw8E,GAAOtzE,KAChC,GAAI43E,EAAOiM,SACT,GAAIjM,EAAOgM,UACThM,EAAOgmB,0BAA0B59F,KAAMuqG,OAClC,CACL,GAAI3yB,EAAO6Z,SAAW7Z,EAAO6Z,QAAQA,UAAY8Y,EAAa9Y,QAC5D,MAAM,IAAIpgG,MAAMi6G,GACX,GAAI1zB,EAAO4a,eAAgB,CAChC,MAAM,eAAEA,GAAmB5a,EAC3B,IAAK,IAAIppF,EAAI,EAAGA,EAAIgkG,EAAelkG,OAAQE,IACzC,GAAIgkG,EAAehkG,GAAGijG,UAAY8Y,EAAa9Y,QAC7C,MAAM,IAAIpgG,MAAMi6G,EAG9B,CACA,CAGIh4B,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKuxF,YAAcgZ,EAAa9Y,SAC9DzxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfgnD,+CACAuD,YAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASv9G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,YAC/B,UAAEu9G,GAAcv9G,EAAQ,qCAE9B,MAAMk6G,UAAsCqB,EAC1CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACb,MAAOjtE,EAAOC,GAAUrZ,EAAM6zB,KAC9B7mB,KAAKupG,UAAUn9F,EAAOC,GACtB,MAAQwa,KAAMu2E,EAAW,WAAEgN,GAAep3G,EAC1CgN,KAAK+pF,SAAW/pF,KAAK6iG,YAAY7vG,GACjCgN,KAAKoqG,WAAaA,EAClBpqG,KAAKo9F,YAAcA,EACnBp9F,KAAKuxF,YAAcv+F,EAAMy+F,QACzBzxF,KAAKgiG,oBAAqB,CAC9B,CAEEwH,KAAAA,GACExpG,KAAK0pG,cACT,CAEEvX,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,oBACpD,CAEEgQ,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYqI,GACV,GAAIA,EAAa1qG,cAAgBG,KAAKirG,wBAEpC,YADAjrG,KAAK8hG,sBAAsByI,EAAa1qG,aAG1C,GAAIG,KAAKqxF,cAAgBkZ,EAAazzG,UAAYkJ,KAAKlJ,QACrD,MAAM,IAAIzF,MAAM,SAAS2O,KAAKzP,SAASyP,KAAK5P,mCAG9C,MAAM,OAAEwnF,EAAQ9gF,QAASw8E,GAAOtzE,KAChC,GAAI43E,EAAOiM,SACT,GAAIjM,EAAOgM,UACThM,EAAOgmB,0BAA0B59F,KAAMuqG,OAClC,CACL,GAAI3yB,EAAO6Z,SAAW7Z,EAAO6Z,QAAQA,UAAY8Y,EAAa9Y,QAC5D,MAAM,IAAIpgG,MAAMi6G,GACX,GAAI1zB,EAAO4a,eAAgB,CAChC,MAAM,eAAEA,GAAmB5a,EAC3B,IAAK,IAAIppF,EAAI,EAAGA,EAAIgkG,EAAelkG,OAAQE,IACzC,GAAIgkG,EAAehkG,GAAGijG,UAAY8Y,EAAa9Y,QAC7C,MAAM,IAAIpgG,MAAMi6G,EAG9B,CACA,CAGIh4B,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKuxF,YAAcgZ,EAAa9Y,SAC9DzxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfknD,gCAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,GAAG,oCAAoC,KAAK,GAAG,CAAC,SAASl6G,EAAQqzD,EAAOL,GAC1G,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAMo6G,UAAoCmB,EACxCzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW,EAChB/pF,KAAKoqG,WAAavwB,EAAMoI,cAAcjvF,GAAO,GAC7CgN,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCxqG,KAAKoqG,WAAYpqG,KAAK+pF,UAClF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,kBAC7C,CAEEtY,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKzP,2BAA2ByP,KAAKyqG,qBAC1D,aAAazqG,KAAKiyF,wBAAwBjyF,KAAKzP,SAErD,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU1+F,EAAOgN,KAAKuxF,aAC5Bje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aAC9GvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfonD,8BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASp6G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAMs6G,UAAuCiB,EAC3CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW,EAChB/pF,KAAK0qG,SAAS13G,EAClB,CAEE03G,QAAAA,CAAS13G,GACP,MAAMu4G,EAAkB1xB,EAAMoI,cAAcjvF,GAAO,GACnDgN,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCe,EAAiBvrG,KAAK+pF,UAClF/pF,KAAKoqG,WAAa,IAAIxH,WAAW,CAAC2I,EAAgB,GAAI,EAAG,IACzDvrG,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,kBAC7C,CAEEtY,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKzP,2BAA2ByP,KAAKyqG,qBAC1D,aAAazqG,KAAKiyF,wBAAwBjyF,KAAKzP,SAErD,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM8X,iBAAiB3+F,EAAOgN,KAAKuxF,aACnCje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aAC9GvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfsnD,iCAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASt6G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAMw6G,UAAuCe,EAC3CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW,EAChB/pF,KAAK0qG,SAAS13G,EAClB,CAEE03G,QAAAA,CAAS13G,GACP,MAAMu4G,EAAkB1xB,EAAMoI,cAAcjvF,GAAO,GACnDgN,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCe,EAAiBvrG,KAAK+pF,UAClF/pF,KAAKoqG,WAAa,IAAIxH,WAAW,CAAC2I,EAAgB,GAAIA,EAAgB,GAAI,IAC1EvrG,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,kBAC7C,CAEEtY,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKzP,2BAA2ByP,KAAKyqG,qBAC1D,aAAazqG,KAAKiyF,wBAAwBjyF,KAAKzP,SAErD,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM+X,iBAAiB5+F,EAAOgN,KAAKuxF,aACnCje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aAC9GvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfwnD,iCAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAASx6G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAM06G,UAAuCa,EAC3CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW,EAChB/pF,KAAK0qG,SAAS13G,EAClB,CAEE03G,QAAAA,CAAS13G,GACP,MAAMu4G,EAAkB1xB,EAAMoI,cAAcjvF,GAAO,GACnDgN,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCe,EAAiBvrG,KAAK+pF,UAClF/pF,KAAKoqG,WAAa,IAAIxH,WAAW,CAAC2I,EAAgB,GAAIA,EAAgB,GAAIA,EAAgB,KAC1FvrG,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,kBAC7C,CAEEtY,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKzP,2BAA2ByP,KAAKyqG,qBAC1D,aAAazqG,KAAKiyF,wBAAwBjyF,KAAKzP,SAErD,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAMgY,iBAAiB7+F,EAAOgN,KAAKuxF,aACnCje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aAC9GvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACf0nD,iCAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS16G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAM45G,UAAoC2B,EACxCzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW,EAChB,IAAK6N,EAAGC,EAAGx+C,GAAKrmD,EAAM6zB,KACtB7mB,KAAKoqG,WAAa,IAAIxH,WAAW,CAAChL,GAAK,EAAGC,GAAK,EAAGx+C,GAAK,IACvDr5C,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCxqG,KAAKoqG,WAAYpqG,KAAK+pF,UAClF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,kBAC7C,CAEEtY,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKzP,2BAA2ByP,KAAKyqG,qBAC1D,aAAazqG,KAAKiyF,8BAA8BjyF,KAAKzP,SAE3D,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYp9C,GACV,GAAIA,EAAMjlD,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsBh9C,EAAMjlD,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU5sC,EAAM9xD,MAAOgN,KAAKuxF,aAClCje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aAC9GvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACf4mD,8BAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS55G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAM+6G,UAAsCQ,EAC1CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW/pF,KAAK6iG,YAAY7vG,GACjCgN,KAAKoqG,WAAavwB,EAAMoI,cAAcjvF,GAAO,GAC7CgN,KAAKo9F,YAAcvjB,EAAM8wB,oCAAoC3qG,KAAKoqG,WAAYpqG,KAAK+pF,UACnF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,IAAM,EAAIp9F,KAAK+pF,UAC/E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKwrG,iBAAmBxrG,KAAK6qG,qBAAqB73G,GAClDgN,KAAK8qG,eAAiB,IAAI9qG,KAAKwrG,iBAAiBxrG,KAAKyqG,mBACrDzqG,KAAKuxF,YAAc,IAAI2G,WAAWl4F,KAAK8qG,eAAe1S,OAC1D,CAEEjG,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,wBAAwB37F,KAAKzP,cAAcyP,KAAKwrG,iBAAiBj7G,QAAQyP,KAAKyqG,qBAC9E,qBAAqBzqG,KAAKzP,wCAAwCyP,KAAKzP,eACvE,aAAayP,KAAKiyF,2BAA2BjyF,KAAKzP,SAExD,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU1+F,EAAOgN,KAAK8qG,gBAC5Bx3B,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG6kB,cAAen4F,KAAKuxF,aACtHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACf+nD,gCAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS/6G,EAAQqzD,EAAOL,GACnE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,WAErC,MAAM85G,UAAsCyB,EAC1CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAK+pF,SAAW/pF,KAAK6iG,YAAY7vG,GACjC,MAAO4kG,EAAGC,EAAGx+C,GAAKrmD,EAAM6zB,KACxB7mB,KAAKoqG,WAAa,IAAIxH,WAAW,CAAChL,GAAK,EAAGC,GAAK,EAAGx+C,GAAK,IACvDr5C,KAAKo9F,YAAcvjB,EAAM8wB,oCAAoC3qG,KAAKoqG,WAAYpqG,KAAK+pF,UACnF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,IAAM,EAAIp9F,KAAK+pF,UAC/E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKwrG,iBAAmBxrG,KAAK6qG,qBAAqB73G,EAAMA,OACxDgN,KAAK8qG,eAAiB,IAAI9qG,KAAKwrG,iBAAiBxrG,KAAKyqG,mBACrDzqG,KAAKuxF,YAAc,IAAI2G,WAAWl4F,KAAK8qG,eAAe1S,OAC1D,CAEEjG,qBAAAA,GACE,OAAOtY,EAAM8hB,cAAc,CACzB,wBAAwB37F,KAAKzP,cAAcyP,KAAKwrG,iBAAiBj7G,QAAQyP,KAAKyqG,qBAC9E,qBAAqBzqG,KAAKzP,wCAAwCyP,KAAKzP,eACvE,aAAayP,KAAKiyF,iCAAiCjyF,KAAKzP,SAE9D,CAEE0xG,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,SAASz3B,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MACzE,SAASp9F,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAE1G,CAEElI,WAAAA,CAAYp9C,GACV,GAAIA,EAAMjlD,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,MAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU5sC,EAAM9xD,MAAOgN,KAAK8qG,gBAClCx3B,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAM/3F,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG6kB,cAAen4F,KAAKuxF,aACtHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACf8mD,gCAEF,EAAE,CAAC,iBAAiB,IAAI,UAAU,KAAK,GAAG,CAAC,SAAS95G,EAAQqzD,EAAOL,GACnE,MAAM,SAAE4zC,GAAa5mG,EAAQ,iBACvB,gBAAEwyF,GAAoBxyF,EAAQ,wBAC9B,kBAAEm3G,GAAsBn3G,EAAQ,oBAChC,MAAE8rF,GAAU9rF,EAAQ,eACpB09G,EAAO19G,EAAQ,oDACf,eAAEi3G,GAAmBj3G,EAAQ,sBAC7B,aAAE29G,GAAiB39G,EAAQ,oBAC3B,eAAE2iG,GAAmB3iG,EAAQ,wBAC7B,sBAAEq7G,GAA0Br7G,EAAQ,uBAE1C,IAAI+yF,EAAc,KACdgU,EAAa,KACbD,EAAc,KACd4L,EAAiB,KACjB/f,EAAW,KAEf,MAAMnsB,EAAU,CAACk3C,GACXE,EAAW,GACXC,EAAc,CAAC,EAGrB,MAAMpL,UAAoB7L,EACxB,sBAAW7T,GACT,OAAoB,OAAhBA,IAGJ9gF,KAAK62F,qBACL/V,EAAc9gF,KAAK+gF,eAAe8T,IAHzB/T,CAKb,CAEE,yBAAO+V,GACmB,qBAAbz4F,SACT02F,EAAa12F,SAASC,cAAc,UACA,qBAApBqjF,kBAChBoT,EAAa,IAAIpT,gBAAgB,EAAG,IAEjCoT,IACLD,EAAcC,EAAWlT,WAAW,UAAYkT,EAAWlT,WAAW,sBACjEiT,GAAgBA,EAAY7f,eACjCyrB,EAAiB,CACfK,kBAAmBjM,EAAY7f,aAAa,qBAC5C+rB,yBAA0BlM,EAAY7f,aAAa,4BACnDgsB,uBAAwBnM,EAAY7f,aAAa,0BACjDisB,mBAAoBpM,EAAY7f,aAAa,uBAE/C0L,EAAW1gF,KAAKygF,eACpB,CAEE,qBAAOM,CAAejqF,GACpB,MAAqC,qBAA1B+0G,uBACF/0G,aAAmB+0G,qBAGhC,CAEE,wBAAOnW,GACL,OAAO7L,QAAQ4W,EAAeK,kBAClC,CAEE,uBAAOxL,GACL,OAAOzL,QAAQ4W,EAAeQ,mBAClC,CAEE,sBAAOrL,GACL,OAAO6K,EAAeQ,mBACpBpM,EAAYsM,aAAaV,EAAeQ,mBAAmBI,wBAC3D,CACN,CAEE,wBAAOvL,GACL,OAAOjB,EAAYsM,aAAatM,EAAYyM,iBAChD,CAEE,4BAAO8H,CAAsBh5G,EAAM84G,EAASziB,EAAWzzF,GACrD,OAAOo2G,EAAsBh5G,EAAM84G,EAASziB,EAAWzzF,EAC3D,CAEE,qBAAW8hG,GACT,OAAOA,CACX,CAEE,sBAAWD,GACT,OAAOA,CACX,CAEE,mBAAWnU,GACT,OAAOA,CACX,CAEE,yBAAWskB,GACT,OAAOA,CACX,CAEE,uBAAW0G,GACT,OAAOA,CACX,CAEE7rG,WAAAA,CAAYiY,EAAQuhE,GAClBgI,MAAMvpE,EAAQuhE,GACdr5E,KAAK0vD,QAAU,KACf1vD,KAAK6jF,SAAWxK,EAASwK,SACzB7jF,KAAK8rG,WAAajyB,EAAMkyB,mBACxB/rG,KAAKwhG,WAAa,CAAC,EACnBxhG,KAAKgsG,qBAAuB,EAC5BhsG,KAAKisG,qBAAuB,EAC5BjsG,KAAKksG,WAAa,KAClBlsG,KAAKmsG,WAAa,KAClBnsG,KAAKosG,eAAiB,KAEtBpsG,KAAKi9F,WAAa,KAClBj9F,KAAKqsG,sBAAwB,KAE7BrsG,KAAKyxF,QAAU,KACfzxF,KAAKwyF,eAAiB,KACtBxyF,KAAKshF,cAAcxpE,EAAOuhE,UAAYA,GAEtCr5E,KAAK23F,UAAY,KACjB33F,KAAKqyF,YAAc,KACnBryF,KAAKo4F,OAAS,KAEdp4F,KAAKssG,aAAe,GACpBtsG,KAAKusG,4BAA8B,CAAC,EACpCvsG,KAAKwsG,eAAiB,CAAC,EACvBxsG,KAAKysG,eAAiB,CAAC,EACvBzsG,KAAK0sG,eAAiB,CAAC,EACvB1sG,KAAK2sG,gBAAkB,CAAC,EACxB3sG,KAAK4sG,gBAAkB,CAAC,EACxB5sG,KAAK6sG,gBAAkB,CAAC,EACxB7sG,KAAK8sG,gBAAkB,CAAC,EACxB9sG,KAAK+sG,gBAAkB,CAAC,EACxB/sG,KAAKgtG,gBAAkB,CAAC,CAC5B,CAEEvrB,UAAAA,GACE,GAAwB,qBAAbrjF,SAA0B,CACnC,MAAMk6E,EAASl6E,SAASC,cAAc,UAGtC,OAFAi6E,EAAOlsE,MAAQ,EACfksE,EAAOjsE,OAAS,EACTisE,CACb,CAAW,GAA+B,qBAApBoJ,gBAChB,OAAO,IAAIA,gBAAgB,EAAG,EAEpC,CAEEC,WAAAA,GACE,MAAMtI,EAAW,CACf4zB,OAAO,EACPn0D,OAAO,EACPo0D,WAAW,GAEb,OAAOltG,KAAKs4E,OAAOsJ,WAAW,QAASvI,IAAar5E,KAAKs4E,OAAOsJ,WAAW,qBAAsBvI,EACrG,CAEEwI,WAAAA,CAAYxI,GACV,MAAM8zB,EAAe,IACf,OAAEr1F,GAAW9X,KACnB,GAAsB,kBAAX8X,EACT,IAAK,IAAItpB,EAAI,EAAGA,EAAI+lE,EAAQjmE,OAAQE,IAAK,CACvC,MAAMm2G,EAASpwC,EAAQ/lE,GACnBspB,EAAOxmB,MAAMqzG,EAAOqC,gBACtBmG,EAAap3G,KAAK4uG,EAE5B,MACW,GAAsB,kBAAX7sF,GACZuhE,EAASqrB,YACX,IAAK,IAAIl2G,EAAI,EAAGA,EAAI+lE,EAAQjmE,OAAQE,IAAK,CACvC,MAAMm2G,EAASpwC,EAAQ/lE,GACL6qF,EAASqrB,YAAY0I,MAAKC,GAAcA,IAAe1I,EAAOp0G,QAE9E48G,EAAap3G,KAAK4uG,EAE9B,CAGI,OAAOwI,CACX,CAEE5L,cAAAA,GACEvhG,KAAKwhG,WAAa,CAChBV,kBAAmB9gG,KAAKlJ,QAAQk+E,aAAa,qBAC7C+rB,yBAA0B/gG,KAAKlJ,QAAQk+E,aAAa,4BACpDgsB,uBAAwBhhG,KAAKlJ,QAAQk+E,aAAa,0BAClDisB,mBAAoBjhG,KAAKlJ,QAAQk+E,aAAa,sBAC9CksB,yBAA0BlhG,KAAKlJ,QAAQk+E,aAAa,4BAE1D,CAEEwD,gBAAAA,CAAiBvC,GACf,IAAKj2E,KAAK+qF,SAKR,YAJA/qF,KAAK03F,QAAU7d,EAAMyiB,qBAAqB,CACxC9V,oBAAqBxmF,KAAKwmF,oBAC1BC,UAAWzmF,KAAKymF,WACfzmF,KAAKk3E,SAIV,MAAM,SAAEwJ,GAAa1gF,KAAKH,YAE1B,IAAiC,IAA7BG,KAAKwmF,sBAAiC9F,EAAS+U,eACjD,MAAM,IAAIpkG,MAAM,oCACX,GAAuB,WAAnB2O,KAAKymF,YAA2B/F,EAAS6U,YAClD,MAAM,IAAIlkG,MAAM,kCAKlB,IAJY2O,KAAK+3E,WAAgC,OAAnB/3E,KAAKymF,WAAsB/F,EAAS+U,iBAChEz1F,KAAKymF,UAAY/F,EAAS6U,YAAc,SAAW,YAGjDv1F,KAAKoiF,YAAcpiF,KAAKoiF,WAAW9zF,OAAS,IAAM0R,KAAKwhG,WAAWP,mBACpE,MAAM,IAAI5vG,MAAM,gDAWlB,GARwC,OAApC2O,KAAK6qF,2BACP7qF,KAAK6qF,4BAA8BnK,EAASG,0BACnC7gF,KAAK6qF,4BAA8BnK,EAASG,4BACrD7gF,KAAK6qF,4BAA6B,GAGpC7qF,KAAKkiF,eAEAliF,KAAKk3E,QAAiC,IAAvBl3E,KAAKk3E,OAAO5oF,OAAc,CAC5C,GAAoB,IAAhB2nF,EAAK3nF,OACP,MAAM,IAAI+C,MAAM,8DAGlB,MAAMywF,EAAUjI,EAAMkI,gBAAgB9L,EAAK,GAAIj2E,KAAKgiF,gBACpD,OAAQF,GACN,IAAK,QACH9hF,KAAKk3E,OAAS2C,EAAMoI,cAAcH,GAClC,MACF,IAAK,gBACL,IAAK,+BACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACH9hF,KAAKk3E,OAASjB,EAAK,GAAGiB,OACtB,MACF,QACE,MAAM,IAAI7lF,MAAM,6CAA+CywF,GAEzE,CAEI,GAAI9hF,KAAK+3E,UAAW,CAClB,GAA2B,IAAvB/3E,KAAKk3E,OAAO5oF,OACd,MAAM,IAAI+C,MAAM,mDASlB,MANuB,cAAnB2O,KAAKymF,YACPzmF,KAAKymF,UAAY,WACjB7zD,QAAQ8pE,KAAK,yEAGf18F,KAAK03F,QAAU7d,EAAMx9C,MAAMr8B,KAAKk3E,QAEtC,CAAkC,OAAnBl3E,KAAKymF,WAAsB/F,EAAS+U,iBAC7Cz1F,KAAKymF,UAAY,UAGnBzmF,KAAK03F,QAAU7d,EAAMyiB,qBAAqB,CACxC9V,oBAAqBxmF,KAAKwmF,oBAC1BC,UAAWzmF,KAAKymF,WACfzmF,KAAKk3E,QAERl3E,KAAK+4F,kBACT,CAEEgE,gBAAAA,GACE,MAAM,QAAErF,EAAO,OAAEpf,GAAWt4E,KAC5B,GAAwB,OAApBA,KAAKi9F,WAAqB,CAC5B,IAAIqQ,EAAc3B,EAASl6G,QAAQ6mF,IACd,IAAjBg1B,IACFA,EAAc3B,EAASr9G,OACvBq9G,EAAS51G,KAAKuiF,GACdszB,EAAY0B,GAAe,CAAC5V,EAAQ,GAAIA,EAAQ,KAElD13F,KAAKi9F,WAAa2O,EAAY0B,EACpC,CACQttG,KAAKi9F,WAAW,GAAKvF,EAAQ,KAC/B13F,KAAKi9F,WAAW,GAAKvF,EAAQ,IAE3B13F,KAAKi9F,WAAW,GAAKvF,EAAQ,KAC/B13F,KAAKi9F,WAAW,GAAKvF,EAAQ,GAEnC,CAEE5gB,cAAAA,CAAeb,GACbj2E,KAAKmmF,gBAAkB,GACvBnmF,KAAKgsG,qBAAuB,EAC5B,MAAMuB,EAA4C,OAAvBvtG,KAAK+/E,cAOhC,GANIwtB,IACFvtG,KAAK+/E,cAAgB,IAEvB//E,KAAKi+E,cAAgB,GACrBj+E,KAAKqmF,kBAAoB,GAErBpQ,EAAK3nF,OAAS0R,KAAKy6E,cAAcnsF,OACnC,MAAM,IAAI+C,MAAM,mCACX,GAAI4kF,EAAK3nF,OAAS0R,KAAKy6E,cAAcnsF,OAC1C,MAAM,IAAI+C,MAAM,iCAGlB,MAAQyF,QAASw8E,GAAOtzE,KACxB,IAAIwtG,EAAiB,EAErB,MAAM5D,EAAmBA,IAChB5pG,KAAKk/F,gBAER2K,EAAiBA,IACd7pG,KAAKisG,qBAAuBuB,IAE/B1L,EAAyBjiG,IAC7BG,KAAK28F,cAAc,CACjBvsG,KAAM,mBACNwsG,OAAQ/8F,GACR,EAEEgiG,EAAyBA,IACtBvuB,EAAGm6B,SAAWztG,KAAKisG,qBAAuBjsG,KAAKgsG,uBAGxD,IAAK,IAAIv2G,EAAQ,EAAGA,EAAQwgF,EAAK3nF,OAAQmH,IAAS,CAChD,MAAMzC,EAAQijF,EAAKxgF,GACblF,EAAOyP,KAAKy6E,cAAchlF,GAChC,IAAIrF,EACAm9G,GACFn9G,EAAOypF,EAAMkI,gBAAgB/uF,EAAOgN,KAAKgiF,gBACzChiF,KAAK+/E,cAAchqF,KAAK3F,IAExBA,EAAO4P,KAAK+/E,cAActqF,GAE5B,MAAMmsG,EAAc5hG,KAAKH,YAAYupG,sBAAsBh5G,EAAM4P,KAAKk+E,iBAAmB,UAAY,SAAUl+E,KAAKymF,UAAWxQ,EAAKxgF,IACpI,GAAoB,OAAhBmsG,EACF,OAAO5hG,KAAKo5F,gBAAgBnjB,GAE9B,MAAMqb,EAAiB,IAAIsQ,EAAY5uG,EAAO,CAC5CzC,OACAH,OACAghG,OAAQpxF,KAAKoxF,OACbzT,OAAQ,OACR7mF,QAASw8E,EACT+d,aAAcrxF,KAAKqxF,aACnBzZ,OAAQ53E,KACRgiF,eAAgBhiF,KAAKgiF,eACrB4nB,mBACAC,iBACA/H,wBACAD,2BAEF7hG,KAAKmmF,gBAAgBpwF,KAAKu7F,GAC1BA,EAAekY,QACfxpG,KAAKi+E,cAAcloF,KAAKu7F,EAAe8L,aACvCp9F,KAAKqmF,kBAAkB5wF,GAAS67F,EAAevH,QACrD,CACA,CAEEmV,aAAAA,GACE,MAAMzN,EAAUzxF,KAAKlJ,QAAQooG,gBAE7B,OADAl/F,KAAKssG,aAAav2G,KAAK07F,GAChBA,CACX,CAEE9O,cAAAA,CAAe1M,GACb,MAAQn/E,QAASw8E,GAAOtzE,KACxBA,KAAKomF,gBAAkB,GACvBpmF,KAAKsiG,2BAA6B,GAClC,IAAIQ,EAA4C,OAAvB9iG,KAAKg+E,cAC1B8kB,IACF9iG,KAAKg+E,cAAgB,CAAC,GAExBh+E,KAAKsmF,kBAAoB,CAAC,EAC1B,IAAIknB,EAAiB,EACrB,IAAK,MAAMj9G,KAAQyP,KAAKm4E,UAAW,CACjC,MAAMnlF,EAAQgN,KAAKm4E,UAAU5nF,GAC7B,IAAIH,EACA0yG,GACF1yG,EAAOypF,EAAMkI,gBAAgB/uF,EAAOgN,KAAKgiF,gBACzChiF,KAAKg+E,cAAcztF,GAAQH,GAE3BA,EAAO4P,KAAKg+E,cAAcztF,GAE5B,MAAMqxG,EAAc5hG,KAAKH,YAAYupG,sBAAsBh5G,EAAM,SAAU4P,KAAKymF,UAAWzzF,GAC3F,GAAoB,OAAhB4uG,EACF,OAAO5hG,KAAKo5F,gBAAgBnjB,GAE9B,MAAMod,EAAc,IAAIuO,EAAY5uG,EAAO,CACzCzC,OACAH,OACAghG,OAAQpxF,KAAKoxF,OACbzT,OAAQ,YACR7mF,QAASkJ,KAAKlJ,QACdu6F,aAAcrxF,KAAKqxF,aACnBzZ,OAAQ53E,KACRgiF,eAAgBhiF,KAAKgiF,eACrB4nB,iBAAkBA,IACT5pG,KAAKk/F,gBAEd2K,eAAgBA,IACP2D,IAET3L,uBAAwBA,IACfvuB,EAAGm6B,SAAWztG,KAAKisG,yBAG9BjsG,KAAKsmF,kBAAkB/1F,GAAQ8iG,EAAYtJ,SAC3C/pF,KAAKomF,gBAAgBrwF,KAAKs9F,GAC1BA,EAAYmW,QACRnW,EAAY2O,oBACdhiG,KAAKsiG,2BAA2BvsG,KAAKs9F,EAE7C,CACA,CAEE5Q,KAAAA,GACE,GAAIziF,KAAK0iF,MAAO,OAIhB,GAHA1iF,KAAKuhG,iBACLvhG,KAAKw4E,iBAAiBnqF,WACtB2R,KAAK2iF,eAAet0F,WAChB2R,KAAKyhG,kBAAmB,OAE5B,GADAzhG,KAAK82E,eAAezoF,WAChB2R,KAAKyhG,kBAAmB,OAC5BzhG,KAAK+8F,mBACL/8F,KAAKmiF,kBACL,MAAMurB,EAAgB1tG,KAAKg5F,mBAAmB3qG,WAC9C,GAAIq/G,EACF,OAAOA,EAET,MAAM,QAAEhW,EAAS5gG,QAASw8E,EAAE,OAAEgF,GAAWt4E,KACzCszE,EAAGq6B,OAAOr6B,EAAGs6B,cACT5tG,KAAK6jF,UAAY7jF,KAAKymF,UACxBnT,EAAG0pB,SAAS,EAAG,EAAGh9F,KAAKi9F,WAAW,GAAIj9F,KAAKi9F,WAAW,IACtD3kB,EAAOlsE,MAAQpM,KAAKi9F,WAAW,GAC/B3kB,EAAOjsE,OAASrM,KAAKi9F,WAAW,GAMlC,MAAMtF,EAAY33F,KAAK23F,UAAY5iG,MAAMshF,KAAKr2E,KAAKk3E,QACnD,KAAOygB,EAAUrpG,OAAS,GACxBqpG,EAAU5hG,KAAK,GAGjB,MAAM4iG,EAAuB34F,KAAK6tG,gBAAgBx/G,WAC5C89G,EAAa74B,EAAGw6B,aAAax6B,EAAGy6B,eACtCz6B,EAAG06B,aAAa7B,EAAYxT,GAC5BrlB,EAAG26B,cAAc9B,GACjBnsG,KAAKmsG,WAAaA,EAElB,MAAMzT,EAAyB14F,KAAKkuG,kBAAkB7/G,WAChD69G,EAAa54B,EAAGw6B,aAAax6B,EAAG2iB,iBAUtC,GATA3iB,EAAG06B,aAAa9B,EAAYxT,GAC5BplB,EAAG26B,cAAc/B,GACjBlsG,KAAKksG,WAAaA,EAEdlsG,KAAK8iF,QACPlwD,QAAQj6B,IAAI,uBACZi6B,QAAQj6B,IAAI+/F,KAGTplB,EAAG66B,mBAAmBhC,EAAY74B,EAAG86B,gBACxC,MAAM,IAAI/8G,MAAM,kCAAoCiiF,EAAG+6B,iBAAiBlC,IAE1E,IAAK74B,EAAG66B,mBAAmBjC,EAAY54B,EAAG86B,gBACxC,MAAM,IAAI/8G,MAAM,oCAAsCiiF,EAAG+6B,iBAAiBnC,IAG5E,MAAMx8C,EAAU1vD,KAAK0vD,QAAU4jB,EAAGg7B,gBAClCh7B,EAAGi7B,aAAa7+C,EAASy8C,GACzB74B,EAAGi7B,aAAa7+C,EAASw8C,GACzB54B,EAAGk7B,YAAY9+C,GACf1vD,KAAKqyF,YAAc/e,EAAGm7B,oBACtBzuG,KAAKqyF,YAAYjmF,MAAQsrF,EAAQ,GACjC13F,KAAKqyF,YAAYhmF,OAASqrF,EAAQ,GAClC13F,KAAK0uG,qBAAuB,CAAC,EAE7B,MAAMC,EAAW,IAAI13B,aAAa,EAAE,GAAI,EACtC,GAAI,GAAI,EAAG,EACX,EAAG,IAEC23B,EAAY,IAAI33B,aAAa,CACjC,EAAG,EACH,EAAG,EACH,EAAG,EACH,EAAG,IAGC43B,EAAiBF,EAASG,WAEhC,IAAI1W,EAASp4F,KAAKo4F,OACbA,EAKH9kB,EAAGy7B,WAAWz7B,EAAG07B,aAAc5W,IAJ/BA,EAASp4F,KAAKo4F,OAAS9kB,EAAG27B,eAC1B37B,EAAGy7B,WAAWz7B,EAAG07B,aAAc5W,GAC/B9kB,EAAG47B,WAAW57B,EAAG07B,aAAcL,EAASG,WAAaF,EAAUE,WAAYx7B,EAAG67B,cAKhF77B,EAAG87B,cAAc97B,EAAG07B,aAAc,EAAGL,GACrCr7B,EAAG87B,cAAc97B,EAAG07B,aAAcH,EAAgBD,GAElD,MAAMS,EAAU/7B,EAAGg8B,kBAAkBtvG,KAAK0vD,QAAS,QACnD4jB,EAAGi8B,wBAAwBF,GAC3B/7B,EAAGk8B,oBAAoBH,EAAS,EAAG/7B,EAAG0kB,OAAO,EAAO,EAAG,GACvD,MAAMyX,EAAen8B,EAAGg8B,kBAAkBtvG,KAAK0vD,QAAS,aACxD4jB,EAAGi8B,wBAAwBE,GAC3Bn8B,EAAGk8B,oBAAoBC,EAAc,EAAGn8B,EAAG0kB,OAAO,EAAO,EAAG6W,GAC5Dv7B,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,aAExC,IAAI7jG,EAAI,EACR8kF,EAAGo8B,WAAW1vG,KAAK0vD,SACnB,IAAK,IAAI9zD,KAAKoE,KAAKm4E,UACjBn4E,KAAKomF,gBAAgB53F,KAAK0zG,YAAYliG,KAAKm4E,UAAUv8E,IAGvDoE,KAAKk9F,sBAEiB,OAApBl9F,KAAKoiF,YACLpiF,KAAKoiF,WAAW9zF,OAAS,IAEzB0R,KAAK84F,uBAAyB,CAAC,EAC/B94F,KAAKm9F,2BAEPn9F,KAAKgjF,eAAe30F,WACpB2R,KAAK0iF,OAAQ,CACjB,CAEEP,eAAAA,GACE,MAAME,EAAkB9B,EAAgB+B,WAAWtiF,KAAMklG,EAAmB,CAC1Era,2BAA4B7qF,KAAK6qF,6BAEnC7qF,KAAKy4F,iBAAmBpW,EAAgBwG,mBAAmB,UAC3D7oF,KAAK2vG,iBAAiBttB,EAC1B,CAEEstB,gBAAAA,CAAiBttB,GAKf,GAJKriF,KAAK+3E,WAAc/3E,KAAK66E,aAC3B76E,KAAK66E,WAAawH,EAAgBG,uBAGhCxiF,KAAKoiF,YAAcpiF,KAAKoiF,WAAW9zF,OAAS,EAC9C,IAAK,IAAIE,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAAK,CAC/C,MAAM01F,EAAYlkF,KAAKoiF,WAAW5zF,GAC7B01F,EAAUrJ,aACbqJ,EAAUrJ,WAAawH,EAAgB8H,uBAAuB37F,GAExE,CAEA,CAEEu0F,GAAAA,GACE,MAAM,gBAAEoD,EAAe,QAAEuR,EAAO,2BAAE4K,EAA4BxrG,QAASw8E,GAAOtzE,KAE9EszE,EAAGo8B,WAAW1vG,KAAK0vD,SACnB4jB,EAAGs8B,QAAQ,EAAG,EAAGlY,EAAQ,GAAIA,EAAQ,IACjC13F,KAAK0mF,gBACP1mF,KAAKqqG,cAAc,aAAc,IAAIzH,WAAW5iG,KAAK23F,YACrD33F,KAAKsqG,cAAc,WAAY5S,IAGjC13F,KAAK6vG,aAAa,QAASnY,EAAQ,GAAK13F,KAAKi9F,WAAW,GAAIvF,EAAQ,GAAK13F,KAAKi9F,WAAW,IAEzF,IAAK,IAAIzuG,EAAI,EAAGA,EAAI8zG,EAA2Bh0G,OAAQE,IAAK,CAC1D,MAAMuvF,EAAWukB,EAA2B9zG,GAE5C,GADAuvF,EAASmkB,YAAYliG,KAAKm4E,UAAU4F,EAASxtF,OACzCyP,KAAK44F,iBAAkB,MACjC,CACI,IAAK,IAAIpqG,EAAI,EAAGA,EAAI23F,EAAgB73F,OAAQE,IAE1C,GADA23F,EAAgB33F,GAAG0zG,YAAY7zG,UAAUG,IACrCwR,KAAK44F,iBAAkB,OAG7B,GAAI54F,KAAKu0D,QACP,IAAK,IAAI/lE,EAAI,EAAGA,EAAIwR,KAAKu0D,QAAQjmE,OAAQE,IAAK,CAC5C,MAAMm2G,EAAS3kG,KAAKu0D,QAAQ/lE,GACxBm2G,EAAOmL,aACTnL,EAAOmL,YAAY9vG,KAE7B,CAGI,GAAIA,KAAK+3E,UACP,OAAI/3E,KAAK6jF,UACPvQ,EAAGy8B,iBAAiBz8B,EAAG08B,aAAc,MACrC18B,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,aACpCryF,KAAK4jF,WACP5jF,KAAKiwG,wBAEP38B,EAAG48B,WAAW58B,EAAG68B,eAAgB,EAAG,GAC7BnwG,KAAK4jF,UAAY5jF,KAAKyxF,QAAQp1D,QAAUr8B,KAAKyxF,UAEtDne,EAAGy8B,iBAAiBz8B,EAAG08B,aAAc,MACrC18B,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa,WACnCxpB,EAAG48B,WAAW58B,EAAG68B,eAAgB,EAAG,IAItC78B,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,aACpCryF,KAAK4jF,WACP5jF,KAAKiwG,wBAGiB,OAApBjwG,KAAKoiF,aACHpiF,KAAK4jF,WACP5jF,KAAKowG,4BAEPpwG,KAAK21E,eAGPrC,EAAG48B,WAAW58B,EAAG68B,eAAgB,EAAG,EACxC,CAEEx6B,WAAAA,GACE31E,KAAKwhG,WAAWP,mBAAmB7qB,iBAAiBp2E,KAAKosG,eAC7D,CAEEiE,iBAAAA,GACE,OAAOrwG,KAAKlJ,QAAQihG,IACxB,CACEuY,gBAAAA,GACE,MAAQx5G,QAASw8E,GAAOtzE,KACxB,GAAQA,KAAKqwG,sBACN/8B,EAAGykB,KACN,OAAOzkB,EAAGykB,KAEV,MAAM,IAAI1mG,MAAM,0BAExB,CAEE4+G,qBAAAA,GACE,GAAIjwG,KAAKyxF,QAAQqN,gBAAkB9+F,KAAK64F,iBAAkB,CACxD,MAAMvlB,EAAKtzE,KAAKlJ,QAChBw8E,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAY3+F,KAAKyxF,QAAQA,QAAS,GACnGzxF,KAAK64F,kBAAmB,CAC9B,CACA,CAEEqE,mBAAAA,GACE,MAAM5pB,EAAKtzE,KAAKlJ,QACV4gG,EAAU13F,KAAK03F,QACrB,GAAI13F,KAAKyxF,QAEP,YADAne,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAY3+F,KAAKyxF,QAAQA,QAAS,GAGrG,MAAMA,EAAUzxF,KAAKk/F,gBACrB5rB,EAAGysB,cAAczsB,EAAGm6B,SAAWztG,KAAKisG,qBAAuBjsG,KAAKgsG,sBAChE14B,EAAGksB,YAAYlsB,EAAGqrB,WAAYlN,GAC9Bne,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG4sB,eAAgB5sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG8sB,eAAgB9sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG+sB,mBAAoB/sB,EAAGgtB,SAC1DhtB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAGitB,mBAAoBjtB,EAAGgtB,SAC1D,MAAMiQ,EAASvwG,KAAKqwG,oBACG,WAAnBrwG,KAAKymF,UACPnT,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAG4R,EAAQ7Y,EAAQ,GAAIA,EAAQ,GAAI,EAAGpkB,EAAGykB,KAAMzkB,EAAG0kB,MAAO,MAEtF1kB,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAG4R,EAAQ7Y,EAAQ,GAAIA,EAAQ,GAAI,EAAG6Y,EAAQj9B,EAAG6kB,cAAe,MAE/F7kB,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAYlN,EAAS,GACtFzxF,KAAKyxF,QAAU,IAAIzxF,KAAKu4F,mBAAmB,CACzC9G,UACA5qE,KAAM6wE,EACN0S,WAAYpqG,KAAK23F,UACjBzgB,OAAQl3E,KAAKk3E,OACbpgF,QAASkJ,KAAKlJ,QACdsoG,eAAgBp/F,KAAKqwG,oBACrBhR,cAAer/F,KAAKswG,mBACpB14B,OAAQ53E,MAEd,CAEEowG,yBAAAA,GACE,MAAM98B,EAAKtzE,KAAKlJ,QAChB,IAAK,IAAItI,EAAI,EAAGA,EAAIwR,KAAKwyF,eAAelkG,OAAQE,IAAK,CACnD,MAAMuvG,EAAgB/9F,KAAKwyF,eAAehkG,IACtCuvG,EAAce,gBAAkB9+F,KAAK84F,uBAAuBtqG,MAC9D8kF,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAoBlwG,EAAI,EAAG8kF,EAAGqrB,WAAYZ,EAActM,QAAS,GAC5GzxF,KAAK84F,uBAAuBtqG,IAAK,EAEzC,CACA,CAEE2uG,uBAAAA,GACE,MAAM7pB,EAAKtzE,KAAKlJ,QAChB,GAAIkJ,KAAKwyF,eAAgB,CACvB,IAAK,IAAIhkG,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAC1C8kF,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAoBlwG,EAAI,EAAG8kF,EAAGqrB,WAAY3+F,KAAKwyF,eAAehkG,GAAGijG,QAAS,GAEvH,MACN,CACI,MAAMiG,EAAU13F,KAAK03F,QACrB13F,KAAKosG,eAAiB,CAAC94B,EAAGorB,mBAC1B1+F,KAAKwyF,eAAiB,GACtB,IAAK,IAAIhkG,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAAK,CAC/C,MAAMijG,EAAUzxF,KAAKk/F,gBACrBl/F,KAAKosG,eAAer2G,KAAKu9E,EAAGorB,kBAAoBlwG,EAAI,GACpD8kF,EAAGysB,cAAczsB,EAAGm6B,SAAWztG,KAAKisG,qBAAuBjsG,KAAKgsG,qBAAuBx9G,GACvF8kF,EAAGksB,YAAYlsB,EAAGqrB,WAAYlN,GAC9Bne,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG4sB,eAAgB5sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG8sB,eAAgB9sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG+sB,mBAAoB/sB,EAAGgtB,SAC1DhtB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAGitB,mBAAoBjtB,EAAGgtB,SACnC,WAAnBtgG,KAAKymF,UACPnT,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAML,EAAQ,GAAIA,EAAQ,GAAI,EAAGpkB,EAAGykB,KAAMzkB,EAAG0kB,MAAO,MAEvF1kB,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAML,EAAQ,GAAIA,EAAQ,GAAI,EAAGpkB,EAAGykB,KAAMzkB,EAAG6kB,cAAe,MAEjG7kB,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAoBlwG,EAAI,EAAG8kF,EAAGqrB,WAAYlN,EAAS,GAE9FzxF,KAAKwyF,eAAez8F,KAAK,IAAIiK,KAAKu4F,mBAAmB,CACnD9G,UACA5qE,KAAM6wE,EACN0S,WAAYpqG,KAAK23F,UACjBzgB,OAAQl3E,KAAKk3E,OACbpgF,QAASkJ,KAAKlJ,QACdsoG,eAAgBp/F,KAAKqwG,oBACrBhR,cAAer/F,KAAKswG,mBACpB14B,OAAQ53E,OAEhB,CACA,CAEE+qG,YAAAA,CAAax6G,EAAMyC,GACjB,GAAIgN,KAAKwsG,eAAer1G,eAAe5G,IAEjCyC,IADUgN,KAAKwsG,eAAej8G,GAEhC,OAGJyP,KAAKwsG,eAAej8G,GAAQyC,EAC5B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQ25G,UAAUlgD,EAAKv9D,EAChC,CAEEm3G,YAAAA,CAAa55G,EAAMyC,GACjB,GAAIgN,KAAKysG,eAAet1G,eAAe5G,IAEjCyC,IADUgN,KAAKysG,eAAel8G,GAEhC,OAGJyP,KAAKysG,eAAel8G,GAAQyC,EAC5B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQ45G,UAAUngD,EAAKv9D,EAChC,CAEE68G,YAAAA,CAAat/G,EAAMogH,EAAQC,GACzB,GAAI5wG,KAAK0sG,eAAev1G,eAAe5G,GAAO,CAC5C,MAAM2xB,EAAQliB,KAAK0sG,eAAen8G,GAClC,GACEogH,IAAWzuF,EAAM,IACjB0uF,IAAW1uF,EAAM,GAEjB,MAER,CACIliB,KAAK0sG,eAAen8G,GAAQ,CAACogH,EAAQC,GACrC,MAAMrgD,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQ+5G,UAAUtgD,EAAKogD,EAAQC,EACxC,CAEE5G,aAAAA,CAAcz5G,EAAMyC,GAClB,GAAIgN,KAAK2sG,gBAAgBx1G,eAAe5G,GAAO,CAC7C,MAAM2xB,EAAQliB,KAAK2sG,gBAAgBp8G,GACnC,GACEyC,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,GAEnB,MAER,CACIliB,KAAK2sG,gBAAgBp8G,GAAQyC,EAC7B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQg6G,WAAWvgD,EAAKv9D,EACjC,CAEEs3G,aAAAA,CAAc/5G,EAAMyC,GAClB,GAAIgN,KAAK4sG,gBAAgBz1G,eAAe5G,GAAO,CAC7C,MAAM2xB,EAAQliB,KAAK4sG,gBAAgBr8G,GACnC,GACEyC,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,GAEnB,MAER,CACIliB,KAAK4sG,gBAAgBr8G,GAAQyC,EAC7B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQi6G,WAAWxgD,EAAKv9D,EACjC,CAEEi3G,aAAAA,CAAc15G,EAAMyC,GAClB,GAAIgN,KAAK6sG,gBAAgB11G,eAAe5G,GAAO,CAC7C,MAAM2xB,EAAQliB,KAAK6sG,gBAAgBt8G,GACnC,GACEyC,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,GAEnB,MAER,CACIliB,KAAK6sG,gBAAgBt8G,GAAQyC,EAC7B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQk6G,WAAWzgD,EAAKv9D,EACjC,CAEEq3G,aAAAA,CAAc95G,EAAMyC,GAClB,GAAIgN,KAAK8sG,gBAAgB31G,eAAe5G,GAAO,CAC7C,MAAM2xB,EAAQliB,KAAK8sG,gBAAgBv8G,GACnC,GACEyC,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,GAEnB,MAER,CACIliB,KAAK8sG,gBAAgBv8G,GAAQyC,EAC7B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQm6G,WAAW1gD,EAAKv9D,EACjC,CAEEk3G,aAAAA,CAAc35G,EAAMyC,GAClB,GAAIgN,KAAK+sG,gBAAgB51G,eAAe5G,GAAO,CAC7C,MAAM2xB,EAAQliB,KAAK+sG,gBAAgBx8G,GACnC,GACEyC,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,GAEnB,MAER,CACIliB,KAAK+sG,gBAAgBx8G,GAAQyC,EAC7B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQo6G,WAAW3gD,EAAKv9D,EACjC,CAEEm+G,aAAAA,CAAc5gH,EAAMyC,GAClB,GAAIgN,KAAKgtG,gBAAgB71G,eAAe5G,GAAO,CAC7C,MAAM2xB,EAAQliB,KAAKgtG,gBAAgBz8G,GACnC,GACEyC,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,IACnBlvB,EAAM,KAAOkvB,EAAM,GAEnB,MAER,CACIliB,KAAKgtG,gBAAgBz8G,GAAQyC,EAC7B,MAAMu9D,EAAMvwD,KAAKwwG,mBAAmBjgH,GACpCyP,KAAKlJ,QAAQs6G,WAAW7gD,EAAKv9D,EACjC,CAEEw9G,kBAAAA,CAAmBjgH,GACjB,OAAIyP,KAAKusG,4BAA4Bp1G,eAAe5G,GAC3CyP,KAAKusG,4BAA4Bh8G,GAEnCyP,KAAKusG,4BAA4Bh8G,GAAQyP,KAAKlJ,QAAQ05G,mBAAmBxwG,KAAK0vD,QAASn/D,EAClG,CAEE8gH,yBAAAA,CAA0Bp7B,GACxB,MAAO,CACLq7B,OAAQtxG,KAAKuxG,mBACbC,SAAUxxG,KAAKmjF,oBACfsuB,QAASzxG,KAAK0xG,oBACdC,UAAW3xG,KAAK4xG,sBAChBC,oBAAqB7xG,KAAK8xG,+BAC1BC,oBAAqB/xG,KAAKgyG,+BAC1BC,0BAA2BjyG,KAAKkyG,mCAChCC,gBAAiBnyG,KAAKoyG,qBACtBC,eAAgBryG,KAAKsyG,0BACrBC,eAAgBvyG,KAAKwyG,wBAAwBv8B,GAC7Cw8B,OAAQzyG,KAAK6iF,kBACb6vB,YAAa1yG,KAAK07F,sBAClBiX,yBAA0B3yG,KAAK47F,4BAC/BgX,uBAAwB5yG,KAAK67F,0BAC7BgX,8BAA+B7yG,KAAK87F,gCACpCgX,oCAAqC9yG,KAAK+7F,qCAEhD,CAEEgX,yBAAAA,CAA0B98B,GACxB,MAAO,CACL08B,yBAA0B3yG,KAAK47F,4BAC/BgX,uBAAwB5yG,KAAK67F,0BAC7BgX,8BAA+B7yG,KAAK87F,gCACpCgX,oCAAqC9yG,KAAK+7F,qCAEhD,CAEEwV,gBAAAA,GACE,OACsB,OAApBvxG,KAAKoiF,WACL,6CACA,EAEN,CAEEe,iBAAAA,GACE,OACEnjF,KAAK2jF,kBACL,IAAI7R,SAAS9xE,KAAK2jF,wBAClB,UAEN,CAEE+tB,iBAAAA,GACE,OAAK1xG,KAAKu0D,QACHv0D,KAAKu0D,QAAQztC,KAAI69E,GAAUA,EAAO7sF,QAAU9X,KAAK8X,OAAOxmB,MAAMqzG,EAAOqC,eAAiBrC,EAAO7sF,OAAS,KAAIyE,KAAK,MAD5F,IAE9B,CAEEq1F,mBAAAA,GACE,MAAM9jF,EAAS,IACT,UAAE6pE,EAAS,QAAED,GAAY13F,KAY/B,OAXIA,KAAK0mF,cACP54D,EAAO/3B,KACL,2BACA,0BAGF+3B,EAAO/3B,KACL,4BAA4B4hG,EAAU,OAAOA,EAAU,OAAOA,EAAU,MACxE,0BAA0BD,EAAQ,OAAOA,EAAQ,OAG9C7d,EAAM8hB,cAAc7tE,EAC/B,CAEEklF,qBAAAA,GACE,MAAM5wB,EAAapiF,KAAKoiF,WACxB,OAAmB,OAAfA,GAAuBA,EAAW9zF,OAAS,EACtC,4BAEA,uBAEb,CAEEwjH,4BAAAA,GACE,MACsB,OAApB9xG,KAAK8rG,WACL,GACA,8BAEN,CAEEkG,4BAAAA,GACE,MACsB,OAApBhyG,KAAK8rG,WACL,GACA,8BAEN,CAEEoG,gCAAAA,GACE,OAAOlyG,KAAK6qF,2BACV,sjBAoBA,EACN,CAEE2nB,uBAAAA,CAAwBv8B,GACtB,MAAMiJ,EAAU,IACV,cAAEzE,GAAkBz6E,KAC1B,IAAK,IAAIxR,EAAI,EAAGA,EAAIisF,EAAcnsF,OAAQE,IACxC0wF,EAAQnpF,KAAKiK,KAAKmmF,gBAAgB33F,GAAGyzG,UAAUhsB,EAAKznF,KAEtD,OAAO0wF,EAAQ3iE,KAAK,GACxB,CAEE61F,kBAAAA,GACE,OAAOpyG,KAAKojF,gBAAkB,EAClC,CAEEkvB,uBAAAA,GACE,MAAMxkF,EAAS,IACT,UAAEqqD,GAAcn4E,KACtB,GAAIm4E,EAAW,CACb,IAAI3pF,EAAI,EACR,IAAK,MAAM+B,KAAQ4nF,EACZn4E,KAAKm4E,UAAUhhF,eAAe5G,IACnCu9B,EAAO/3B,KAAKiK,KAAKomF,gBAAgB53F,KAAKyzG,UAAUjiG,KAAKm4E,UAAU5nF,IAEvE,CACI,OAAOu9B,EAAOvR,KAAK,GACvB,CAEEujF,sBAAAA,CAAuB1zF,EAAOC,GAI5B,GAHKrM,KAAK0uG,qBAAqBtiG,KAC7BpM,KAAK0uG,qBAAqBtiG,GAAS,CAAC,IAEjCpM,KAAK0uG,qBAAqBtiG,GAAOC,GAAS,CAC7C,MAAMgmF,EAAcryF,KAAKlJ,QAAQ23G,oBACjCpc,EAAYjmF,MAAQA,EACpBimF,EAAYhmF,OAASA,EACrBrM,KAAK0uG,qBAAqBtiG,GAAOC,GAAUgmF,CACjD,CACI,OAAOryF,KAAK0uG,qBAAqBtiG,GAAOC,EAC5C,CAEE4mG,0BAAAA,GACE,OAAQjzG,KAAK66E,YACX,IAAK,WACH,MAAO,oBACT,IAAK,WACH,MAAO,oBACT,IAAK,WACH,MAAO,oBACT,IAAK,iBACL,IAAK,QACL,IAAK,SACL,IAAK,UACH,MAAO,qBACT,QACE,GAAI76E,KAAK+3E,UACP,MAAO,qBAEP,MAAM,IAAI1mF,MAAM,6BAA8B2O,KAAK66E,eAG7D,CACEgI,eAAAA,GACE,MAAM/0D,EAAS,CAAC9tB,KAAKizG,+BACf,WAAE7wB,GAAepiF,KACvB,GAAmB,OAAfoiF,EACF,OAAQpiF,KAAK66E,YACX,IAAK,SACL,IAAK,QACL,IAAK,UACH,IAAK,IAAIrsF,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IAAK,CAC1C,MAAM01F,EAAY9B,EAAW5zF,GAC7Bs/B,EAAO/3B,KACoB,YAAzBmuF,EAAUrJ,WACV,uBAAwBqJ,EAAU3zF,WAClC,yBAA0B2zF,EAAU3zF,aAElD,CACU,MACF,IAAK,WACH,IAAK,IAAI/B,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IACrCs/B,EAAO/3B,KACL,wBAAyBqsF,EAAW5zF,GAAG+B,QAG3C,MACF,IAAK,WACH,IAAK,IAAI/B,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IACrCs/B,EAAO/3B,KACL,wBAAyBqsF,EAAW5zF,GAAG+B,QAG3C,MACF,IAAK,WACH,IAAK,IAAI/B,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IACrCs/B,EAAO/3B,KACL,wBAAyBqsF,EAAW5zF,GAAG+B,QAOjD,OAAOspF,EAAM8hB,cAAc7tE,GAAU9tB,KAAKy4F,gBAC9C,CAEE8C,sBAAAA,GACE,OAAO1hB,EAAM8hB,cAAc,CACzB,4CACA,aACA,gCAEN,CAEEF,yBAAAA,GACE,OAAQz7F,KAAK66E,YACX,IAAK,iBACL,IAAK,SACL,IAAK,UACL,IAAK,QACH,OAAO76E,KAAKkzG,kCACVlzG,KAAKmzG,qCACT,QACE,MAAM,IAAI9hH,MAAM,4CAA4C2O,KAAK66E,yBAEzE,CAEEq4B,+BAAAA,GACE,OAAOr5B,EAAM8hB,cAAc,CACzB,4CACA,aACA,sBAAsB37F,KAAKoiG,iBAAmB,iBAAmB,4BAEvE,CAEE+Q,kCAAAA,GACE,MAAMrlF,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,MAAO,GAC7B,IAAK,IAAI5zF,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAEb,YADXwR,KAAKoiF,WAAW5zF,GACpBqsF,WACZ/sD,EAAO/3B,KACL,iBAAiBvH,EAAI,QAAQwR,KAAKoiG,iBAAmB,iBAAmB,oCAAoCpiG,KAAKoiF,WAAW5zF,GAAG+B,UAGjIu9B,EAAO/3B,KACL,iBAAiBvH,EAAI,QAAQwR,KAAKoiG,iBAAmB,iBAAmB,8BAA8BpiG,KAAKoiF,WAAW5zF,GAAG+B,SAI/H,OAAOspF,EAAM8hB,cAAc7tE,EAC/B,CAEE0tE,kCAAAA,GACE,MAAM1tE,EAAS,CACb,gBAGF,OAAQ9tB,KAAK66E,YACX,IAAK,SACL,IAAK,UACL,IAAK,QACH,MAAMu4B,EAAW,CAAC,IAAK,IAAK,IAAK,KACjC,IAAK,IAAI5kH,EAAI,EAAGA,EAAI4kH,EAAS9kH,OAAQE,IAAK,CACxC,MAAM6kH,EAAUD,EAAS5kH,GACzBwR,KAAKszG,yCAAyCxlF,EAAQulF,GACtDrzG,KAAKuzG,4CAA4CzlF,EAAQulF,GACrD7kH,EAAI,EAAI4kH,EAAS9kH,QACnBw/B,EAAO/3B,KAAK,eAExB,CACQ,MACF,QACE,MAAM,IAAI1E,MAAM,8CAA8C2O,KAAK66E,wBAGvE,OAAOhB,EAAM8hB,cAAc7tE,EAC/B,CAEEwlF,wCAAAA,CAAyCxlF,EAAQulF,GAC/CvlF,EAAO/3B,KACL,4CACA,aACA,oBAAoBs9G,mBAE1B,CAEEE,2CAAAA,CAA4CzlF,EAAQulF,GAClD,IAAKrzG,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAEb,YADXwR,KAAKoiF,WAAW5zF,GACpBqsF,WACZ/sD,EAAO/3B,KACL,iBAAiBvH,EAAI,MAAM6kH,6BAAmCrzG,KAAKoiF,WAAW5zF,GAAG+B,SAGnFu9B,EAAO/3B,KACL,iBAAiBvH,EAAI,MAAM6kH,uBAA6BrzG,KAAKoiF,WAAW5zF,GAAG+B,OAIrF,CAEEwqG,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,qCAEN,CAEEC,mCAAAA,GACE,MAAMltE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAAG,CAC/C,MAAM01F,EAAYlkF,KAAKoiF,WAAW5zF,GACL,YAAzB01F,EAAUrJ,WACZ/sD,EAAO/3B,KACL,iBAAiBvH,EAAI,iCAAiC01F,EAAU3zF,SAGlEu9B,EAAO/3B,KACL,iBAAiBvH,EAAI,2BAA2B01F,EAAU3zF,OAGpE,CACI,OAAOu9B,CACX,CAEEmtE,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,wCACA,wCAEN,CAEEC,mCAAAA,GACE,MAAMptE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAC5Cs/B,EAAO/3B,KACL,iBAAiBvH,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,WAGvE,OAAOu9B,CACX,CAEEqtE,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,wCACA,wCACA,wCAEN,CAEEC,mCAAAA,GACE,MAAMttE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAC5Cs/B,EAAO/3B,KACL,iBAAiBvH,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,WAGvE,OAAOu9B,CACX,CAEEutE,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,kCAEN,CAEEC,mCAAAA,GACE,MAAMxtE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,OAAQ9tB,KAAK66E,YACX,IAAK,SACL,IAAK,QACL,IAAK,UACH,IAAK,IAAIrsF,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAEf,YADXwR,KAAKoiF,WAAW5zF,GACpBqsF,WACZ/sD,EAAO/3B,KACL,iBAAiBvH,EAAI,8BAA8BwR,KAAKoiF,WAAW5zF,GAAG+B,SAGxEu9B,EAAO/3B,KACL,iBAAiBvH,EAAI,wBAAwBwR,KAAKoiF,WAAW5zF,GAAG+B,QAItE,MACF,IAAK,WACH,IAAK,IAAI/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAC5Cs/B,EAAO/3B,KACL,iBAAiBvH,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,WAGvE,MACF,IAAK,WACH,IAAK,IAAI/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAC5Cs/B,EAAO/3B,KACL,iBAAiBvH,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,WAGvE,MACF,IAAK,WACH,IAAK,IAAI/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAC5Cs/B,EAAO/3B,KACL,iBAAiBvH,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,UACnE,iBAAiB/B,EAAI,2BAA2BwR,KAAKoiF,WAAW5zF,GAAG+B,WAM3E,OAAOu9B,CACX,CAEE0lF,gBAAAA,CAAiBl5E,EAAKxT,GACpB,OAAOwT,EAAI7mC,QAAQ,iDAAiD,CAACnC,EAAOmiH,KAC1E,GAAI3sF,EAAI3vB,eAAes8G,GACrB,OAAO3sF,EAAI2sF,GAEb,KAAM,sBAAsBA,GAAU,GAE5C,CAEEvF,iBAAAA,CAAkBj4B,GAChB,OAAoC,OAAhCj2E,KAAK04F,uBACA14F,KAAK04F,uBAEP14F,KAAK04F,uBAAyB14F,KAAKwzG,iBAAiBxzG,KAAKH,YAAYmlG,eAAgBhlG,KAAKqxG,0BAA0Bp7B,GAC/H,CAEE43B,eAAAA,CAAgB53B,GACd,OAAkC,OAA9Bj2E,KAAK24F,qBACA34F,KAAK24F,qBAEP34F,KAAK24F,qBAAuB34F,KAAKwzG,iBAAiBxzG,KAAKH,YAAY6rG,aAAc1rG,KAAK+yG,0BAA0B98B,GAC3H,CAEE/5E,QAAAA,GACE,MAAM00F,EAAqB/W,EAAM8hB,cAAc,CAC7C,uBAEF,OAAOjL,EAAe1wF,KAAKH,YAAaxR,UAAW2R,KAAM4wF,EAC7D,CAEE9nE,OAAAA,CAAQu7E,GACN,IAAKrkG,KAAKlJ,QAAS,OACfkJ,KAAKo4F,QACPp4F,KAAKlJ,QAAQ48G,aAAa1zG,KAAKo4F,QAE7Bp4F,KAAKqyF,aACPryF,KAAKlJ,QAAQ68G,kBAAkB3zG,KAAKqyF,aAEtC,IAAK,MAAMjmF,KAASpM,KAAK0uG,qBAAsB,CAC7C,IAAK,MAAMriG,KAAUrM,KAAK0uG,qBAAqBtiG,GAC7CpM,KAAKlJ,QAAQ68G,kBAAkB3zG,KAAK0uG,qBAAqBtiG,GAAOC,WACzDrM,KAAK0uG,qBAAqBtiG,GAAOC,UAEnCrM,KAAK0uG,qBAAqBtiG,EACvC,CAUI,GATIpM,KAAKmsG,YACPnsG,KAAKlJ,QAAQ88G,aAAa5zG,KAAKmsG,YAE7BnsG,KAAKksG,YACPlsG,KAAKlJ,QAAQ88G,aAAa5zG,KAAKksG,YAE7BlsG,KAAK0vD,SACP1vD,KAAKlJ,QAAQ+8G,cAAc7zG,KAAK0vD,SAE9B1vD,KAAKyxF,QAAS,CAChBzxF,KAAKyxF,QAAQryE,SACb,MAAM00F,EAAoB9zG,KAAKssG,aAAa76G,QAAQuO,KAAKyxF,QAAQA,SAC7DqiB,GAAqB,GACvB9zG,KAAKssG,aAAa5pE,OAAOoxE,EAAmB,GAE9C9zG,KAAKyxF,QAAU,IACrB,CACI,GAAIzxF,KAAKwyF,gBAAkBxyF,KAAKwyF,eAAelkG,OAAQ,CACrD,IAAK,IAAIE,EAAI,EAAGA,EAAIwR,KAAKwyF,eAAelkG,OAAQE,IAAK,CACnD,MAAMuvG,EAAgB/9F,KAAKwyF,eAAehkG,GAC1CuvG,EAAc3+E,SACd,MAAM00F,EAAoB9zG,KAAKssG,aAAa76G,QAAQssG,EAActM,SAC9DqiB,GAAqB,GACvB9zG,KAAKssG,aAAa5pE,OAAOoxE,EAAmB,EAEtD,CACM9zG,KAAKwyF,eAAiB,IAC5B,CACI,GAAIxyF,KAAKmmF,gBACP,IAAK,IAAI33F,EAAI,EAAGA,EAAIwR,KAAKmmF,gBAAgB73F,OAAQE,IAC/CwR,KAAKmmF,gBAAgB33F,GAAGs6B,UAG5B,GAAI9oB,KAAKomF,gBACP,IAAK,IAAI53F,EAAI,EAAGA,EAAIwR,KAAKomF,gBAAgB93F,OAAQE,IAC/CwR,KAAKomF,gBAAgB53F,GAAGs6B,UAG5B,KAAO9oB,KAAKssG,aAAah+G,OAAS,GAAG,CACnC,MAAMmjG,EAAUzxF,KAAKssG,aAAaz2G,MAClCmK,KAAKlJ,QAAQ8oG,cAAcnO,EACjC,CACI,GAAI4S,EAAwB,CAC1B,MAAM0P,EAAMpI,EAASl6G,QAAQuO,KAAKs4E,QAC9By7B,GAAO,IACTpI,EAASoI,GAAO,KAChBnI,EAAYmI,GAAO,KAE3B,CAII,GAHA/zG,KAAK2hG,2BACE3hG,KAAKlJ,eACLkJ,KAAKs4E,QACPt4E,KAAKuiG,IAAK,OACf,MAAM/zG,EAAIwR,KAAKuiG,IAAIyR,QAAQviH,QAAQuO,OACxB,IAAPxR,GACJwR,KAAKuiG,IAAIyR,QAAQtxE,OAAOl0C,EAAG,EAC/B,CAEEmzG,iBAAAA,GACE3hG,KAAKwhG,WAAWV,kBAAoB,KACpC9gG,KAAKwhG,WAAWT,yBAA2B,KAC3C/gG,KAAKwhG,WAAWR,uBAAyB,KACzChhG,KAAKwhG,WAAWP,mBAAqB,IACzC,CAEE,qBAAOpb,CAAe/uF,GACpB,MAAMi+E,EAAYj+E,EAAQk+E,aAAa,sBACnCD,GACFA,EAAUk/B,aAEhB,CAEEh8B,MAAAA,GACE,MAAM6N,EAAOzE,MAAMpJ,SAGnB,OAFA6N,EAAKC,cAAgBxF,EAAgB+B,WAAWtiF,KAAMklG,GAAmBjtB,SACzE6N,EAAKzM,SAASse,UAAY33F,KAAK23F,UACxB7R,CACX,EAGA1kC,EAAOL,QAAU,CACfy/C,cAEF,EAAE,CAAC,kDAAkD,IAAI,cAAc,IAAI,sBAAsB,EAAE,eAAe,GAAG,sBAAsB,GAAG,oBAAoB,GAAG,kBAAkB,GAAG,sBAAsB,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASzyG,EAAQqzD,EAAOL,GACtQ,MAAM2qD,EAAe,wTAerBtqD,EAAOL,QAAU,CACf2qD,eAEF,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS39G,EAAQqzD,EAAOL,GAClC,MAAMikD,EAAiB,yhBA4BR5rG,KAAK6rG,w8VAoapB7jD,EAAOL,QAAU,CACfikD,iBAEF,EAAE,CAAC,GAAG,GAAG,CAAC,SAASj3G,EAAQqzD,EAAOL,GAClC,MAAM,MAAE84B,GAAU9rF,EAAQ,gBACpB,kBAAEm3G,GAAsBn3G,EAAQ,2BAEtC,MAAMmmH,UAA2BhP,EAE/B7pB,uBAAAA,CAAwBC,EAASf,GAC/B,GAAqB,eAAjBe,EAAQlrF,KACV,MAAM4P,KAAKm7E,eACT,2CACAG,GAIJ,MAAMlrF,EAAO4P,KAAK86E,QAAQQ,GAEpB/qF,EAAOspF,EAAMwrB,aAAa/pB,EAAQ/qF,MAaxC,MAZqB,aAAjB+qF,EAAQ/qF,KACVgqF,EAAOxkF,KAAK,8BACM,YAAT3F,GACL4P,KAAKy6E,cAAchpF,QAAQlB,IAAS,EACtCgqF,EAAOxkF,KAAK,aAAaxF,MAK3BgqF,EAAOxkF,KAAK,QAAQxF,KAGfgqF,CACX,EAGAn5B,EAAOL,QAAU,CACfmzD,qBAEF,EAAE,CAAC,cAAc,IAAI,0BAA0B,KAAK,GAAG,CAAC,SAASnmH,EAAQqzD,EAAOL,GAChF,MAAM,yBAAEozD,GAA6BpmH,EAAQ,2BACvC,uBAAEqmH,GAA2BrmH,EAAQ,yBACrC,yBAAEsmH,GAA6BtmH,EAAQ,2BAEvC,2BAAEumH,GAA+BvmH,EAAQ,8BACzC,kCAAEwmH,GAAsCxmH,EAAQ,sCAEhD,gCAAEymH,GAAoCzmH,EAAQ,oCAC9C,uCAAE0mH,GAA2C1mH,EAAQ,4CAErD,2BAAE2mH,GAA+B3mH,EAAQ,8BACzC,kCAAE4mH,GAAsC5mH,EAAQ,sCAEhD,6BAAE6mH,GAAiC7mH,EAAQ,gCAC3C,oCAAE8mH,GAAwC9mH,EAAQ,wCAElD,+BAAE+mH,GAAmC/mH,EAAQ,kCAC7C,sCAAEgnH,GAA0ChnH,EAAQ,0CAEpD,8CAAEinH,GAAkDjnH,EAAQ,mDAC5D,qDAAEknH,GAAyDlnH,EAAQ,2DAEnE,+BAAEmnH,GAAmCnnH,EAAQ,kCAC7C,sCAAEonH,GAA0CpnH,EAAQ,0CAEpD,6BAAEqnH,GAAiCrnH,EAAQ,gCAC3C,oCAAEsnH,GAAwCtnH,EAAQ,wCAElD,gCAAEunH,GAAoCvnH,EAAQ,oCAC9C,uCAAEwnH,GAA2CxnH,EAAQ,4CAErD,gCAAEynH,GAAoCznH,EAAQ,oCAC9C,uCAAE0nH,GAA2C1nH,EAAQ,4CAErD,gCAAE2nH,GAAoC3nH,EAAQ,oCAC9C,uCAAE4nH,GAA2C5nH,EAAQ,4CAErD,wBAAE6nH,GAA4B7nH,EAAQ,0BACtC,wBAAE8nH,GAA4B9nH,EAAQ,0BACtC,wBAAE+nH,GAA4B/nH,EAAQ,0BAEtC,+BAAEgoH,GAAmChoH,EAAQ,kCAC7C,sCAAEioH,GAA0CjoH,EAAQ,yCAEpDi7G,EAAkB,CACtBC,SAAU,CACRC,QAAS,CACP,QAAWiL,EACX,QAAWE,EACX,MAASD,EACT,MAAS4B,EACT,WAAYJ,EACZ,WAAYC,EACZ,WAAYC,EACZ,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,MAASf,EACT,cAAiBI,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcV,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,eAAkBE,EAClB,UAAaE,GAEfr3C,OAAQ,CACN,QAAW62C,EACX,MAASC,EACT,QAAWC,EACX,MAAS0B,EACT,WAAYH,EACZ,WAAYC,EACZ,WAAYC,EACZ,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,cAAc,EACd,MAAShB,EACT,cAAiBI,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCD,EAChC,WAAcX,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,eAAkBE,EAClB,UAAaE,IAGjBvL,OAAQ,CACND,QAAS,CACP,QAAWiL,EACX,QAAWE,EACX,MAASD,EACT,MAASiB,EACT,WAAYO,EACZ,WAAYC,EACZ,WAAYC,EACZ,aAAcP,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,MAASd,EACT,cAAiBM,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcV,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,eAAkBE,EAClB,UAAaE,GAEfr3C,OAAQ,CACN,QAAW62C,EACX,MAASC,EACT,QAAWC,EACX,MAASe,EACT,WAAYQ,EACZ,WAAYC,EACZ,WAAYC,EACZ,aAAcR,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,aAAcE,EACd,aAAcA,EACd,aAAcA,EACd,MAASd,EACT,cAAiBM,EACjB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,kBAAmBA,EACnB,6BAAgCF,EAChC,WAAcV,EACd,gBAAmBA,EACnB,UAAaA,EACb,YAAeA,EACf,UAAaA,EACb,eAAkBE,EAClB,UAAaE,KAKnB,SAAStL,EAAsBh5G,EAAM84G,EAASziB,EAAWzzF,GACvD,IAAK5C,EACH,MAAM,IAAIiB,MAAM,gBAElB,IAAK63G,EACH,MAAM,IAAI73G,MAAM,mBAElB,IAAKo1F,EACH,MAAM,IAAIp1F,MAAM,qBAEd2B,EAAM5C,OACRA,EAAO4C,EAAM5C,MAEf,MAAM64D,EAAQ+/C,EAAgBviB,GAAWyiB,GACzC,IAAoB,IAAhBjgD,EAAM74D,GACR,OAAO,KACF,QAAoBmjF,IAAhBtqB,EAAM74D,GACf,MAAM,IAAIiB,MAAM,oCAAqCjB,KAEvD,OAAO64D,EAAM74D,EACf,CAEAgxD,EAAOL,QAAU,CACfioD,kBACAI,wBAEF,EAAE,CAAC,wBAAwB,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,yBAAyB,GAAG,oCAAoC,GAAG,0CAA0C,GAAG,oCAAoC,GAAG,yDAAyD,GAAG,wCAAwC,GAAG,sCAAsC,GAAG,0CAA0C,GAAG,0CAA0C,GAAG,0CAA0C,GAAG,sCAAsC,GAAG,wCAAwC,GAAG,wCAAwC,GAAG,uBAAuB,GAAG,4BAA4B,GAAG,kCAAkC,GAAG,4BAA4B,GAAG,yBAAyB,GAAG,iDAAiD,GAAG,gCAAgC,GAAG,8BAA8B,GAAG,kCAAkC,GAAG,kCAAkC,IAAI,kCAAkC,IAAI,8BAA8B,IAAI,gCAAgC,IAAI,gCAAgC,MAAM,GAAG,CAAC,SAASr7G,EAAQqzD,EAAOL,GAC3oC,MAAM,uBAAE4nD,GAA2B56G,EAAQ,oCAE3C,MAAM6nH,UAAgCjN,GAEtCvnD,EAAOL,QAAU,CACf60D,0BAEF,EAAE,CAAC,mCAAmC,KAAK,GAAG,CAAC,SAAS7nH,EAAQqzD,EAAOL,GACvE,MAAM,uBAAE6nD,GAA2B76G,EAAQ,oCAE3C,MAAM8nH,UAAgCjN,GAEtCxnD,EAAOL,QAAU,CACf80D,0BAEF,EAAE,CAAC,mCAAmC,KAAK,GAAG,CAAC,SAAS9nH,EAAQqzD,EAAOL,GACvE,MAAM,uBAAE8nD,GAA2B96G,EAAQ,oCAE3C,MAAM+nH,UAAgCjN,GAEtCznD,EAAOL,QAAU,CACf+0D,0BAEF,EAAE,CAAC,mCAAmC,KAAK,GAAG,CAAC,SAAS/nH,EAAQqzD,EAAOL,GACvE,MAAM,wBAAEqmD,GAA4Br5G,EAAQ,qCAE5C,MAAMomH,UAAiC/M,GAEvChmD,EAAOL,QAAU,CACfozD,2BAEF,EAAE,CAAC,oCAAoC,KAAK,GAAG,CAAC,SAASpmH,EAAQqzD,EAAOL,GACxE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,gCAAEymH,GAAoCzmH,EAAQ,sBAEpD,MAAM0mH,UAA+CD,EACnDvS,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,oBAAqCj2G,KAAKy3B,KACtD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,CAEE5H,WAAAA,CAAYtd,GACV,MAAM,MAAEx4E,EAAK,OAAEC,GAAWu4E,EAAO,GACjC5kF,KAAKupG,UAAUn9F,EAAOC,GACtBrM,KAAKoqG,WAAa,CAACh+F,EAAOC,EAAQu4E,EAAOt2F,QACzC0R,KAAKo9F,YAAc,CAAChxF,EAAOC,GAC3BrM,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYtd,EACtB,EAGAxjC,EAAOL,QAAU,CACf0zD,yCAEF,EAAE,CAAC,iBAAiB,IAAI,qBAAqB,KAAK,GAAG,CAAC,SAAS1mH,EAAQqzD,EAAOL,GAC9E,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iCAAEy5G,GAAqCz5G,EAAQ,gDAErD,MAAMwmH,UAA0C/M,EAC9CvF,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,EAGA1oD,EAAOL,QAAU,CACfwzD,oCAEF,EAAE,CAAC,iBAAiB,IAAI,+CAA+C,KAAK,GAAG,CAAC,SAASxmH,EAAQqzD,EAAOL,GACtFhzD,EAAQ,kBAC1B,MAAM,kCAAEwmH,GAAsCxmH,EAAQ,wBAEtD,MAAM4mH,UAA0CJ,GAEhDnzD,EAAOL,QAAU,CACf4zD,oCAEF,EAAE,CAAC,iBAAiB,IAAI,uBAAuB,KAAK,GAAG,CAAC,SAAS5mH,EAAQqzD,EAAOL,GAChF,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,oDAAEi6G,GAAwDj6G,EAAQ,qEAExE,MAAMknH,UAA6DjN,EACjE/F,SAAAA,GACE,OAAOpoB,EAAM8hB,cAAc,CACzB,qBAAqB37F,KAAKy3B,KAC1B,iBAAiBz3B,KAAK+pG,SACtB,iBAAiB/pG,KAAK8pG,gBAE5B,EAGA1oD,EAAOL,QAAU,CACfk0D,uDAEF,EAAE,CAAC,iBAAiB,IAAI,oEAAoE,KAAK,GAAG,CAAC,SAASlnH,EAAQqzD,EAAOL,GAC7H,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,qCAAEm6G,GAAyCn6G,EAAQ,oDAEzD,MAAMonH,UAA8CjN,EAClDjG,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,EAGA1oD,EAAOL,QAAU,CACfo0D,wCAEF,EAAE,CAAC,iBAAiB,IAAI,mDAAmD,KAAK,GAAG,CAAC,SAASpnH,EAAQqzD,EAAOL,GAC5G,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,6BAAEqnH,GAAiCrnH,EAAQ,2CAEjD,MAAMsnH,UAA4CD,EAChDnT,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAKoqG,WAAavwB,EAAMoI,cAAcjvF,GAAO,GAC7CgN,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCxqG,KAAKoqG,WAAYpqG,KAAK+pF,UAClF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,mBACzCzqG,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfs0D,sCAEF,EAAE,CAAC,iBAAiB,IAAI,0CAA0C,KAAK,GAAG,CAAC,SAAStnH,EAAQqzD,EAAOL,GACnG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,gCAAEunH,GAAoCvnH,EAAQ,+CAEpD,MAAMwnH,UAA+CD,EACnDrT,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAK0qG,SAAS13G,GACdgN,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACfw0D,yCAEF,EAAE,CAAC,iBAAiB,IAAI,8CAA8C,KAAK,GAAG,CAAC,SAASxnH,EAAQqzD,EAAOL,GACvG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,gCAAEynH,GAAoCznH,EAAQ,+CAEpD,MAAM0nH,UAA+CD,EACnDvT,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAK0qG,SAAS13G,GACdgN,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACf00D,yCAEF,EAAE,CAAC,iBAAiB,IAAI,8CAA8C,MAAM,GAAG,CAAC,SAAS1nH,EAAQqzD,EAAOL,GACxG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,gCAAE2nH,GAAoC3nH,EAAQ,+CAEpD,MAAM4nH,UAA+CD,EACnDzT,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,CAEE5H,WAAAA,CAAYlvG,GACVgN,KAAK0qG,SAAS13G,GACdgN,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACf40D,yCAEF,EAAE,CAAC,iBAAiB,IAAI,8CAA8C,MAAM,GAAG,CAAC,SAAS5nH,EAAQqzD,EAAOL,GACxG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,6BAAE6mH,GAAiC7mH,EAAQ,2CAEjD,MAAM8mH,UAA4CD,EAChD3S,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,CAEE5H,WAAAA,CAAYlvG,GACV,IAAK4kG,EAAGC,EAAGx+C,GAAKrmD,EAAM6zB,KACtB7mB,KAAKoqG,WAAa,IAAIxH,WAAW,CAAChL,GAAK,EAAGC,GAAK,EAAGx+C,GAAK,IACvDr5C,KAAKo9F,YAAcvjB,EAAM2wB,mCAAmCxqG,KAAKoqG,WAAYpqG,KAAK+pF,UAClF/pF,KAAKyqG,kBAAoBzqG,KAAKo9F,YAAY,GAAKp9F,KAAKo9F,YAAY,GAAKp9F,KAAK+pF,SAC1E/pF,KAAKupG,UAAUvpG,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,IACrDp9F,KAAKuxF,YAAc,IAAIta,aAAaj3E,KAAKyqG,mBACzCzqG,KAAK43E,OAAOyyB,cAAcrqG,KAAK8pG,aAAc9pG,KAAKoqG,YAClDpqG,KAAK43E,OAAO0yB,cAActqG,KAAK+pG,OAAQ/pG,KAAKo9F,aAC5C/b,MAAM6gB,YAAYlvG,EACtB,EAGAouD,EAAOL,QAAU,CACf8zD,sCAEF,EAAE,CAAC,iBAAiB,IAAI,0CAA0C,MAAM,GAAG,CAAC,SAAS9mH,EAAQqzD,EAAOL,GACpG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,qCAAEg7G,GAAyCh7G,EAAQ,oDAEzD,MAAMioH,UAA8CjN,EAClD9G,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,EAGA1oD,EAAOL,QAAU,CACfi1D,wCAEF,EAAE,CAAC,iBAAiB,IAAI,mDAAmD,KAAK,GAAG,CAAC,SAASjoH,EAAQqzD,EAAOL,GAC5G,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,qCAAE+5G,GAAyC/5G,EAAQ,oDAEzD,MAAMgnH,UAA8CjN,EAClD7F,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,WAAYw+E,WAA4Bj2G,KAAK+pG,SAC7C,WAAYkM,WAA4Bj2G,KAAK8pG,gBAEnD,EAGA1oD,EAAOL,QAAU,CACfg0D,wCAEF,EAAE,CAAC,iBAAiB,IAAI,mDAAmD,KAAK,GAAG,CAAC,SAAShnH,EAAQqzD,EAAOL,GAC1FhzD,EAAQ,kBAC1B,MAAM,sBAAEs5G,GAA0Bt5G,EAAQ,mCAE1C,MAAMqmH,UAA+B/M,GAErCjmD,EAAOL,QAAU,CACfqzD,yBAEF,EAAE,CAAC,iBAAiB,IAAI,kCAAkC,KAAK,GAAG,CAAC,SAASrmH,EAAQqzD,EAAOL,GAC3F,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,iBAAEu7G,GAAqBv7G,EAAQ,mCAErC,MAAMymH,UAAwClL,EAC5CzpG,WAAAA,CAAY7M,EAAOqmF,GACjBgI,MAAMruF,EAAOqmF,GACbr5E,KAAKupG,UAAUv2G,EAAM,GAAGoZ,MAAOpZ,EAAM,GAAGqZ,QACxCrM,KAAKoqG,WAAa,CAACp3G,EAAM,GAAGoZ,MAAOpZ,EAAM,GAAGqZ,OAAQrZ,EAAM1E,QAC1D0R,KAAKo9F,YAAc,CAACpqG,EAAM,GAAGoZ,MAAOpZ,EAAM,GAAGqZ,OACjD,CACEs9F,aAAAA,GACE,MAAQ7yG,QAASw8E,GAAOtzE,KACxBszE,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAG4iC,iBAAkBl2G,KAAKyxF,SACzCne,EAAG2sB,cAAc3sB,EAAG4iC,iBAAkB5iC,EAAGitB,mBAAoBjtB,EAAGgtB,SAChEhtB,EAAG2sB,cAAc3sB,EAAG4iC,iBAAkB5iC,EAAG+sB,mBAAoB/sB,EAAGgtB,QACpE,CAEEnO,qBAAAA,GACE,MAAO,qBAAqBnyF,KAAKzP,UAAUyP,KAAKiyF,YACpD,CACEgQ,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,oBAAqCj2G,KAAKy3B,KACtD,GAAIw+E,WAA4Bj2G,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MAChG,GAAI6Y,WAA4Bj2G,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAEjI,CAEElI,WAAAA,CAAYtd,GACV,MAAQ9tF,QAASw8E,GAAOtzE,KACxBszE,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAG4iC,iBAAkBl2G,KAAKyxF,SACzCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6iC,WACD7iC,EAAG4iC,iBACH,EACA5iC,EAAGykB,KACHnT,EAAO,GAAGx4E,MACVw4E,EAAO,GAAGv4E,OACVu4E,EAAOt2F,OACP,EACAglF,EAAGykB,KACHzkB,EAAG6kB,cACH,MAEF,IAAK,IAAI3pG,EAAI,EAAGA,EAAIo2F,EAAOt2F,OAAQE,IAAK,CACtC,MAAM4nH,EAAU,EACVC,EAAU,EACVC,EAAa,EACnBhjC,EAAGijC,cACDjjC,EAAG4iC,iBACH,EACAE,EACAC,EACA7nH,EACAo2F,EAAOp2F,GAAG4d,MACVw4E,EAAOp2F,GAAG6d,OACViqG,EACAhjC,EAAGykB,KACHzkB,EAAG6kB,cACHn4F,KAAKuxF,YAAc3M,EAAOp2F,GAElC,CACIwR,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfyzD,kCAEF,EAAE,CAAC,iBAAiB,IAAI,kCAAkC,KAAK,GAAG,CAAC,SAASzmH,EAAQqzD,EAAOL,GAC3F,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,0BAAEw5G,GAA8Bx5G,EAAQ,wCAE9C,MAAMumH,UAAmC/M,EACvCtF,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,GAAIw+E,WAA4Bj2G,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MAChG,GAAI6Y,WAA4Bj2G,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAEjI,EAGAhpD,EAAOL,QAAU,CACfuzD,6BAEF,EAAE,CAAC,iBAAiB,IAAI,uCAAuC,KAAK,GAAG,CAAC,SAASvmH,EAAQqzD,EAAOL,GAC9EhzD,EAAQ,kBAC1B,MAAM,2BAAEumH,GAA+BvmH,EAAQ,gBAE/C,MAAM2mH,UAAmCJ,GAEzClzD,EAAOL,QAAU,CACf2zD,6BAEF,EAAE,CAAC,iBAAiB,IAAI,eAAe,KAAK,GAAG,CAAC,SAAS3mH,EAAQqzD,EAAOL,GACxE,MAAM,wBAAEumD,GAA4Bv5G,EAAQ,qCAE5C,MAAMsmH,UAAiC/M,EACrCrF,SAAAA,CAAUjvG,GACR,MAAMijH,EAAoBj2G,KAAK82F,6BAC/B,MAAoB,cAAhB92F,KAAK29E,OACA,SAAUs4B,SAA0Bj2G,KAAKy3B,QAASq6C,SAAS9+E,QAE7D,WAAYijH,SAA0Bj2G,KAAKy3B,OACtD,CAEEyqE,WAAAA,CAAYlvG,GACU,cAAhBgN,KAAK29E,QACT39E,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKuxF,YAAcv+F,EACzD,EAGAouD,EAAOL,QAAU,CACfszD,2BAEF,EAAE,CAAC,oCAAoC,KAAK,GAAG,CAAC,SAAStmH,EAAQqzD,EAAOL,GACxE,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,6CAAEg6G,GAAiDh6G,EAAQ,6DAEjE,MAAMinH,UAAsDjN,EAC1D9F,SAAAA,GACE,MAAM,GAAExqE,EAAE,OAAEsyE,EAAM,YAAE3M,EAAW,aAAE0M,EAAY,WAAEM,GAAepqG,KACxDi2G,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,qBAAqBlkE,IACrB,GAAIw+E,WAA4BlM,aAAkB3M,EAAY,OAAOA,EAAY,MACjF,GAAI6Y,WAA4BnM,aAAwBM,EAAW,OAAOA,EAAW,OAAOA,EAAW,OAE7G,EAGAhpD,EAAOL,QAAU,CACfi0D,gDAEF,EAAE,CAAC,iBAAiB,IAAI,4DAA4D,KAAK,GAAG,CAAC,SAASjnH,EAAQqzD,EAAOL,GACrH,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,8BAAEk6G,GAAkCl6G,EAAQ,4CAElD,MAAMmnH,UAAuCjN,EAC3ChG,SAAAA,GACE,MAAM,GAAExqE,EAAE,OAAEsyE,EAAM,YAAE3M,EAAW,aAAE0M,EAAY,WAAEM,GAAepqG,KACxDi2G,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCx+E,IAC5C,GAAIw+E,WAA4BlM,aAAkB3M,EAAY,OAAOA,EAAY,MACjF,GAAI6Y,WAA4BnM,aAAwBM,EAAW,OAAOA,EAAW,OAAOA,EAAW,OAE7G,EAGAhpD,EAAOL,QAAU,CACfm0D,iCAEF,EAAE,CAAC,iBAAiB,IAAI,2CAA2C,KAAK,GAAG,CAAC,SAASnnH,EAAQqzD,EAAOL,GACpG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,4BAAEo6G,GAAgCp6G,EAAQ,0CAEhD,MAAMqnH,UAAqCjN,EACzClG,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,GAAIw+E,WAA4Bj2G,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MAChG,GAAI6Y,WAA4Bj2G,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAEjI,CAEElI,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU1+F,EAAOgN,KAAKuxF,aAC5Bje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGkjC,QAASx2G,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aACjHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfq0D,+BAEF,EAAE,CAAC,iBAAiB,IAAI,yCAAyC,KAAK,GAAG,CAAC,SAASrnH,EAAQqzD,EAAOL,GAClG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,+BAAEs6G,GAAmCt6G,EAAQ,8CAEnD,MAAMunH,UAAwCjN,EAC5CnG,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU1+F,EAAOgN,KAAKuxF,aAC5Bje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGkjC,QAASx2G,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aACjHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfu0D,kCAEF,EAAE,CAAC,iBAAiB,IAAI,6CAA6C,KAAK,IAAI,CAAC,SAASvnH,EAAQqzD,EAAOL,GACvG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,+BAAEw6G,GAAmCx6G,EAAQ,8CAEnD,MAAMynH,UAAwCjN,EAC5CrG,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU1+F,EAAOgN,KAAKuxF,aAC5Bje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGkjC,QAASx2G,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aACjHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACfy0D,kCAEF,EAAE,CAAC,iBAAiB,IAAI,6CAA6C,KAAK,IAAI,CAAC,SAASznH,EAAQqzD,EAAOL,GACvG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,+BAAE06G,GAAmC16G,EAAQ,8CAEnD,MAAM2nH,UAAwCjN,EAC5CvG,WAAAA,CAAYlvG,GACV,GAAIA,EAAM6M,cAAgBG,KAAKirG,wBAE7B,YADAjrG,KAAK8hG,sBAAsB9uG,EAAM6M,aAGnC,MAAQ/I,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU1+F,EAAOgN,KAAKuxF,aAC5Bje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGkjC,QAASx2G,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aACjHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACf20D,kCAEF,EAAE,CAAC,iBAAiB,IAAI,6CAA6C,KAAK,IAAI,CAAC,SAAS3nH,EAAQqzD,EAAOL,GACvG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,4BAAE45G,GAAgC55G,EAAQ,0CAEhD,MAAM6mH,UAAqCjN,EACzC1F,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,GAAIw+E,WAA4Bj2G,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MAChG,GAAI6Y,WAA4Bj2G,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAEjI,CAEElI,WAAAA,CAAYp9C,GACV,MAAQhuD,QAASw8E,GAAOtzE,KACxB65E,EAAM6X,UAAU5sC,EAAM9xD,MAAOgN,KAAKuxF,aAClCje,EAAGysB,cAAc//F,KAAK+hG,eACtBzuB,EAAGksB,YAAYlsB,EAAGqrB,WAAY3+F,KAAKyxF,SACnCne,EAAG43B,YAAY53B,EAAG63B,qBAAqB,GACvC73B,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGkjC,QAASx2G,KAAKo9F,YAAY,GAAIp9F,KAAKo9F,YAAY,GAAI,EAAG9pB,EAAGykB,KAAMzkB,EAAG0kB,MAAOh4F,KAAKuxF,aACjHvxF,KAAK43E,OAAOuyB,aAAanqG,KAAKy3B,GAAIz3B,KAAKvK,MAC3C,EAGA2rD,EAAOL,QAAU,CACf6zD,+BAEF,EAAE,CAAC,iBAAiB,IAAI,yCAAyC,KAAK,IAAI,CAAC,SAAS7mH,EAAQqzD,EAAOL,GACnG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,8BAAE+6G,GAAkC/6G,EAAQ,4CAElD,MAAMgoH,UAAuCjN,EAC3C7G,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,GAAIw+E,WAA4Bj2G,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MAChG,GAAI6Y,WAA4Bj2G,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAEjI,EAGAhpD,EAAOL,QAAU,CACfg1D,iCAEF,EAAE,CAAC,iBAAiB,IAAI,2CAA2C,KAAK,IAAI,CAAC,SAAShoH,EAAQqzD,EAAOL,GACrG,MAAM,MAAE84B,GAAU9rF,EAAQ,mBACpB,8BAAE85G,GAAkC95G,EAAQ,4CAElD,MAAM+mH,UAAuCjN,EAC3C5F,SAAAA,GACE,MAAMgU,EAAoBj2G,KAAK82F,6BAC/B,OAAOjd,EAAM8hB,cAAc,CACzB,WAAYsa,eAAgCj2G,KAAKy3B,KACjD,GAAIw+E,WAA4Bj2G,KAAK+pG,kBAAkB/pG,KAAKo9F,YAAY,OAAOp9F,KAAKo9F,YAAY,MAChG,GAAI6Y,WAA4Bj2G,KAAK8pG,wBAAwB9pG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAAOpqG,KAAKoqG,WAAW,OAEjI,EAGAhpD,EAAOL,QAAU,CACf+zD,iCAEF,EAAE,CAAC,iBAAiB,IAAI,2CAA2C,KAAK,IAAI,CAAC,SAAS/mH,EAAQqzD,EAAOL,GACrG,MAAM,YAAEy/C,GAAgBzyG,EAAQ,qBAC1B,mBAAEmmH,GAAuBnmH,EAAQ,oBACjC,gBAAEwyF,GAAoBxyF,EAAQ,wBAC9B,MAAE8rF,GAAU9rF,EAAQ,gBACpB,eAAEi3G,GAAmBj3G,EAAQ,sBAC7B,aAAE29G,GAAiB39G,EAAQ,oBAC3B,sBAAEq7G,GAA0Br7G,EAAQ,uBAE1C,IAAI+yF,EAAc,KACdgU,EAAa,KACbD,EAAc,KAGdnU,EAAW,KAEf,MAAM+1B,UAAqBjW,EACzB,sBAAW1f,GACT,OAAoB,OAAhBA,IAGJ9gF,KAAK62F,qBACL/V,EAAc9gF,KAAK+gF,eAAe8T,IAHzB/T,CAKb,CAEE,yBAAO+V,GACmB,qBAAbz4F,SACT02F,EAAa12F,SAASC,cAAc,UACA,qBAApBqjF,kBAChBoT,EAAa,IAAIpT,gBAAgB,EAAG,IAEjCoT,IACLD,EAAcC,EAAWlT,WAAW,UAC/BiT,GAAgBA,EAAY7f,eAEP6f,EAAY7f,aAAa,0BACvB6f,EAAY7f,aAAa,4BAErD0L,EAAW1gF,KAAKygF,eACpB,CAEE,qBAAOM,CAAejqF,GACpB,MAAsC,qBAA3B4/G,wBACF5/G,aAAmB4/G,sBAGhC,CAEE,kBAAOj2B,GACL,MAAMnN,EAAKtzE,KAAK60F,YAChB,OAAO1jG,OAAOwvF,OAAO,CACnB4U,YAAav1F,KAAK40F,iBAClB/T,0BAA2B7gF,KAAK+0F,+BAChCS,uBAAwBx1F,KAAKm1F,4BAC7BvU,WAAW,EACX6U,gBAAgB,EAChBJ,eAAe,EACfM,aAAc31F,KAAK41F,kBACnBC,eAAgB71F,KAAK81F,oBACrBC,gBAAiBziB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAG4iB,SACpEC,kBAAmB7iB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAG8iB,WACtEC,mBAAoB/iB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGgjB,YACvEC,qBAAsBjjB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGkjB,cACzEC,iBAAkBnjB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGojB,UACrEC,mBAAoBrjB,EAAG0iB,yBAAyB1iB,EAAG2iB,gBAAiB3iB,EAAGsjB,aAE7E,CAEE,wBAAOlB,GACL,OAAO,CACX,CAEE,sBAAOE,GACL,OAAOf,EAAYsM,aAAatM,EAAY8hB,iBAChD,CAEE,wBAAO7gB,GACL,OAAOjB,EAAYsM,aAAatM,EAAYyM,iBAChD,CAEE,4BAAO8H,CAAsBh5G,EAAM84G,EAASziB,EAAWzzF,GACrD,OAAOo2G,EAAsBh5G,EAAM84G,EAASziB,EAAWzzF,EAC3D,CAEE,qBAAW8hG,GACT,OAAOA,CACX,CAEE,sBAAWD,GACT,OAAOA,CACX,CAEE,mBAAWnU,GACT,OAAOA,CACX,CAEE,yBAAWskB,GACT,OAAOA,CACX,CACE,uBAAW0G,GACT,OAAOA,CACX,CAEE/pB,WAAAA,GACE,MAAMtI,EAAW,CACf4zB,OAAO,EACPn0D,OAAO,EACPo0D,WAAW,GAEb,OAAOltG,KAAKs4E,OAAOsJ,WAAW,SAAUvI,EAC5C,CAEEkoB,cAAAA,GACEvhG,KAAKwhG,WAAa,CAChBoV,uBAAwB52G,KAAKlJ,QAAQk+E,aAAa,0BAClD+rB,yBAA0B/gG,KAAKlJ,QAAQk+E,aAAa,4BAE1D,CAEEwD,gBAAAA,CAAiBvC,GACf,IAAKj2E,KAAK+qF,SAKR,YAJA/qF,KAAK03F,QAAU7d,EAAMyiB,qBAAqB,CACxC9V,oBAAqBxmF,KAAKwmF,oBAC1BC,UAAWzmF,KAAKymF,WACfzmF,KAAKk3E,SAIV,MAAM,SAAEwJ,GAAa1gF,KAAKH,YAC1B,GAAuB,WAAnBG,KAAKymF,YAA2B/F,EAAS6U,YAC3C,MAAM,IAAIlkG,MAAM,2CAalB,GAZY2O,KAAK+3E,WAAgC,OAAnB/3E,KAAKymF,YACjCzmF,KAAKymF,UAAY/F,EAAS6U,YAAc,SAAW,YAGb,OAApCv1F,KAAK6qF,2BACP7qF,KAAK6qF,4BAA8BnK,EAASG,0BACnC7gF,KAAK6qF,4BAA8BnK,EAASG,4BACrD7gF,KAAK6qF,4BAA6B,GAGpC7qF,KAAKkiF,eAEAliF,KAAKk3E,QAAiC,IAAvBl3E,KAAKk3E,OAAO5oF,OAAc,CAC5C,GAAoB,IAAhB2nF,EAAK3nF,OACP,MAAM,IAAI+C,MAAM,8DAGlB,MAAMywF,EAAUjI,EAAMkI,gBAAgB9L,EAAK,GAAIj2E,KAAKgiF,gBACpD,OAAQF,GACN,IAAK,QACH9hF,KAAKk3E,OAAS2C,EAAMoI,cAAcH,GAClC,MACF,IAAK,gBACL,IAAK,+BACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACH9hF,KAAKk3E,OAASjB,EAAK,GAAGiB,OACtB,MACF,QACE,MAAM,IAAI7lF,MAAM,6CAA+CywF,GAEzE,CAEI,GAAI9hF,KAAK+3E,UAAW,CAClB,GAA2B,IAAvB/3E,KAAKk3E,OAAO5oF,OACd,MAAM,IAAI+C,MAAM,mDASlB,MANuB,WAAnB2O,KAAKymF,YACP7zD,QAAQ8pE,KAAK,mEACb18F,KAAKymF,UAAY,iBAGnBzmF,KAAK03F,QAAU7d,EAAMx9C,MAAMr8B,KAAKk3E,QAEtC,EAAgBl3E,KAAK+3E,WAAgC,OAAnB/3E,KAAKymF,WAAsB/F,EAAS+U,iBAChEz1F,KAAKymF,UAAY,UAGnBzmF,KAAK03F,QAAU7d,EAAMyiB,qBAAqB,CACxC9V,oBAAqBxmF,KAAKwmF,oBAC1BC,UAAWzmF,KAAKymF,WACfzmF,KAAKk3E,QAERl3E,KAAK+4F,kBACT,CAEE5W,eAAAA,GACE,MAAME,EAAkB9B,EAAgB+B,WAAWtiF,KAAMk0G,EAAoB,CAC3ErpB,2BAA4B7qF,KAAK6qF,6BAEnC7qF,KAAKy4F,iBAAmBpW,EAAgBwG,mBAAmB,UAC3D7oF,KAAK2vG,iBAAiBttB,EAC1B,CAEE1M,WAAAA,GACE31E,KAAKlJ,QAAQ6+E,YAAY31E,KAAKosG,eAClC,CAEEkE,gBAAAA,GACE,MAAQx5G,QAASw8E,GAAOtzE,KACxB,OAAQA,KAAKqwG,qBACX,KAAK/8B,EAAGujC,KACN,OAAOvjC,EAAGwjC,IACZ,KAAKxjC,EAAGyjC,MACN,OAAOzjC,EAAG0jC,GACZ,KAAK1jC,EAAGkjC,QAER,KAAKljC,EAAGykB,KACN,OAAOzkB,EAAGykB,KACZ,QACE,MAAM,IAAI1mG,MAAM,2BAExB,CACEg/G,iBAAAA,GACE,MAAQv5G,QAASw8E,GAAOtzE,KAExB,GAAuB,WAAnBA,KAAKymF,UAAwB,CAC/B,GAAIzmF,KAAK6jF,SACP,OAAQ7jF,KAAK66E,YACX,IAAK,SACL,IAAK,QACL,IAAK,UACH,OAAI76E,KAAKwmF,oBACAlT,EAAGkjC,QAEHljC,EAAGujC,KAEZ,IAAK,WACH,OAAOvjC,EAAGyjC,MACZ,IAAK,WACL,IAAK,WACH,OAAOzjC,EAAGkjC,QACZ,QACE,MAAM,IAAInlH,MAAM,yBAGxB,OAAOiiF,EAAGkjC,OAChB,CACI,OAAOljC,EAAGykB,IACd,CAEEmF,mBAAAA,GACE,MAAM5pB,EAAKtzE,KAAKlJ,QAChB,GAAIkJ,KAAKyxF,QAEP,YADAne,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAY3+F,KAAKyxF,QAAQA,QAAS,GAGrGne,EAAGupB,gBAAgBvpB,EAAGwpB,YAAa98F,KAAKqyF,aACxC,MAAMZ,EAAUne,EAAG4rB,gBACbxH,EAAU13F,KAAK03F,QACrBpkB,EAAGysB,cAAczsB,EAAGm6B,SAAWztG,KAAKisG,qBAAuBjsG,KAAKgsG,sBAChE14B,EAAGksB,YAAYlsB,EAAGqrB,WAAYlN,GAC9Bne,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG4sB,eAAgB5sB,EAAG2jC,QACtD3jC,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG8sB,eAAgB9sB,EAAG2jC,QACtD3jC,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG+sB,mBAAoB/sB,EAAGgtB,SAC1DhtB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAGitB,mBAAoBjtB,EAAGgtB,SAC1D,MAAMiQ,EAASvwG,KAAKqwG,oBACG,WAAnBrwG,KAAKymF,UACPnT,EAAG4jC,aAAa5jC,EAAGqrB,WAAY,EAAG4R,EAAQ7Y,EAAQ,GAAIA,EAAQ,IAE9DpkB,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAG4R,EAAQ7Y,EAAQ,GAAIA,EAAQ,GAAI,EAAG6Y,EAAQj9B,EAAG6kB,cAAe,MAE/F7kB,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAmBprB,EAAGqrB,WAAYlN,EAAS,GACtFzxF,KAAKyxF,QAAU,IAAIzxF,KAAKu4F,mBAAmB,CACzC9G,UACA5qE,KAAM6wE,EACN0S,WAAYpqG,KAAK23F,UACjBzgB,OAAQl3E,KAAKk3E,OACbpgF,QAASkJ,KAAKlJ,QACdsoG,eAAgBp/F,KAAKqwG,oBACrBhR,cAAer/F,KAAKswG,mBACpB14B,OAAQ53E,MAEd,CAEEm9F,uBAAAA,GACE,MAAM7pB,EAAKtzE,KAAKlJ,QAChB,GAAIkJ,KAAKwyF,eAAgB,CACvB,IAAK,IAAIhkG,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAC1C8kF,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAoBlwG,EAAI,EAAG8kF,EAAGqrB,WAAY3+F,KAAKwyF,eAAehkG,GAAGijG,QAAS,GAEvH,MACN,CACI,MAAMiG,EAAU13F,KAAK03F,QACrB13F,KAAKosG,eAAiB,CAAC94B,EAAGorB,mBAC1B1+F,KAAKwyF,eAAiB,GACtB,IAAK,IAAIhkG,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAAK,CAC/C,MAAMijG,EAAUzxF,KAAKk/F,gBACrBl/F,KAAKosG,eAAer2G,KAAKu9E,EAAGorB,kBAAoBlwG,EAAI,GACpD8kF,EAAGysB,cAAczsB,EAAGm6B,SAAWztG,KAAKisG,qBAAuBjsG,KAAKgsG,qBAAuBx9G,GACvF8kF,EAAGksB,YAAYlsB,EAAGqrB,WAAYlN,GAC9Bne,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG4sB,eAAgB5sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG8sB,eAAgB9sB,EAAG6sB,eACtD7sB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAG+sB,mBAAoB/sB,EAAGgtB,SAC1DhtB,EAAG2sB,cAAc3sB,EAAGqrB,WAAYrrB,EAAGitB,mBAAoBjtB,EAAGgtB,SAC1D,MAAMiQ,EAASvwG,KAAKqwG,oBACG,WAAnBrwG,KAAKymF,UACPnT,EAAG4jC,aAAa5jC,EAAGqrB,WAAY,EAAG4R,EAAQ7Y,EAAQ,GAAIA,EAAQ,IAE9DpkB,EAAG6rB,WAAW7rB,EAAGqrB,WAAY,EAAGrrB,EAAGykB,KAAML,EAAQ,GAAIA,EAAQ,GAAI,EAAGpkB,EAAGykB,KAAMzkB,EAAG6kB,cAAe,MAEjG7kB,EAAGmrB,qBAAqBnrB,EAAGwpB,YAAaxpB,EAAGorB,kBAAoBlwG,EAAI,EAAG8kF,EAAGqrB,WAAYlN,EAAS,GAE9FzxF,KAAKwyF,eAAez8F,KAAK,IAAIiK,KAAKu4F,mBAAmB,CACnD9G,UACA5qE,KAAM6wE,EACN0S,WAAYpqG,KAAK23F,UACjBzgB,OAAQl3E,KAAKk3E,OACbpgF,QAASkJ,KAAKlJ,QACdsoG,eAAgBp/F,KAAKqwG,oBACrBhR,cAAer/F,KAAKswG,mBACpB14B,OAAQ53E,OAEhB,CACA,CAEEuxG,gBAAAA,GACE,MAAO,EACX,CAEEyB,qBAAAA,GACE,MAAM5wB,EAAapiF,KAAKoiF,WAClB6zB,EAAoBj2G,KAAK82F,2BAA2B92F,KAAK03F,QAAS13F,KAAKoxF,QAC7E,OAAmB,OAAfhP,GAAuBA,EAAW9zF,OAAS,EACtC,MAAO2nH,sBAEP,OAAQA,qBAErB,CAEEzD,uBAAAA,CAAwBv8B,GACtB,MAAMnoD,EAAS,GACT2sD,EAAgBz6E,KAAKy6E,cAC3B,IAAK,IAAIjsF,EAAI,EAAGA,EAAIisF,EAAcnsF,OAAQE,IACxCs/B,EAAO/3B,KAAKiK,KAAKmmF,gBAAgB33F,GAAGyzG,UAAUhsB,EAAKznF,KAErD,OAAOs/B,EAAOvR,KAAK,GACvB,CAEEsmE,eAAAA,GACE,MAAM/0D,EAAS,CAAC9tB,KAAKizG,8BACf7wB,EAAapiF,KAAKoiF,WACxB,GAAmB,OAAfA,EAIF,OAHAt0D,EAAO/3B,KACL,uCAEMiK,KAAK66E,YACX,IAAK,SACL,IAAK,QACL,IAAK,UACH,IAAK,IAAIrsF,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IAAK,CAC1C,MAAM01F,EAAY9B,EAAW5zF,GAC7Bs/B,EAAO/3B,KACoB,YAAzBmuF,EAAUrJ,WACV,uBAAwBqJ,EAAU3zF,WAClC,yBAA0B2zF,EAAU3zF,aACpC,qBAAsB/B,EAAI,mBAAqBA,EAAI,IAEjE,CACU,MACF,IAAK,WACH,IAAK,IAAIA,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IACrCs/B,EAAO/3B,KACL,wBAAyBqsF,EAAW5zF,GAAG+B,OACvC,qBAAsB/B,EAAI,mBAAqBA,EAAI,KAGvD,MACF,IAAK,WACH,IAAK,IAAIA,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IACrCs/B,EAAO/3B,KACL,wBAAyBqsF,EAAW5zF,GAAG+B,OACvC,qBAAsB/B,EAAI,mBAAqBA,EAAI,KAGvD,MACF,IAAK,WACH,IAAK,IAAIA,EAAI,EAAGA,EAAI4zF,EAAW9zF,OAAQE,IACrCs/B,EAAO/3B,KACL,wBAAyBqsF,EAAW5zF,GAAG+B,OACvC,qBAAsB/B,EAAI,mBAAqBA,EAAI,UAM3Ds/B,EAAO/3B,KACL,kBAIJ,OAAO8jF,EAAM8hB,cAAc7tE,GAAU9tB,KAAKy4F,gBAC9C,CAEE8C,sBAAAA,GACE,OAAO1hB,EAAM8hB,cAAc,CACzB,4CACA,aACA,yBAEN,CAEEF,yBAAAA,GACE,OAAQz7F,KAAK66E,YACX,IAAK,iBACL,IAAK,SACL,IAAK,UACL,IAAK,QACH,OAAO76E,KAAKkzG,kCACVlzG,KAAKmzG,qCACT,QACE,MAAM,IAAI9hH,MAAM,4CAA4C2O,KAAK66E,yBAEzE,CAEEq4B,+BAAAA,GACE,OAAOr5B,EAAM8hB,cAAc,CACzB,4CACA,aACA,aAAa37F,KAAKoiG,iBAAmB,iBAAmB,4BAE9D,CAEE+Q,kCAAAA,GACE,MAAMrlF,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,MAAO,GAC7B,IAAK,IAAI5zF,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAEb,YADXwR,KAAKoiF,WAAW5zF,GACpBqsF,WACZ/sD,EAAO/3B,KACL,SAASvH,EAAI,OAAOwR,KAAKoiG,iBAAmB,iBAAmB,oCAAoCpiG,KAAKoiF,WAAW5zF,GAAG+B,UAGxHu9B,EAAO/3B,KACL,SAASvH,EAAI,OAAOwR,KAAKoiG,iBAAmB,iBAAmB,8BAA8BpiG,KAAKoiF,WAAW5zF,GAAG+B,SAItH,OAAOspF,EAAM8hB,cAAc7tE,EAC/B,CAEEwlF,wCAAAA,CAAyCxlF,EAAQulF,GAC/CvlF,EAAO/3B,KACL,4CACA,aACA,WAAWs9G,mBAEjB,CAEEE,2CAAAA,CAA4CzlF,EAAQulF,GAClD,IAAKrzG,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,OAAQE,IAAK,CAC/C,MAAM01F,EAAYlkF,KAAKoiF,WAAW5zF,GACL,YAAzB01F,EAAUrJ,WACZ/sD,EAAO/3B,KACL,SAASvH,EAAI,KAAK6kH,6BAAmCnvB,EAAU3zF,SAGjEu9B,EAAO/3B,KACL,SAASvH,EAAI,KAAK6kH,uBAA6BnvB,EAAU3zF,OAGnE,CACA,CAEEwqG,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,4BAEN,CAEEC,mCAAAA,GACE,MAAMltE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAAG,CAC/C,MAAM01F,EAAYlkF,KAAKoiF,WAAW5zF,GACL,YAAzB01F,EAAUrJ,WACZ/sD,EAAO/3B,KACL,SAASvH,EAAI,gCAAgC01F,EAAU3zF,SAGzDu9B,EAAO/3B,KACL,SAASvH,EAAI,0BAA0B01F,EAAU3zF,OAG3D,CACI,OAAOu9B,CACX,CAEEmtE,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,+BACA,+BAEN,CAEEC,mCAAAA,GACE,MAAMptE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAAG,CAC/C,MAAM01F,EAAYlkF,KAAKoiF,WAAW5zF,GAClCs/B,EAAO/3B,KACL,SAASvH,EAAI,0BAA0B01F,EAAU3zF,UACjD,SAAS/B,EAAI,0BAA0B01F,EAAU3zF,UAEzD,CACI,OAAOu9B,CACX,CAEEqtE,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,+BACA,+BACA,+BAEN,CAEEC,mCAAAA,GACE,MAAMttE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAAG,CAC/C,MAAM01F,EAAYlkF,KAAKoiF,WAAW5zF,GAClCs/B,EAAO/3B,KACL,SAASvH,EAAI,0BAA0B01F,EAAU3zF,UACjD,SAAS/B,EAAI,0BAA0B01F,EAAU3zF,UACjD,SAAS/B,EAAI,0BAA0B01F,EAAU3zF,UAEzD,CACI,OAAOu9B,CACX,CAEEutE,gCAAAA,GACE,MAAO,CACL,4CACA,aACA,yBAEN,CAEEC,mCAAAA,GACE,MAAMxtE,EAAS,GACf,IAAK9tB,KAAKoiF,WAAY,OAAOt0D,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIwR,KAAKoiF,WAAW9zF,SAAUE,EAC5Cs/B,EAAO/3B,KACL,SAASvH,EAAI,uBAAuBwR,KAAKoiF,WAAW5zF,GAAG+B,QAG3D,OAAOu9B,CACX,CAEE6zE,iBAAAA,GACE3hG,KAAKwhG,WAAWoV,uBAAyB,KACzC52G,KAAKwhG,WAAWT,yBAA2B,IAC/C,CAEE9oB,MAAAA,GACE,MAAM6N,EAAOzE,MAAMpJ,SAGnB,OAFA6N,EAAKC,cAAgBxF,EAAgB+B,WAAWtiF,KAAMk0G,GAAoBj8B,SAC1E6N,EAAKzM,SAASse,UAAY33F,KAAK23F,UACxB7R,CACX,EAGA1kC,EAAOL,QAAU,CACf01D,eAEF,EAAE,CAAC,cAAc,IAAI,sBAAsB,EAAE,mBAAmB,GAAG,oBAAoB,GAAG,kBAAkB,GAAG,sBAAsB,GAAG,kBAAkB,MAAM,IAAI,CAAC,SAAS1oH,EAAQqzD,EAAOL,GAC7L,MAAM2qD,EAAe,uTAgBrBtqD,EAAOL,QAAU,CACf2qD,eAEF,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS39G,EAAQqzD,EAAOL,GACnC,MAAMo2D,EAAMppH,EAAQ,WACdqpH,EAAMD,EAAIC,IAChB,IAAK,MAAMx7G,KAAKu7G,EACTA,EAAIhgH,eAAeyE,IACd,QAANA,IACJw7G,EAAIx7G,GAAKu7G,EAAIv7G,IAUf,SAASy7G,EAAOrzG,GACVA,EAAOozG,KACXjmH,OAAOgB,eAAe6R,EAAQ,MAAO,CACnCjE,IAAGA,IACMq3G,GAGb,CAdsB,qBAAXv7G,QACTw7G,EAAOx7G,QAEW,qBAATgmD,MACTw1D,EAAOx1D,MAYTT,EAAOL,QAAUo2D,CACjB,EAAE,CAAC,UAAU,MAAM,IAAI,CAAC,SAASppH,EAAQqzD,EAAOL,GAChD,MAAM,QAAEq4B,GAAYrrF,EAAQ,gBACtB,MAAE8rF,GAAU9rF,EAAQ,WACPA,EAAQ,oBAC3B,MAAM,UAAEyyF,GAAczyF,EAAQ,yBACxB,iBAAE2yG,GAAqB3yG,EAAQ,iCAC/B,aAAE0oH,GAAiB1oH,EAAQ,6BAC3B,YAAEyyG,GAAgBzyG,EAAQ,4BAC1B,kBAAEupH,GAAsBvpH,EAAQ,yBAGhCwpH,EAAc,CAAC7W,EAAkB+V,EAAcjW,GAE/CgX,EAAc,CAAC,MAAO,OAEtBC,EAAkB,CACtB,WAAc/W,EACd,OAAU+V,EACV,MAASjW,GAGX,IAAIzV,GAAW,EAEf,MAAMqsB,EACJ,wBAAOM,GACL3sB,GAAW,CACf,CAEE,uBAAO4sB,GACL5sB,GAAW,CACf,CAEE,yBAAW6sB,GACT,OAAOL,EAAYnK,MAAK9sB,GAAUA,EAAOQ,aAC7C,CAEE,+BAAW+2B,GACT,OAAON,EAAYnK,MAAK9sB,GAAUA,EAAOQ,aAAeR,EAAOI,SAASE,WAC5E,CAEE,qCAAWk3B,GACT,MAA0B,qBAAXC,QAAqD,qBAApBr2B,iBAA6D,qBAAlBs2B,aAC/F,CAEE,2BAAWC,GACT,OAAOzX,EAAY1f,WACvB,CAEE,4BAAWo3B,GACT,OAAOzB,EAAa31B,WACxB,CAEE,gCAAWq3B,GACT,OAAOzX,EAAiB5f,WAC5B,CAEE,4BAAWs3B,GACT,MAAoC,qBAAtBC,iBAClB,CAEE,uCAAWC,GACT,OAAO7B,EAAa31B,WACxB,CAEE,qCAAWy3B,GACT,OAAOhB,EAAYnK,MAAK9sB,GAAUA,EAAOQ,aAAeR,EAAOI,SAAS6U,aAAejV,EAAOI,SAAS+U,gBAC3G,CAEE51F,WAAAA,CAAYw5E,GAUV,GATAA,EAAWA,GAAY,CAAC,EACxBr5E,KAAKs4E,OAASe,EAASf,QAAU,KACjCt4E,KAAKlJ,QAAUuiF,EAASviF,SAAW,KACnCkJ,KAAK8d,KAAOu7D,EAASv7D,KACrB9d,KAAKsgF,OAAS,KACdtgF,KAAKg0G,QAAU,GACfh0G,KAAKumE,UAAY,GACjBvmE,KAAKumF,gBAAkB,GACvBvmF,KAAKojF,eAAiB,KACJ,QAAdpjF,KAAK8d,KAAT,CAEA,GADA9d,KAAKw4G,eACDn/B,EAAS9S,UACX,IAAK,IAAI/3E,EAAI,EAAGA,EAAI6qF,EAAS9S,UAAUj4E,OAAQE,IAC7CwR,KAAKwiG,YAAYnpB,EAAS9S,UAAU/3E,IAIxC,GAAI6qF,EAASkN,gBACX,IAAK,MAAM3qF,KAAKy9E,EAASkN,gBAAiB,CACxC,IAAKlN,EAASkN,gBAAgBpvF,eAAeyE,GAAI,SACjD,MAAMqvE,EAAIoO,EAASkN,gBAAgB3qF,IAC7B,KAAErL,EAAI,OAAEunB,GAAWmzD,EACzBjrE,KAAKyiG,kBAAkBlyG,EAAMunB,EAAQmzD,EAC7C,CAdmC,CAgBnC,CAEEutC,YAAAA,GACE,GAAIx4G,KAAKsgF,OAAQ,OAEjB,IAAIA,EAAS,KAEb,GAAItgF,KAAKlJ,QAAS,CAChB,IAAK,IAAItI,EAAI,EAAGA,EAAI+oH,EAAYjpH,OAAQE,IAAK,CAC3C,MAAMiqH,EAAiBlB,EAAY/oH,GACnC,GAAIiqH,EAAe13B,eAAe/gF,KAAKlJ,SAAU,CAC/C,IAAK2hH,EAAe33B,YAClB,MAAM,IAAIzvF,MAAM,eAAeonH,EAAeloH,sBAEhD+vF,EAASm4B,EACT,KACV,CACA,CACM,GAAe,OAAXn4B,EACF,MAAM,IAAIjvF,MAAM,kBAExB,MAAW,GAAI2O,KAAK8d,KAAM,CACpB,GAAI9d,KAAK8d,QAAQ25F,EACV1sB,IAAY0sB,EAAgBz3G,KAAK8d,MAAMgjE,cAC1CR,EAASm3B,EAAgBz3G,KAAK8d,YAE3B,GAAkB,QAAd9d,KAAK8d,MACd,IAAK,IAAItvB,EAAI,EAAGA,EAAI+oH,EAAYjpH,OAAQE,IACtC,GAAI+oH,EAAY/oH,GAAGsyF,YAAa,CAC9BR,EAASi3B,EAAY/oH,GACrB,KACZ,MAE+B,QAAdwR,KAAK8d,OACdwiE,EAASE,GAEX,IAAKF,EACH,MAAM,IAAIjvF,MAAM,wBAAwB2O,KAAK8d,6BAErD,KAAW,CACL,IAAK,IAAItvB,EAAI,EAAGA,EAAI+oH,EAAYjpH,OAAQE,IACtC,GAAI+oH,EAAY/oH,GAAGsyF,YAAa,CAC9BR,EAASi3B,EAAY/oH,GACrB,KACV,CAEW8xF,IACHA,EAASE,EAEjB,CAESxgF,KAAK8d,OACR9d,KAAK8d,KAAOwiE,EAAOxiE,MAErB9d,KAAKsgF,OAASA,CAClB,CAEEo4B,YAAAA,CAAa5gG,EAAQuhE,GACnB,GAAsB,qBAAXvhE,EACT,MAAM,IAAIzmB,MAAM,4BAElB,GAAsB,kBAAXymB,IAAwB+hE,EAAM8+B,WAAW7gG,IAA6B,kBAAXA,EACpE,MAAM,IAAIzmB,MAAM,mCAGlB,MAAM2iH,EAAUh0G,KAAKg0G,QACrB,GAAkB,QAAdh0G,KAAK8d,KAAgB,CACvB,MAAM86F,EAAYx/B,EAAQthE,EAAQ+gG,EAAsCx/B,IAExE,OADA26B,EAAQj+G,KAAK6iH,GACNA,CACb,CAEI9gG,EAA2B,oBAAXA,EAAwBA,EAAO5b,WAAa4b,EAC5D,MAAMghG,EAAoB,CAAC,EACrBC,EAAeF,EAAsCx/B,IAAa,CAAC,EAKzE,SAASgpB,EAAkBpsB,GACzBrjD,QAAQ8pE,KAAK,uBACb,MAAMsc,EAAiB,IAAIx4B,EAAU1oE,EAAQ,CAC3CioE,cAAek5B,EAAUl5B,cACzB/B,cAAei7B,EAAUj7B,cACzBjG,UAAWkhC,EAAUlhC,UACrB4L,kBAAmBs1B,EAAUt1B,kBAC7BxL,UAAW8gC,EAAU9gC,UACrBuO,cAAeuyB,EAAUvyB,cACzBwyB,gBAAiBD,EAAU/6B,iBAC3BhH,OAAQ+hC,EAAU/hC,OAClBuP,UAAWwyB,EAAUxyB,UACrB5C,SAAUo1B,EAAUp1B,SACpBD,UAAWq1B,EAAUr1B,UACrB4C,oBAAqByyB,EAAUzyB,oBAC/BqE,2BAA4BouB,EAAUpuB,2BACtCtkB,UAAW0yC,EAAU1yC,UACrBggB,gBAAiB0yB,EAAU1yB,gBAC3BnD,eAAgB61B,EAAU71B,eAC1BhB,WAAY62B,EAAU72B,WACtBJ,eAAgBi3B,EAAUj3B,eAC1Bc,MAAOm2B,EAAUn2B,QAEnBk2B,EAAev2B,MAAMp1C,MAAM2rE,EAAgB/iC,GAC3C,MAAMnoD,EAASkrF,EAAej2B,IAAI11C,MAAM2rE,EAAgB/iC,GAExD,OADAgjC,EAAUE,cAAcH,GACjBlrF,CACb,CAEI,SAASu+E,EAAsB+M,EAASnjC,EAAMojC,GACxCA,EAAQv2B,OACVlwD,QAAQ8pE,KAAK,qBAEf,IAAIR,EAAY,KAIhB,GAHImd,EAAQ97B,YAAcu7B,EAAkBO,EAAQ97B,aAClDu7B,EAAkBO,EAAQ97B,WAAa87B,GAErCA,EAAQ3yB,cACV,IAAK,IAAIl4F,EAAI4qH,EAAQ9qH,OAAS,EAAGE,GAAK,EAAGA,IAAK,CAC5C,MAAM+sB,EAAS69F,EAAQ5qH,GACH,4BAAhB+sB,EAAOnrB,OACT8rG,EAAY3gF,EAAOqhF,OAE/B,CAGM,MAAMgI,EAAcyU,EAAQx5G,YACtBkgF,EAAgB6kB,EAAYC,iBAAiBwU,EAASpjC,GACtDsH,EAAYqnB,EAAYxjB,aAAai4B,EAASt5B,GAC9Cu5B,EAAiBR,EAAkBv7B,GACzC,GAAI+7B,EAEF,OADAA,EAAetb,WAAWqb,GACnBC,EAGT,MAAMC,EAAYT,EAAkBv7B,GAAa,IAAIqnB,EAAY9sF,EAAQ,CACvEioE,gBACA/B,cAAeq7B,EAAQr7B,cACvBjG,UAAWshC,EAAQthC,UACnB4L,kBAAmB01B,EAAQ11B,kBAC3BxL,UAAWkhC,EAAQlhC,UACnBuO,cAAe2yB,EAAQ3yB,cACvBwyB,gBAAiBG,EAAQn7B,iBACzBpnF,QAASuiH,EAAQviH,QACjBwhF,OAAQ+gC,EAAQ/gC,OAChBpB,OAAQglB,GAAamd,EAAQniC,OAC7BuP,UAAW4yB,EAAQ5yB,UACnB5C,SAAUw1B,EAAQx1B,SAClBD,UAAWy1B,EAAQz1B,UACnB4C,oBAAqB6yB,EAAQ7yB,oBAC7BqE,2BAA4BwuB,EAAQxuB,2BACpCtkB,UAAW8yC,EAAQ9yC,UACnBggB,gBAAiB8yB,EAAQ9yB,gBACzBnD,eAAgBi2B,EAAQj2B,eACxBhB,WAAYi3B,EAAQj3B,WACpBJ,eAAgBq3B,EAAQr3B,eACxBc,MAAOu2B,EAAQv2B,MACfyf,IAAK8W,EAAQ9W,IACbxX,WACAlQ,WAAYw+B,EAAQx+B,WACpBuW,OAAQioB,EAAQjoB,OAChBiR,oBACAgK,wBACA5a,QAAS4nB,EAAQ5nB,QACjBe,eAAgB6mB,EAAQ7mB,eACxB4Z,eAAgBiN,EAAQjN,iBAK1B,OAHAmN,EAAU92B,MAAMp1C,MAAMksE,EAAWtjC,GACjCgjC,EAAUE,cAAcI,GACxBvF,EAAQj+G,KAAKwjH,GACNA,CACb,CA/FQlgC,GAA8C,kBAA3BA,EAAS0G,gBAC9Bg5B,EAAah5B,cAAgB5uF,OAAOkgB,KAAKgoE,EAAS0G,eAAej5D,KAAI4zD,GAAgBrB,EAAS0G,cAAcrF,MA+F9G,MAAM8+B,EAAiBroH,OAAOD,OAAO,CACnC4F,QAASkJ,KAAKlJ,QACdwhF,OAAQt4E,KAAKs4E,OACb/R,UAAWvmE,KAAKumE,UAChBggB,gBAAiBvmF,KAAKumF,gBACtBnD,eAAgBpjF,KAAKojF,eACrBmf,IAAKviG,KACL+qF,WACAsX,oBACAgK,yBACC0M,GAEGnhC,EAAS,IAAI53E,KAAKsgF,OAAOxoE,EAAQ0hG,GACjCP,EAAY3B,EAAkB1/B,GAYpC,OAVK53E,KAAKs4E,SACRt4E,KAAKs4E,OAASV,EAAOU,QAGlBt4E,KAAKlJ,UACRkJ,KAAKlJ,QAAU8gF,EAAO9gF,SAGxBk9G,EAAQj+G,KAAK6hF,GAENqhC,CACX,CAEEQ,eAAAA,GACE,IAAI7nH,EACAynF,EACJ,MAAMqgC,SAAuBrrH,UAAUA,UAAUC,OAAS,GAQ1D,GAPsB,aAAlBorH,GAAkD,WAAlBA,GAClC9nH,EAAKvD,UAAUA,UAAUC,OAAS,GAClC+qF,EAAWhrF,UAAUA,UAAUC,OAAS,IAExCsD,EAAKvD,UAAUA,UAAUC,OAAS,GAGlB,QAAd0R,KAAK8d,QACF9d,KAAKsgF,OAAOQ,cAAgB9gF,KAAKsgF,OAAOI,SAASE,YAChD5gF,KAAK8d,MAAQ05F,EAAY/lH,QAAQuO,KAAK8d,MAAQ,EAChD,MAAM,IAAIzsB,MAAM,8BAA8B2O,KAAKsgF,OAAO/vF,QAKhE,MAAMwoH,EAAeF,EAAsCx/B,GAK3D,GAJIA,GAA8C,kBAA3BA,EAAS0G,gBAC9Bg5B,EAAah5B,cAAgB5uF,OAAOkgB,KAAKgoE,EAAS0G,eAAej5D,KAAI4zD,GAAgBrB,EAAS0G,cAAcrF,MAG1G3lF,MAAMC,QAAQ3G,UAAU,IAAK,CAC/B0qH,EAAa32B,WAAa,GAC1B,MAAM7b,EAAYl4E,UAAU,GAC5B,IAAK,IAAIG,EAAI,EAAGA,EAAI+3E,EAAUj4E,OAAQE,IAAK,CACzC,MAAMspB,EAASyuD,EAAU/3E,GAAG0N,WACtB3L,EAAOspF,EAAM4Q,0BAA0B3yE,GAC7CihG,EAAa32B,WAAWrsF,KAAK,CAC3BxF,OACAunB,SACA8qB,SAAUp0C,GAEpB,CACA,KAAW,CACLuqH,EAAa32B,WAAa,GAC1B,MAAM7b,EAAYl4E,UAAU,GAC5B,IAAK,IAAIuN,KAAK2qE,EAAW,CACvB,IAAKA,EAAUpvE,eAAeyE,GAAI,SAClC,MAAMkc,EAASyuD,EAAU3qE,GAAGM,WACtB3L,EAAOspF,EAAM4Q,0BAA0B3yE,GAC7CihG,EAAa32B,WAAWrsF,KAAK,CAC3BxF,KAAMA,GAAQqL,EACdkc,SACA8qB,SAAUhnC,GAEpB,CACA,CACI,OAAOoE,KAAK04G,aAAa9mH,EAAImnH,EACjC,CAEE73B,cAAAA,GACE,MACMC,EAAiB9yF,UAAUA,UAAUC,OAAS,GACpD,GAA4C,QAFxBD,UAAU,GAEdupF,OAAO/3E,YAAYie,KAAgB,OAAOqjE,EAC1D,MAAM7I,EAASjqF,UAAU,GAAGiqF,OACtBxhF,EAAUzI,UAAU,GAAGyI,QACvBkvD,EAAM33D,UAAUC,OAAS,EAC/B,IAAK,IAAIE,EAAI,EAAGA,EAAIw3D,EAAKx3D,IACvBH,UAAUG,GACP6pF,UAAUC,GACVC,WAAWzhF,GACXwsG,aAAY,GAGjB,OAAO,WACL,MAAM7R,EAAUtQ,EAAe9zC,MAAMrtC,KAAM3R,WAC3C,OAAIojG,EAAQluC,QACHkuC,EAAQluC,UAEVkuC,CACb,CACA,CAEE0R,YAAAA,CAAa58B,GAEX,OADAvmE,KAAKumE,UAAYA,EACVvmE,IACX,CAEEojG,kBAAAA,CAAmB7c,GAEjB,OADAvmF,KAAKumF,gBAAkBA,EAChBvmF,IACX,CAEEwiG,WAAAA,CAAY1qF,EAAQuhE,GAElB,OADAr5E,KAAKumE,UAAUxwE,KAAK,CAAE+hB,SAAQuhE,aACvBr5E,IACX,CAEEyiG,iBAAAA,CAAkBlyG,EAAMunB,EAAQuhE,GAC9B,GAAIr5E,KAAKg0G,QAAQ1lH,OAAS,EACxB,MAAM,IAAI+C,MAAM,0EAGlB,OADA2O,KAAKumF,gBAAgBxwF,KAAK5E,OAAOD,OAAO,CAAEX,OAAMunB,UAAUuhE,IACnDr5E,IACX,CAEE25G,YAAAA,CAAa7hG,GAEX,OADA9X,KAAKojF,eAAiBtrE,EACf9X,IACX,CAEE8oB,OAAAA,GACE,OAAO,IAAIid,SAAQ,CAACnjB,EAASojB,KACtBhmC,KAAKg0G,SACRpxF,IAEFyQ,YAAW,KACT,IACE,IAAK,IAAI7kC,EAAI,EAAGA,EAAIwR,KAAKg0G,QAAQ1lH,OAAQE,IACvCwR,KAAKg0G,QAAQxlH,GAAGs6B,SAAQ,GAE1B,IAAI8wF,EAAc55G,KAAKg0G,QAAQ,GAC3B4F,IACEA,EAAYhiC,SACdgiC,EAAcA,EAAYhiC,QAExBgiC,EAAY/5G,YAAYgmF,gBAC1B+zB,EAAY/5G,YAAYgmF,eAAe7lF,KAAKlJ,SAG1D,CAAU,MAAOgK,GACPklC,EAAOllC,EACjB,CACQ8hB,GAAS,GACR,EAAE,GAEX,EAIA,SAASi2F,EAAsCx/B,GAC7C,IAAKA,EACH,MAAO,CAAC,EAEV,MAAMwgC,EAAmB1oH,OAAOD,OAAO,CAAC,EAAGmoF,GAkB3C,OAhBIA,EAASliF,eAAe,iBAC1B0iF,EAAMsd,eAAe,UAAW,cAAe,aAC/C0iB,EAAiBpzB,UAAYpN,EAASygC,YAAc,SAAW,YAE7DzgC,EAASliF,eAAe,qBAC1B0iF,EAAMsd,eAAe,UAAW,kBAAmB,YACnD0iB,EAAiBh2B,SAAWgG,QAAQxQ,EAAS0gC,kBAE3C1gC,EAASliF,eAAe,qBAC1B0iF,EAAMsd,eAAe,UAAW,kBAAmB,aACnD0iB,EAAiBj2B,UAAYiG,QAAQxQ,EAAS2gC,kBAE5C3gC,EAASliF,eAAe,mBAC1B0iF,EAAMsd,eAAe,UAAW,gBAAiB,uBACjD0iB,EAAiBrzB,oBAAsBqD,QAAQxQ,EAAS+d,gBAEnDyiB,CACT,CAEAz4D,EAAOL,QAAU,CACfq2D,MACAG,cACAC,cAEF,EAAE,CAAC,uBAAuB,EAAE,+BAA+B,GAAG,mBAAmB,GAAG,0BAA0B,GAAG,2BAA2B,IAAI,wBAAwB,IAAI,UAAU,IAAI,cAAc,IAAI,IAAI,CAAC,SAASzpH,EAAQqzD,EAAOL,GACzO,MAAM,IAAEq2D,GAAQrpH,EAAQ,UAClB,MAAE+rF,GAAU/rF,EAAQ,YACpB,MAAE8rF,GAAU9rF,EAAQ,YACpB,MAAEo0G,EAAK,MAAEr9C,GAAU/2D,EAAQ,YAC3B,QAAE8wG,GAAY9wG,EAAQ,cACtB,gBAAEwyF,GAAoBxyF,EAAQ,+BAC9B,aAAEosF,GAAiBpsF,EAAQ,4BAC3B,gBAAEqsF,GAAoBrsF,EAAQ,gCAC9B,UAAEyyF,GAAczyF,EAAQ,yBAExB,iBAAE2yG,GAAqB3yG,EAAQ,iCAE/B,kBAAEm3G,GAAsBn3G,EAAQ,mCAChC,YAAEyyG,GAAgBzyG,EAAQ,4BACxBi7G,gBAAiBiR,GAAyBlsH,EAAQ,uCAEpD,mBAAEmmH,GAAuBnmH,EAAQ,oCACjC,aAAE0oH,GAAiB1oH,EAAQ,6BACzBi7G,gBAAiBkR,GAA0BnsH,EAAQ,wCAErD,SAAE4mG,GAAa5mG,EAAQ,wBAEvB,OAAEuyF,GAAWvyF,EAAQ,qBAErB,eAAEy8F,GAAmBz8F,EAAQ,6BAE7BosH,EAAapsH,EAAQ,+CAE3BqzD,EAAOL,QAAU,CACf+4B,QACAM,kBACAoG,YACA42B,MACA72B,kBACApG,eACAumB,mBACAyB,QACAr9C,QACA+5C,UACAhlB,QAEAq6B,qBACAuC,eACAyD,wBAEAhV,oBACA1E,cACAyZ,uBAEAtlB,WACArU,SACAkK,iBAEAj2B,QAAS,CACP4lD,cAGJ,EAAE,CAAC,UAAU,EAAE,8BAA8B,EAAE,uBAAuB,EAAE,6BAA6B,EAAE,0BAA0B,GAAG,4BAA4B,GAAG,sBAAsB,GAAG,+BAA+B,GAAG,mBAAmB,GAAG,iCAAiC,GAAG,0BAA0B,GAAG,qCAAqC,GAAG,kCAAkC,GAAG,2BAA2B,IAAI,sCAAsC,GAAG,QAAQ,IAAI,UAAU,IAAI,8CAA8C,IAAI,YAAY,IAAI,UAAU,MAAM,IAAI,CAAC,SAASpsH,EAAQqzD,EAAOL,GACnlB,MAAMohD,EACJtiG,WAAAA,CAAY7M,EAAO6zB,GACjB7mB,KAAKhN,MAAQA,EACT+B,MAAMC,QAAQ6xB,GAChB7mB,KAAK6mB,KAAOA,GAEZ7mB,KAAK6mB,KAAO,IAAI+7E,WAAW,GACvB/7E,EAAKuwD,EACPp3E,KAAK6mB,KAAO,IAAI+7E,WAAW,CAAC/7E,EAAKh2B,EAAGg2B,EAAK7V,EAAG6V,EAAKuwD,IACxCvwD,EAAK7V,EACdhR,KAAK6mB,KAAO,IAAI+7E,WAAW,CAAC/7E,EAAKh2B,EAAGg2B,EAAK7V,IAEzChR,KAAK6mB,KAAO,IAAI+7E,WAAW,CAAC/7E,EAAKh2B,KAIrC,MAAO+mG,EAAGC,EAAGx+C,GAAKr5C,KAAK6mB,KACvB,GAAIwyB,GACF,GAAIr5C,KAAKhN,MAAM1E,SAAYspG,EAAIC,EAAIx+C,EACjC,MAAM,IAAIhoD,MAAM,cAAc2O,KAAKhN,MAAM1E,yBAAyBspG,OAAOC,OAAOx+C,OAAQw+C,EAAID,EAAIv+C,UAE7F,GAAIw+C,GACT,GAAI73F,KAAKhN,MAAM1E,SAAYspG,EAAIC,EAC7B,MAAM,IAAIxmG,MAAM,cAAc2O,KAAKhN,MAAM1E,yBAAyBspG,OAAOC,OAAQA,EAAID,UAGvF,GAAI53F,KAAKhN,MAAM1E,SAAWspG,EACxB,MAAM,IAAIvmG,MAAM,cAAc2O,KAAKhN,MAAM1E,yBAAyBspG,IAI1E,CAEEr0C,OAAAA,GACE,MAAM,MAAEs2B,GAAU9rF,EAAQ,YACnB6pG,EAAGC,EAAGx+C,GAAKr5C,KAAK6mB,KACvB,OAAIwyB,EACKwgC,EAAM8f,4BAA4B35F,KAAKhN,MAAM2mF,SAAW35E,KAAKhN,MAAQ,IAAIikF,aAAaj3E,KAAKhN,OAAQ4kG,EAAGC,EAAGx+C,GACvGw+C,EACFhe,EAAM+f,4BAA4B55F,KAAKhN,MAAM2mF,SAAW35E,KAAKhN,MAAQ,IAAIikF,aAAaj3E,KAAKhN,OAAQ4kG,EAAGC,GAEtG73F,KAAKhN,KAElB,EAGA,SAAS8xD,EAAM9xD,EAAO6zB,GACpB,OAAO,IAAIs7E,EAAMnvG,EAAO6zB,EAC1B,CAEAu6B,EAAOL,QAAU,CACfohD,QACAr9C,QAEF,EAAE,CAAC,UAAU,MAAM,IAAI,CAAC,SAAS/2D,EAAQqzD,EAAOL,GAChD,MAAM,MAAE84B,GAAU9rF,EAAQ,WAE1B,SAASupH,EAAkB1/B,GACzB,IAAImL,EAAM,WAkBR,OAjBAnL,EAAO6K,MAAMp1C,MAAMuqC,EAAQvpF,WAC3B00F,EAAM,WACJ,IAAIj1D,EAAS8pD,EAAOmL,IAAI11C,MAAMuqC,EAAQvpF,WACtC,GAAIupF,EAAOghB,iBAAkB,CAC3B,MAAMwgB,EAAUxhC,EAAOokB,wBACjBud,EAAY3hC,EAAOy0B,sBAAsB+M,EAAS/qH,UAAWupF,GACnEwiC,EAASxiC,OAASA,EAAS2hC,EAC3BzrF,EAASyrF,EAAUx2B,IAAI11C,MAAMksE,EAAWlrH,UAChD,CACM,OAAIupF,EAAOsa,cACFta,EAAOsa,gBACLta,EAAOka,aACTla,EAAOka,eAEPhkE,CAEf,EACWi1D,EAAI11C,MAAMuqC,EAAQvpF,UAC7B,EACE,MAAM+rH,EAAW,WACf,OAAOr3B,EAAI11C,MAAMuqC,EAAQvpF,UAC7B,EAgBE,OAfA+rH,EAASzrD,KAAO,WACd,OAAO,IAAI5oB,SAAQ,CAACs0E,EAAQr0E,KAC1B,IACEq0E,EAAOt3B,EAAI11C,MAAMrtC,KAAM3R,WAC/B,CAAQ,MAAOyS,GACPklC,EAAOllC,EACf,IAEA,EACEs5G,EAASjB,cAAgB,SAASmB,GAEhCC,EADA3iC,EAAS0iC,EACoBF,EACjC,EAEEG,EAAqB3iC,EAAQwiC,GACtBA,CACT,CAEA,SAASG,EAAqB3iC,EAAQwiC,GACpC,GAAIA,EAASxiC,OAEX,YADAwiC,EAASxiC,OAASA,GAGpB,MAAMhZ,EAAaib,EAAM2gC,gBAAgB5iC,GACzC,IAAK,IAAIppF,EAAI,EAAGA,EAAIowE,EAAWtwE,OAAQE,IAAK,CAC1C,MAAMo0C,EAAWg8B,EAAWpwE,GACR,MAAhBo0C,EAAS,IAA8B,MAAhBA,EAAS,KACJ,oBAArBg1C,EAAOh1C,GACiB,QAA7BA,EAAS63E,UAAU,EAAG,IAA6C,QAA7B73E,EAAS63E,UAAU,EAAG,GAC9DL,EAASx3E,GAAY,WAEnB,OADAw3E,EAASxiC,OAAOh1C,GAAUyK,MAAM+sE,EAASxiC,OAAQvpF,WAC1C+rH,CACjB,EAEQA,EAASx3E,GAAY,WACnB,OAAOw3E,EAASxiC,OAAOh1C,GAAUyK,MAAM+sE,EAASxiC,OAAQvpF,UAClE,GAGM+rH,EAASM,iBAAiB93E,GAAU,IAAMw3E,EAASxiC,OAAOh1C,KAC1Dw3E,EAASO,iBAAiB/3E,GAAW5vC,IACnConH,EAASxiC,OAAOh1C,GAAY5vC,CAAK,KAGzC,CACEonH,EAASxiC,OAASA,CACpB,CACAx2B,EAAOL,QAAU,CACfu2D,oBAEF,EAAE,CAAC,UAAU,MAAM,IAAI,CAAC,SAASvpH,EAAQqzD,EAAOL,GAChD,MA8BM4jD,EAAS,CACbp0G,KAbW,oCAcXu/G,YAPmBl4B,IACnBA,EAAOmzB,aAAa,cAAe3xG,KAAK6C,UACxC27E,EAAOmzB,aAAa,cAAe3xG,KAAK6C,SAAS,EAMjD+qG,cAboB,gBAcpBC,gBAZsB,mBAatB2T,mBAXyB,SAYzB9iG,OApCa,ijBAuCfspC,EAAOL,QAAU4jD,CACjB,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS52G,EAAQqzD,EAAOL,GACnC,MAAM89C,EACJh/F,WAAAA,CAAYw5E,GACV,MAAM,QACJoY,EAAO,KACP5qE,EAAI,WACJujF,EAAU,OACVlzB,EAAM,QACNpgF,EAAO,KACP1G,EAAO,gBAAe,OACtBwnF,EAAM,eACNwnB,EAAc,cACdC,GACEhmB,EACJ,IAAKnC,EAAQ,MAAM,IAAI7lF,MAAM,wCAC7B,IAAKyF,EAAS,MAAM,IAAIzF,MAAM,yCAC9B,IAAKogG,EAAS,MAAM,IAAIpgG,MAAM,yCAC9B,IAAKumF,EAAQ,MAAM,IAAIvmF,MAAM,wCAC7B2O,KAAKyxF,QAAUA,EACXA,EAAQqM,MACVrM,EAAQqM,QAERrM,EAAQqM,MAAQ,EAElB99F,KAAK6mB,KAAOA,EACZ7mB,KAAKoqG,WAAaA,EAClBpqG,KAAKk3E,OAASA,EACdl3E,KAAKlJ,QAAUA,EACfkJ,KAAK43E,OAASA,EACd53E,KAAK5P,KAAOA,EACZ4P,KAAK4+F,UAAW,EAChB5+F,KAAKo/F,eAAiBA,EACtBp/F,KAAKq/F,cAAgBA,CACzB,CAEE97C,OAAAA,GACE,MAAM,IAAIlyD,MAAM,sBAAsB2O,KAAKH,YAAYtP,OAC3D,CAEE8rC,KAAAA,GACE,MAAM,IAAIhrC,MAAM,sBAAsB2O,KAAKH,YAAYtP,OAC3D,CAEE6uB,SACE,MAAM,IAAI/tB,MAAM,sBAAsB2O,KAAKH,YAAYtP,OAC3D,CAEEgvG,KAAAA,GACE,MAAM,IAAIluG,MAAM,sBAAsB2O,KAAKH,YAAYtP,OAC3D,EAGA6wD,EAAOL,QAAU,CACf89C,UAEF,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS9wG,EAAQqzD,EAAOL,GACnC,MAAMkG,EAAQl5D,EAAQ,UAChB,MAAEo0G,GAAUp0G,EAAQ,YACpB,QAAE8wG,GAAY9wG,EAAQ,aAEtB8sH,EAAgB,mBAChBC,EAAiB,mCACjBC,EAAiB,aAEjBlhC,EAAQ,CACZkyB,iBAAgBA,IACPiP,EAETC,mBAAAA,GACE,MAAMl2G,EAAI,IAAIm2G,YAAY,GACpB12G,EAAI,IAAI4mG,YAAYrmG,GACpByyB,EAAI,IAAI0gE,WAAWnzF,GAEzB,GADAP,EAAE,GAAK,WACM,MAATgzB,EAAE,GAAa,MAAO,KAC1B,GAAa,MAATA,EAAE,GAAa,MAAO,KAC1B,MAAM,IAAInmC,MAAM,qBACpB,EAEEsnH,WAAWwC,GACkB,oBAAbA,EAGhBjwB,iBAAiBt5F,GACG,kBAAPA,GAGY,aAFbA,EACLuK,MAAM,EAAG,GACT4C,cAKP0rF,yBAAAA,CAA0B2wB,GACxB,MAAMttF,EAAS+sF,EAAclsD,KAAKysD,GAClC,OAAKttF,GAA4B,IAAlBA,EAAOx/B,OACfw/B,EAAO,GAAGt8B,OAD0B,IAE/C,EAEE0oF,0BAA0BkhC,GACjBA,EAAQX,UAAUW,EAAQ3pH,QAAQ,KAAO,EAAG2pH,EAAQlpD,YAAY,MAGzE+nB,0BAAAA,CAA2BroF,GACzB,MAAMypH,EAAQzpH,EAAG6B,QAAQqnH,EAAgB,IACzC,IAAIhtF,EAASutF,EAAMl/G,MAAMk/G,EAAM5pH,QAAQ,KAAO,EAAG4pH,EAAM5pH,QAAQ,MAAMH,MAAMypH,GAI3E,OAHe,OAAXjtF,IACFA,EAAS,IAEJA,CACX,EAEEuO,KAAAA,CAAM0xB,GACJ,GAAY,OAARA,GAA+B,kBAARA,GAAoBA,EAAI52D,eAAe,iBAAkB,OAAO42D,EAE3F,MAAMja,EAAOia,EAAIluD,cAEjB,IAAK,IAAI8L,KAAOoiD,EACV58D,OAAOiB,UAAU+E,eAAe3E,KAAKu7D,EAAKpiD,KAC5CoiD,EAAIutD,cAAgB,KACpBxnE,EAAKnoC,GAAOkuE,EAAMx9C,MAAM0xB,EAAIpiD,WACrBoiD,EAAIutD,eAIf,OAAOxnE,CACX,EAEE9+C,QAAQ+xB,IACEmxB,MAAMnxB,EAAMz4B,QAGtByzF,eAAAA,CAAgB/uF,EAAOgvF,GACrB,GAAInI,EAAM7kF,QAAQhC,GAChB,OAAIA,EAAM1E,OAAS,GAA2B,QAAtB0E,EAAM,GAAGwM,SACxB,iBAEF,QAGT,OAAQxM,EAAM6M,aACZ,KAAKgqF,QACH,MAAO,UACT,KAAKsC,OACH,OAAInK,GAAkBmK,OAAOC,UAAUp5F,GAC9B,UAEF,QACT,KAAK6rG,EACH,OAAO7rG,EAAM5C,KACf,KAAK+xG,EACH,MAAO,QAEX,GAAI,aAAcnvG,EAChB,OAAQA,EAAMwM,UACZ,IAAK,MAEL,IAAK,SACH,MAAO,YACT,IAAK,QACH,MAAO,gBAEN,IAAIxM,EAAMmE,eAAe,QAC9B,OAAOnE,EAAM5C,KACR,GAA+B,qBAApBsxF,iBAAmC1uF,aAAiB0uF,gBACpE,MAAO,kBACF,GAA2B,qBAAhB65B,aAA+BvoH,aAAiBuoH,YAChE,MAAO,cACF,GAAyB,qBAAdh3B,WAA6BvxF,aAAiBuxF,UAC9D,MAAO,WACb,CACI,MAAO,SACX,EAEE+X,oBAAAA,CAAqBjjB,EAAU+wB,GAC7B,IAAKxS,EAAGC,EAAGx+C,GAAK+wD,EACZoR,GAAc5jB,GAAK,IAAMC,GAAK,IAAMx+C,GAAK,GAK7C,OAHIggC,EAASmN,qBAA8C,WAAvBnN,EAASoN,YAC3CmR,EAAI4jB,EAAapiH,KAAK0+F,KAAK0jB,EAAa,IAEtC3jB,EAAI,GAAKD,EAAIC,IAAM2jB,EACd,IAAI5Y,WAAW,CAAChL,EAAGC,IAErBhe,EAAM4hC,wBAAwBD,EACzC,EAEEC,uBAAAA,CAAwBntH,GACtB,MAAMotH,EAAOtiH,KAAKsiH,KAAKptH,GACvB,IAAIkvG,EAAOpkG,KAAK0+F,KAAK4jB,GACjBpe,EAAMlkG,KAAK0/E,MAAM4iC,GACrB,KAAOle,EAAOF,EAAMhvG,GAClBkvG,IACAF,EAAMlkG,KAAK0+F,KAAKxpG,EAASkvG,GAE3B,OAAO,IAAIoF,WAAW,CAACtF,EAAKlkG,KAAK0+F,KAAKxpG,EAASgvG,IACnD,EAEEkN,kCAAAA,CAAmCJ,EAAYrgB,GAC7C,MACMyxB,EADY3hC,EAAM8hC,SAASvR,EAAW,IAAM,IAAMA,EAAW,IAAM,IAAMA,EAAW,IAAM,IAAMA,EAAW,IAAM,GAAI,GAC5FrgB,EAC/B,OAAOlQ,EAAM4hC,wBAAwBD,EACzC,EAEE7Q,mCAAAA,CAAoCP,EAAYrgB,GAC9C,MAAO6N,EAAGC,EAAGx+C,GAAK+wD,EAEZoR,EADY3hC,EAAM8hC,SAAS/jB,GAAK,IAAMC,GAAK,IAAMx+C,GAAK,GAAI,IAChC,EAAI0wC,GACpC,OAAOlQ,EAAM4hC,wBAAwBD,EACzC,EAEEG,QAAOA,CAACr4D,EAAGjK,IACFjgD,KAAK0/E,OAAOx1B,EAAIjK,EAAI,GAAKA,GAAKA,EAEvC4oC,aAAAA,CAAcpxF,EAAG+qH,GACf,IAAI1yB,EACJ,GAAIrP,EAAM7kF,QAAQnE,GAAI,CACpB,MAAMgrH,EAAM,GACZ,IAAI/nE,EAAOjjD,EACX,KAAOgpF,EAAM7kF,QAAQ8+C,IACnB+nE,EAAI9lH,KAAK+9C,EAAKxlD,QACdwlD,EAAOA,EAAK,GAEdo1C,EAAM2yB,EAAI9yB,SAChB,MAAW,GAAIl4F,aAAaguG,EACtB3V,EAAMr4F,EAAEqmF,WACH,MAAIrmF,aAAasxG,GAGtB,MAAM,IAAI9wG,MAAM,yBAAyBR,KAFzCq4F,EAAMr4F,EAAEg2B,IAGd,CAEI,GAAI+0F,EAEF,IADA1yB,EAAMn0F,MAAMshF,KAAK6S,GACVA,EAAI56F,OAAS,GAClB46F,EAAInzF,KAAK,GAIb,OAAO,IAAI6sG,WAAW1Z,EAC1B,EAEEyI,gBAAAA,CAAiB5qE,EAAO/iB,GACtB,IAAI0N,EAAS,EACb,IAAK,IAAIV,EAAI,EAAGA,EAAI+V,EAAMz4B,OAAQ0iB,IAChChN,EAAO3R,IAAI00B,EAAM/V,GAAIU,GACrBA,GAAUqV,EAAM/V,GAAG1iB,MAEzB,EAEEsjG,gBAAAA,CAAiB7qE,EAAO/iB,GACtB,IAAI0N,EAAS,EACb,IAAK,IAAI0lE,EAAI,EAAGA,EAAIrwD,EAAMz4B,OAAQ8oF,IAChC,IAAK,IAAIpmE,EAAI,EAAGA,EAAI+V,EAAMqwD,GAAG9oF,OAAQ0iB,IACnChN,EAAO3R,IAAI00B,EAAMqwD,GAAGpmE,GAAIU,GACxBA,GAAUqV,EAAMqwD,GAAGpmE,GAAG1iB,MAG9B,EAEEujG,gBAAAA,CAAiB9qE,EAAO/iB,GACtB,IAAI0N,EAAS,EACb,IAAK,IAAIw5D,EAAI,EAAGA,EAAInkD,EAAMz4B,OAAQ48E,IAChC,IAAK,IAAIkM,EAAI,EAAGA,EAAIrwD,EAAMmkD,GAAG58E,OAAQ8oF,IACnC,IAAK,IAAIpmE,EAAI,EAAGA,EAAI+V,EAAMmkD,GAAGkM,GAAG9oF,OAAQ0iB,IACtChN,EAAO3R,IAAI00B,EAAMmkD,GAAGkM,GAAGpmE,GAAIU,GAC3BA,GAAUqV,EAAMmkD,GAAGkM,GAAGpmE,GAAG1iB,MAInC,EAEEojG,SAAAA,CAAU3qE,EAAO/iB,GACX61E,EAAM7kF,QAAQ+xB,EAAM,IAClB8yD,EAAM7kF,QAAQ+xB,EAAM,GAAG,IACrB8yD,EAAM7kF,QAAQ+xB,EAAM,GAAG,GAAG,IAC5B8yD,EAAMgY,iBAAiB9qE,EAAO/iB,GAE9B61E,EAAM+X,iBAAiB7qE,EAAO/iB,GAGhC61E,EAAM8X,iBAAiB5qE,EAAO/iB,GAGhCA,EAAO3R,IAAI00B,EAEjB,EAEEsxE,UAAAA,CAAWtxE,EAAO+0F,GAChB,MAAMhuF,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAIu4B,EAAMz4B,OAAQE,GAAKstH,EACrChuF,EAAO/3B,KAAK,IAAIgxB,EAAMlnB,YAAYknB,EAAMqxE,OAAY,EAAJ5pG,EAAQu4B,EAAMg1F,WAAYD,IAE5E,OAAOhuF,CACX,EAEEqgE,YAAAA,CAAar2E,EAAQwiE,GACnB,MAAM0hC,EAAQjnH,MAAMC,QAAQ8iB,GAAUA,EAASA,EAAOzkB,MAAM,UACtDmS,EAAQ80E,EAAI/pB,IAAI/qD,MAChBC,EAAM60E,EAAI/pB,IAAI9qD,IACdqoB,EAAS,GACf,GAAItoB,EAAM2oD,OAAS1oD,EAAI0oD,KACrBrgC,EAAO/3B,KAAKimH,EAAMx2G,EAAM2oD,KAAO,GAAGssD,UAAUj1G,EAAM6oD,OAAQ5oD,EAAI4oD,aACzD,CACLvgC,EAAO/3B,KAAKimH,EAAMx2G,EAAM2oD,KAAO,GAAGhyD,MAAMqJ,EAAM6oD,SAC9C,IAAK,IAAI7/D,EAAIgX,EAAM2oD,KAAM3/D,EAAIiX,EAAI0oD,KAAM3/D,IACrCs/B,EAAO/3B,KAAKimH,EAAMxtH,IAEpBs/B,EAAO/3B,KAAKimH,EAAMv2G,EAAI0oD,KAAO,GAAGhyD,MAAM,EAAGsJ,EAAI4oD,QACnD,CACI,OAAOvgC,EAAOvR,KAAK,KACvB,EAEEi+F,eAAAA,CAAgBzsD,GACd,MAAMxpD,EAAQ,GAEd,GACEA,EAAMxO,KAAKs3C,MAAM9oC,EAAOpT,OAAO8qH,oBAAoBluD,UAC5CA,EAAM58D,OAAO+qH,eAAenuD,IAErC,OAAOxpD,CACX,EAEEo3F,cAAcqgB,GACRA,EAAM1tH,OAAS,EACV0tH,EAAMz/F,KAAK,OAAS,MAEpB,KAGX46E,cAAAA,CAAe/mG,EAAM+rH,EAASC,GACxBA,EACFxpF,QAAQ8pE,KAAK,8BAA+BtsG,MAAW+rH,kCAA0CC,8DAEjGxpF,QAAQ8pE,KAAK,8BAA+BtsG,MAAW+rH,kFAE7D,EACExjC,WAAYA,CAACW,EAAQltE,EAAOC,KAC1B,MAAMktE,EAAaltE,EAAS,EAAI,EAC1BmtE,EAAsB,EAARptE,EACd0nC,EAAO,IAAIqlC,kBAA0B,EAAR/sE,GAC7B0hB,EAASwrD,EAAOn9E,MAAM,GAC5B,IAAK,IAAI6U,EAAI,EAAGA,EAAIuoE,IAAcvoE,EAAG,CACnC,MAAMyoE,EAAYzoE,EAAIwoE,EAChBE,GAAgBrtE,EAAS2E,EAAI,GAAKwoE,EAExC1lC,EAAKzhD,IAAIy7B,EAAO6rD,SAASF,EAAWA,EAAYD,IAEhD1rD,EAAO8rD,WAAWH,EAAWC,EAAcA,EAAeF,GAE1D1rD,EAAOz7B,IAAIyhD,EAAM4lC,EACvB,CACI,OAAO5rD,CAAM,EAEf2rE,iBAAkBA,CAAC1yE,EAAO3a,IACjB2a,EAAM4yD,SAAS,EAAGvtE,GAE3BotF,mBAAoBA,CAACzyE,EAAO3a,EAAOC,KACjC,MAAMgwG,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMsrG,EAAStrG,EAAI5E,EACbmwG,EAAOD,EAASlwG,EACtBiwG,EAASrrG,GAAK+V,EAAM4yD,SAAS2iC,EAAQC,EAC3C,CACI,OAAOF,CAAQ,EAEjB9iB,mBAAoBA,CAACxyE,EAAO3a,EAAOC,EAAQysC,KACzC,MAAM0jE,EAAW,IAAIznH,MAAM+jD,GAC3B,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IAAK,CAC9B,MAAMilC,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMsrG,EAAUllC,EAAI/qE,EAASD,EAAS4E,EAAI5E,EACpCmwG,EAAOD,EAASlwG,EACtBiwG,EAASrrG,GAAK+V,EAAM4yD,SAAS2iC,EAAQC,EAC7C,CACMC,EAASplC,GAAKilC,CACpB,CACI,OAAOG,CAAQ,EAEjB3iB,0BAA2BA,CAAC9yE,EAAO3a,IAC1B2a,EAAM4yD,SAAS,EAAGvtE,GAE3BwtF,4BAA6BA,CAAC7yE,EAAO3a,EAAOC,KAC1C,MAAMgwG,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMU,EAASV,EAAI5E,EACnBiwG,EAASrrG,GAAK+V,EAAM4yD,SAASjoE,EAAQA,EAAStF,EACpD,CACI,OAAOiwG,CAAQ,EAEjB1iB,4BAA6BA,CAAC5yE,EAAO3a,EAAOC,EAAQysC,KAClD,MAAM0jE,EAAW,IAAIznH,MAAM+jD,GAC3B,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IAAK,CAC9B,MAAMilC,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMU,EAAU0lE,EAAI/qE,EAASD,EAAU4E,EAAI5E,EAC3CiwG,EAASrrG,GAAK+V,EAAM4yD,SAASjoE,EAAQA,EAAStF,EACtD,CACMowG,EAASplC,GAAKilC,CACpB,CACI,OAAOG,CAAQ,EAEjB/hB,WAAYA,CAAC1zE,EAAO3a,KAClB,MAAMqwG,EAAW,IAAIxlC,aAAa7qE,GAClC,IAAI5d,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAIub,EAAOvb,IACzB4rH,EAAS5rH,GAAKk2B,EAAMv4B,GACpBA,GAAK,EAEP,OAAOiuH,CAAQ,EAEjBjiB,aAAcA,CAACzzE,EAAO3a,EAAOC,KAC3B,MAAMgwG,EAAW,IAAItnH,MAAMsX,GAC3B,IAAI7d,EAAI,EACR,IAAK,IAAIwiB,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAIxlC,aAAa7qE,GAClC,IAAK,IAAIvb,EAAI,EAAGA,EAAIub,EAAOvb,IACzB4rH,EAAS5rH,GAAKk2B,EAAMv4B,GACpBA,GAAK,EAEP6tH,EAASrrG,GAAKyrG,CACpB,CACI,OAAOJ,CAAQ,EAEjB9hB,aAAcA,CAACxzE,EAAO3a,EAAOC,EAAQysC,KACnC,MAAM0jE,EAAW,IAAIznH,MAAM+jD,GAC3B,IAAItqD,EAAI,EACR,IAAK,IAAI4oF,EAAI,EAAGA,EAAIt+B,EAAOs+B,IAAK,CAC9B,MAAMilC,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAIxlC,aAAa7qE,GAClC,IAAK,IAAIvb,EAAI,EAAGA,EAAIub,EAAOvb,IACzB4rH,EAAS5rH,GAAKk2B,EAAMv4B,GACpBA,GAAK,EAEP6tH,EAASrrG,GAAKyrG,CACtB,CACMD,EAASplC,GAAKilC,CACpB,CACI,OAAOG,CAAQ,EAEjBxiB,YAAaA,CAACjzE,EAAO3a,KACnB,MAAMqwG,EAAW,IAAI1nH,MAAMqX,GACrBswG,EAAsB,EAARtwG,EACpB,IAAI5d,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAGA,EAAI,GAExC,OAAO4rH,CAAQ,EAEjB1iB,cAAeA,CAAChzE,EAAO3a,EAAOC,KAC5B,MAAMgwG,EAAW,IAAItnH,MAAMsX,GACrBswG,EAAsB,EAARvwG,EACpB,IAAK,IAAI4E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAI1nH,MAAMqX,GACrBsF,EAASV,EAAI2rG,EACnB,IAAInuH,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI8rH,EAAa9rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAI6gB,EAAQ7gB,EAAI6gB,EAAS,GAE1D2qG,EAASrrG,GAAKyrG,CACpB,CACI,OAAOJ,CAAQ,EAEjBviB,cAAeA,CAAC/yE,EAAO3a,EAAOC,EAAQysC,KACpC,MAAM4jE,EAAsB,EAARtwG,EACdowG,EAAW,IAAIznH,MAAM+jD,GAC3B,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IAAK,CAC9B,MAAMilC,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAI1nH,MAAMqX,GACrBsF,EAAU0lE,EAAIslC,EAAcrwG,EAAW2E,EAAI0rG,EACjD,IAAIluH,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAI6gB,EAAQ7gB,EAAI6gB,EAAS,GAE1D2qG,EAASrrG,GAAKyrG,CACtB,CACMD,EAASplC,GAAKilC,CACpB,CACI,OAAOG,CAAQ,EAEjBriB,YAAaA,CAACpzE,EAAO3a,KACnB,MAAMqwG,EAAW,IAAI1nH,MAAMqX,GACrBswG,EAAsB,EAARtwG,EACpB,IAAI5d,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAGA,EAAI,GAExC,OAAO4rH,CAAQ,EAEjBviB,cAAeA,CAACnzE,EAAO3a,EAAOC,KAC5B,MAAMqwG,EAAsB,EAARtwG,EACdiwG,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAI1nH,MAAMqX,GACrBsF,EAASV,EAAI0rG,EACnB,IAAIluH,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAI6gB,EAAQ7gB,EAAI6gB,EAAS,GAE1D2qG,EAASrrG,GAAKyrG,CACpB,CACI,OAAOJ,CAAQ,EAEjBpiB,cAAeA,CAAClzE,EAAO3a,EAAOC,EAAQysC,KACpC,MAAM4jE,EAAsB,EAARtwG,EACdowG,EAAW,IAAIznH,MAAM+jD,GAC3B,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IAAK,CAC9B,MAAMilC,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAI1nH,MAAMqX,GACrBsF,EAAU0lE,EAAIslC,EAAcrwG,EAAW2E,EAAI0rG,EACjD,IAAIluH,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAI6gB,EAAQ7gB,EAAI6gB,EAAS,GAE1D2qG,EAASrrG,GAAKyrG,CACtB,CACMD,EAASplC,GAAKilC,CACpB,CACI,OAAOG,CAAQ,EAEjBliB,YAAaA,CAACvzE,EAAO3a,KACnB,MAAMqwG,EAAW,IAAI1nH,MAAMgyB,GACrB21F,EAAsB,EAARtwG,EACpB,IAAI5d,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAGA,EAAI,GAExC,OAAO4rH,CAAQ,EAEjBpiB,cAAeA,CAACtzE,EAAO3a,EAAOC,KAC5B,MAAMqwG,EAAsB,EAARtwG,EACdiwG,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAI1nH,MAAMqX,GACrBsF,EAASV,EAAI0rG,EACnB,IAAIluH,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAI6gB,EAAQ7gB,EAAI6gB,EAAS,GAE1D2qG,EAASrrG,GAAKyrG,CACpB,CACI,OAAOJ,CAAQ,EAEjBjiB,cAAeA,CAACrzE,EAAO3a,EAAOC,EAAQysC,KACpC,MAAM4jE,EAAsB,EAARtwG,EACdowG,EAAW,IAAIznH,MAAM+jD,GAC3B,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IAAK,CAC9B,MAAMilC,EAAW,IAAItnH,MAAMsX,GAC3B,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAAK,CAC/B,MAAMyrG,EAAW,IAAI1nH,MAAMqX,GACrBsF,EAAU0lE,EAAIslC,EAAcrwG,EAAW2E,EAAI0rG,EACjD,IAAIluH,EAAI,EACR,IAAK,IAAIqC,EAAI,EAAGA,EAAI6rH,EAAa7rH,GAAK,EACpC4rH,EAASjuH,KAAOu4B,EAAM4yD,SAAS9oF,EAAI6gB,EAAQ7gB,EAAI6gB,EAAS,GAE1D2qG,EAASrrG,GAAKyrG,CACtB,CACMD,EAASplC,GAAKilC,CACpB,CACI,OAAOG,CAAQ,EAGjB98B,wBAAyBA,CAAC5nE,EAAQuhE,KAChC,MAAM,eAAEuG,EAAc,WAAED,EAAU,YAAEO,GAAgB7G,EACpD,IAAIujC,EAAYvjC,EAASujC,UACpBA,IACHA,EAAYvjC,EAASujC,UAAY,CAAC,GAEpC,MAAMtiC,EAAMrzB,EAAM6M,MAAMh8C,GAClB+kG,EAAuB,GAC7B,IAAItoC,EAAS,EAEb,SAASuoC,EAAQxiC,GACf,GAAIvlF,MAAMC,QAAQslF,GAAM,CACtB,MAAM4E,EAAU,GAChB,IAAK,IAAI1wF,EAAI,EAAGA,EAAI8rF,EAAIhsF,OAAQE,IAC9B0wF,EAAQnpF,KAAK+mH,EAAQxiC,EAAI9rF,KAE3B,OAAO0wF,EAAQ3iE,KAAK,GAC5B,CACM,OAAQ+9D,EAAIlqF,MACV,IAAK,UACH,OAAO0sH,EAAQxiC,EAAIz5E,OAA8B,wBAArBy5E,EAAIz5E,KAAK,GAAGzQ,KAAiC,IAAM,IACjF,IAAK,sBACH,MAAO,YAAYkqF,EAAI7iD,GAAGlnC,QAAQ+pF,EAAIje,OAAOv1C,IAAIg2F,GAASvgG,KAAK,UAAWugG,EAAQxiC,EAAIz5E,QACxF,IAAK,iBAAkB,CACrB,MAAMitB,EAAS,GACfymD,GAAU,EACV,IAAK,IAAI/lF,EAAI,EAAGA,EAAI8rF,EAAIz5E,KAAKvS,OAAQE,IAAK,CACxC,MAAMuuH,EAAOD,EAAQxiC,EAAIz5E,KAAKrS,IAC1BuuH,GACFjvF,EAAO/3B,KAAK,IAAIgW,OAAOwoE,GAAUwoC,EAAM,MAErD,CAEU,OADAxoC,GAAU,EACH,MAAMzmD,EAAOvR,KAAK,MACnC,CACQ,IAAK,sBACH,MAAMo9C,EAAekgB,EAAM0W,sBAAsBjW,GAC9CxzD,IAAIg2F,GACJ55B,QAAOzpC,GAAW,OAANA,IACf,OAAIkgB,EAAarrE,OAAS,EACjB,GAEA,GAAGgsF,EAAIljB,QAAQuC,EAAap9C,KAAK,OAE1C,IAAK,qBACH,OAAI+9D,EAAI59D,KAAKqlC,QAAmC,mBAAzBu4B,EAAI59D,KAAKqlC,OAAO3xD,KACtBuvF,EAAWrF,EAAI59D,KAAKkmB,SAASryC,MAAM,GAEzC,GAAG+pF,EAAI7iD,GAAGlnC,UAAUusH,EAAQxiC,EAAI59D,QAEhC,KAGF,GAAG49D,EAAI7iD,GAAGlnC,UAAUusH,EAAQxiC,EAAI59D,QAEzC,IAAK,iBACH,GAAiC,aAA7B49D,EAAIzX,OAAOjgC,SAASryC,KACtB,MAAO,GAAGusH,EAAQxiC,EAAIzX,OAAO9gB,WAAW+6D,EAAQxiC,EAAIzX,OAAOjgC,aAAa03C,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,SAE1H,GAA+B,OAA3B+9D,EAAIzX,OAAO9gB,OAAOxxD,MAA4C,YAA3B+pF,EAAIzX,OAAO9gB,OAAOxxD,KACvD,MAAO,GAAGusH,EAAQxiC,EAAIzX,OAAO9gB,WAAW+6D,EAAQxiC,EAAIzX,OAAOjgC,aAAa03C,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,SAE1H,GAA+B,mBAA3B+9D,EAAIzX,OAAO9gB,OAAO3xD,KAEpB,OADAysH,EAAqB9mH,KAAK6pF,EAAe,OAAQtF,EAAIzX,OAAOjgC,SAASryC,OAC9D,GAAG+pF,EAAIzX,OAAOjgC,SAASryC,QAAQ+pF,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,SACjF,GAAI+9D,EAAIzX,OAAO9gB,OAAOxxD,KAAM,CACjC,MAAMysH,EAAcp9B,EAAetF,EAAIzX,OAAO9gB,OAAOxxD,KAAM+pF,EAAIzX,OAAOjgC,SAASryC,MAC/E,OAAoB,OAAhBysH,EACK,GAAG1iC,EAAIzX,OAAO9gB,OAAOxxD,QAAQ+pF,EAAIzX,OAAOjgC,SAASryC,QAAQ+pF,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,UAEhHsgG,EAAqB9mH,KAAKinH,GACnB,GAAG1iC,EAAIzX,OAAOjgC,SAASryC,QAAQ+pF,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,SAExG,CAAqB,GAA+B,qBAA3B+9D,EAAIzX,OAAO9gB,OAAO3xD,KAC3B,MAAO,GAAG0sH,EAAQxiC,EAAIzX,OAAO9gB,WAAWu4B,EAAIzX,OAAOjgC,SAASryC,QAAQ+pF,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,SAEpH,MAAM,IAAIlrB,MAAM,sBAGpB,IAAK,kBACH,MAAO,UAAUyrH,EAAQxiC,EAAIhgB,YAC/B,IAAK,mBACH,MAAO,IAAIwiD,EAAQxiC,EAAItmE,QAAQsmE,EAAIxa,WAAWg9C,EAAQxiC,EAAI/e,UAC5D,IAAK,kBACH,OAAI+e,EAAIxpF,OACC,GAAGwpF,EAAIxa,YAAYg9C,EAAQxiC,EAAIhgB,YAE/B,GAAGwiD,EAAQxiC,EAAIhgB,aAAaggB,EAAIxa,WAEzC,IAAK,sBACH,MAAO,GAAGg9C,EAAQxiC,EAAIzjB,cACxB,IAAK,qBACH,MAAO,IAAIimD,EAAQxiC,EAAIlZ,gBACzB,IAAK,0BACH,MAAO,IAAIkZ,EAAIje,OAAOv1C,IAAIg2F,GAASvgG,KAAK,aAAaugG,EAAQxiC,EAAIz5E,QACnE,IAAK,UACH,OAAOy5E,EAAI5a,IACb,IAAK,aACH,OAAO4a,EAAI/pF,KACb,IAAK,mBACH,MAAwB,mBAApB+pF,EAAIv4B,OAAO3xD,KACNuvF,EAAWrF,EAAI13C,SAASryC,MAE7B+pF,EAAIld,SACC,GAAG0/C,EAAQxiC,EAAIv4B,WAAW+6D,EAAQxiC,EAAI13C,aAExCk6E,EAAQxiC,EAAIv4B,QAAU,IAAM+6D,EAAQxiC,EAAI13C,UACjD,IAAK,iBACH,MAAO,OACT,IAAK,gBACH,MAAO,OAAOk6E,EAAQxiC,EAAIzX,WAAWyX,EAAIjsF,UAAUy4B,KAAI9zB,GAAS8pH,EAAQ9pH,KAAQupB,KAAK,SACvF,IAAK,eACH,MAAO,QAAQugG,EAAQxiC,EAAI59D,SAASogG,EAAQxiC,EAAI17E,SAASk+G,EAAQxiC,EAAI3jE,YAAYmmG,EAAQxiC,EAAIz5E,QAC/F,IAAK,uBACH,MAAO,GAAGi8G,EAAQxiC,EAAItmE,QAAQsmE,EAAIxa,WAAWg9C,EAAQxiC,EAAI/e,SAC3D,IAAK,mBACH,MAAO,GAAGuhD,EAAQxiC,EAAIhgB,YAAYggB,EAAIxa,WACxC,IAAK,cACH,MAAO,OAAOg9C,EAAQxiC,EAAI17E,UAAUk+G,EAAQxiC,EAAIjgB,cAClD,IAAK,iBACH,MAAO,SAASyiD,EAAQxiC,EAAIhgB,YAC9B,IAAK,gBACH,OAAOggB,EAAI1b,WAAW93C,IAAIg2F,GAASvgG,KAAK,MAC1C,IAAK,eACH,OAAO+9D,EAAI5yC,SAAS5gB,IAAIg2F,GAASvgG,KAAK,MACxC,IAAK,oBACH,MAAO,YACT,IAAK,wBACH,MAAO,GAAGugG,EAAQxiC,EAAI17E,SAASk+G,EAAQxiC,EAAIjgB,eAAeyiD,EAAQxiC,EAAIlmF,aACxE,IAAK,WACH,GAAiB,SAAbkmF,EAAIljB,KACN,OAAO0lD,EAAQxiC,EAAI3uE,KAG/B,MAAM,IAAIta,MAAM,yBAA0BipF,EAAIlqF,OACpD,CACI,MAAM09B,EAASgvF,EAAQxiC,GACvB,GAAIuiC,EAAqBvuH,OAAS,EAAG,CACnC,MAAM2uH,EAAgC,GACtC,IAAK,IAAIzuH,EAAI,EAAGA,EAAIquH,EAAqBvuH,OAAQE,IAAK,CACpD,MAAM0uH,EAAqBL,EAAqBruH,GAC3CouH,EAAUM,KACbN,EAAUM,IAAsB,GAElCA,GAAqBD,EAA8BlnH,KAAK8jF,EAAM6F,wBAAwBw9B,EAAoB7jC,GAAY,KAC9H,CACM,OAAO4jC,EAA8B1gG,KAAK,IAAMuR,CACtD,CACI,OAAOA,CAAM,EAGfyiE,sBAAwBjW,IACtB,GAAiB,wBAAbA,EAAIlqF,KAAgC,MAAM,IAAIiB,MAAM,4CACxD,MAAM8rH,EAAyB,GAC/B,IAAK,IAAIC,EAAmB,EAAGA,EAAmB9iC,EAAI3gB,aAAarrE,OAAQ8uH,IAAoB,CAC7F,MAAMp/C,EAAcsc,EAAI3gB,aAAayjD,GACrC,GAAIp/C,EAAYvmC,IAA8B,kBAAxBumC,EAAYvmC,GAAGrnC,MAA4B4tE,EAAYvmC,GAAGmnC,WAAY,CAC1F,MAAM,WAAEA,GAAeZ,EAAYvmC,GACnC,IAAK,IAAI4lF,EAAgB,EAAGA,EAAgBz+C,EAAWtwE,OAAQ+uH,IAAiB,CAC9E,MAAMz6E,EAAWg8B,EAAWy+C,GAC5B,GAA4B,kBAAxBz6E,EAAS5vC,MAAM5C,MAA4BwyC,EAAS5vC,MAAM4rE,WAC5D,IAAK,IAAI0+C,EAAmB,EAAGA,EAAmB16E,EAAS5vC,MAAM4rE,WAAWtwE,OAAQgvH,IAAoB,CACtG,MAAMC,EAAc36E,EAAS5vC,MAAM4rE,WAAW0+C,GAC9C,GAAyB,aAArBC,EAAYntH,KA0Bd,MAAM,IAAIiB,MAAM,oBAzBhB8rH,EAAuBpnH,KAAK,CAC1B3F,KAAM,qBACNqnC,GAAI,CACFrnC,KAAM,aACNG,KAAMgtH,EAAY5xG,IAAIpb,MAExBmsB,KAAM,CACJtsB,KAAM,mBACN2xD,OAAQ,CACN3xD,KAAM,mBACN2xD,OAAQic,EAAYthD,KACpBkmB,SAAU,CACRxyC,KAAM,aACNG,KAAMqyC,EAASj3B,IAAIpb,MAErB6sE,UAAU,GAEZx6B,SAAU,CACRxyC,KAAM,aACNG,KAAMgtH,EAAY5xG,IAAIpb,MAExB6sE,UAAU,IAM9B,KACiB,IAA4B,eAAxBx6B,EAAS5vC,MAAM5C,KAkBxB,MAAM,IAAIiB,MAAM,oBAjBhB8rH,EAAuBpnH,KAAK,CAC1B3F,KAAM,qBACNqnC,GAAI,CACFrnC,KAAM,aACNG,KAAMqyC,EAAS5vC,OAAS4vC,EAAS5vC,MAAMzC,KAAOqyC,EAAS5vC,MAAMzC,KAAOqyC,EAASj3B,IAAIpb,MAEnFmsB,KAAM,CACJtsB,KAAM,mBACN2xD,OAAQic,EAAYthD,KACpBkmB,SAAU,CACRxyC,KAAM,aACNG,KAAMqyC,EAASj3B,IAAIpb,MAErB6sE,UAAU,IAK1B,CACA,CACA,MAAa,GAAIY,EAAYvmC,IAA8B,iBAAxBumC,EAAYvmC,GAAGrnC,MAA2B4tE,EAAYvmC,GAAGiQ,SAAU,CAC9F,MAAM,SAAEA,GAAas2B,EAAYvmC,GACjC,IAAK,IAAI+lF,EAAe,EAAGA,EAAe91E,EAASp5C,OAAQkvH,IAAgB,CACzE,MAAMp8G,EAAUsmC,EAAS81E,GACzB,GAAqB,eAAjBp8G,EAAQhR,KAqBV,MAAM,IAAIiB,MAAM,oBApBhB8rH,EAAuBpnH,KAAK,CAC1B3F,KAAM,qBACNqnC,GAAI,CACFrnC,KAAM,aACNG,KAAM6Q,EAAQ7Q,MAEhBmsB,KAAM,CACJtsB,KAAM,mBACN2xD,OAAQic,EAAYthD,KACpBkmB,SAAU,CACRxyC,KAAM,UACN4C,MAAOwqH,EACP99C,IAAK89C,EAAathH,WAClBsJ,MAAOpE,EAAQoE,MACfC,IAAKrE,EAAQqE,KAEf23D,UAAU,IAM1B,CACA,MACQ+/C,EAAuBpnH,KAAKioE,EAEpC,CACI,OAAOm/C,CAAsB,EAG/BM,oBAAqBA,CAAClb,EAAKmb,KACzB,MAAMC,EAAUpb,EAAImW,cAAa,SAASl0G,GAExC,OAAiB,IADHA,EAAExE,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC9B4oD,CACnB,GAAO,CACDy9B,OAAQ,CAACwmC,EAAMtxG,MAAOsxG,EAAMrxG,QAC5Bo6E,UAAW,WACX1G,cAAe,CAAEv7E,EAAG,eAEhBo5G,EAAUrb,EAAImW,cAAa,SAASl0G,GAExC,OAAiB,IADHA,EAAExE,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC9BgoF,CACnB,GAAO,CACD3B,OAAQ,CAACwmC,EAAMtxG,MAAOsxG,EAAMrxG,QAC5Bo6E,UAAW,WACX1G,cAAe,CAAEv7E,EAAG,eAEhBq5G,EAAUtb,EAAImW,cAAa,SAASl0G,GAExC,OAAiB,IADHA,EAAExE,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC9BkU,CACnB,GAAO,CACDmyE,OAAQ,CAACwmC,EAAMtxG,MAAOsxG,EAAMrxG,QAC5Bo6E,UAAW,WACX1G,cAAe,CAAEv7E,EAAG,eAEhBs5G,EAAUvb,EAAImW,cAAa,SAASl0G,GAExC,OAAiB,IADHA,EAAExE,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC9B2T,CACnB,GAAO,CACD0yE,OAAQ,CAACwmC,EAAMtxG,MAAOsxG,EAAMrxG,QAC5Bo6E,UAAW,WACX1G,cAAe,CAAEv7E,EAAG,eAEhBspB,EAAS,CACb6vF,EAAQD,GACRE,EAAQF,GACRG,EAAQH,GACRI,EAAQJ,IAOV,OALA5vF,EAAO6vF,QAAUA,EACjB7vF,EAAO8vF,QAAUA,EACjB9vF,EAAO+vF,QAAUA,EACjB/vF,EAAOgwF,QAAUA,EACjBhwF,EAAOy0E,IAAMA,EACNz0E,CAAM,EAGfiwF,oBAAqBA,CAACxb,EAAKyb,EAAM5xG,EAAOC,KACtC,MAAM4xG,EAAgB1b,EAAImW,cAAa,SAAS9mD,GAC9C,MAAM+yB,EAAQ/yB,EAAE5xD,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC3CmP,KAAK0O,MAAMi2E,EAAMlrC,EAAI,IAAK,EAAG,EAAG,IACtC,GAAO,CACDy9B,OAAQ,CAAC9qE,EAAOC,GAChB0rE,WAAW,EACXgI,cAAe,CAAEnuB,EAAG,gBAEtBqsD,EAAcD,GAEd,MAAME,EAAgB3b,EAAImW,cAAa,SAAS9mD,GAC9C,MAAM+yB,EAAQ/yB,EAAE5xD,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC3CmP,KAAK0O,MAAM,EAAGi2E,EAAM9L,EAAI,IAAK,EAAG,IACtC,GAAO,CACD3B,OAAQ,CAAC9qE,EAAOC,GAChB0rE,WAAW,EACXgI,cAAe,CAAEnuB,EAAG,gBAEtBssD,EAAcF,GAEd,MAAMG,EAAgB5b,EAAImW,cAAa,SAAS9mD,GAC9C,MAAM+yB,EAAQ/yB,EAAE5xD,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC3CmP,KAAK0O,MAAM,EAAG,EAAGi2E,EAAM5/E,EAAI,IAAK,IACtC,GAAO,CACDmyE,OAAQ,CAAC9qE,EAAOC,GAChB0rE,WAAW,EACXgI,cAAe,CAAEnuB,EAAG,gBAEtBusD,EAAcH,GAEd,MAAMI,EAAgB7b,EAAImW,cAAa,SAAS9mD,GAC9C,MAAM+yB,EAAQ/yB,EAAE5xD,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC3CmP,KAAK0O,MAAM,IAAK,IAAK,IAAKi2E,EAAMngF,EAAI,IAC1C,GAAO,CACD0yE,OAAQ,CAAC9qE,EAAOC,GAChB0rE,WAAW,EACXgI,cAAe,CAAEnuB,EAAG,gBAGtB,OADAwsD,EAAcJ,GACP,CACLC,EAAc3lC,OACd4lC,EAAc5lC,OACd6lC,EAAc7lC,OACd8lC,EAAc9lC,OACf,EAGH+lC,kBAAoBzsH,IAClB,IACE,MAAM0oF,EAAMrzB,EAAM6M,MAAM,iBAAiBliE,EAAGsK,eACtC,KAAEwgB,GAAS49D,EAAIz5E,KAAK,GAAG84D,aAAa,GAC1C,OAAOj9C,EAAK7b,KAAKtQ,MAAQmsB,EAAK7b,KAAKA,KAAK,GAAGy5D,SAAS/pE,IAC1D,CAAM,MAAOuQ,GACP,MAAM,IAAIzP,MAAM,8HACtB,GAEEg0G,aAAc,SAAS90G,GASrB,OARI+tH,EAAW1/G,KAAKrO,KAClBA,EAAOA,EAAKkD,QAAQ6qH,EAAY,QAE9BC,EAAiB3/G,KAAKrO,GACxBA,EAAOA,EAAKkD,QAAQ8qH,EAAkB,OAC7BC,EAAiB5/G,KAAKrO,KAC/BA,EAAOA,EAAKkD,QAAQ+qH,EAAkB,QAEjCjuH,CACX,GAGM+tH,EAAa,KACbC,EAAmB,KACnBC,EAAmB,IAEnBxD,EAAoBnhC,EAAMohC,sBAEhC75D,EAAOL,QAAU,CACf84B,QAEF,EAAE,CAAC,UAAU,IAAI,YAAY,IAAI,MAAQ,KAAK,CAAC,EAAE,CAAC,KAjjmB6T,CAijmBvT,IACxD,EAljmB2Ez4B,EAAAL,QAAezH,aCa7EmlE,EAAS,CAMpBC,OAAAA,CAAQC,GACN,MAAMC,EAAOD,EAAOE,QAAO,CAACv6D,EAAMs6D,IACzBztH,OAAOD,OAAOozD,EAAMs6D,IAC1B,CAAC,GAEJ,OAAOH,EAAOK,OAAOF,IAMvBG,SAAAA,CAAUC,GACR,MAAMC,EAAqB,CAAC,EAC5B,IAAIC,EAAa,EACjB,IAAK,IAAI1wH,EAAI,EAAGA,EAAIwwH,EAAU1wH,OAAQE,IAAK,CACzC,MAAM2wH,EAAUH,EAAUxwH,GAC1B,IAAK,IAAIm7F,EAAI,EAAGA,EAAIw1B,EAAQ7wH,OAAQq7F,IAAK,CACvC,MAAM5nC,EAASo9D,EAAQx1B,GACvB,IAAK,MAAM/tF,KAAKmmD,EACVA,EAAO5qD,eAAeyE,KAAOqjH,EAAM9nH,eAAeyE,KACpDqjH,EAAMrjH,GAAKsjH,MAKnB,OAAOD,GAGTG,cAAAA,CACE/pH,GAEA,MAAM4pH,EAAqB,CAAC,EAC5B,IAAII,EAAa,EACjB,IAAK,IAAIC,EAAY,EAAGA,EAAYjqH,EAAK/G,OAAQgxH,IAAa,CAC5D,MAAMx6D,EAAQzvD,EAAKiqH,GAAWx6D,MAC9B,IAAK,IAAIt2D,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAAK,CACrC,MAAMuzD,EAAS+C,EAAMt2D,GACrB,IAAK,MAAMoN,KAAKmmD,EACTA,EAAO5qD,eAAeyE,KACtBqjH,EAAM9nH,eAAeyE,KACxBqjH,EAAMrjH,GAAKyjH,OAKnB,OAAOJ,GAGTM,eAAAA,CACElqH,GAEA,MAAM4pH,EAAqB,CAAC,EAC5B,IAAII,EAAa,EACjB,IAAK,IAAIC,EAAY,EAAGA,EAAYjqH,EAAK/G,OAAQgxH,IAAa,CAC5D,MAAMpoC,EAAS7hF,EAAKiqH,GAAWpoC,OAC/B,IAAK,IAAI1oF,EAAI,EAAGA,EAAI0oF,EAAO5oF,OAAQE,IAAK,CACtC,MAAMuzD,EAASm1B,EAAO1oF,GACtB,IAAK,MAAMoN,KAAKmmD,EACTA,EAAO5qD,eAAeyE,KACtBqjH,EAAM9nH,eAAeyE,KACxBqjH,EAAMrjH,GAAKyjH,OAKnB,OAAOJ,GAMTH,MAAAA,CAAOF,GACL,MAAMH,EAAsB,CAAC,EAC7B,IAAIhpH,EAAQ,EACZ,MAAM4b,EAAOlgB,OAAOkgB,KAAKutG,GACzB,IAAK,IAAIpwH,EAAI,EAAGA,EAAI6iB,EAAK/iB,OAAQE,IAC/BiwH,EAAOptG,EAAK7iB,IAAMiH,IAEpB,OAAOgpH,GAMTl7D,OAAAA,CACEk7D,EACA18D,EACAy9D,GAEA,MAAM1xF,EAAS,IAAImpD,aAAauoC,GAChC,IAAK,MAAM5jH,KAAK6iH,EACTA,EAAOtnH,eAAeyE,KAC3BkyB,EAAO2wF,EAAO7iH,IAAMmmD,EAAO5qD,eAAeyE,GAAKmmD,EAAOnmD,GAAK,GAE7D,OAAOkyB,GAGT2xF,YAAAA,CAAahB,EAAqB18D,GAChC,MAAMj0B,EAAS,GACf,IAAK,MAAMlyB,KAAK6iH,EACd,GAAKA,EAAOtnH,eAAeyE,GAA3B,CACA,IAAKmmD,EAAO5qD,eAAeyE,GAAI,MAC/BkyB,EAAO2wF,EAAO7iH,IAAMmmD,EAAOnmD,EAFY,CAIzC,OAAOq7E,aAAaZ,KAAKvoD,IAG3B4xF,QAAAA,CACEjB,EACAU,EACAK,GAEA,MAAM1xF,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI2wH,EAAQ7wH,OAAQE,IAClCs/B,EAAO/3B,KAAKiK,KAAKujD,QAAQk7D,EAAQU,EAAQ3wH,GAAIgxH,IAE/C,OAAO1xF,GAST6xF,QAAAA,CAASlB,EAAqB13F,GAC5B,MAAMg7B,EAAsB,CAAC,EAC7B,IAAK,MAAMnmD,KAAK6iH,EACTA,EAAOtnH,eAAeyE,KAC3BmmD,EAAOnmD,GAAKmrB,EAAM03F,EAAO7iH,KAE3B,OAAOmmD,GAGT69D,eAAAA,CACEnB,EACA13F,GAES,IADTrV,EAAMrjB,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EACTwxH,EAAKxxH,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAER,MAAM0zD,EAAsB,CAAC,EAC7B,IAAIvzD,EAAI,EACR,IAAK,MAAMoN,KAAK6iH,EACTA,EAAOtnH,eAAeyE,KACvB8V,EAAS,GACPljB,IAAMkjB,GAERmuG,EAAQ,GACNrxH,KAAOqxH,IAEb99D,EAAOnmD,GAAKmrB,EAAM03F,EAAO7iH,GAAK8V,KAEhC,OAAOqwC,GAGT+9D,SAAAA,CAAUzqH,GACR,MAAM0qH,EAAQ,GACd,IAAIC,EA2BApkH,EACJ,IA3BIvG,EAAK8B,eAAe,UACtB4oH,EAAMhqH,KAAK,SACXiqH,EAAY3qH,EAAwByvD,OAC3B/vD,MAAMC,QAAQK,GAEpBA,EAA0B,IAC1BA,EAA0B,GAAGyvD,OAE9Bi7D,EAAMhqH,KAAK,QAAS,SACpBiqH,EAAY3qH,EAA0B,GAAGyvD,OAChC/vD,MAAMC,QAAQK,EAAK,KAC5B0qH,EAAMhqH,KAAK,SACXiqH,EAAW3qH,EAAK,IAEhB2qH,EAAW3qH,EAMb2qH,EAAW3qH,EAON2qH,GAEL,GADApkH,EAAIzK,OAAOkgB,KAAK2uG,GAAU,GAExBjrH,MAAMC,QAAQgrH,IAC+B,kBAArCA,EAA0B5nB,OAClC,CACA2nB,EAAMhqH,KAAK,SACX,MAAMkqH,EAEcD,EAA4BluC,SAASl2E,IACzD,GAA8B,kBAAnBqkH,EAA6B,CACtCF,EAAMhqH,KAAK,UACX,MAEAiqH,EAAWC,MAER,IACe,kBAAbD,GACsC,kBAArCA,EAA0B5nB,OAalC,MAAM,IAAI/mG,MAAM,uBAZhB,CACA0uH,EAAMhqH,KAAK,UACX,MAAMkqH,EAAwCD,EAC5CpkH,GAEF,GAA8B,kBAAnBqkH,EAA6B,CACtCF,EAAMhqH,KAAK,UACX,MAEAiqH,EAAWC,GAMjB,OAAOF,GAGTG,OAAAA,CAAQltH,EAA+BisH,GACrC,GAAIlqH,MAAMC,QAAQhC,GAAQ,OAAOisH,EACjC,IAAIzwH,EAAI2C,OAAOkgB,KAAK4tG,GAAO3wH,OAC3B,IAAK,MAAMsN,KAAK5I,EACTA,EAAMmE,eAAeyE,KACtBqjH,EAAM9nH,eAAeyE,KACzBqjH,EAAMrjH,GAAKpN,MAEb,OAAOywH,2BCrQX,IAAIkB,EAAYC,GAAQA,EAAKD,UAAa,WAStC,OARAA,EAAWhvH,OAAOD,QAAU,SAASy1D,GACjC,IAAK,IAAIskB,EAAGz8E,EAAI,EAAG80D,EAAIj1D,UAAUC,OAAQE,EAAI80D,EAAG90D,IAE5C,IAAK,IAAIoN,KADTqvE,EAAI58E,UAAUG,GACO2C,OAAOiB,UAAU+E,eAAe3E,KAAKy4E,EAAGrvE,KACzD+qD,EAAE/qD,GAAKqvE,EAAErvE,IAEjB,OAAO+qD,CACf,EACWw5D,EAAS9yE,MAAMrtC,KAAM3R,UAChC,EACA8C,OAAOgB,eAAe4uD,EAAS,aAAc,CAAE/tD,OAAO,IACtD+tD,EAAAs/D,KAAet/D,EAAAu/D,MAAgBv/D,EAAAw/D,UAAe,EAI9C,IAAIA,EAAsB,WACtB,SAASA,EAAKC,EAAOz+G,GACjB,IAAI4qD,EAAQ3sD,UACI,IAAZ+B,IAAsBA,EAAU,CAAC,GACrC,IAAI0+G,EAAKN,EAASA,EAAS,CAAC,EAAGI,EAAKG,iBAAkB3+G,GAAU4+G,EAAOF,EAAGE,KAAMnhG,EAAOihG,EAAGjhG,KAC1Fxf,KAAKxR,EAAI,EACTwR,KAAK4gH,WAAY,EACjB5gH,KAAKwgH,MAAQA,EACbxgH,KAAK+B,QAAUA,EACf/B,KAAK6gH,KAAO,WACR,IAAIl0D,EAAMi0D,YAEVj0D,EAAMm0D,QAAUztF,WAAWs5B,EAAMk0D,KAAM,IACnCN,EAAKQ,SAAT,CAEA,IAAIx8C,EAAO5X,EAAM6zD,MAAM7zD,EAAMn+D,GAC7B,GAAIm+D,EAAMn+D,GAAKm+D,EAAM6zD,MAAMlyH,OAQvB,OAPa,OAATkxB,IACA+gG,EAAKQ,SAAU,EACfvhG,IACA+gG,EAAKQ,SAAU,GAEnBp0D,EAAMi0D,WAAY,OAClBxyE,aAAaue,EAAMm0D,SAGV,OAATH,GACAJ,EAAKQ,SAAU,EACfJ,EAAKp8C,EAAM5X,EAAMn+D,GACjB+xH,EAAKQ,SAAU,QAEDxtC,IAAThP,GACLA,IAEJ5X,EAAMn+D,GApBI,CAqBtB,EACQ+xH,EAAKS,MAAMjrH,KAAKiK,MACX+B,EAAQk/G,OACTjhH,KAAK6gH,MAEjB,CAwFI,OAvFA1vH,OAAOgB,eAAeouH,EAAM,YAAa,CAIrCxgH,IAAK,WACD,OAAOwgH,EAAKQ,OACxB,EACQ9gH,YAAY,EACZlN,cAAc,IAKlBwtH,EAAKW,QAAU,WACX,IAAK,IAAI1yH,EAAI,EAAGA,EAAI+xH,EAAKS,MAAM1yH,OAAQE,IACnC+xH,EAAKS,MAAMxyH,GAAG2yH,MAE1B,EAIIZ,EAAKnuH,UAAUgvH,UAAY,WACvB,QAAIphH,KAAK4gH,YACL5gH,KAAK4gH,WAAY,GACV,EAGnB,EAIIL,EAAKnuH,UAAU8L,IAAM,SAAUqmE,GAK3B,OAJAvkE,KAAKwgH,MAAMzqH,KAAKwuE,GACZvkE,KAAKohH,aACLphH,KAAK6gH,OAEF7gH,IACf,EAIIugH,EAAKnuH,UAAUivH,OAAS,SAAU98C,GAK9B,OAJAvkE,KAAKwgH,MAAM99E,OAAO1iC,KAAKxR,EAAG,EAAG+1E,GACzBvkE,KAAKohH,aACLphH,KAAK6gH,OAEF7gH,IACf,EAIIugH,EAAKnuH,UAAUkvH,SAAW,SAAUd,GAKhC,OAJAxgH,KAAKwgH,MAAQxgH,KAAKwgH,MAAM1zF,OAAO0zF,GAC3BxgH,KAAKohH,aACLphH,KAAK6gH,OAEF7gH,IACf,EAIIugH,EAAKnuH,UAAUmvH,YAAc,SAAUf,GACnC,IAAIxhF,EAASh/B,KAAKwgH,MAAM99E,OAAO,EAAG1iC,KAAKxR,GACnCgzH,EAAQxhH,KAAKwgH,MAKjB,OAJAxgH,KAAKwgH,MAAQxhF,EAAOlS,OAAO0zF,EAAOgB,GAC9BxhH,KAAKohH,aACLphH,KAAK6gH,OAEF7gH,IACf,EAIIugH,EAAKnuH,UAAU+uH,KAAO,WAMlB,OALAnhH,KAAK4gH,WAAY,EACjBxyE,aAAapuC,KAAK8gH,SACd9gH,KAAK+B,QAAQyd,MACbxf,KAAK+B,QAAQyd,OAEVxf,IACf,EACIugH,EAAKQ,SAAU,EACfR,EAAKS,MAAQ,GACbT,EAAKG,gBAAkB,CACnBC,KAAM,KACNnhG,KAAM,MAEH+gG,CACX,CAjI0B,GAsI1B,SAASF,EAAKG,EAAOz+G,GACjB,OAAO,IAAIw+G,EAAKC,EAAOz+G,EAC3B,CANAg/C,EAAAw/D,KAAeA,EAOfx/D,EAAAs/D,KAAeA,EACf,IAAIC,EAAuB,WACvB,SAASA,EAAMv+G,EAAS6+B,QACN,IAAVA,IAAoBA,EAAQ,KAChC5gC,KAAKvK,MAAQ,EACbuK,KAAKghH,MAAQ,GACbhhH,KAAK4gC,MAAQA,EACb5gC,KAAK+B,QAAUA,CACvB,CA6DI,OAzDAu+G,EAAMluH,UAAU8L,IAAM,SAAUqmE,GAG5B,OAFWvkE,KAAK4W,OACX1Y,IAAIqmE,GACFvkE,IACf,EAIIsgH,EAAMluH,UAAUkvH,SAAW,SAAUd,GAGjC,OAFWxgH,KAAK4W,OACX0qG,SAASd,GACPxgH,IACf,EAIIsgH,EAAMluH,UAAUivH,OAAS,SAAU98C,GAG/B,OAFWvkE,KAAK4W,OACXyqG,OAAO98C,GACLvkE,IACf,EAIIsgH,EAAMluH,UAAUmvH,YAAc,SAAUf,GAGpC,OAFWxgH,KAAK4W,OACX2qG,YAAYf,GACVxgH,IACf,EAIIsgH,EAAMluH,UAAU+uH,KAAO,WACnB,IAAK,IAAI3yH,EAAI,EAAGA,EAAIwR,KAAKghH,MAAM1yH,OAAQE,IACnCwR,KAAKghH,MAAMxyH,GAAG2yH,OAElB,OAAOnhH,IACf,EAIIsgH,EAAMluH,UAAUwkB,KAAO,WACnB,IAAIypG,EACAW,EAAQhhH,KAAKghH,MAYjB,OAXIA,EAAM1yH,OAAS0R,KAAK4gC,OACpBy/E,EAAO,IAAIE,EAAK,GAAIvgH,KAAK+B,SACzBi/G,EAAMjrH,KAAKsqH,IAGXA,EAAOW,EAAMhhH,KAAKvK,QAAU,KAEhCuK,KAAKvK,QACDuK,KAAKvK,OAASuK,KAAK4gC,QACnB5gC,KAAKvK,MAAQ,GAEV4qH,CACf,EACWC,CACX,CArE2B,GAsE3Bv/D,EAAAu/D,MAAgBA,EACM,qBAAXzkH,SAEPA,OAAO0kH,KAAOA,EAEd1kH,OAAOwkH,KAAOA,EAEdxkH,OAAO0kH,KAAKD,MAAQA,eCxORmB,EAAsBC,GACpC,MAAM5zF,EAAyB,GAC/B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIkzH,EAAOpzH,OAAQE,IACjCs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAKqrC,EAAOlzH,KAEvC,OAAOs/B,CACT,UAEgB6zF,EACd78D,EACAoyB,GAEA,MAAMppD,EAAyB,GAC/B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAChCs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAKvxB,EAAMt2D,KAEtC,IAAK,IAAIA,EAAI,EAAGA,EAAI0oF,EAAO5oF,OAAQE,IACjCs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAKa,EAAO1oF,KAEvC,OAAOs/B,CACT,UAEgB8zF,EAAqB76F,GACnC,MAAM+G,EAAyB,GAC/B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIu4B,EAAMz4B,OAAQE,IAChCs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAACtvD,EAAMv4B,MAEvC,OAAOs/B,CACT,UAEgB+zF,EACd/8D,EACAoyB,GAEA,MAAMppD,EAAyB,GAC/B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAChCs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAACvxB,EAAMt2D,MAEvC,IAAK,IAAIA,EAAI,EAAGA,EAAI0oF,EAAO5oF,OAAQE,IACjCs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAACa,EAAO1oF,MAExC,OAAOs/B,CACT,UAEgBg0F,EAAoB/6F,GAClC,OAAOkwD,aAAaZ,KAAKtvD,EAC3B,UAqBgBg7F,EACdj9D,EACAoyB,EACA8qC,EACAC,EACAC,EACAC,GAEA,MAAMjjC,EAA0B,GAChC,IAAK,IAAI1wF,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAAK,CACrC,MAAMuzD,EAAS+C,EAAMt2D,GACfs/B,EAAS,IAAImpD,aAAairC,GAChC,IAAK,MAAMtmH,KAAKmmD,EACVA,EAAO5qD,eAAeyE,KACxBkyB,EAAOk0F,EAAWpmH,IAAMmmD,EAAOnmD,IAGnCsjF,EAAQnpF,KAAK+3B,GAEf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI0oF,EAAO5oF,OAAQE,IAAK,CACtC,MAAMuzD,EAASm1B,EAAO1oF,GAChBs/B,EAAS,IAAImpD,aAAakrC,GAChC,IAAK,MAAMvmH,KAAKmmD,EACVA,EAAO5qD,eAAeyE,KACxBkyB,EAAOm0F,EAAYrmH,IAAMmmD,EAAOnmD,IAGpCsjF,EAAQnpF,KAAK+3B,GAEf,OAAOoxD,CACT,UAEgBkjC,EACdrgE,GAEA,MAAMj0B,EAAyB,GAC/B,IAAK,MAAMlyB,KAAKmmD,EACTA,EAAO5qD,eAAeyE,IAC3BkyB,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAACt0B,EAAOnmD,MAExC,OAAOkyB,CACT,UAEgBu0F,EACdv9D,EACAoyB,GAEA,MAAMppD,EAAyB,GAC/B,IAAK,MAAMlyB,KAAKkpD,EACTA,EAAM3tD,eAAeyE,IAC1BkyB,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAACvxB,EAAMlpD,MAEvC,IAAK,MAAMA,KAAKs7E,EACTA,EAAO//E,eAAeyE,IAC3BkyB,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAACa,EAAOt7E,MAExC,OAAOkyB,CACT,UAEgBw0F,EACdvgE,EACAk9D,EACA3wH,GAEA,MAAMw/B,EAAS,IAAImpD,aAAa3oF,GAChC,IAAK,MAAMsN,KAAKmmD,EACVA,EAAO5qD,eAAeyE,KACxBkyB,EAAOmxF,EAAMrjH,IAAMmmD,EAAOnmD,IAG9B,OAAOkyB,CACT,OCtIay0F,EAIX1iH,WAAAA,CACExK,EACAwpE,GAJF,KAAAA,KAA+B,KAC/B,KAAAogD,MAAqB,CAAC,EAKpBj/G,KAAK1R,OAAS,EACd,MAAM2wH,EAAQj/G,KAAKi/G,MACnB,GAAIpgD,EAAM,CACR7+D,KAAK6+D,KAAOA,EACZ,IAAK,IAAIrwE,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MACMuzD,EADS1sD,EAA0B7G,GACpBqwE,GACrB,IAAK,MAAMjjE,KAAKmmD,EACTA,EAAO5qD,eAAeyE,KACvBqjH,EAAM9nH,eAAeyE,KACzBqjH,EAAMrjH,GAAKoE,KAAK1R,iBAGf,GAAIyG,MAAMC,QAAQK,IAASN,MAAMC,QAAQK,EAAK,IACnD,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMu4B,EAAS1xB,EAA8B7G,GAC7C,IAAK,IAAIm7F,EAAI,EAAGA,EAAI5iE,EAAMz4B,OAAQq7F,IAAK,CACrC,MAAM5nC,EAASh7B,EAAM4iE,GACrB,IAAK,MAAM/tF,KAAKmmD,EACTA,EAAO5qD,eAAeyE,KACvBqjH,EAAM9nH,eAAeyE,KACzBqjH,EAAMrjH,GAAKoE,KAAK1R,iBAKtB,IAAK,IAAIE,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMuzD,EAAU1sD,EAAuB7G,GACvC,IAAK,MAAMoN,KAAKmmD,EACTA,EAAO5qD,eAAeyE,KACvBqjH,EAAM9nH,eAAeyE,KACzBqjH,EAAMrjH,GAAKoE,KAAK1R,sBC3CV03D,EACdktC,GAMA,OAAIn+F,MAAMC,QAAQk+F,IAAWA,aAAkBjc,aACtC79E,KAAK4sD,OAAOktC,GAEZ95F,KAAK4sD,OAAO70D,OAAO+hG,OAAOA,GAErC,UCZgBsvB,EAAIp1E,GAElB,IAAIq1E,EAAM,EACV,IAAK,IAAIj0H,EAAI,EAAGA,EAAI4+C,EAAO9+C,OAAQE,IACjCi0H,GAAOr1E,EAAO5+C,IAAM,EAEtB,OAAOi0H,EAAMr1E,EAAO9+C,MACtB,UCPgBo0H,IACd,MAAuB,GAAhBtpH,KAAK6C,SAAiB,EAC/B,UCGgB0mH,EAAYzvG,EAAa8yC,GACvC,OAAO5sD,KAAK6C,UAAY+pD,EAAM9yC,GAAOA,CACvC,UAMgB0vG,IACd,GAAIA,EAAYC,QAEd,OADAD,EAAYC,SAAU,EACfD,EAAYE,KAErB,MAAMh8D,EAAI,EAAI1tD,KAAK6C,SAAW,EACxB21D,EAAI,EAAIx4D,KAAK6C,SAAW,EACxBw9C,EAAIqN,EAAIA,EAAI8K,EAAIA,EACtB,GAAU,IAANnY,GAAWA,EAAI,EACjB,OAAOmpE,IAET,MAAMprF,EAAIp+B,KAAKsiH,MAAO,EAAItiH,KAAKT,IAAI8gD,GAAMA,GAGzC,OAFAmpE,EAAYE,KAAOlxD,EAAIp6B,EACvBorF,EAAYC,SAAU,EACf/7D,EAAItvB,CACb,UAOgBurF,EAAc7vG,EAAa8yC,GACzC,OAAO5sD,KAAK0/E,MAAM1/E,KAAK6C,UAAY+pD,EAAM9yC,GAAOA,EAClD,UAOgB8vG,EAAQC,EAAYC,GAClC,OAAOD,EAAKL,IAAgBM,CAC9B,CAEAN,EAAYC,SAAU,EACtBD,EAAYE,KAAO,uGC3CHK,EAAOt8F,GAAuC,IAAzBq8F,EAAA70H,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAqB,KACxD,MAAM04B,EAAsB,IAAIkwD,aAAapwD,GAC7C,GAAY,OAARq8F,EACF,IAAK,IAAI10H,EAAI,EAAGA,EAAIq4B,EAAMr4B,IACxBu4B,EAAMv4B,GAAKk0H,SAGb,IAAK,IAAIl0H,EAAI,EAAGA,EAAIq4B,EAAMr4B,IACxBu4B,EAAMv4B,GAAKm0H,GAAaO,EAAKA,GAGjC,OAAOn8F,CACT,UAKgBq8F,EACdh3G,EACAC,EACA62G,GAEA,MAAMp1F,EAAyB,IAAI/4B,MAAMsX,GACzC,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAC1B8c,EAAO9c,GAAKmyG,EAAO/2G,EAAO82G,GAE5B,OAAOp1F,CACT,UAKgBu1F,EACdj3G,EACAC,EACAysC,EACAoqE,GAEA,MAAMp1F,EAA2B,IAAI/4B,MAAM+jD,GAC3C,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IACzBtpD,EAAOspD,GAAKgsC,EAASh3G,EAAOC,EAAQ62G,GAEtC,OAAOp1F,CACT,UC9CgBw1F,EAAMz8F,GACpB,OAAO,IAAIowD,aAAapwD,EAC1B,UCcgB08F,EACdvwH,EACAisH,GAEA,GAAKjsH,EAAuBolG,kBAAkB8iB,YAC5C,OAAO,KAET,GAAInmH,MAAMC,QAAQhC,GAChB,OAAO8uH,EAET,IAAK7C,EAAO,MAAM,IAAI5tH,MAAM,uBAC5B,MAAM,OAAE/C,GAAW6C,OAAOkgB,KAAK4tG,GAC/B,OAAQrtD,IACN,MAAM7qC,EAAQ,IAAIkwD,aAAa3oF,GAC/B,IAAK,MAAMsN,KAAKqjH,EACTA,EAAM9nH,eAAeyE,IACN,kBAATg2D,EAAEh2D,KACbmrB,EAAMk4F,EAAMrjH,IAAMg2D,EAAEh2D,IAAM,GAE5B,OAAOmrB,CAAK,CAEhB,UAgCgBy8F,IACd,MAAO,CACLC,UAAW,EACXC,WAAY,EACZC,aAAc,GAElB,UA2CgBC,IACd,MAAO,CACLC,WAAY,UACZC,WAAY,IACZC,YAAa,KACbprH,KAAK,EACLqrH,UAAW,GACXC,eAAgB,IAChBC,aAAc,GACdC,SAAU,GACVC,eAAgB,GAChBtD,QAASn2E,IACT05E,MAAO,GACPC,MAAO,KACPC,QAAS,KAEb,OAeaC,EA6CX3kH,WAAAA,GAC2E,IAAzEkC,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAuE,CAAC,EA1C1E,KAAA0T,QAAiCyhH,IACjC,KAAAiB,UAAwCb,IACxC,KAAAc,MAAkB,GAClB,KAAAC,aAAe,EACf,KAAAC,OAAyB,GACzB,KAAAC,QAA4B,GAC5B,KAAAC,QAA0B,GAE1B,KAAAC,OAAyB,GACzB,KAAAC,QAA4B,GAC5B,KAAA53E,OAAyB,GAEzB,KAAA63E,mBAAqB,EAErB,KAAAC,YAAkC,KAClC,KAAAC,kBAAoB,EACpB,KAAAC,aAAmC,KACnC,KAAAC,mBAAqB,EAErB,KAAAC,aAA8C,KAC9C,KAAAC,cAA+C,KAE/C,KAAAC,SAAmD1gE,IACjD9kD,KAAKylH,gBACEzlH,KAAKwlH,SAAS1gE,IAGvB,KAAA4gE,gBACExuC,IAEAl3E,KAAKylH,gBACEzlH,KAAK0lH,gBAAgBxuC,IAI9B,KAAAyuC,eAAiC,GACjC,KAAAC,gBAAkC,GAClC,KAAAC,WAA+B,GAC/B,KAAAC,YAAgC,GAChC,KAAAhC,WAAa,EAKX9jH,KAAK+B,QAAU,IAAK/B,KAAK+B,WAAYA,GACrC/B,KAAK+lH,sBAAsBhkH,GAE3B,MAAM,UAAE0hH,EAAS,aAAEuC,EAAY,WAAEtC,GAAe1jH,KAAK+B,QACjD0hH,GAAaC,IACf1jH,KAAK0kH,MAAQ,CAACjB,GAAW32F,OAAmB,OAAZk5F,QAAY,IAAZA,EAAAA,EAAgB,IAAIl5F,OAAO,CAAC42F,KAQhEuC,UAAAA,GACE,IAAKjmH,KAAK0kH,MAAMp2H,OACd,MAAM,IAAI+C,MAAM,yCAGlB2O,KAAK2kH,YAAc3kH,KAAK0kH,MAAMp2H,OAAS,EACvC0R,KAAK4kH,OAAS,IAAI7vH,MAAMiL,KAAK2kH,aAC7B3kH,KAAK6kH,QAAU,IAAI9vH,MAAMiL,KAAK2kH,aAC9B3kH,KAAK8kH,QAAU,IAAI/vH,MAAMiL,KAAK2kH,aAG9B3kH,KAAK+kH,OAAS,IAAIhwH,MAAMiL,KAAK2kH,aAC7B3kH,KAAKglH,QAAU,IAAIjwH,MAAMiL,KAAK2kH,aAC9B3kH,KAAKotC,OAAS,IAAIr4C,MAAMiL,KAAK2kH,aAE7B,IAAK,IAAIuB,EAAa,EAAGA,GAAclmH,KAAK2kH,YAAauB,IAAc,CACrE,MAAMr/F,EAAO7mB,KAAK0kH,MAAMwB,GAKxB,GAJAlmH,KAAK+kH,OAAOmB,GAAc5C,EAAMz8F,GAChC7mB,KAAKotC,OAAO84E,GAAc5C,EAAMz8F,GAChC7mB,KAAK8kH,QAAQoB,GAAc5C,EAAMz8F,GAE7Bq/F,EAAa,EAAG,CAClBlmH,KAAK4kH,OAAOsB,GAAc/C,EAAOt8F,GACjC7mB,KAAK6kH,QAAQqB,GAAc,IAAInxH,MAAM8xB,GACrC7mB,KAAKglH,QAAQkB,GAAc,IAAInxH,MAAM8xB,GAErC,IAAK,IAAIs/F,EAAY,EAAGA,EAAYt/F,EAAMs/F,IAAa,CACrD,MAAMC,EAAWpmH,KAAK0kH,MAAMwB,EAAa,GACzClmH,KAAK6kH,QAAQqB,GAAYC,GAAahD,EAAOiD,GAC7CpmH,KAAKglH,QAAQkB,GAAYC,GAAa7C,EAAM8C,KAKlDpmH,KAAKylH,gBACyB,SAA1BzlH,KAAKykH,UAAU4B,QACjBrmH,KAAKsmH,aAITb,aAAAA,CAAc5B,GACZ,MAAM7wH,EAAkB,OAAV6wH,QAAU,IAAVA,EAAAA,EAAc7jH,KAAKykH,UAAUZ,WAC3C,OAAQ7wH,GACN,IAAK,UACHgN,KAAKwlH,SAAWxlH,KAAKumH,iBACrBvmH,KAAK0lH,gBAAkB1lH,KAAKwmH,wBAC5B,MACF,IAAK,OACHxmH,KAAKwlH,SAAWxlH,KAAKymH,cACrBzmH,KAAK0lH,gBAAkB1lH,KAAK0mH,qBAC5B,MACF,IAAK,aACH1mH,KAAKwlH,SAAWxlH,KAAK2mH,mBACrB3mH,KAAK0lH,gBAAkB1lH,KAAK4mH,0BAC5B,MACF,IAAK,OACH5mH,KAAKwlH,SAAWxlH,KAAK6mH,cACrB7mH,KAAK0lH,gBAAkB1lH,KAAK8mH,qBAC5B,MACF,QACE,MAAM,IAAIz1H,MACR,sBAAsB2B,0EAK9B,cAAI+zH,GACF,OAAO/mH,KAAK0kH,MAAMp2H,OAAS,EAG7By0F,GAAAA,CAAIj+B,GACF,IAAK9kD,KAAK+mH,WACR,MAAM,IAAI11H,MAAM,wBAElB,IAAI21H,EAEFA,EADEhnH,KAAKklH,YACUzG,EAAOl7D,QACtBvjD,KAAKklH,YACJpgE,EACD9kD,KAAKmlH,mBAGWrgE,EAEpB9kD,KAAKinH,cAAcD,GACnB,MAAM9vC,EAASl3E,KAAKwlH,SAASwB,GAAgB7qH,MAAM,GACnD,OAAI6D,KAAKolH,aACC3G,EAAOkB,SACb3/G,KAAKolH,aACLluC,GAGIA,EAGVqvC,gBAAAA,CAAiBzhE,GACf9kD,KAAK8kH,QAAQ,GAAKhgE,EAElB,IAAIoyB,EAAS,KACb,IAAK,IAAIgwC,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMC,EAAcnnH,KAAK0kH,MAAMwC,GACzBE,EAAgBpnH,KAAK6kH,QAAQqC,GAC7BG,EAAernH,KAAK4kH,OAAOsC,GAC3BI,EAAgBtnH,KAAK8kH,QAAQoC,GACnC,IAAK,IAAIx4H,EAAO,EAAGA,EAAOy4H,EAAaz4H,IAAQ,CAC7C,MAAMm2H,EAAUuC,EAAc14H,GAE9B,IAAI+zH,EAAM4E,EAAa34H,GACvB,IAAK,IAAIwuE,EAAI,EAAGA,EAAI2nD,EAAQv2H,OAAQ4uE,IAClCulD,GAAOoC,EAAQ3nD,GAAKpY,EAAMoY,GAG5BoqD,EAAc54H,GAAQ,GAAK,EAAI0K,KAAKgtD,KAAKq8D,IAE3CvrC,EAASpyB,EAAQwiE,EAEnB,IAAKpwC,EACH,MAAM,IAAI7lF,MAAM,oBAElB,OAAO6lF,EAGTuvC,aAAAA,CAAc3hE,GACZ9kD,KAAK8kH,QAAQ,GAAKhgE,EAElB,IAAIoyB,EAAS,KACb,IAAK,IAAIgwC,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMK,EAAavnH,KAAK0kH,MAAMwC,GACxBE,EAAgBpnH,KAAK6kH,QAAQqC,GAC7BG,EAAernH,KAAK4kH,OAAOsC,GAC3BI,EAAgBtnH,KAAK8kH,QAAQoC,GACnC,IAAK,IAAIx4H,EAAO,EAAGA,EAAO64H,EAAY74H,IAAQ,CAC5C,MAAMm2H,EAAUuC,EAAc14H,GAE9B,IAAI+zH,EAAM4E,EAAa34H,GACvB,IAAK,IAAIwuE,EAAI,EAAGA,EAAI2nD,EAAQv2H,OAAQ4uE,IAClCulD,GAAOoC,EAAQ3nD,GAAKpY,EAAMoY,GAG5BoqD,EAAc54H,GAAQ+zH,EAAM,EAAI,EAAIA,EAEtCvrC,EAASpyB,EAAQwiE,EAEnB,IAAKpwC,EACH,MAAM,IAAI7lF,MAAM,oBAElB,OAAO6lF,EAGTyvC,kBAAAA,CAAmB7hE,GACjB9kD,KAAK8kH,QAAQ,GAAKhgE,EAClB,MAAM,eAAEm/D,GAAmBjkH,KAAKykH,UAChC,IAAIvtC,EAAS,KACb,IAAK,IAAIgwC,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMK,EAAavnH,KAAK0kH,MAAMwC,GACxBE,EAAgBpnH,KAAK6kH,QAAQqC,GAC7BG,EAAernH,KAAK4kH,OAAOsC,GAC3BI,EAAgBtnH,KAAK8kH,QAAQoC,GACnC,IAAK,IAAIx4H,EAAO,EAAGA,EAAO64H,EAAY74H,IAAQ,CAC5C,MAAMm2H,EAAUuC,EAAc14H,GAE9B,IAAI+zH,EAAM4E,EAAa34H,GACvB,IAAK,IAAIwuE,EAAI,EAAGA,EAAI2nD,EAAQv2H,OAAQ4uE,IAClCulD,GAAOoC,EAAQ3nD,GAAKpY,EAAMoY,GAG5BoqD,EAAc54H,GAAQ0K,KAAK4sD,IAAIy8D,EAAKwB,EAAiBxB,GAEvDvrC,EAASpyB,EAAQwiE,EAEnB,IAAKpwC,EACH,MAAM,IAAI7lF,MAAM,oBAElB,OAAO6lF,EAGT2vC,aAAAA,CAAc/hE,GACZ9kD,KAAK8kH,QAAQ,GAAKhgE,EAElB,IAAIoyB,EAAS,KACb,IAAK,IAAIgwC,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMK,EAAavnH,KAAK0kH,MAAMwC,GACxBE,EAAgBpnH,KAAK6kH,QAAQqC,GAC7BG,EAAernH,KAAK4kH,OAAOsC,GAC3BI,EAAgBtnH,KAAK8kH,QAAQoC,GACnC,IAAK,IAAIx4H,EAAO,EAAGA,EAAO64H,EAAY74H,IAAQ,CAC5C,MAAMm2H,EAAUuC,EAAc14H,GAE9B,IAAI+zH,EAAM4E,EAAa34H,GACvB,IAAK,IAAIwuE,EAAI,EAAGA,EAAI2nD,EAAQv2H,OAAQ4uE,IAClCulD,GAAOoC,EAAQ3nD,GAAKpY,EAAMoY,GAG5BoqD,EAAc54H,GAAQ0K,KAAKmtD,KAAKk8D,GAElCvrC,EAASpyB,EAAQwiE,EAEnB,IAAKpwC,EACH,MAAM,IAAI7lF,MAAM,oBAElB,OAAO6lF,EAQTswC,mBAAAA,CACEC,GAEIznH,KAAK0kH,MAAMp2H,QAAU0R,KAAK2kH,YAAc,IAE5C3kH,KAAK0kH,MAAQ,GACb1kH,KAAK0kH,MAAM3uH,KAAK0xH,EAAa,GAAG3iE,MAAMx2D,QACjC0R,KAAK+B,QAAQikH,aAKhBhmH,KAAK+B,QAAQikH,aAAa3mG,SAASwH,IACjC7mB,KAAK0kH,MAAM3uH,KAAK8wB,EAAK,IALvB7mB,KAAK0kH,MAAM3uH,KACTqD,KAAK4sD,IAAI,EAAG5sD,KAAK0/E,MAAM2uC,EAAa,GAAG3iE,MAAMx2D,OAAS,KAO1D0R,KAAK0kH,MAAM3uH,KAAK0xH,EAAa,GAAGvwC,OAAO5oF,QAEvC0R,KAAKimH,cAGPF,qBAAAA,CAAsBtB,GACpB,MAAMiD,EAAS,IAAK1nH,KAAKykH,aAAcA,GACvCzkH,KAAK2nH,wBAAwBD,GAC7B1nH,KAAKykH,UAAYiD,EACjB1nH,KAAK4nH,aAAa5nH,KAAKykH,UAAU9rH,KAGnCgvH,uBAAAA,CAAwB5lH,GACtB,MAAM8lH,EAAmD,CACvDhE,WAAYA,IACH,CAAC,UAAW,OAAQ,aAAc,QAAQtwH,SAC/CwO,EAAQ8hH,YAGZC,WAAYA,KACV,MAAMlgD,EAAM7hE,EAAQ+hH,WACpB,MAAsB,kBAARlgD,GAAoBA,EAAM,CAAC,EAE3CmgD,YAAaA,KACX,MAAMngD,EAAM7hE,EAAQgiH,YACpB,MAAsB,kBAARngD,GAAoBA,EAAM,GAAKA,EAAM,CAAC,EAEtDjrE,IAAKA,KACH,MAAMirE,EAAM7hE,EAAQpJ,IACpB,MAAsB,oBAARirE,GAAqC,mBAARA,CAAiB,EAE9DogD,UAAWA,KACT,MAAMpgD,EAAM7hE,EAAQiiH,UACpB,MAAsB,kBAARpgD,GAAoBA,EAAM,CAAC,EAE3CqgD,eAAgBA,KACd,MAAMrgD,EAAM7hE,EAAQkiH,eACpB,MAAsB,kBAARrgD,GAAoBA,EAAM,GAAKA,EAAM,CAAC,EAEtDsgD,aAAcA,KACZ,MAAMtgD,EAAM7hE,EAAQmiH,aACpB,MAAsB,kBAARtgD,GAAoBA,EAAM,GAAKA,EAAM,CAAC,EAEtDugD,SAAUA,KACR,MAAMvgD,EAAM7hE,EAAQoiH,SACpB,MAAsB,kBAARvgD,GAAoBA,EAAM,GAAKA,EAAM,CAAC,EAEtD32C,SAAUA,KACR,MAAM22C,EAAM7hE,EAAQkrB,SACpB,MAAsB,oBAAR22C,QAA8B2P,IAAR3P,CAAiB,EAEvDwgD,eAAgBA,KACd,MAAMxgD,EAAM7hE,EAAQqiH,eACpB,MAAsB,kBAARxgD,GAAoBA,EAAM,CAAC,EAE3Ck9C,QAASA,KACP,MAAMl9C,EAAM7hE,EAAQ++G,QACpB,MAAsB,kBAARl9C,GAAoBA,EAAM,CAAC,EAE3CyiD,OAAQA,KACN,MAAMziD,EAAM7hE,EAAQskH,OACpB,OAAQziD,GAAe,SAARA,CAAc,EAE/BygD,MAAOA,KACL,MAAMzgD,EAAM7hE,EAAQsiH,MACpB,OAAOzgD,EAAM,GAAKA,EAAM,CAAC,EAE3B0gD,MAAOA,KACL,MAAM1gD,EAAM7hE,EAAQuiH,MACpB,OAAO1gD,EAAM,GAAKA,EAAM,CAAC,EAE3B2gD,QAASA,KACP,MAAM3gD,EAAM7hE,EAAQwiH,QACpB,OAAO3gD,EAAM,GAAKA,EAAM,CAAC,GAG7B,IAAK,MAAMhoE,KAAKisH,EAAa,CAC3B,MAAMj2D,EAAK7vD,EACX,IAAK8lH,EAAYjsH,KACf,MAAM,IAAIvK,MACR,IAAIuK,MAAMg2D,EAAEh2D,+EAWpBksH,gBAAAA,GACE,MAAM,WACJjE,EAAU,WACVC,EAAU,YACVC,EAAW,IACXprH,EAAG,UACHqrH,EAAS,eACTC,EAAc,aACdC,EAAY,SACZC,EAAQ,eACRC,EAAc,QACdtD,EAAO,OACPuF,EAAM,MACNhC,EAAK,MACLC,EAAK,QACLC,GACEvkH,KAAKykH,UACT,MAAO,CACLZ,aACAC,aACAC,cACAprH,IACiB,oBAARA,GAEY,mBAARA,GACPA,EAENqrH,YACAC,iBACAC,eACAC,WACAC,iBACAtD,QAASA,IAAYn2E,IAAW,WAAam2E,EAC7CuF,SACAhC,QACAC,QACAC,WAIJqD,YAAAA,CAAajvH,GAETqH,KAAKykH,UAAU9rH,IADE,oBAARA,EACYA,IACZA,GACYqH,KAAK+nH,kBAM9BA,iBAAAA,CAAkB5sG,GAChByX,QAAQj6B,IACN,eAAewiB,EAAO2oG,+BAA+B3oG,EAAOP,SAIhEotG,sBAAAA,CACE3yH,GAEA,IAAIotH,EAAM,EACV,IAAK,IAAIj0H,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EACjCi0H,GAAOziH,KAAKioH,aAAa5yH,EAAK7G,IAAI,GAEpC,OAAOi0H,EAAMptH,EAAK/G,OAGpB45H,aAAAA,CAAc7yH,GACZ,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EACjCwR,KAAKioH,aAAa5yH,EAAK7G,IAI3B25H,YAAAA,CACE9yH,EACA8lB,EACAitG,GAEA,MAAM,SACJn7F,EAAQ,eACRm3F,EAAc,YACdL,EAAW,WACXD,EAAU,IACVnrH,EAAG,UACHqrH,GACEhkH,KAAKykH,UAET,QACEtpG,EAAO2oG,YAAcA,GACrB3oG,EAAOP,OAASmpG,GAChBh8G,KAAKnQ,OAASwwH,KAKhBjtG,EAAO2oG,aAEHnrH,GAAOwiB,EAAO2oG,WAAaE,IAAc,GAC3C7oG,EAAOP,MAAQ5a,KAAKgoH,uBAAuB3yH,GAC1CsD,EAA6CwiB,IACrCA,EAAO2oG,WAAa9jH,KAAKilH,qBAAuB,EACzD9pG,EAAOP,MAAQ5a,KAAKgoH,uBAAuB3yH,GAE3C2K,KAAKkoH,cAAc7yH,GAGjB43B,GAAY9R,EAAO2oG,WAAaM,IAAmB,GACrDn3F,EAAS,CACP62F,WAAY3oG,EAAO2oG,WACnBlpG,MAAOO,EAAOP,SAGX,GAGTytG,YAAAA,CACEhzH,GACiD,IAAjD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA+C,CAAC,EAEhD2R,KAAK+lH,sBAAsBhkH,GAC3B,MAAM0lH,EAAeznH,KAAKsoH,WAAWjzH,GAC/B+yH,EAAUrgH,KAAKnQ,MAAQoI,KAAKykH,UAAU3D,QAEtC3lG,EAAS,CACbP,MAAO,EACPkpG,WAAY,GAKd,OAFA9jH,KAAKwnH,oBAAoBC,GACzBznH,KAAKuoH,aAAad,GACX,CACLA,eACAtsG,SACAitG,WAIJI,KAAAA,CACEnzH,GACiD,IAAjD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA+C,CAAC,EAEhD,MAAM,aAAEo5H,EAAY,OAAEtsG,EAAM,QAAEitG,GAAYpoH,KAAKqoH,aAC7ChzH,EACA0M,GAGF,KACO/B,KAAKmoH,aAAaV,EAActsG,EAAQitG,KAI/C,OAAOjtG,EAGT,gBAAMstG,CACJpzH,GACiD,IAAjD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA+C,CAAC,EAEhD,MAAM,aAAEo5H,EAAY,OAAEtsG,EAAM,QAAEitG,GAAYpoH,KAAKqoH,aAAahzH,EAAM0M,GAElE,aAAa,IAAIgkC,SAAQ,CAACnjB,EAASojB,KACjC,IACE,MAAM0iF,EAAoB,IAAIC,EAAApI,KAC5B,IAAIxrH,MAAMiL,KAAKykH,UAAUX,YACzB,CACE7C,OAAO,EACPN,KAAMA,IACJ3gH,KAAKmoH,aAAaV,EAActsG,EAAQitG,IACxCM,EAAYvH,OACd3hG,KAAMA,IAAMoD,EAAQzH,KAGxButG,EAAY7H,OACZ,MAAO+H,GACP5iF,EAAO4iF,OAKbX,YAAAA,CACEj1H,EACA61H,GASA,OANA7oH,KAAKwlH,SAASxyH,EAAM8xD,OAGpB9kD,KAAK0lH,gBAAgB1yH,EAAMkkF,QAC3Bl3E,KAAK8oH,gBAEDD,EACKrG,EAAIxiH,KAAKotC,OAAOptC,KAAK2kH,cAEvB,KAGT6B,uBAAAA,CAAwBxiH,GACtB,IAAK,IAAIkjH,EAAQlnH,KAAK2kH,YAAauC,GAAS,EAAGA,IAAS,CACtD,MAAMK,EAAavnH,KAAK0kH,MAAMwC,GACxB6B,EAAe/oH,KAAK8kH,QAAQoC,GAC5B8B,EAAchpH,KAAKotC,OAAO85E,GAC1B+B,EAAejpH,KAAK+kH,OAAOmC,GAC3BgC,EAAYlpH,KAAK6kH,QAAQqC,EAAQ,GAEvC,IAAK,IAAIx4H,EAAO,EAAGA,EAAO64H,EAAY74H,IAAQ,CAC5C,MAAMwoF,EAAS6xC,EAAar6H,GAE5B,IAAIksB,EAAQ,EACZ,GAAIssG,IAAUlnH,KAAK2kH,YACjB/pG,EAAQ5W,EAAOtV,GAAQwoF,MAClB,CACL,MAAM6tC,EAAS/kH,KAAK+kH,OAAOmC,EAAQ,GACnC,IAAK,IAAIhqD,EAAI,EAAGA,EAAI6nD,EAAOz2H,OAAQ4uE,IACjCtiD,GAASmqG,EAAO7nD,GAAKgsD,EAAUhsD,GAAGxuE,GAGtCs6H,EAAYt6H,GAAQksB,EACpBquG,EAAav6H,GAAQksB,EAAQs8D,GAAU,EAAIA,KAKjDwvC,oBAAAA,CAAqB1iH,GACnB,IAAK,IAAIkjH,EAAQlnH,KAAK2kH,YAAauC,GAAS,EAAGA,IAAS,CACtD,MAAMiC,EAAcnpH,KAAK0kH,MAAMwC,GACzBkC,EAAiBppH,KAAK8kH,QAAQoC,GAC9BmC,EAAcrpH,KAAK6kH,QAAQqC,EAAQ,GACnCoC,EAAatpH,KAAK+kH,OAAOmC,EAAQ,GACjCqC,EAAgBvpH,KAAKotC,OAAO85E,GAC5BsC,EAAgBxpH,KAAK+kH,OAAOmC,GAElC,IAAK,IAAIx4H,EAAO,EAAGA,EAAOy6H,EAAaz6H,IAAQ,CAC7C,MAAMwoF,EAASkyC,EAAe16H,GAE9B,IAAIksB,EAAQ,EACZ,GAAIssG,IAAUlnH,KAAK2kH,YACjB/pG,EAAQ5W,EAAOtV,GAAQwoF,OAEvB,IAAK,IAAIha,EAAI,EAAGA,EAAIosD,EAAWh7H,OAAQ4uE,IACrCtiD,GAAS0uG,EAAWpsD,GAAKmsD,EAAYnsD,GAAGxuE,GAG5C66H,EAAc76H,GAAQksB,EACtB4uG,EAAc96H,GAAQwoF,EAAS,EAAIt8D,EAAQ,IAKjDgsG,yBAAAA,CAA0B5iH,GACxB,MAAMipG,EAAQjtG,KAAKykH,UAAUR,eAC7B,IAAK,IAAIiD,EAAQlnH,KAAK2kH,YAAauC,GAAS,EAAGA,IAAS,CACtD,MAAMiC,EAAcnpH,KAAK0kH,MAAMwC,GACzBkC,EAAiBppH,KAAK8kH,QAAQoC,GAC9BoC,EAAatpH,KAAK+kH,OAAOmC,EAAQ,GACjCmC,EAAcrpH,KAAK6kH,QAAQqC,EAAQ,GACnCqC,EAAgBvpH,KAAKotC,OAAO85E,GAC5BsC,EAAgBxpH,KAAK+kH,OAAOmC,GAElC,IAAK,IAAIx4H,EAAO,EAAGA,EAAOy6H,EAAaz6H,IAAQ,CAC7C,MAAMwoF,EAASkyC,EAAe16H,GAE9B,IAAIksB,EAAQ,EACZ,GAAIssG,IAAUlnH,KAAK2kH,YACjB/pG,EAAQ5W,EAAOtV,GAAQwoF,OAEvB,IAAK,IAAIha,EAAI,EAAGA,EAAIosD,EAAWh7H,OAAQ4uE,IACrCtiD,GAAS0uG,EAAWpsD,GAAKmsD,EAAYnsD,GAAGxuE,GAG5C66H,EAAc76H,GAAQksB,EACtB4uG,EAAc96H,GAAQwoF,EAAS,EAAIt8D,EAAQqyF,EAAQryF,IAKzDksG,oBAAAA,CAAqB9iH,GACnB,IAAK,IAAIkjH,EAAQlnH,KAAK2kH,YAAauC,GAAS,EAAGA,IAAS,CACtD,MAAMiC,EAAcnpH,KAAK0kH,MAAMwC,GACzBkC,EAAiBppH,KAAK8kH,QAAQoC,GAC9BoC,EAAatpH,KAAK+kH,OAAOmC,EAAQ,GACjCmC,EAAcrpH,KAAK6kH,QAAQqC,EAAQ,GACnCqC,EAAgBvpH,KAAKotC,OAAO85E,GAC5BsC,EAAgBxpH,KAAK+kH,OAAOmC,GAElC,IAAK,IAAIx4H,EAAO,EAAGA,EAAOy6H,EAAaz6H,IAAQ,CAC7C,MAAMwoF,EAASkyC,EAAe16H,GAE9B,IAAIksB,EAAQ,EACZ,GAAIssG,IAAUlnH,KAAK2kH,YACjB/pG,EAAQ5W,EAAOtV,GAAQwoF,OAEvB,IAAK,IAAIha,EAAI,EAAGA,EAAIosD,EAAWh7H,OAAQ4uE,IACrCtiD,GAAS0uG,EAAWpsD,GAAKmsD,EAAYnsD,GAAGxuE,GAG5C66H,EAAc76H,GAAQksB,EACtB4uG,EAAc96H,IAAS,EAAIwoF,EAASA,GAAUt8D,IASpDkuG,aAAAA,GACE,MAAM,aAAE5E,EAAY,SAAEC,GAAankH,KAAKykH,UACxC,IAAK,IAAIyC,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMuC,EAAWzpH,KAAK8kH,QAAQoC,EAAQ,GAChCK,EAAavnH,KAAK0kH,MAAMwC,GACxBwC,EAAc1pH,KAAK+kH,OAAOmC,GAC1ByC,EAAgB3pH,KAAKglH,QAAQkC,GAC7BE,EAAgBpnH,KAAK6kH,QAAQqC,GAC7BG,EAAernH,KAAK4kH,OAAOsC,GAEjC,IAAK,IAAIx4H,EAAO,EAAGA,EAAO64H,EAAY74H,IAAQ,CAC5C,MAAMw3D,EAAQwjE,EAAYh7H,GAE1B,IAAK,IAAIwuE,EAAI,EAAGA,EAAIusD,EAASn7H,OAAQ4uE,IAAK,CACxC,IAAI0sD,EAASD,EAAcj7H,GAAMwuE,GAEjC0sD,EAAS1F,EAAeh+D,EAAQujE,EAASvsD,GAAKinD,EAAWyF,EAEzDD,EAAcj7H,GAAMwuE,GAAK0sD,EACzBxC,EAAc14H,GAAMwuE,IAAM0sD,EAE5BvC,EAAa34H,IAASw1H,EAAeh+D,IAK3CogE,UAAAA,GACEtmH,KAAK2lH,eAAiB,GACtB3lH,KAAK4lH,gBAAkB,GACvB5lH,KAAK6lH,WAAa,GAClB7lH,KAAK8lH,YAAc,GACnB9lH,KAAK8jH,WAAa,EAElB,IAAK,IAAIoD,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMrgG,EAAO7mB,KAAK0kH,MAAMwC,GACxB,GAAIA,EAAQ,EAAG,CACblnH,KAAK2lH,eAAeuB,GAAS5D,EAAMz8F,GACnC7mB,KAAK4lH,gBAAgBsB,GAAS5D,EAAMz8F,GACpC7mB,KAAK6lH,WAAWqB,GAAS,IAAInyH,MAAM8xB,GACnC7mB,KAAK8lH,YAAYoB,GAAS,IAAInyH,MAAM8xB,GAEpC,IAAK,IAAIn4B,EAAO,EAAGA,EAAOm4B,EAAMn4B,IAAQ,CACtC,MAAM03H,EAAWpmH,KAAK0kH,MAAMwC,EAAQ,GACpClnH,KAAK6lH,WAAWqB,GAAOx4H,GAAQ40H,EAAM8C,GACrCpmH,KAAK8lH,YAAYoB,GAAOx4H,GAAQ40H,EAAM8C,KAK5CpmH,KAAK8oH,cAAgB9oH,KAAK6pH,mBAG5BA,kBAAAA,GACE7pH,KAAK8jH,aAEL,MAAM,WAAEA,GAAe9jH,MACjB,MAAEqkH,EAAK,MAAEC,EAAK,QAAEC,EAAO,aAAEL,GAAiBlkH,KAAKykH,UAErD,IAAK,IAAIyC,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMuC,EAAWzpH,KAAK8kH,QAAQoC,EAAQ,GAChCiC,EAAcnpH,KAAK0kH,MAAMwC,GACzBsC,EAAgBxpH,KAAK+kH,OAAOmC,GAC5B4C,EAAoB9pH,KAAK6lH,WAAWqB,GACpC6C,EAAqB/pH,KAAK8lH,YAAYoB,GACtC8C,EAAiBhqH,KAAK6kH,QAAQqC,GAC9B+C,EAAgBjqH,KAAK4kH,OAAOsC,GAC5BgD,EAAwBlqH,KAAK2lH,eAAeuB,GAC5CiD,EAAyBnqH,KAAK4lH,gBAAgBsB,GAEpD,IAAK,IAAIx4H,EAAO,EAAGA,EAAOy6H,EAAaz6H,IAAQ,CAC7C,MAAMw3D,EAAQsjE,EAAc96H,GAE5B,IAAK,IAAIwuE,EAAI,EAAGA,EAAIusD,EAASn7H,OAAQ4uE,IAAK,CACxC,MAAMktD,EAAWlkE,EAAQujE,EAASvsD,GAC5BmtD,EACJP,EAAkBp7H,GAAMwuE,GAAKmnD,GAAS,EAAIA,GAAS+F,EAC/CE,EACJP,EAAmBr7H,GAAMwuE,GAAKonD,GAC7B,EAAIA,GAAS8F,EAAWA,EAErBG,EACJF,GAAa,EAAIjxH,KAAKoxH,IAAInG,EAAOP,IAC7B2G,EACJH,GAAc,EAAIlxH,KAAKoxH,IAAIlG,EAAOR,IAEpCgG,EAAkBp7H,GAAMwuE,GAAKmtD,EAC7BN,EAAmBr7H,GAAMwuE,GAAKotD,EAC9BN,EAAet7H,GAAMwuE,IAClBgnD,EAAeqG,GACfnxH,KAAKsiH,KAAK+O,GAAsBlG,GAGrC,MAAMmG,EAAelB,EAAc96H,GAC7Bi8H,EACJT,EAAsBx7H,GAAQ21H,GAAS,EAAIA,GAASqG,EAChDE,EACJT,EAAuBz7H,GAAQ41H,GAC9B,EAAIA,GAASoG,EAAeA,EAEzBG,EACJX,EAAsBx7H,IAAS,EAAI0K,KAAKoxH,IAAInG,EAAOP,IAC/CgH,EACJX,EAAuBz7H,IAAS,EAAI0K,KAAKoxH,IAAIlG,EAAOR,IAEtDoG,EAAsBx7H,GAAQi8H,EAC9BR,EAAuBz7H,GAAQk8H,EAC/BX,EAAcv7H,IACXw1H,EAAe2G,GACfzxH,KAAKsiH,KAAKoP,GAA0BvG,KAK7CgE,YAAAA,CAAalzH,GACX,MAAMouH,EAAYzjH,KAAK0kH,MAAM,GACvBhB,EAAa1jH,KAAK0kH,MAAM1kH,KAAK0kH,MAAMp2H,OAAS,IAC5C,OAAEA,GAAW+G,EACnB,IAAK,IAAI7G,EAAI,EAAGA,EAAIF,EAAQE,IAAK,CAC/B,MAAM,MAAEs2D,EAAK,OAAEoyB,GAAW7hF,EAAK7G,GAC/B,GAAIs2D,EAAMx2D,SAAWm1H,EACnB,MAAM,IAAIpyH,MACR,kBAAkB7C,YAAYs2D,EAAMx2D,kBAAkBm1H,KAG1D,GAAIpuH,EAAK7G,GAAG0oF,OAAO5oF,SAAWo1H,EAC5B,MAAM,IAAIryH,MACR,mBAAmB7C,YAAY0oF,EAAO5oF,kBAAkBo1H,MAMhEuD,aAAAA,CAAcD,GACZ,MAAMvD,EAAYzjH,KAAK0kH,MAAM,GAC7B,GAAIsC,EAAe14H,SAAWm1H,EAC5B,MAAM,IAAIpyH,MACR,gBAAgB21H,EAAe14H,0CAA0Cm1H,KAK/E6E,UAAAA,CACEjzH,GAEA,IAAKN,MAAMC,QAAQK,EAAK,GAAGyvD,OACzB,GAAI9kD,KAAKklH,YACPllH,KAAKmlH,kBAAoBh0H,OAAOkgB,KAAKrR,KAAKklH,aAAa52H,WAClD,CACL,MAAM42H,EAAc,IAAI3C,EAAYltH,EAAM,SAC1C2K,KAAKklH,YAAcA,EAAYjG,MAC/Bj/G,KAAKmlH,kBAAoBD,EAAY52H,OAIzC,IAAKyG,MAAMC,QAAQK,EAAK,GAAG6hF,QACzB,GAAIl3E,KAAKolH,aACPplH,KAAKqlH,mBAAqBl0H,OAAOkgB,KAAKrR,KAAKolH,cAAc92H,WACpD,CACL,MAAMmwH,EAAS,IAAI8D,EAAYltH,EAAM,UACrC2K,KAAKolH,aAAe3G,EAAOQ,MAC3Bj/G,KAAKqlH,mBAAqB5G,EAAOnwH,OAarC,GATK0R,KAAKslH,eACRtlH,KAAKslH,aAAe/B,EAAgBluH,EAAK,GAAGyvD,MAAO9kD,KAAKklH,cAGrDllH,KAAKulH,gBACRvlH,KAAKulH,cAAgBhC,EAAgBluH,EAAK,GAAG6hF,OAAQl3E,KAAKolH,eAIxDplH,KAAKslH,cAAgBtlH,KAAKulH,cAAe,CAC3C,MAAMz3F,EAA4D,GAClE,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAK,CACV+uD,MAAQ9kD,KAAKslH,aACVjwH,EAAK7G,GAAGs2D,OAEXoyB,OAASl3E,KAAKulH,cACXlwH,EAAK7G,GAAG0oF,UAIf,OAAOppD,EAET,GAAI9tB,KAAKslH,aAAc,CACrB,MAAMx3F,EAA4D,GAClE,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAK,CACV+uD,MAAQ9kD,KAAKslH,aACVjwH,EAAK7G,GAAGs2D,OAEXoyB,OAAS7hF,EAAK7G,GAAG0oF,SAGrB,OAAOppD,EAET,GAAI9tB,KAAKulH,cAAe,CACtB,MAAMz3F,EAA4D,GAClE,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAK,CACV+uD,MAAQzvD,EAAK7G,GAAGs2D,MAChBoyB,OAASl3E,KAAKulH,cACXlwH,EAAK7G,GAAG0oF,UAIf,OAAOppD,EAET,OAAQz4B,EAKV01H,SAAAA,CAAU11H,WACHN,MAAMC,QAAQK,EAAKyvD,QAAmC,kBAAlBzvD,EAAKyvD,MAAM,KAClD9kD,KAAKklH,YAAczG,EAAOyB,QACvB7qH,EAAKyvD,MACU,QADsB27D,EACtCzgH,KAAKklH,mBAAW,IAAAzE,EAAAA,EAAI,CAAC,GAEnBzgH,KAAKklH,cACPllH,KAAKmlH,kBAAoBh0H,OAAOkgB,KAAKrR,KAAKklH,aAAa52H,SAGtDyG,MAAMC,QAAQK,EAAK6hF,SAAqC,kBAAnB7hF,EAAK6hF,OAAO,KACpDl3E,KAAKolH,aAAe3G,EAAOyB,QACxB7qH,EAAK6hF,OACW,QADsB8zC,EACvChrH,KAAKolH,oBAAY,IAAA4F,EAAAA,EAAI,CAAC,GAEpBhrH,KAAKolH,eACPplH,KAAKqlH,mBAAqBl0H,OAAOkgB,KAAKrR,KAAKolH,cAAc92H,SAK/DsQ,IAAAA,CACEvJ,GAEA,MAAM,aAAEoyH,GAAiBznH,KAAKqoH,aAC5BhzH,GAKI41H,EAAa,GAGnB,IAAIC,EAAW,EACf,GANmD,IAAlCzD,EAAa,GAAGvwC,OAAO5oF,OAM1B,CACZ,IAAI68H,EAAW,EACXC,EAAW,EACXC,EAAU,EACVC,EAAU,EAEd,IAAK,IAAI98H,EAAI,EAAGA,EAAIi5H,EAAan5H,OAAQE,IAAK,CAC5C,MAAM0oF,EAASl3E,KAAKwlH,SAASiC,EAAaj5H,GAAGs2D,OACvC9gD,EAASyjH,EAAaj5H,GAAG0oF,OACzBq0C,EAASr0C,EAAO,GAAKl3E,KAAK+B,QAAQ4hH,aAAe,EAAI,EACrD6H,EAAWxnH,EAAO,GAExB,GAAIunH,IAAWC,EAAU,CACvB,MAAMC,EAAWhE,EAAaj5H,GAC9By8H,EAAWl1H,KAAK,CACd+uD,MAAO2mE,EAAS3mE,MAChBoyB,OAAQu0C,EAASv0C,OACjBq0C,SACAC,aAIW,IAAXD,GAA6B,IAAbC,EAClBF,IACoB,IAAXC,GAA6B,IAAbC,EACzBH,IACoB,IAAXE,GAA6B,IAAbC,EACzBJ,IACoB,IAAXG,GAA6B,IAAbC,GACzBL,IAGFD,GAAY1I,EACVtrC,EAAOpwD,KAAI,CAAC9zB,EAAOxE,IACVwV,EAAOxV,GAAKwE,KAKzB,MAAO,CACL4nB,MAAOswG,EAAWzD,EAAan5H,OAC/B28H,aACAz5C,MAAOi2C,EAAan5H,OACpBg9H,UACAD,UACAD,WACAD,WACA1kC,UAAW4kC,EAAU,EAAIA,GAAWA,EAAUF,GAAY,EAC1DO,OAAQL,EAAU,EAAIA,GAAWA,EAAUD,GAAY,EACvDO,UAAWL,EAAUD,GAAW5D,EAAan5H,QAIjD,IAAK,IAAIE,EAAI,EAAGA,EAAIi5H,EAAan5H,OAAQE,IAAK,CAC5C,MAAM0oF,EAASl3E,KAAKwlH,SAASiC,EAAaj5H,GAAGs2D,OACvC9gD,EAASyjH,EAAaj5H,GAAG0oF,OACzBq0C,EAASr0C,EAAOzlF,QAAQu0D,EAAIkxB,IAC5Bs0C,EAAWxnH,EAAOvS,QAAQu0D,EAAIhiD,IAEpC,GAAIunH,IAAWC,EAAU,CACvB,MAAMC,EAAWhE,EAAaj5H,GAC9By8H,EAAWl1H,KAAK,CACd+uD,MAAO2mE,EAAS3mE,MAChBoyB,OAAQu0C,EAASv0C,OACjBq0C,SACAC,aAIJN,GAAY1I,EACVtrC,EAAOpwD,KAAI,CAAC9zB,EAAOxE,IACVwV,EAAOxV,GAAKwE,KAIzB,MAAO,CACL4nB,MAAOswG,EAAWzD,EAAan5H,OAC/B28H,aACAz5C,MAAOi2C,EAAan5H,QAIxB2pF,MAAAA,WACOj4E,KAAK+mH,YACR/mH,KAAKimH,aAGP,MAAM2F,EAAmB5rH,KAAK6kH,QAAQ/9F,KAAK+kG,GAClCA,EAAa/kG,KAAK+kG,GAAiB92H,MAAMshF,KAAKw1C,OAEjDC,EAAkB9rH,KAAK4kH,OAAO99F,KAAKilG,GACvCh3H,MAAMshF,KAAK01C,KAEPC,EAA2B,GAC3B7J,EAAeniH,KAAK0kH,MAAMp2H,OAAS,EACzC,IAAK,IAAIE,EAAI,EAAGA,GAAK2zH,EAAc3zH,IACjCw9H,EAAWj2H,KAAK,CACd8uH,QAA4B,QAArBpE,EAAEmL,EAAiBp9H,UAAE,IAAAiyH,EAAAA,EAAI,GAChCmE,OAA0B,QAApBoG,EAAEc,EAAgBt9H,UAAE,IAAAw8H,EAAAA,EAAI,KAGlC,MAAO,CACL56H,KAAM,gBACNs0H,MAAO,IAAI1kH,KAAK0kH,OAChBuH,OAAQD,EACR9G,YAAallH,KAAKklH,YAAc,IAAKllH,KAAKklH,aAAgB,KAC1DC,kBAAmBnlH,KAAKmlH,kBACxBC,aAAcplH,KAAKolH,aAAe,IAAKplH,KAAKolH,cAAiB,KAC7DC,mBAAoBrlH,KAAKqlH,mBACzBtjH,QAAS,IAAK/B,KAAK+B,SACnB0iH,UAAWzkH,KAAK8nH,oBAIpBjgC,QAAAA,CAAS/B,GAEP,GADA9lF,KAAK+B,QAAU,IAAKyhH,OAAe19B,EAAK/jF,SACpC+jF,EAAK3uF,eAAe,aAAc,CACpC,MAAMstH,EAAY,IACb3+B,EAAK2+B,UACR3D,QAC6B,aAA3Bh7B,EAAK2+B,UAAU3D,QACXn2E,IACAm7C,EAAK2+B,UAAU3D,SAEvB9gH,KAAK+lH,sBAAsBtB,GAE7BzkH,KAAK0kH,MAAQ5+B,EAAK4+B,MAClB1kH,KAAKimH,aAELjmH,KAAKklH,YAAcp/B,EAAKo/B,YAAc,IAAKp/B,EAAKo/B,aAAgB,KAChEllH,KAAKmlH,kBAAoBr/B,EAAKq/B,kBAC9BnlH,KAAKolH,aAAet/B,EAAKs/B,aAAe,IAAKt/B,EAAKs/B,cAAiB,KACnEplH,KAAKqlH,mBAAqBv/B,EAAKu/B,mBAE/B,MAAM2G,EAAalmC,EAAKmmC,OAClBJ,EAAe7rH,KAAK6kH,QAAQ/9F,KAAI,CAAC+kG,EAAc3F,IAC5C8F,EAAW9F,GAAYrB,QAAQ/9F,KAAK+kG,GACzC50C,aAAaZ,KAAKw1C,OAGhBE,EAAc/rH,KAAK4kH,OAAO99F,KAAI,CAACilG,EAAa7F,IAChDjvC,aAAaZ,KAAK21C,EAAW9F,GAAYtB,UAE3C,IAAK,IAAIp2H,EAAI,EAAGA,GAAKwR,KAAK2kH,YAAan2H,IACrCwR,KAAK6kH,QAAQr2H,GAAKq9H,EAAar9H,IAAM,GACrCwR,KAAK4kH,OAAOp2H,GAAKu9H,EAAYv9H,IAAM,GAErC,OAAOwR,KAGTksH,UAAAA,CACE15E,GAEA,MAAM,WAAEqxE,EAAU,eAAEI,GAAmBjkH,KAAKykH,UAC5C,IAAI0H,GAAW,EACf,MAAMC,EAAaA,CAAClG,EAAoBC,KACtC,GAAmB,IAAfD,EACF,MAAO,UAAUC,SAGnB,MAAMtB,EAAwB7kH,KAAK6kH,QAAQqB,GAAYC,GACjDkG,EAAersH,KAAK4kH,OAAOsB,GAAYC,GAC7C,IAAKtB,EACH,MAAM,IAAIxzH,MACR,yBAAyB60H,iBAA0BC,eAGvD,IAAKkG,EACH,MAAM,IAAIh7H,MACR,sBAAsB60H,iBAA0BC,eAGpD,MAAMmG,EAAyB,GAC/BzH,EAAQxlG,SAAQ,CAAC0mC,EAAgBwmE,KAC3BxmE,EAAS,EACXumE,EAAav2H,KACX,GAAGgwD,KAAUqmE,EAAWlG,EAAa,EAAGqG,MAG1CD,EAAav2H,KACX,IAAIgwD,KAAUqmE,EAAWlG,EAAa,EAAGqG,SAI/C,MAAMz+F,EAAS,IAAIu+F,EAAKnwH,aAAaowH,EAAa/vG,KAAK,OAEvD,OAAQsnG,GACN,IAAK,UACH,MAAO,mBAAmB/1F,MAC5B,IAAK,OAEH,OADAq+F,GAAW,EACJ,OAAOr+F,YAEhB,IAAK,aAEH,OADAq+F,GAAW,EACJ,eAAer+F,MAAWm2F,OAEnC,IAAK,OACH,MAAO,aAAan2F,KACtB,QACE,MAAM,IAAIz8B,MACR,sBAAsBwyH,2EAK9B,SAAS2I,EAAUn7G,GACjB,GAAIA,EAAKo7G,MAAM76D,GAAMA,EAAEr+D,SAAS,OAC9B,MAAM,IAAIlC,MAAM,8CAIpB,MAAMq7H,EAAyB,GAC/B,IAAI5+F,EAEAo3F,EAAc,GAQlB,GAPIllH,KAAKklH,cAEPsH,EADar7H,OAAOkgB,KAAKrR,KAAKklH,cAE9BA,EAAc,6BAA6B/zH,OAAOkgB,KAAKrR,KAAKklH,aACzDp+F,KAAKnb,GAAQ,UAAUA,QACvB4Q,KAAK,WAENvc,KAAK0kH,MAAMp2H,OAAS,EAAG,MAAM,IAAI+C,MAAM,aAC3C,IACE,IAAI80H,EAAY,EAChBA,EAAYnmH,KAAK0kH,MAAM1kH,KAAK2kH,aAC5BwB,IAEAuG,EAAa32H,KAAKq2H,EAAWpsH,KAAK2kH,YAAawB,IAEjD,GAAInmH,KAAKolH,aAAc,CACrB,MAAM/zG,EAAOlgB,OAAOkgB,KAAKrR,KAAKolH,cAC9BoH,EAAUn7G,GAIVyc,EAAS,IAHMzc,EACZyV,KAAI,CAACnb,EAAKnd,IAAM,IAAImd,MAAQ+gH,EAAal+H,OACzC+tB,KAAK,aAGRuR,EAAS,IAAI4+F,EAAanwG,KAAK,QAGjC,MAAMzE,EAAS,GAAGotG,IAAciH,EAAW,SAAW,YAAYr+F,KAElE,OAAO,IAAIksD,SAAS,QAASxnC,EAAKA,EAAG16B,GAAUA,IC9xCnD,IAAI60G,EAA0B,cAKdnjB,EAAMx2G,GACpB25H,EAAc35H,CAChB,UAYgB45H,EAIdh7H,EACAynF,GAEA,IAAIwzC,EAAoBF,EAMxB,OALqB,OAAjBE,IACFA,EAAe,IAAIC,EAAA1V,IAAI,CAAEt5F,KAAM,QAC/B0rF,EAAMqjB,IAGDA,EACJnU,aAAuC9mH,EAAIynF,GAC3CiqB,aAAY,EACjB,UAEgBypB,EAIdjmG,EACAl1B,EACAynF,GAEA,IAAIwzC,EAAoBF,EAMxB,OALqB,OAAjBE,IACFA,EAAe,IAAIC,EAAA1V,IAAI,CAAEt5F,KAAM,QAC/B0rF,EAAMqjB,IAGDA,EACJpT,gBAA0C3yF,EAAKl1B,EAAIynF,GACnDiqB,aAAY,EACjB,UAgBgB0pB,EAAYh6H,EAAiB6zB,GAC3C,OAAO,IAAIimG,EAAA3qB,MAAMnvG,EAAO6zB,EAC1B,UAKgBomG,EAAQC,GAClBA,aAA2BJ,EAAAjuB,SAC7BquB,EAAgB9tG,QAEpB,UAKgBmgF,EAAMvsG,GACpB,GAAIA,aAAiB85H,EAAAjuB,QACnB7rG,EAAMusG,YADR,CAMA,GAAIxqG,MAAMC,QAAQhC,GAChB,GAAwB,kBAAbA,EAAM,GACdA,EAAmBm6H,KAAK,OACpB,IAA2B,kBAAhBn6H,EAAM,GAAG,GAAiB,CAC1C,IAAK,IAAInC,EAAI,EAAGA,EAAImC,EAAM1E,OAAQuC,IAC/BmC,EAAMnC,GAAgBs8H,KAAK,GAE9B,OACK,GAA8B,kBAAnBn6H,EAAM,GAAG,GAAG,GAAiB,CAE7C,IAAK,IAAIge,EAAI,EAAGA,EAAIhe,EAAM1E,OAAQ0iB,IAAK,CACrC,MAAM8P,EAAkB9tB,EAAMge,GAC9B,IAAK,IAAIngB,EAAI,EAAGA,EAAIiwB,EAAIxyB,OAAQuC,IAC9BiwB,EAAIjwB,GAAGs8H,KAAK,GAGhB,QAIJ,KAAIn6H,aAAiBikF,cAKrB,MAAM,IAAI5lF,MAAM,mBAJd2B,EAAMm6H,KAAK,GAKf,UAKgB9wF,GAAMrpC,GACpB,GAAIA,aAAiB85H,EAAAjuB,QACnB,OAAO7rG,EAAMqpC,QAEf,GAAIrpC,aAAiBikF,aACnB,OAAOjkF,EAAMmJ,MAAM,GAErB,GAAIpH,MAAMC,QAAQhC,GAAQ,CACxB,GAAwB,kBAAbA,EAAM,GACf,OAAOA,EAAMmJ,MAAM,GACd,GAA2B,kBAAhBnJ,EAAM,GAAG,GAAiB,CAC1C,MAAMukF,EAAS,IAAIxiF,MAAM/B,EAAM1E,QAC/B,IAAK,IAAIuC,EAAI,EAAGA,EAAImC,EAAM1E,OAAQuC,IAChC0mF,EAAO1mF,GAAMmC,EAAMnC,GAAoBsL,MAAM,GAE/C,OAAOo7E,EACF,GAA8B,kBAAnBvkF,EAAM,GAAG,GAAG,GAAiB,CAC7C,MAAM0kF,EAAO,IAAI3iF,MAAM/B,EAAM1E,QAC7B,IAAK,IAAI0iB,EAAI,EAAGA,EAAIhe,EAAM1E,OAAQ0iB,IAAK,CACrC,MAAM8P,EAAM9tB,EAAMge,GACZumE,EAAS,IAAIxiF,MAAM+rB,EAAIxyB,QAC7B,IAAK,IAAIuC,EAAI,EAAGA,EAAIiwB,EAAIxyB,OAAQuC,IAC9B0mF,EAAO1mF,GAAKiwB,EAAIjwB,GAAGsL,MAAM,GAG7B,OAAOu7E,GAGX,MAAM,IAAIrmF,MAAM,kBAClB,CC/HA,SAAS+7H,GAEPvI,EACAD,EACAyI,GAEA,IAAI5K,EAAMmC,EAAO5kH,KAAKm3E,OAAOtmF,GAC7B,IAAK,IAAIqsE,EAAI,EAAGA,EAAIl9D,KAAKm4E,UAAUtxD,KAAMq2C,IACvCulD,GAAOoC,EAAQ7kH,KAAKm3E,OAAOtmF,GAAGqsE,GAAKmwD,EAAOnwD,GAG5C,OAAO,GAAK,EAAI9jE,KAAKgtD,KAAKq8D,GAC5B,CAEA,SAAS6K,GAEPzI,EACAD,EACAyI,GAEA,IAAI5K,EAAMmC,EAAO5kH,KAAKm3E,OAAOtmF,GAC7B,IAAK,IAAIqsE,EAAI,EAAGA,EAAIl9D,KAAKm4E,UAAUtxD,KAAMq2C,IACvCulD,GAAOoC,EAAQ7kH,KAAKm3E,OAAOtmF,GAAGqsE,GAAKmwD,EAAOnwD,GAG5C,OAAOulD,EAAM,EAAI,EAAIA,CACvB,CAEA,SAAS8K,GAEP1I,EACAD,EACAyI,GAEA,IAAI5K,EAAMmC,EAAO5kH,KAAKm3E,OAAOtmF,GAC7B,IAAK,IAAIqsE,EAAI,EAAGA,EAAIl9D,KAAKm4E,UAAUtxD,KAAMq2C,IACvCulD,GAAOoC,EAAQ7kH,KAAKm3E,OAAOtmF,GAAGqsE,GAAKmwD,EAAOnwD,GAG5C,OAAOulD,EAAM,EAAI,EAAI,IAAOA,CAC9B,CAEA,SAAS+K,GAEP3I,EACAD,EACAyI,GAEA,IAAI5K,EAAMmC,EAAO5kH,KAAKm3E,OAAOtmF,GAC7B,IAAK,IAAIqsE,EAAI,EAAGA,EAAIl9D,KAAKm4E,UAAUtxD,KAAMq2C,IACvCulD,GAAOoC,EAAQ7kH,KAAKm3E,OAAOtmF,GAAGqsE,GAAKmwD,EAAOnwD,GAG5C,OAAO9jE,KAAKmtD,KAAKk8D,EACnB,CAEA,SAASgL,GAAgBv2C,EAAgBlzE,GACvC,OAAOA,EAASkzE,CAClB,CAEA,SAASw2C,GAAkB9yG,EAAes8D,GAExC,OAAOt8D,EAAQs8D,GAAU,EAAIA,EAC/B,CAEA,SAASy2C,GAAe/yG,EAAes8D,GAErC,OAAOA,EAAS,EAAIt8D,EAAQ,CAC9B,CAEA,SAASgzG,GAAoBhzG,EAAes8D,GAE1C,OAAOA,EAAS,EAAIt8D,EAAQ,IAAOA,CACrC,CAEA,SAASizG,GAAejzG,EAAes8D,GAErC,OAAQ,EAAIA,EAASA,GAAUt8D,CACjC,CAEA,SAASkzG,GACPj9H,EACAg2B,EACAwiG,EACAC,GAEA,IAAI1uG,EAAQ,EACZ,IAAK,IAAIsiD,EAAI,EAAGA,EAAIr2C,EAAMq2C,IACxBtiD,GAAS0uG,EAAWpsD,GAAKmsD,EAAYnsD,GAAGrsE,GAE1C,OAAO+pB,CACT,CASA,SAASmzG,GACP7J,EACAC,EACA6J,EACA9nE,EACA+nE,GAEA,OAAO/J,EAAeh+D,EAAQ+nE,EAAiB9J,EAAW6J,CAC5D,CAEA,SAASE,GAAWtE,EAAgB7jE,GAClC,OAAO6jE,EAAS7jE,CAClB,CAEA,SAASooE,GAEPvJ,EACAG,GAEA,OACEH,EAAO5kH,KAAKm3E,OAAOtmF,GAAKk0H,EAAO/kH,KAAKm3E,OAAOtmF,GAAKmP,KAAKm4E,UAAU+rC,YAEnE,CAGA,SAASkK,GAA4BhhF,GACnC,IAAIq1E,EAAM,EACV,IAAK,IAAIj0H,EAAI,EAAGA,EAAIwR,KAAKm4E,UAAUtxD,KAAMr4B,IACvCi0H,GAAOr1E,EAAO5+C,IAAM,EAEtB,OAAOi0H,EAAMziH,KAAKm4E,UAAUtxD,IAC9B,OAmBawnG,WAGH7J,EAmER3kH,WAAAA,GAA2D,IAA/CkC,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA6C,CAAC,EACxDgzF,MAAMt/E,GAjER,KAAAusH,mBAA4D,KAC1D,MAAM,IAAIj9H,MAAM,gBAAgB,EAGlC,KAAAk9H,iBAMI,GAEJ,KAAAC,kBAAqE,GAErE,KAAAC,iBAaI,GAEJ,KAAAC,gBAEI,GAEJ,KAAAC,OAAgD,KAC9C,MAAM,IAAIt9H,MAAM,gBAAgB,EAGlC,KAAAu9H,QAAoE,KAClE,MAAM,IAAIv9H,MAAM,gBAAgB,EAGlC,KAAAw9H,cAAqE,KACnE,MAAM,IAAIx9H,MAAM,gBAAgB,EAKlC,KAAAyzH,QAA0B,GAG1B,KAAAC,OAAyB,GAGzB,KAAA33E,OAAyB,GAGzB,KAAAy3E,QAA0B,GAG1B,KAAAG,QAA0B,GAG1B,KAAAJ,OAAyB,GA0GzB,KAAAY,SAAY1gE,IACV,IAAIoyB,EACJl3E,KAAK8kH,QAAQ,GAAKhgE,EAClB,IAAK,IAAIoiE,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAC7C+F,EAAQjtH,KAAK8kH,QAAQoC,IACrBlnH,KAAK8kH,QAAQoC,GAASlnH,KAAKuuH,iBAAiBrH,GAC1ClnH,KAAK6kH,QAAQqC,GACblnH,KAAK4kH,OAAOsC,GACZpiE,GAEFoyB,EAASpyB,EAAQ9kD,KAAK8kH,QAAQoC,GAEhC,OAAOhwC,CAAM,EA6Ff,KAAAwuC,gBAAmB1hH,IACjB,IAAK,IAAIkjH,EAAQlnH,KAAK2kH,YAAauC,EAAQ,EAAGA,IAAS,CAIrD,IAAIhwC,EAHJ+1C,EAAQjtH,KAAK+kH,OAAOmC,IACpB+F,EAAQjtH,KAAKotC,OAAO85E,IAMlBhwC,EAHEgwC,IAAUlnH,KAAK2kH,YAGR3kH,KAAKwuH,kBAAkBtH,GAAOlnH,KAAK8kH,QAAQoC,GAAQljH,GAInDhE,KAAKwuH,kBAAkBtH,GAC9BlnH,KAAK6kH,QAAQqC,EAAQ,GACrBlnH,KAAK8kH,QAAQoC,GACblnH,KAAK+kH,OAAOmC,EAAQ,IAGxBlnH,KAAK+kH,OAAOmC,GAAShwC,EAAOppD,OAC5B9tB,KAAKotC,OAAO85E,GAAShwC,EAAOt8D,QAnO9B5a,KAAKilH,mBAAqB,IAC1BjlH,KAAKuiG,IAAM,IAAIuqB,EAAA1V,IAAI,CAAEt5F,KAAM/b,EAAQ+b,OAGrCmoG,UAAAA,GACE5kC,MAAM4kC,aACNjmH,KAAK8uH,gBACL9uH,KAAK+uH,uBACL/uH,KAAKgvH,kBACLhvH,KAAKivH,oBACLjvH,KAAKkvH,cAGPzJ,aAAAA,GAAa,CAIbwC,YAAAA,CACEj1H,EACA61H,GASA,OANA7oH,KAAKwlH,SAASxyH,EAAM8xD,OAGpB9kD,KAAK0lH,gBAAgB1yH,EAAMkkF,QAC3Bl3E,KAAK8oH,gBAEDD,EACK7oH,KAAK2uH,OAAO3uH,KAAKotC,OAAOptC,KAAK2kH,cAE/B,KAGTqD,sBAAAA,CAAuB3yH,GACrB,IAAIotH,EAAM,IAAIxrC,aAAa,CAAC,IAC5B,IAAK,IAAIzoF,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EAAG,CACpC,MAAM2gI,EAAU1M,EACV7nG,EAAQ5a,KAAKioH,aAAa5yH,EAAK7G,IAAI,GACzCi0H,EAAMziH,KAAK4uH,QAAQnM,EAAK7nG,GACxBqyG,EAAQryG,GACRqyG,EAAQkC,GAEV,MAAMrhG,EAAS9tB,KAAK6uH,cAAcx5H,EAAK/G,OAAQm0H,GAE/C,OADAwK,EAAQxK,IACA30F,aAAkBg/F,EAAAjuB,QACrB/wE,EAAOy1B,UACPz1B,GAAqB,GAG5Bg7F,aAAAA,GACE9oH,KAAKovH,aACLpvH,KAAKqvH,eAGPP,aAAAA,GACE,IAAIQ,EAAc,KAElB,OAAQtvH,KAAKykH,UAAUZ,YACrB,IAAK,UACHyL,EAAclC,GACd,MACF,IAAK,OACHkC,EAAchC,GACd,MACF,IAAK,aACHgC,EAAc/B,GACd,MACF,IAAK,OACH+B,EAAc9B,GACd,MACF,QACE,MAAM,IAAIn8H,MACR,sBAAsB2O,KAAKykH,UAAUZ,kFAI3C,IAAK,IAAIqD,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAC7ClnH,KAAKuuH,iBAAiBrH,GAASlnH,KAAKuiG,IAAImW,aAAa4W,EAAa,CAChEp4C,OAAQ,CAACl3E,KAAK0kH,MAAMwC,IACpBrjC,UAAU,EACV1L,UAAW,CACTtxD,KAAM7mB,KAAK0kH,MAAMwC,EAAQ,IAE3BtjC,WAAW,IAIf5jF,KAAKsuH,mBAAqBtuH,KAAKuiG,IAAImW,cACjC,SAAU1lH,GACR,OAAOA,EAAMgN,KAAKm3E,OAAOtmF,KAE3B,CACEqmF,OAAQ,CAACl3E,KAAK0kH,MAAM,IACpB7gC,UAAU,EACVD,WAAW,IAsBjBmrC,oBAAAA,GACE,IAAIQ,EACJ,OAAQvvH,KAAKykH,UAAUZ,YACrB,IAAK,UACH0L,EAAa7B,GACb,MACF,IAAK,OACH6B,EAAa5B,GACb,MACF,IAAK,aACH4B,EAAa3B,GACb,MACF,IAAK,OACH2B,EAAa1B,GACb,MACF,QACE,MAAM,IAAIx8H,MACR,sBAAsB2O,KAAKykH,UAAUZ,kFAI3C0L,EAAazC,EAAAhzC,MACXgzC,EAAAjzC,MAAMwkC,mBAAkB,IAAMkR,IAC9BA,GAEFvvH,KAAKuiG,IAAIC,YAAY+sB,GACrB,IAAK,IAAIrI,EAAQlnH,KAAK2kH,YAAauC,EAAQ,EAAGA,IACxCA,IAAUlnH,KAAK2kH,YAGjB3kH,KAAKwuH,kBAAkBxuH,KAAK2kH,aAAe3kH,KAAKuiG,IAAIkX,gBAClD,CACE7+F,MAAO6yG,KAET,SAEE3I,EACA0K,GAEA,MAAMt4C,EAAS4tC,EAAQ9kH,KAAKm3E,OAAOtmF,GAC7BmT,EAASwrH,EAAQxvH,KAAKm3E,OAAOtmF,GAGnC,OAAO0+H,EAAW9B,GAAgBv2C,EAAQlzE,GAASkzE,KAErD,CACEA,OAAQ,CAACl3E,KAAK0kH,MAAM1kH,KAAK2kH,cACzB9gC,UAAU,EACVD,WAAW,IAMf5jF,KAAKwuH,kBAAkBtH,GAASlnH,KAAKuiG,IAAIkX,gBACvC,CACE7+F,MAAOkzG,KAET,SAEEzE,EACAvE,EACAwE,GAEA,MAAMpyC,EAAS4tC,EAAQ9kH,KAAKm3E,OAAOtmF,GAGnC,OAAO0+H,EACLzB,GACE9tH,KAAKm3E,OAAOtmF,EACZmP,KAAKm4E,UAAUtxD,KACfwiG,EACAC,GAEFpyC,KAGJ,CACEA,OAAQ,CAACl3E,KAAK0kH,MAAMwC,IACpBrjC,UAAU,EACV1L,UAAW,CACTtxD,KAAM7mB,KAAK0kH,MAAMwC,EAAQ,IAE3BtjC,WAAW,IA+BrBorC,eAAAA,GACE,IAAK,IAAI9H,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAG7ClnH,KAAKyuH,iBAAiBvH,GAASlnH,KAAKuiG,IAAIkX,gBACtC,CACEoL,QAASqJ,GACTlJ,QAAS+I,KAEX,SAME0B,EACA1K,EACAF,EACA6K,GASA,OAAOxB,GAPQH,GACb/tH,KAAKm4E,UAAU+rC,aACflkH,KAAKm4E,UAAUgsC,SACfuL,EAAgB1vH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC3Ck0H,EAAO/kH,KAAKm3E,OAAOnmE,GACnBy+G,EAAgBzvH,KAAKm3E,OAAOtmF,IAEJg0H,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,MAE/D,CACEqmF,OAAQ,CAACl3E,KAAK0kH,MAAMwC,EAAQ,GAAIlnH,KAAK0kH,MAAMwC,IAC3CrjC,UAAU,EACV1L,UAAW,CACTtxD,KAAM7mB,KAAK0kH,MAAMwC,EAAQ,GACzBhD,aAAclkH,KAAKykH,UAAUP,aAC7BC,SAAUnkH,KAAKykH,UAAUN,UAE3BvgC,WAAW,IAMnBwrC,UAAAA,GACE,IAAK,IAAIlI,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMrC,EAAU7kH,KAAK6kH,QAAQqC,GACvBlC,EAAUhlH,KAAKglH,QAAQkC,GACvBhwC,EAASl3E,KAAKyuH,iBAAiBvH,GACnClnH,KAAK8kH,QAAQoC,EAAQ,GACrBlnH,KAAK+kH,OAAOmC,GACZrC,EACAG,GAEFiI,EAAQpI,GACRoI,EAAQjI,GACRhlH,KAAK6kH,QAAQqC,GAAShwC,EAAO2tC,QAC7B7kH,KAAKglH,QAAQkC,GAAShwC,EAAO8tC,QAC7BiI,EAAQ/1C,EAAOppD,SAInBmhG,iBAAAA,GACE,IAAK,IAAI/H,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAC7ClnH,KAAK0uH,gBAAgBxH,GAASlnH,KAAKuiG,IAAImW,aAAayV,GAAW,CAC7Dj3C,OAAQ,CAACl3E,KAAK0kH,MAAMwC,IACpBrjC,UAAU,EACV1L,UAAW,CACT+rC,aAAclkH,KAAKykH,UAAUP,cAE/BtgC,WAAW,IAKjByrC,YAAAA,GACE,IAAK,IAAInI,EAAQ,EAAGA,GAASlnH,KAAK2kH,YAAauC,IAAS,CACtD,MAAMtC,EAAS5kH,KAAK4kH,OAAOsC,GAC3BlnH,KAAK4kH,OAAOsC,GAASlnH,KAAK0uH,gBAAgBxH,GACxCtC,EACA5kH,KAAK+kH,OAAOmC,IAEd+F,EAAQrI,IAIZsK,WAAAA,GACElvH,KAAK2uH,OAAS3uH,KAAKuiG,IAAImW,aAAa0V,GAAK,CACvCl3C,OAAQ,CAAC,GACTiB,UAAW,CACTtxD,KAAM7mB,KAAK0kH,MAAM1kH,KAAK2kH,cAExB9gC,UAAU,EACVD,WAAW,IAEb5jF,KAAK4uH,QAAU5uH,KAAKuiG,IAAImW,cACtB,SAAU/H,EAAkBC,GAC1B,OAAOD,EAAO,GAAKC,EAAO,KAE5B,CACE15B,OAAQ,CAAC,GACT2M,UAAU,EACVD,WAAW,IAGf5jF,KAAK6uH,cAAgB7uH,KAAKuiG,IAAImW,cAC5B,SAAUpqH,EAAgBqhI,GACxB,MAAM38H,EAAQ28H,EAAO,GACrB,OAAI38H,EAAQ,EACHA,EAAQ1E,EAEV,IAET,CACE4oF,OAAQ,CAAC,KAKf6L,GAAAA,CAAIj+B,GACF,IAAK9kD,KAAK+mH,WACR,MAAM,IAAI11H,MAAM,wBAElB,IAAI21H,EAEFA,EADEhnH,KAAKklH,YACUzG,EAAOl7D,QACtBvjD,KAAKklH,YACJpgE,EACD9kD,KAAKmlH,mBAGWrgE,EAEpB9kD,KAAKinH,cAAcD,GACnB,MAAM4I,EAAiB5vH,KAAKwlH,SAASwB,GAC/B9vC,EACJ04C,aAA0B9C,EAAAjuB,QACtB+wB,EAAersE,UACfqsE,EAEN,OAAI5vH,KAAKolH,aACC3G,EAAOkB,SACb3/G,KAAKolH,aACLluC,GAIIA,EAIVmxC,YAAAA,CACEhzH,GACiD,IAAjD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA+C,CAAC,EAEhD2R,KAAK+lH,sBAAsBhkH,GAC3B,MAAM0lH,EAAeznH,KAAKsoH,WAAWjzH,GAC/B+yH,EAAUrgH,KAAKnQ,MAAQoI,KAAKykH,UAAU3D,QAEtC3lG,EAAS,CACbP,MAAO,EACPkpG,WAAY,GAGd9jH,KAAKwnH,oBAAoBC,GAEzB,MAAMoI,EAAsB7vH,KAAKuiG,IAAImW,cACnC,SAAU1lH,GACR,OAAOA,EAAMgN,KAAKm3E,OAAOtmF,KAE3B,CACEqmF,OAAQ,CAACuwC,EAAa,GAAGvwC,OAAO5oF,QAChCu1F,UAAU,EACVD,WAAW,IAGf,MAAO,CACL6jC,aAAcA,EAAa3gG,KAAKz0B,IAAG,CACjCyyD,MAAO9kD,KAAKsuH,mBAAmBj8H,EAAIyyD,OACnCoyB,OAAQ24C,EAAoBx9H,EAAI6kF,YAElC/7D,SACAitG,WAMJ8D,UAAAA,GACE,MAAM,IAAI76H,MACR,GAAG2O,KAAKH,YAAYtP,0CAIxB0nF,MAAAA,WACqB,OAAfj4E,KAAK0kH,OACP1kH,KAAKimH,aAGP,MAAM2F,EAAmB5rH,KAAK6kH,QAAQ/9F,KAAK+kG,IACjCA,aAAwBiB,EAAAjuB,QAC3BgtB,EAAatoE,UACbsoE,GACH/kG,KAAK+kG,GAAiB92H,MAAMshF,KAAKw1C,OAE/BC,EAAkB9rH,KAAK4kH,OAAO99F,KAAKilG,GACvCh3H,MAAMshF,KACJ01C,aAAuBe,EAAAjuB,QAClBktB,EAAYxoE,UACZwoE,KAGHC,EAA2B,GACjC,IAAK,IAAIx9H,EAAI,EAAGA,GAAKwR,KAAK2kH,YAAan2H,IACrCw9H,EAAWj2H,KAAK,CACd8uH,QAA4B,QAArBpE,EAAEmL,EAAiBp9H,UAAE,IAAAiyH,EAAAA,EAAI,GAChCmE,OAA0B,QAApBoG,EAAEc,EAAgBt9H,UAAE,IAAAw8H,EAAAA,EAAI,KAGlC,MAAO,CACL56H,KAAM,mBACNs0H,MAAO,IAAI1kH,KAAK0kH,OAChBuH,OAAQD,EACR9G,YAAallH,KAAKklH,YAAc,IAAKllH,KAAKklH,aAAgB,KAC1DC,kBAAmBnlH,KAAKmlH,kBACxBC,aAAcplH,KAAKolH,aAAe,IAAKplH,KAAKolH,cAAiB,KAC7DC,mBAAoBrlH,KAAKqlH,mBACzBtjH,QAAS,IAAK/B,KAAK+B,SACnB0iH,UAAWzkH,KAAK8nH,2BCltBTgI,WAEHz+H,MACRwO,WAAAA,CAAYkwH,GACV1uC,MACE,gBAAgB0uC,EAAclwH,YAAYtP,qCCkBnCy/H,GAOXnwH,WAAAA,CAAYkC,GAEH,OAAPA,QAAO,IAAPA,IAAAA,EAAY,CAAC,GAMkBA,EAAQ4hH,aAER5hH,EAAQikH,aAGnCjkH,EAAQkuH,aAERluH,EAAQkuH,YAGZjwH,KAAKkwH,SAAW,IAAI7B,GAA2CtsH,GAQjEouH,OAAAA,CAAQrrE,GAQN,OAAO9kD,KAAKkwH,SAASntC,IAAIj+B,GAS3BsrE,MAAAA,CAAOtrE,GAEL,IAAK9kD,KAAKqwH,QAAS,MAAM,IAAIP,GAA4B9vH,MAGzD,OAAOA,KAAKqwH,QAAQttC,IAAIj+B,GAS1BwrE,MAAAA,CAAOxrE,GAEL,IAAK9kD,KAAKkwH,SAAU,MAAM,IAAIJ,GAA4B9vH,MAG1DA,KAAKkwH,SAASntC,IAAIj+B,GAGlB,IAAIyrE,EAAmCvwH,KACpCwwH,aAOH,OAJqCD,EAAjCA,aAAwBzD,EAAAjuB,QAAwB0xB,EAAahtE,UAC7CgtE,EAAap0H,MAAM,GAGhCo0H,EAWTE,uBAAAA,CAAwB3rE,GAA0C,IAAtB4rE,EAAgBriI,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,SAE7D,MAAMsiI,EAAsB,GAGtBC,EAAW5wH,KAAKmwH,QAAQrrE,GAG9B,IAAK,IAAIt2D,EAAI,EAAGA,GAAiB,QAAhBiyH,EAAI37D,EAAMx2D,cAAM,IAAAmyH,EAAAA,EAAI,GAAIjyH,IACvCmiI,EAAUniI,GAAK4K,KAAKy3H,IACjB/rE,EAAmBt2D,GAAMoiI,EAAsBpiI,IAapD,OARYmiI,EAAU9R,QACpB,CAACiS,EAAe99H,IAAU89H,EAAgB99H,IAIxB8xD,EAAmBx2D,OAGzBoiI,EAUhBlI,KAAAA,CACEnzH,EACA0M,GAEA,MAAMgvH,EAGD,GAEL,IAAK,MAAMC,KAAS37H,EAClB07H,EAAiBh7H,KAAK,CAAE+uD,MAAOksE,EAAO95C,OAAQ85C,IAGhD,MAAM9xC,EAAUl/E,KAAKkwH,SAAS1H,MAAMuI,EAAkBhvH,GAItD,OAFA/B,KAAKqwH,QAAUrwH,KAAKixH,gBAEb/xC,EAQD+xC,aAAAA,GACN,MAAMnrC,EAAO9lF,KAAKkwH,SAASj4C,SAErBg0C,EAAuB,GACvBvH,EAAkB,GAExB,IAAK,IAAIl2H,EAAIwR,KAAKkxH,kBAAmB1iI,EAAIwR,KAAKkwH,SAASxL,MAAMp2H,OAAQE,IACnEy9H,EAAOl2H,KAAK+vF,EAAKmmC,OAAOz9H,IACxBk2H,EAAM3uH,KAAK+vF,EAAK4+B,MAAMl2H,IAUxB,OAPAs3F,EAAKmmC,OAASA,EACdnmC,EAAK4+B,MAAQA,EAEb5+B,EAAK/jF,QAAQ0hH,UAAY39B,EAAK4+B,MAAM,IAEpB,IAAI2J,IAAmBxmC,SAAS/B,GAQlD,gBAAY0qC,GACV,OAAOxwH,KAAKkwH,SAASpL,QAAQ9kH,KAAKkxH,mBAMpC,qBAAYA,GACV,OAAO93H,KAAKg8F,MAAqC,GAA/Bp1F,KAAKkwH,SAASpL,QAAQx2H,QAAgB,SC3HvC6iI,GAyBnBtxH,WAAAA,CAAYuxH,GAjBZ,KAAAtrC,KAEI,CACFurC,KAAM,CACJz2G,MAAO,EACPkpG,WAAY,EACZwN,SAAU,EACVC,UAAW,GAEbC,MAAO,CACLhgD,MAAO,EACPigD,SAAU,EACVC,UAAW,GAEbC,KAAM,IAIN3xH,KAAKoxH,eAAiBA,EAGxBQ,aAAAA,CACEnN,EACAoN,EACAC,GAQA,MAAMC,EAAa/xH,KAAKoxH,iBAClBY,EAAajqH,KAAKnQ,MAClBq6H,EAAgBF,EAAWvJ,MAAMqJ,EAAUpN,GAC3CyN,EAAYnqH,KAAKnQ,MACjBu6H,EAE+BJ,EAAWnzH,KAAKkzH,GAC/CM,EAAUrqH,KAAKnQ,MACrB,MAAO,IACFu6H,EACHZ,UAAWW,EAAYF,EACvBV,SAAUc,EAAUF,EACpBpO,WAAYmO,EAAcnO,WAC1BlpG,MAAOq3G,EAAcr3G,MACrB42D,MAAO2gD,EAAU3gD,MACjB6gD,QAAUN,EAEP95C,UASPq6C,YAAAA,CAAgBvrG,GACd,IAAK,IAAIv4B,EAAIu4B,EAAMz4B,OAAS,EAAGE,EAAI,EAAGA,IAAK,CACzC,MAAMm7F,EAAIvwF,KAAK0/E,MAAM1/E,KAAK6C,UAAYzN,EAAI,IACpCslD,EAAO/sB,EAAMv4B,GACnBu4B,EAAMv4B,GAAKu4B,EAAM4iE,GACjB5iE,EAAM4iE,GAAK71C,EAEb,OAAO/sB,EAwBTyhG,KAAAA,CACEnzH,GAIK,IAHLovH,EAAAp2H,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAEI,CAAC,EACL6uE,EAAC7uE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAEJ,GAAIgH,EAAK/G,OAAS4uE,EAChB,MAAM,IAAI7rE,MACR,sCAAsCgE,EAAK/G,qBAAqB4uE,KAGpEl9D,KAAKsyH,aAAsBj9H,GAC3B,MAAMwxB,EAAOxxB,EAAK/G,OAAS4uE,EAErBm0D,EAAoC,CACxCE,UAAW,EACXD,SAAU,EACVxN,WAAY,EACZlpG,MAAO,GAGH42G,EAEqC,CACzChgD,MAAO,EACPigD,SAAU,EACVC,UAAW,GAGPa,EAAoD,CACxD/gD,MAAO,EACPigD,SAAU,EACVC,UAAW,EACXrG,QAAS,EACTC,QAAS,EACTH,SAAU,EACVC,SAAU,EACV3kC,UAAW,EACXilC,OAAQ,EACRC,SAAU,GAGNzsC,EAAU,GAChB,IAAIszC,EAAW,KAEf,IAAK,IAAIhkI,EAAI,EAAGA,EAAI0uE,EAAG1uE,IAAK,CAC1B,MAAMikI,EAASp9H,EAAK8G,MAAM,GACpB21H,EAAUW,EAAO/vF,OAAOl0C,EAAIq4B,EAAMA,GAClCgrG,EAAWY,EACX3kG,EAAS9tB,KAAK4xH,cAAcnN,EAAWoN,EAAUC,GAEtC,OAAbU,IACFA,EACE1kG,EAAO32B,eAAe,aACtB22B,EAAO32B,eAAe,aACtB22B,EAAO32B,eAAe,YACtB22B,EAAO32B,eAAe,WACpBq7H,GACFrhI,OAAOD,OAAOsgI,EAAOe,IAIzBlB,EAAKvN,YAAch2F,EAAOg2F,WAC1BuN,EAAKC,UAAYxjG,EAAOwjG,SACxBD,EAAKE,WAAazjG,EAAOyjG,UACzBF,EAAKz2G,OAASkT,EAAOlT,MACrB42G,EAAMhgD,OAAS1jD,EAAO0jD,MAEpB2/C,GAAcuB,cAAclB,IAC5BL,GAAcwB,yBAAyB7kG,KAEvC0jG,EAAM7F,UAAY79F,EAAO69F,SACzB6F,EAAMpG,UAAYt9F,EAAOs9F,SACzBoG,EAAMrG,UAAYr9F,EAAOq9F,SACzBqG,EAAM/qC,WAAa34D,EAAO24D,UAC1B+qC,EAAM9F,QAAU59F,EAAO49F,OACvB8F,EAAMlG,SAAWx9F,EAAOw9F,QACxBkG,EAAMnG,SAAWv9F,EAAOu9F,SAG1BnsC,EAAQnpF,KAAK+3B,GAqBf,OAnBAujG,EAAKz2G,OAASsiD,EACdm0D,EAAKvN,YAAc5mD,EACnBm0D,EAAKC,UAAYp0D,EACjBm0D,EAAKE,WAAar0D,EAEdi0D,GAAcuB,cAAclB,KAC9BA,EAAM/qC,UAAY+qC,EAAMnG,SAAWmG,EAAMnG,QAAUmG,EAAMrG,UACzDqG,EAAM9F,OAAS8F,EAAMnG,SAAWmG,EAAMnG,QAAUmG,EAAMpG,UACtDoG,EAAM7F,UAAY6F,EAAMlG,QAAUkG,EAAMnG,SAAWmG,EAAMhgD,OAG3DggD,EAAMC,SAAW5qG,EACjB2qG,EAAME,UAAYr8H,EAAK/G,OAASu4B,EAEhC7mB,KAAK8lF,KAAO,CACVurC,KAAMA,EACNG,MAAOA,EACPG,KAAMzyC,GAEDl/E,KAAK8lF,KAKd8sC,eAAAA,GACE,OAAO5yH,KAAK6nF,SAAS7nF,KAAK8lF,MAG5B7N,MAAAA,GAGE,OAAOj4E,KAAK8lF,KAGd+B,QAAAA,CACEgrC,GAIA,MAAMC,EAMGD,EAENlB,KAAK9S,QAAO,CAAC3rE,EAAMub,IAASvb,EAAKt4B,MAAQ6zC,EAAI7zC,MAAQs4B,EAAOub,IAC/D,OAAQzuD,KAAKoxH,iBAAoDvpC,SAC/DirC,EAAYT,mBC5SFU,GAEd3lF,GAEA,IAAIq1E,EAAM,EACV,IAAK,IAAIzxG,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAU9rE,OAAQ2E,IACzC,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU/rE,MAAOvb,IACxC4xH,GAAOr1E,EAAOp8B,GAAGngB,IAAM,EAG3B,OAAO4xH,EAAMziH,KAAKm4E,UAAU7pF,MAC9B,CDwIS6iI,GAAAuB,cACLlB,QAG+Dj+C,IAA5Di+C,EAA+C7F,SAI7CwF,GAAA6B,gBACLxB,QAEkEj+C,IAAjEi+C,EAA8CA,MAAM7F,SAEhDwF,GAAAwB,yBACLnB,QAKAj+C,IADCi+C,EAA+D7F,eCxJvDsH,GAUXpzH,WAAAA,CAAAqzH,GAAgE,IAApD,MAAE9mH,EAAK,OAAEC,GAA2C6mH,EAC9DlzH,KAAKmzH,UAAYvG,EAAWmG,GAAO,CACjC77C,OAAQ,CAAC,GACTiB,UAAW,CACT/rE,QACAC,SACA/d,OAAQ8d,EAAQC,GAElBu3E,WAAW,IAGb5jF,KAAKozH,YAAcxG,GACjB,SAAUyG,EAAqBC,GAC7B,OAAOD,EAAU,GAAKj6H,KAAKy3H,IAAIyC,EAAgB,GAAG,MAEpD,CACEp8C,OAAQ,CAAC,GACT0M,WAAW,IAIf5jF,KAAK9B,IAAM0uH,GACT,SAAUjc,EAAkBC,GAC1B,OAAOD,EAAO,GAAKC,EAAO,KAE5B,CACE15B,OAAQ,CAAC,GACT0M,WAAW,IAIf5jF,KAAKuzH,OAAS3G,GACZ,SAAUt+H,EAAgBqhI,GACxB,MAAM38H,EAAQ28H,EAAO,GACrB,OAAI38H,EAAQ,EACHA,EAAQ1E,EAEV,IAET,CACE4oF,OAAQ,CAAC,GACT0M,WAAW,KCZZ,MAAM4vC,GAA2C,CACtDpnH,MAAO,EACPC,OAAQ,EACRysC,MAAO,KACP+rE,QAAS,KACTE,OAAQ,KACRsB,OAAQ,KACRoN,WAAY,KACZC,eAAe,SAKJC,GA6CX9zH,WAAAA,CAAYw5E,GA5CZ,KAAAgtC,OAAyB,KACzB,KAAAuN,cAA2C,KAC3C,KAAAC,cAA2C,KA4CvC7zH,KAAKq5E,SADHA,EACc,IAAKm6C,MAA6Bn6C,GAElC,IAAKm6C,IAEvBxzH,KAAK8zH,cA7CP,SAAI1nH,SACF,OAA0B,QAA1Bq0G,EAAOzgH,KAAKq5E,SAASjtE,aAAK,IAAAq0G,EAAAA,EAAI,EAGhC,UAAIp0G,SACF,OAA2B,QAA3Bo0G,EAAOzgH,KAAKq5E,SAAShtE,cAAM,IAAAo0G,EAAAA,EAAI,EAGjC,SAAI3nE,SACF,OAA0B,QAA1B2nE,EAAOzgH,KAAKq5E,SAASvgC,aAAK,IAAA2nE,EAAAA,EAAI,EAGhC,WAAIoE,GACF,OAAO7kH,KAAKq5E,SAASwrC,QAGvB,WAAIA,CAAQA,GACV7kH,KAAKq5E,SAASwrC,QAAUA,EACpB7kH,KAAKq5E,SAASq6C,eAAiB1zH,KAAK+kH,QACtCxlB,EAAMv/F,KAAK+kH,QAIf,UAAIA,GACF,OAAO/kH,KAAKq5E,SAAS0rC,OAGvB,UAAIA,CAAOA,GACT/kH,KAAKq5E,SAAS0rC,OAASA,EAGzB,MAAIttF,SACF,OAAuB,QAAvBgpF,EAAOzgH,KAAKq5E,SAAS5hD,UAAE,IAAAgpF,EAAAA,EAAI,GAG7B,MAAIhpF,CAAG4C,GACLr6B,KAAKq5E,SAAS5hD,GAAK4C,EAYrBy5F,WAAAA,GACE,MAAM,WAAEC,EAAU,OAAE1N,EAAM,WAAEoN,GAAezzH,KAAKq5E,SAC3Cr5E,KAAKqmH,SACJ0N,EAEA/zH,KAAKqmH,OADHoN,EACYM,EAAW/zH,KAAMyzH,GAEjBM,EAAW/zH,MAElBqmH,IACTrmH,KAAKqmH,OAASA,IAwDpBt7B,QAAAA,GACE,GAAIoB,OAAOj0C,MAAMl4C,KAAKqM,QACpB,MAAM,IAAIhb,MAAM,GAAG2O,KAAKH,YAAYtP,qCAEtC,GAAI47F,OAAOj0C,MAAMl4C,KAAKoM,OACpB,MAAM,IAAI/a,MAAM,GAAG2O,KAAKH,YAAYtP,oCAEtC,GAAIyP,KAAKqM,OAAS,EAChB,MAAM,IAAIhb,MAAM,GAAG2O,KAAKH,YAAYtP,oCAEtC,GAAIyP,KAAKoM,MAAQ,EACf,MAAM,IAAI/a,MAAM,GAAG2O,KAAKH,YAAYtP,mCAIxCyjI,YAAAA,CAAaC,GAAoB,CAEjCC,YAAAA,CAAahN,GACX,GAAIA,EAAM96G,QAAUpM,KAAKoM,MACvB,MAAM,IAAI/a,MACR,GAAG2O,KAAKH,YAAYtP,8BAA8B22H,EAAM96G,gBAAgBpM,KAAKoM,SAGjF,GAAI86G,EAAM76G,SAAWrM,KAAKqM,OACxB,MAAM,IAAIhb,MACR,GAAG2O,KAAKH,YAAYtP,8BAA8B22H,EAAM76G,iBAAiBrM,KAAKqM,UAGlF,GAAI66G,EAAM/vH,eAAe,kBAA4C,OAAxB+vH,EAAM0M,cAAwB,CACzE,IAAM1M,EAAM0M,cAAyBhwC,UACnC,MAAM,IAAIvyF,MACR,GAAG61H,EAAMrnH,YAAYtP,mEAGzByP,KAAK4zH,cAAgB1M,EAAM0M,cAE7B,GAAI1M,EAAM/vH,eAAe,kBAA4C,OAAxB+vH,EAAM2M,cAAwB,CACzE,IAAM3M,EAAM2M,cAAyBjwC,UACnC,MAAM,IAAIvyF,MACR,GAAG61H,EAAMrnH,YAAYtP,mEAGzByP,KAAK6zH,cAAgB3M,EAAM2M,cAE7B7zH,KAAKqmH,OAASa,EAAMb,OAGtB8N,OAAAA,CAAQ9G,GAAqB,CAE7B34F,OAAAA,CAAQ0/F,GAA2B,CAEnCC,KAAAA,CAAMnQ,GAAqB,CAE3B3gE,OAAAA,GACE,OAAOxuD,MAAMC,QAAQgL,KAAK6kH,SACtB7kH,KAAK6kH,QACJ7kH,KAAK6kH,QAAoBthE,UAGhC00B,MAAAA,GACE,OAAO07C,GAAU17C,OAAOj4E,MAG1B,aAAOi4E,CAAOivC,GACZ,MAAM,QAAErC,GAAYqC,EACpB,MAAO,CACL96G,MAAO86G,EAAM96G,MACbC,OAAQ66G,EAAM76G,OACdysC,MAAOouE,EAAMpuE,MACb+rE,QAASyP,GACNzP,GAAWA,aAAmBiI,EAAAjuB,QAC3BgmB,EAAQthE,UACRshE,GASNz0H,KAAM82H,EAAMrnH,YAAYtP,KACxBkjI,WAAYvM,EAAMb,OAASa,EAAMb,OAAOpuC,SAAW,OAKzD,SAASq8C,GACPzP,GASA,GAAgB,OAAZA,EAAkB,OAAO,KAC7B,GAAI9vH,MAAMC,QAAQ6vH,GAAU,CAC1B,GAA0B,kBAAfA,EAAQ,GACjB,OAAOA,EACF,GAAI9vH,MAAMC,QAAQ6vH,EAAQ,KAAgC,kBAAlBA,EAAQ,GAAG,GACxD,OAAOA,EACF,GACL9vH,MAAMC,QAAQ6vH,EAAQ,GAAG,KACG,kBAArBA,EAAQ,GAAG,GAAG,GAErB,OAAOA,EACF,GAAIA,EAAQ,aAAc5tC,aAE/B,OADe4tC,EACD/9F,KAAKhG,GACV/rB,MAAMshF,KAAKv1D,KAEf,GAAI+jG,EAAQ,GAAG,aAAc5tC,aAElC,OADa4tC,EACD/9F,KAAKywD,GACRA,EAAOzwD,KAAKhG,GACV/rB,MAAMshF,KAAKv1D,YAInB,GAAI+jG,EACT,OAAO9vH,MAAMshF,KAAKwuC,GAEpB,MAAM,IAAIxzH,MAAM,mBAClB,UC3TgBkjI,GAAQnoH,EAAeC,GACrC,MAAMyhB,EAAyB,IAAI/4B,MAAMsX,GACzC,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAC1B8c,EAAO9c,GAAKsyG,EAAMl3G,GAEpB,OAAO0hB,CACT,UCNgB0mG,GACdpoH,EACAC,EACAysC,GAEA,MAAMhrB,EAA2B,IAAI/4B,MAAM+jD,GAC3C,IAAK,IAAIs+B,EAAI,EAAGA,EAAIt+B,EAAOs+B,IACzBtpD,EAAOspD,GAAKm9C,GAAQnoH,EAAOC,GAE7B,OAAOyhB,CACT,OCNa2mG,WAAmBd,GAe9B9zH,WAAAA,CAAY60H,EAAoBr7C,GAC9BgI,MAAMhI,GACNr5E,KAAK00H,WAAaA,EAClB,MAAM,MAAEtoH,EAAK,OAAEC,EAAM,MAAEysC,GAAU94C,KACjCA,KAAK4zH,cAAgB,KACrB5zH,KAAK6zH,cAAgB,KACrB7zH,KAAK+qF,WACDjyC,EAAQ,GACV94C,KAAK6kH,QAAU2P,GAAQpoH,EAAOC,EAAQysC,GACtC94C,KAAK+kH,OAASyP,GAAQpoH,EAAOC,EAAQysC,IAC5BzsC,EAAS,IAClBrM,KAAK6kH,QAAU0P,GAAQnoH,EAAOC,GAC9BrM,KAAK+kH,OAASwP,GAAQnoH,EAAOC,IAE/BrM,KAAK8zH,cA1BP,SAAI1nH,GACF,OAAOpM,KAAK00H,WAAWtoH,MAGzB,UAAIC,GACF,OAAOrM,KAAK00H,WAAWroH,OAGzB,SAAIysC,GACF,OAAO94C,KAAK00H,WAAW57E,aCLd67E,WAAehB,GA2C1B9zH,WAAAA,CAAYw5E,EAAoCq7C,GAC9CrzC,QACArhF,KAAKq5E,SAAWA,EAChBr5E,KAAK00H,WAAaA,EA7CpB,SAAItoH,GACF,OAAOpM,KAAK00H,WAAWtoH,MAGzB,UAAIC,GACF,OAAOrM,KAAK00H,WAAWroH,OAGzB,SAAIysC,GACF,OAAO94C,KAAK00H,WAAW57E,MAGzB,eAAI87E,GACF,OAAO50H,KAAKq5E,SAASu7C,YAGvB,eAAIC,GACF,OAAO70H,KAAKq5E,SAASw7C,YAGvB,gBAAIC,GACF,OAAO90H,KAAKq5E,SAASy7C,aAGvB,WAAIC,GACF,OAAO/0H,KAAKq5E,SAAS07C,QAGvB,WAAIA,CAAQA,GACV/0H,KAAKq5E,SAAS07C,QAAUA,EAG1B,gBAAIC,GACF,OAAOh1H,KAAKq5E,SAAS27C,aAGvB,gBAAIA,CAAaA,GACfh1H,KAAKq5E,SAAS27C,aAAeA,SChDXC,GAAtBp1H,WAAAA,GAME,KAAA+zH,cAA2C,KAC3C,KAAAC,cAA2C,KAC3C,KAAAxN,OAAyB,KAEzB,SAAIj6G,GACF,OAAOpM,KAAKq5E,SAASjtE,MAGvB,UAAIC,GACF,OAAOrM,KAAKq5E,SAAShtE,OAGvB,SAAIysC,GACF,OAAO94C,KAAKq5E,SAASvgC,MAGvB,WAAI+rE,GACF,OAAO7kH,KAAKq5E,SAASwrC,QAGvB,WAAIA,CAAQA,GACV7kH,KAAKq5E,SAASwrC,QAAUA,EAG1B,UAAIE,GACF,OAAO/kH,KAAKq5E,SAAS0rC,OAGvB,UAAIA,CAAOA,GACT/kH,KAAKq5E,SAAS0rC,OAASA,EAGzB9sC,MAAAA,GACE,OAAO07C,GAAU17C,OAAOj4E,aCtCfk1H,WAAiBvB,GAE5B9zH,WAAAA,CAAY60H,EAAoBr7C,GAC9BgI,MAAM,IACDhI,EACHjtE,MAAOsoH,EAAWtoH,MAClBC,OAAQqoH,EAAWroH,OACnBysC,MAAO47E,EAAW57E,QAEpB94C,KAAK00H,WAAaA,EAGpB3pC,QAAAA,SAGE,GAFA1J,MAAM0J,WAEF/qF,KAAKoM,QAAUpM,KAAK00H,WAAWtoH,MACjC,MAAM,IAAI/a,MACR,YAAY2O,KAAKoM,4CAA4CpM,KAAK00H,WAAWtoH,SAIjF,GAAIpM,KAAKqM,SAAWrM,KAAK00H,WAAWroH,OAClC,MAAM,IAAIhb,MACR,aAAa2O,KAAKqM,8CAA8CrM,KAAK00H,WAAWroH,UAIpF,GAAIrM,KAAK84C,SAAgC,QAA3B2nE,EAAMzgH,KAAK00H,WAAW57E,aAAK,IAAA2nE,EAAAA,EAAI,GAC3C,MAAM,IAAIpvH,MACR,YAAY2O,KAAK84C,4CAA4C94C,KAAK00H,WAAW57E,gBC3B/Dq8E,WAAiBxB,GAGrC9zH,WAAAA,CACEu1H,EACAC,EACAh8C,GAEAgI,MAAMhI,GACNr5E,KAAKo1H,YAAcA,EACnBp1H,KAAKq1H,YAAcA,EACnBr1H,KAAK+qF,WACL/qF,KAAK6kH,QAAU0P,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QACxCrM,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QACvCrM,KAAK8zH,wBChBOwB,GAEdzQ,EACAuP,GAEA,OAAOvP,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAAKujI,EAAap0H,KAAKm3E,OAAOtmF,EAC1E,UAEgB0kI,GAEd1Q,EACAuP,GAEA,OACEvP,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnCujI,EAAap0H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAE5C,OAOa2kI,WAAe7B,GAG1B9zH,WAAAA,CAAYw5E,EAAmCq7C,GAI7C,GAHArzC,MAAMhI,GACNr5E,KAAK00H,WAAaA,EAClB10H,KAAK+qF,WACD/qF,KAAK84C,MACP,MAAM,IAAIznD,MAAM,0CACP2O,KAAKqM,QACdrM,KAAK6kH,QAAU0P,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QACxCrM,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QACvCrM,KAAKotC,OAASmnF,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,UAEvCrM,KAAK6kH,QAAUvB,EAAMtjH,KAAKoM,OAC1BpM,KAAK+kH,OAASzB,EAAMtjH,KAAKoM,OACzBpM,KAAKotC,OAASk2E,EAAMtjH,KAAKoM,QAI7B4nH,YAAAA,GACqB,IAAfh0H,KAAKoM,MACPpM,KAAK6zH,cAAgBjH,EAAW0I,GAAW,CACzCp+C,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bu3E,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW2I,GAAW,CACzCr+C,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bu3E,WAAW,IAKjBuwC,OAAAA,GAGElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAUxoF,GAAMr8B,KAAK00H,WAAW7P,SAGvCnwF,OAAAA,CAAQ0/F,GAGNnH,EAAQjtH,KAAK+kH,QACbkI,EAAQjtH,KAAKotC,QACb6/E,EAAQjtH,KAAK00H,WAAW3P,QACxB/kH,KAAK+kH,OAAU/kH,KAAK6zH,cAClB7zH,KAAK6kH,QACLuP,GAEFp0H,KAAK00H,WAAW3P,OAAS1oF,GAAMr8B,KAAK+kH,QACpC/kH,KAAKotC,OAAS/Q,GAAMr8B,KAAK+kH,QAG3B+O,WAAAA,GAAW,WAGG9vH,GAAOq1E,EAA0Bq7C,GAC/C,OAAO,IAAIc,GAAOn8C,EAAUq7C,EAC9B,OCjFae,UAIAC,WAAmB/B,UAGnBgC,WAAchC,GACzBU,KAAAA,CAAMnQ,GAEJ,MAAQW,QAAS+Q,GAAe51H,KAChC,IAAKA,KAAKqmH,OAAQ,MAAM,IAAIh1H,MAAM,2BAClC2O,KAAK6kH,QAAU7kH,KAAKqmH,OAAOtjC,IAAI/iF,KAAMkkH,GACrC+I,EAAQ2I,UCaUC,GAiBpBh2H,WAAAA,CACEi2H,GACuC,IAAvCz8C,EAAAhrF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAqC,CAAC,EAEtC2R,KAAK81H,cAAgBA,EACrB91H,KAAKq5E,SAAW,IAAKA,GACrBr5E,KAAK43E,OAAS,KAlBhB,SAAIxrE,GACF,OAAOpM,KAAK81H,cAAc1pH,MAG5B,UAAIC,GACF,OAAOrM,KAAK81H,cAAczpH,OAG5B,SAAIysC,GACF,OAAO94C,KAAK81H,cAAch9E,MAY5Bk7E,YAAAA,GAAY,CAEZE,YAAAA,CAAa7N,GACX,GAAIA,EAAOj6G,QAAUpM,KAAKoM,MACxB,MAAM,IAAI/a,MACR,GAAG2O,KAAKH,YAAYtP,8BAA8B81H,EAAOj6G,gBAAgBpM,KAAKoM,SAGlF,GAAIi6G,EAAOh6G,SAAWrM,KAAKqM,OACzB,MAAM,IAAIhb,MACR,GAAG2O,KAAKH,YAAYtP,8BAA8B81H,EAAOh6G,iBAAiBrM,KAAKqM,UAG/Eg6G,EAAOlvH,eAAe,YACxB6I,KAAK43E,OAASyuC,EAAOzuC,QAMzBK,MAAAA,GACE,MAAO,IAAKj4E,KAAKq5E,oBCxEL08C,GAEdlR,EACAE,GAEA,OACEF,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnCmP,KAAKm4E,UAAU+rC,aAAea,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAEpE,CAMO,MAAMmlI,GAAkB,CAC7B9R,aAAc,UAGH+R,WAA8BJ,GAGzCh2H,WAAAA,CAAYqnH,EAAe7tC,GACzBgI,MAAM6lC,GACNlnH,KAAKq5E,SAAW,IAAK28C,MAAoB38C,GACzCr5E,KAAK43E,OAAS,KAGhBmL,GAAAA,CAAImkC,GACF,OAAQlnH,KAAK43E,OAA8BsvC,EAAMrC,QAASqC,EAAMnC,QAGlEiP,YAAAA,SACEh0H,KAAK43E,OAASg1C,EAAWmJ,GAAQ,CAC/B7+C,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1B8rE,UAAW,CACT+rC,aAAwC,QAA5BzD,EAAEzgH,KAAKq5E,SAAS6qC,oBAAY,IAAAzD,EAAAA,EAAI,iBAMpCyV,GACdhP,EACA7tC,GAEA,OAAO,IAAI48C,GAAsB/O,EAAO7tC,EAC1C,UC7CgB88C,GAAanjI,GAC3B,OAAOA,CACT,UAOgBojI,GAEdpR,EACAH,EACAwR,EACAC,GAEA,MAAMC,EAAqBvR,EAAQhlH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACxD2lI,EAAqBF,EAAYt2H,KAAKm3E,OAAOnmE,GAAG,GAChD+0C,EAAiB8+D,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACpD44H,EAAmB4M,EAAgBr2H,KAAKm3E,OAAOtmF,GAAG,GAMxD,OAAOk1D,GAHL/lD,KAAKm4E,UAAU+rC,aAAesS,EAAa/M,EAC3CzpH,KAAKm4E,UAAUgsC,SAAWoS,EAG9B,CAcO,MAAM7V,GAAmD,CAC9DwD,aAAc,GACdC,SAAU,GACVsS,aAAc,KACdC,cAAe,KACfC,WAAY,YAGDC,WAA+Bf,GAoC1Ch2H,WAAAA,CAAYqnH,EAAe7tC,GACzBgI,MAAM6lC,GAnCR,KAAAtmC,UAA4D,KAoC1D5gF,KAAKq5E,SAAW,IAAKqnC,MAAoBrnC,GACzCr5E,KAAKglH,QAAUuP,GAAQrN,EAAM96G,MAAO86G,EAAM76G,QAnC5C,gBAAI63G,GACF,OAAOlkH,KAAKq5E,SAAS6qC,aAGvB,YAAIC,GACF,OAAOnkH,KAAKq5E,SAAS8qC,SAGvB,gBAAIsS,GACF,OAAOz2H,KAAKq5E,SAASo9C,aAGvB,gBAAIA,CAAavP,GACflnH,KAAKq5E,SAASo9C,aAAevP,EAG/B,cAAIyP,GACF,OAAO32H,KAAKq5E,SAASs9C,WAGvB,cAAIA,CAAWzP,GACblnH,KAAKq5E,SAASs9C,WAAazP,EAG7B,iBAAIwP,GACF,OAAO12H,KAAKq5E,SAASq9C,cAGvB,iBAAIA,CAAcxP,GAChBlnH,KAAKq5E,SAASq9C,cAAgBxP,EAShCnkC,GAAAA,GACE,MAAM7L,EAAUl3E,KAAK4gF,UACnB5gF,KAAKglH,QACLhlH,KAAKy2H,aAAa5R,QAClB7kH,KAAK02H,cAAc7R,QACnB7kH,KAAK22H,WAAW5R,QAGlB,OADA/kH,KAAKglH,QAAU9tC,EAAO8tC,QACf9tC,EAAOppD,OAGhBkmG,YAAAA,GACEh0H,KAAK4gF,UAAYmsC,EACf,CACE/H,QAASmR,IAEXC,GACA,CACEl/C,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1B8rE,UAAW,CACT+rC,aAAclkH,KAAKkkH,aACnBC,SAAUnkH,KAAKmkH,sBAOT0S,GACd3P,EACA7tC,GAEA,OAAO,IAAIu9C,GAAuB1P,EAAO7tC,EAC3C,UC3HgBy9C,GACd5wE,EACA6wE,EACAC,GAEA,OAAOA,EAAmBD,GAAS,EAAIA,GAAS7wE,EAAQA,CAC1D,UAEgB+wE,GAAYjkI,EAAegzD,EAAa9yC,GACtD,OAAIlgB,EAAQgzD,EACHA,EAELhzD,EAAQkgB,EACHA,EAEFlgB,CACT,UAWgB2jB,GAEdkuG,EACAE,EACAmS,GAEA,MAAMhxE,EAAQ6+D,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC1CsmI,EAAeF,GACnB/wE,EACAlmD,KAAKm4E,UAAUi/C,WACdp3H,KAAKm4E,UAAUi/C,WAEZrxE,EAAS8+D,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC5CmmI,EAAmBE,EAAgBl3H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC9DszH,EAAW2S,GACf5wE,EACAlmD,KAAKm4E,UAAUk/C,UACfL,GAEF,OACEjxE,GACE/lD,KAAKm4E,UAAU+rC,aAAeiT,EAC9B/9H,KAAKsiH,KAAKyI,EAAWnkH,KAAKm4E,UAAUm/C,WACtCt3H,KAAKm4E,UAAUo/C,uBAAyBxxE,CAE5C,CAyBO,MAAMyxE,GAAwD,CACnEH,UAAW,KACXE,uBAAwB,KACxBrT,aAAc,IACdoT,UAAW,KACXF,UAAW,SAGAK,WAA2C5B,GAyBtDh2H,WAAAA,CACEi2H,GACmE,IAAnEz8C,EAAAhrF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAiE,CAAC,EAElEgzF,MAAMy0C,GA3BR,KAAAl1C,UAA4D,KA4B1D5gF,KAAKq5E,SAAW,IAAKm+C,MAAan+C,GAClCr5E,KAAK03H,QAAUnD,GAAQuB,EAAc1pH,MAAO0pH,EAAczpH,QA1B5D,aAAI+qH,GACF,OAAOp3H,KAAKq5E,SAAS+9C,UAGvB,aAAIC,GACF,OAAOr3H,KAAKq5E,SAASg+C,UAGvB,gBAAInT,GACF,OAAOlkH,KAAKq5E,SAAS6qC,aAGvB,0BAAIqT,GACF,OAAOv3H,KAAKq5E,SAASk+C,uBAGvB,aAAID,GACF,OAAOt3H,KAAKq5E,SAASi+C,UAYvBv0C,GAAAA,CAAImkC,GACF,MAAM,QAAEwQ,EAAO,OAAE5pG,GAAY9tB,KAAK4gF,UAE/BsmC,EAAMrC,QAASqC,EAAMnC,OAAQ/kH,KAAK03H,SAGrC,OAFAzK,EAAQjtH,KAAK03H,SACb13H,KAAK03H,QAAUA,EACR5pG,EAGTkmG,YAAAA,GACEh0H,KAAK4gF,UAAYmsC,EACf,CACE2K,QAASZ,IAEXngH,GACA,CACEugE,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1B8rE,UAAW,CACTi/C,UAAWp3H,KAAKo3H,UAChBC,UAAWr3H,KAAKq3H,UAChBnT,aAAclkH,KAAKkkH,aACnBqT,uBAAwBv3H,KAAKu3H,uBAC7BD,UAAWt3H,KAAKs3H,WAElB/wD,UAAW,CAAC0wD,IACZrzC,WAAW,cAMH+zC,GACdzQ,EACA7tC,GAEA,OAAO,IAAIo+C,GAAmCvQ,EAAO7tC,EACvD,CAKO,MAAMu+C,GAAWH,GACXI,GAAWF,6PC5KRG,GACd5Q,EACA10E,GAEI00E,EAAM/vH,eAAe,cACvB2gI,GACG5Q,EAA0CwN,WAC3CliF,IAGE00E,EAAM/vH,eAAe,gBACvB2gI,GACG5Q,EAA2CkO,YAC5C5iF,GAGA00E,EAAM/vH,eAAe,gBACvB2gI,GACG5Q,EAA2CmO,YAC5C7iF,IAINA,EAAG00E,EACL,UCvBgB6Q,GAAc9L,GAC5B,MAAMn+F,EAASm+F,EAAO9vH,MAAM,GAC5B,IAAK,IAAI3N,EAAI,EAAGA,EAAIs/B,EAAOx/B,OAAQE,IAAK,CACtC,IAAIkjB,EAAS,EACbomH,GAAmBhqG,EAAOt/B,IAAK04H,IACxBp5F,EAAOv6B,SAAS2zH,KACnBp5F,EAAO4U,OAAOl0C,EAAIkjB,EAAQ,EAAGw1G,GAC7Bx1G,QAIN,OAAOoc,CACT,UCbgBkqG,GAAcC,EAAgBC,GAC5C,GAAID,EAAO7rH,QAAU8rH,EAAO9rH,MAC1B,MAAM,IAAI/a,MACR,2BAA2B4mI,EAAO7rH,aAAa8rH,EAAO9rH,SAI1D,GAAI6rH,EAAO5rH,SAAW6rH,EAAO7rH,OAC3B,MAAM,IAAIhb,MACR,4BAA4B4mI,EAAO5rH,cAAc6rH,EAAO7rH,SAG9D,UCRgB8rH,GAEdC,EACAC,GAEA,OACED,EAAcp4H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACzCwnI,EAAcr4H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAE7C,OAEaynI,WAAYnD,GACvB,SAAI/oH,GACF,OAAOpM,KAAKo1H,YAAYhpH,MAG1B,UAAIC,GACF,OAAOrM,KAAKo1H,YAAY/oH,OAG1B,SAAIysC,GACF,OAAO94C,KAAKo1H,YAAYt8E,MAG1BiyC,QAAAA,GACE1J,MAAM0J,WACNitC,GAAch4H,KAAKo1H,YAAap1H,KAAKq1H,aAGvCrB,YAAAA,GACEh0H,KAAK4zH,cAAgBhH,EAAWuL,GAAS,CACvCjhD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bu3E,WAAW,IAIfuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAKo1H,YAAYvQ,QACjB7kH,KAAKq1H,YAAYxQ,SAIrBnwF,OAAAA,GAEEu4F,EAAQjtH,KAAKo1H,YAAYrQ,QACzBkI,EAAQjtH,KAAKq1H,YAAYtQ,QACzB/kH,KAAKo1H,YAAYrQ,OAAS1oF,GAAMr8B,KAAK+kH,QACrC/kH,KAAKq1H,YAAYtQ,OAAS1oF,GAAMr8B,KAAK+kH,kBAIzBwT,GACdnD,EACAC,EACAh8C,GAEA,OAAO,IAAIi/C,GAAIlD,EAAaC,EAAah8C,EAC3C,CCxDO,MAAMm/C,GAA4B,IACpChF,GACHtQ,IAAK,YAGMuV,WAAe9C,GAE1B91H,WAAAA,CAAYw5E,GACVgI,QACArhF,KAAKq5E,SAAW,IAAKm/C,MAAan/C,GAClCr5E,KAAK8zH,cACL9zH,KAAK+qF,WAEA/qF,KAAK6kH,UACR7kH,KAAK6kH,QAAUzB,EAASpjH,KAAKoM,MAAOpM,KAAKqM,OAAQgtE,EAAS6pC,MAEvDljH,KAAK+kH,SACR/kH,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,SAI3C8nH,OAAAA,GAAO,CAEPz/F,OAAAA,GAAO,WAGOz4B,GAAOo9E,GACrB,OAAO,IAAIo/C,GAAOp/C,EACpB,UCvBgBq/C,GAEdC,EACAC,GAEA,IAAInW,EAAM,EACV,IAAK,IAAIj0H,EAAI,EAAGA,EAAIwR,KAAKm4E,UAAUtxD,KAAMr4B,IACvCi0H,GAAOkW,EAAS34H,KAAKm3E,OAAOnmE,GAAGxiB,GAAKoqI,EAASpqI,GAAGwR,KAAKm3E,OAAOtmF,GAE9D,OAAO4xH,CACT,UAEgBoW,GAEd9T,EACAuR,EACAwC,GAEA,IAAIrW,EAAM6T,EAAYt2H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACjD,IAAK,IAAIrC,EAAI,EAAGA,EAAIwR,KAAKm4E,UAAUtxD,KAAMr4B,IACvCi0H,GAAOsC,EAAO/kH,KAAKm3E,OAAOnmE,GAAGxiB,GAAKsqI,EAAa94H,KAAKm3E,OAAOtmF,GAAGrC,GAEhE,OAAOi0H,CACT,UAEgBsW,GAEdhU,EACAuR,EACAwC,GAEA,IAAIrW,EAAM6T,EAAYt2H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACjD,IAAK,IAAIrC,EAAI,EAAGA,EAAIwR,KAAKm4E,UAAUtxD,KAAMr4B,IACvCi0H,GAAOsC,EAAOv2H,GAAGwR,KAAKm3E,OAAOtmF,GAAKioI,EAAatqI,GAAGwR,KAAKm3E,OAAOnmE,GAEhE,OAAOyxG,CACT,OAEauW,WAAiB7D,GAA9Bt1H,WAAAA,uBACE,KAAAo5H,eAA4C,KAC5C,KAAAC,eAA4C,KAE5C,SAAI9sH,GACF,OAAOpM,KAAKq1H,YAAYjpH,MAG1B,SAAIA,CAAMA,GACR,MAAM,IAAI/a,MAAM,gCAGlB,UAAIgb,GACF,OAAOrM,KAAKo1H,YAAY/oH,OAG1B,UAAIA,CAAOA,GACT,MAAM,IAAIhb,MAAM,iCAGlB,SAAIynD,GACF,OAAO94C,KAAKo1H,YAAYt8E,MAG1B,SAAIA,CAAMA,GACR,MAAM,IAAIznD,MAAM,gCAGlB05F,QAAAA,GAEE,GADA1J,MAAM0J,WACF/qF,KAAKo1H,YAAYhpH,QAAUpM,KAAKq1H,YAAYhpH,OAC9C,MAAM,IAAIhb,MACR,2BAA2B2O,KAAKo1H,YAAYhpH,aAAapM,KAAKq1H,YAAYhpH,UAKhF2nH,YAAAA,GACEh0H,KAAK4zH,cAAgBhH,EAAW8L,GAAS,CACvCxhD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1B8rE,UAAW,CACTtxD,KAAM7mB,KAAKq1H,YAAYhpH,QAEzBu3E,WAAW,IAEb5jF,KAAKi5H,eAAiBrM,EAAWiM,GAAc,CAC7C3hD,OAAQ,CAACl3E,KAAKo1H,YAAYhpH,MAAOpM,KAAKo1H,YAAY/oH,QAClD8rE,UAAW,CACTtxD,KAAM7mB,KAAKq1H,YAAYjpH,OAEzBw3E,WAAW,IAEb5jF,KAAKk5H,eAAiBtM,EAAWmM,GAAc,CAC7C7hD,OAAQ,CAACl3E,KAAKq1H,YAAYjpH,MAAOpM,KAAKq1H,YAAYhpH,QAClD8rE,UAAW,CACTtxD,KAAM7mB,KAAKo1H,YAAY/oH,QAEzBu3E,WAAW,IAIfswC,YAAAA,CAAahN,GACX7lC,MAAM6yC,aAAahN,GACnBlnH,KAAKi5H,eAAkB/R,EAAmB+R,eAC1Cj5H,KAAKk5H,eAAkBhS,EAAmBgS,eAG5C/E,OAAAA,GAEE,GADAlH,EAAQjtH,KAAK6kH,UACR7kH,KAAK4zH,cAAe,MAAM,IAAIviI,MAAM,iCACzC2O,KAAK6kH,QAAU7kH,KAAK4zH,cAClB5zH,KAAKo1H,YAAYvQ,QACjB7kH,KAAKq1H,YAAYxQ,SAIrBnwF,OAAAA,GACE,IAAK10B,KAAKi5H,eAAgB,MAAM,IAAI5nI,MAAM,+BAC1C,IAAK2O,KAAKk5H,eAAgB,MAAM,IAAI7nI,MAAM,+BAE1C,MAAM8nI,EAAoBn5H,KAAKo1H,YAAYrQ,OACrCqU,EAAoBp5H,KAAKq1H,YAAYtQ,OAErCsU,EAAar5H,KAAKi5H,eACtBj5H,KAAK+kH,OACL/kH,KAAKo1H,YAAYrQ,OACjB/kH,KAAKq1H,YAAYxQ,SAEbyU,EAAat5H,KAAKk5H,eACtBl5H,KAAK+kH,OACL/kH,KAAKq1H,YAAYtQ,OACjB/kH,KAAKo1H,YAAYvQ,SAGnB7kH,KAAKq1H,YAAYtQ,OAASuU,EAC1Bt5H,KAAKo1H,YAAYrQ,OAASsU,EAE1BpM,EAAQkM,GACRlM,EAAQmM,GAGVtF,WAAAA,GAAW,CAEX77C,MAAAA,GACE,MAAO,IACFoJ,MAAMpJ,SACT7rE,MAAOpM,KAAKoM,MACZC,OAAQrM,KAAKqM,kBAKHktH,GACdnE,EACAC,EACAh8C,GAEA,OAAO,IAAI2/C,GAAS5D,EAAaC,EAAah8C,EAChD,UCnKgBmgD,GAEdnM,GAEA,OAAO,GAAK,EAAIj0H,KAAKgtD,KAAKinE,EAAOrtH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,IAC9D,UAEgB4oI,GAEdpM,GAEA,OACE,GAAK,EAAIj0H,KAAKgtD,KAAKinE,EAAOrtH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,IAExE,UAEgB6oI,GAEd7U,EACAE,GAEA,MAAMh/D,EAAS8+D,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAElD,OAAOk1D,GAAU,EAAIA,GADPg/D,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAElD,UAEgB8oI,GAEd9U,EACAE,GAEA,MAAMh/D,EAAS8+D,EAAQ7kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAEjE,OAAOk1D,GAAU,EAAIA,GADPg/D,EAAO/kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAEjE,OAEa+oI,WAAgBnF,GAC3BT,YAAAA,GACMh0H,KAAK84C,MAAQ,GACf94C,KAAK4zH,cAAgBhH,EAAW6M,GAAW,CACzCviD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvCytB,UAAW,CAACpgB,GACZy9B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW+M,GAAW,CACzCziD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvCytB,UAAW,CAAClgB,GACZu9B,WAAW,MAGb5jF,KAAK4zH,cAAgBhH,EAAW4M,GAAW,CACzCtiD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bk6D,UAAW,CAACpgB,GACZy9B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW8M,GAAW,CACzCxiD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bk6D,UAAW,CAAClgB,GACZu9B,WAAW,KAKjBuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,SAIpBnwF,OAAAA,GACEu4F,EAAQjtH,KAAK00H,WAAW3P,QACxB/kH,KAAK00H,WAAW3P,OAAU/kH,KAAK6zH,cAC7B7zH,KAAK6kH,QACL7kH,KAAK+kH,QAITsP,KAAAA,CAAMnQ,GAAqB,WAGb2V,GACdnF,EACAr7C,GAEA,OAAO,IAAIugD,GAAQlF,EAAYr7C,EACjC,UCpEgBygD,GACdzgD,EACAq7C,GAEA,MAAM,OAAEroH,GAAWgtE,EACnB,SAAS0gD,EACPjE,EACAz8C,GAEA,MAAMgtC,EAASwQ,GAAuBf,EAAez8C,GAErD,OADAgtC,EAAO2N,eACA3N,EAET,SAAS2T,EACPlE,EACAz8C,GAEA,MAAMgtC,EAAS6P,GAAsBJ,EAAez8C,GAEpD,OADAgtC,EAAO2N,eACA3N,EAET,MAAMoQ,EAAex6H,GAAO,CAC1Bw7B,GAAI,UACJprB,SACAD,MAAOsoH,EAAWroH,OAClB0nH,WAAYgG,IAGRE,EAAch+H,GAAO,CACzBw7B,GAAI,SACJprB,SACA0nH,WAAYiG,IAKRE,EAAeL,GADJtB,GADKgB,GAAS9C,EAAc/B,GACTuF,IAG9BE,EAAgB1D,EAAapQ,OAInC,OAHA8T,EAAc1D,aAAeA,EAC7B0D,EAAczD,cAAgBhC,EAC9ByF,EAAcxD,WAAauD,EACpBA,CACT,UC/DgBE,GACd/gD,EACAghD,GAEA,GAA+B,kBAApBhhD,EAASihD,OAClB,MAAO,CAAEC,QAASlhD,EAASihD,OAAQE,QAASnhD,EAASihD,QAChD,CACL,IAAIC,EAAkBF,EAASC,OAC3BE,EAAkBH,EAASC,OAO/B,MANgC,kBAArBjhD,EAASkhD,UAClBA,EAAUlhD,EAASkhD,SAEW,kBAArBlhD,EAASmhD,UAClBA,EAAUnhD,EAASmhD,SAEd,CAAED,UAASC,WAEtB,UAOgBC,GACdphD,EACAghD,GAEA,GAAgC,kBAArBhhD,EAASqhD,QAClB,MAAO,CAAEC,SAAUthD,EAASqhD,QAASE,SAAUvhD,EAASqhD,SACnD,CACL,IAAIC,EAAmBN,EAASK,QAC5BE,EAAmBP,EAASK,QAOhC,MANiC,kBAAtBrhD,EAASshD,WAClBA,EAAWthD,EAASshD,UAEW,kBAAtBthD,EAASuhD,WAClBA,EAAWvhD,EAASuhD,UAEf,CAAED,WAAUC,YAEvB,UC7CgB1nC,GAAOrsE,EAAc7zB,GACnC,OAAO,IAAIikF,aAAapwD,GAAMsmG,KAAKn6H,EACrC,UCyBgB6nI,GAEdxN,EACA0H,EACAnQ,GAEA,MAAMkW,EACJ96H,KAAKm4E,UAAUwiD,SAAW36H,KAAKm3E,OAAOtmF,EAAImP,KAAKm4E,UAAUoiD,QACrDQ,EACJ/6H,KAAKm3E,OAAOtmF,EAAImP,KAAKm4E,UAAUoiD,QAAUv6H,KAAKm4E,UAAUwiD,SACpDK,EAAa5hI,KAAK8Z,IACtBlT,KAAKm4E,UAAU08C,YACfiG,EAAe96H,KAAKm4E,UAAU8iD,YAG1BC,EACJl7H,KAAKm4E,UAAUyiD,SAAW56H,KAAKm3E,OAAOnmE,EAAIhR,KAAKm4E,UAAUqiD,QACrDW,EACJn7H,KAAKm3E,OAAOnmE,EAAIhR,KAAKm4E,UAAUqiD,QAAUx6H,KAAKm4E,UAAUyiD,SACpDQ,EAAahiI,KAAK8Z,IACtBlT,KAAKm4E,UAAU28C,aACfoG,EAAel7H,KAAKm4E,UAAUkjD,aAGhC,IAAI5Y,EAAM,EACV,IAAK,IAAIrrC,EAAI,EAAGA,EAAIp3E,KAAKm4E,UAAUmjD,WAAYlkD,IAC7C,IACE,IAAImkD,EAAUniI,KAAK4sD,IAAI,EAAGk1E,GACxBM,EAASpiI,KAAK4sD,IAAI,EAAGm1E,GACvBI,EAAUH,EACVG,IAAWC,IAEX,IACE,IAAIC,EAAUriI,KAAK4sD,IAAI,EAAG80E,GACxBY,EAAStiI,KAAK4sD,IAAI,EAAG+0E,GACvBU,EAAUT,EACVS,IAAWC,IAEXjZ,GAAOsS,EAAQ39C,GAAGmkD,GAASE,GAAWpO,EAAOj2C,GAAGokD,GAAQE,GAI9D,OAAOjZ,EAAMmC,EAAO5kH,KAAKm3E,OAAOC,EAClC,UAWgBukD,GAEd3G,EACA3H,EACAtI,GAEA,MAAM6W,EAAcxiI,KAAK4sD,IACvB,EACA5sD,KAAK0+F,MACF93F,KAAKm4E,UAAUwiD,SAAW36H,KAAKm3E,OAAOtmF,GAAKmP,KAAKm4E,UAAUoiD,UAGzDQ,EACJa,EAAc57H,KAAKm4E,UAAUoiD,QAC7Bv6H,KAAKm3E,OAAOtmF,EACZmP,KAAKm4E,UAAUwiD,SACXkB,EAAYziI,KAAK8Z,IACrBlT,KAAKm4E,UAAU2jD,WACf1iI,KAAK0/E,OACF94E,KAAKm4E,UAAU8iD,WACd,EACAj7H,KAAKm3E,OAAOtmF,EACZmP,KAAKm4E,UAAUwiD,UACf36H,KAAKm4E,UAAUoiD,SACf,GAGAwB,EAAc3iI,KAAK4sD,IACvB,EACA5sD,KAAK0+F,MACF93F,KAAKm4E,UAAUyiD,SAAW56H,KAAKm3E,OAAOnmE,GAAKhR,KAAKm4E,UAAUqiD,UAGzDW,EACJY,EAAc/7H,KAAKm4E,UAAUqiD,QAC7Bx6H,KAAKm3E,OAAOnmE,EACZhR,KAAKm4E,UAAUyiD,SACXoB,EAAY5iI,KAAK8Z,IACrBlT,KAAKm4E,UAAU8jD,YACf7iI,KAAK0/E,OACF94E,KAAKm4E,UAAUkjD,YACd,EACAr7H,KAAKm3E,OAAOnmE,EACZhR,KAAKm4E,UAAUyiD,UACf56H,KAAKm4E,UAAUqiD,SACf,GAGN,IAAI/X,EAAMuS,EAAah1H,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACjE,IACE,IAAIyc,EAASyuH,EAAaP,EAASL,EACnC7tH,EAAS0uH,EACT1uH,IAAUkuH,GAAUx7H,KAAKm4E,UAAUqiD,QAEnC,IACE,IAAIptH,EAASwuH,EAAaF,EAASX,EACnC3tH,EAASyuH,EACTzuH,IAAUsuH,GAAU17H,KAAKm4E,UAAUoiD,QAEnC9X,GACE4K,EAAOrtH,KAAKm3E,OAAOC,GAAGokD,GAAQE,GAC9B3W,EAAO/kH,KAAKm4E,UAAU1qE,QAAQH,GAAQF,GAG5C,OAAOq1G,CACT,UASgByZ,GAEd5F,EACAvB,EACAhQ,GAEA,MAAMl0H,EAAImP,KAAKm3E,OAAOtmF,EAAImP,KAAKm4E,UAAUwiD,SACnCiB,EACJ/qI,EAAImP,KAAKm4E,UAAU08C,YACf,EACAz7H,KAAK0/E,OACFjoF,EAAImP,KAAKm4E,UAAU08C,YAAc70H,KAAKm4E,UAAUoiD,SAC/Cv6H,KAAKm4E,UAAUoiD,SAEnBO,EAAejqI,EAAI+qI,EAAc57H,KAAKm4E,UAAUoiD,QAChDsB,EAAYziI,KAAK8Z,IACrB0oH,EAAcxiI,KAAK0/E,MAAMgiD,EAAe96H,KAAKm4E,UAAUoiD,SAAW,EAClEv6H,KAAKm4E,UAAU2jD,YAGX9qH,EAAIhR,KAAKm3E,OAAOnmE,EAAIhR,KAAKm4E,UAAUyiD,SACnCmB,EACJ/qH,EAAIhR,KAAKm4E,UAAU28C,aACf,EACA17H,KAAK0/E,OACF9nE,EAAIhR,KAAKm4E,UAAU28C,aAAe90H,KAAKm4E,UAAUqiD,SAChDx6H,KAAKm4E,UAAUqiD,SAEnBU,EAAelqH,EAAI+qH,EAAc/7H,KAAKm4E,UAAUqiD,QAChDwB,EAAY5iI,KAAK8Z,IACrB6oH,EAAc3iI,KAAK0/E,MAAMoiD,EAAel7H,KAAKm4E,UAAUqiD,SAAW,EAClEx6H,KAAKm4E,UAAU8jD,aAGjB,IAAIxZ,EAAM6T,EAAYt2H,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC5Dyc,EAASyuH,EACb,IACE,IAAIR,EAAUL,EACd5tH,EAAS0uH,EACTT,GAAWv7H,KAAKm4E,UAAUqiD,QAASltH,IACnC,CACA,IAAIF,EAASwuH,EACb,IACE,IAAIH,EAAUX,EACd1tH,EAASyuH,EACTJ,GAAWz7H,KAAKm4E,UAAUoiD,QAASntH,IAEnCq1G,GACEsS,EAAQ/0H,KAAKm3E,OAAOC,GAAGmkD,GAASE,GAChC1W,EAAO/kH,KAAKm4E,UAAU1qE,QAAQH,GAAQF,GAG5C,OAAOq1G,CACT,UAOgB0Z,GAEdC,EACArX,GAEA,IAAItC,EAAM,EACV,IAAK,IAAIzxG,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAU8jD,YAAajrH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU2jD,WAAYjrI,IAC7C4xH,GAAOsC,EAAO/kH,KAAKm3E,OAAOC,GAAGpmE,GAAGngB,GAGpC,OAAOurI,EAAWp8H,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAAK4xH,CACnE,CAwBO,MAAM4Z,GAAiC,CAC5C/B,OAAQ,EACRI,QAAS,EACTrO,KAAM,GACNuI,YAAa,EACbC,YAAa,EACbC,aAAc,SAGHwH,WAAoB3H,GA2E/B90H,WAAAA,CAAYw5E,EAAgCq7C,aAC1CrzC,MAAMhI,EAAUq7C,GA0BlB,KAAA6H,0BAAuD,KACvD,KAAAC,yBAAsD,KACtD,KAAAC,oBAAiD,KA3B/Cz8H,KAAKq5E,SAAW,IACXgjD,MACAhjD,KACAohD,GAAWphD,EAAUgjD,OACrBjC,GAAU/gD,EAAUgjD,KAGzBr8H,KAAK6kH,QACa,QADNpE,EACVpnC,EAASwrC,eAAO,IAAApE,EAAAA,EAAI4C,EAASrjH,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OAC7D94C,KAAK+kH,OAASyP,GAAQx0H,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OAEpD94C,KAAK4kH,OAAS1xB,GAAOlzF,KAAK84C,MAAO94C,KAAKqsH,MACtCrsH,KAAKo8H,WAAgC,QAAtBpR,EAAG3xC,EAAS+iD,kBAAU,IAAApR,EAAAA,EAAI7H,EAAOnjH,KAAK84C,OAErD94C,KAAK+0H,QACa,QADN2H,EACVrjD,EAAS07C,eAAO,IAAA2H,EAAAA,EAChBrZ,EAASrjH,KAAK60H,YAAa70H,KAAK80H,aAAc90H,KAAK40H,aACrD50H,KAAKg1H,aAAeR,GAClBx0H,KAAK60H,YACL70H,KAAK80H,aACL90H,KAAK40H,aAEP50H,KAAK+qF,WAhGP,WAAIwvC,GACF,OAAOv6H,KAAKq5E,SAASkhD,QAGvB,WAAIC,GACF,OAAOx6H,KAAKq5E,SAASmhD,QAGvB,YAAIG,GACF,OAAO36H,KAAKq5E,SAASshD,SAGvB,YAAIC,GACF,OAAO56H,KAAKq5E,SAASshD,SAGvB,SAAIvuH,GACF,OAAOhT,KAAK0/E,OACT94E,KAAK00H,WAAWtoH,MAAwB,EAAhBpM,KAAK26H,SAAe36H,KAAK60H,aAChD70H,KAAKu6H,QACL,GAIN,UAAIluH,GACF,OAAOjT,KAAK0/E,OACT94E,KAAK00H,WAAWroH,OAAyB,EAAhBrM,KAAK46H,SAAe56H,KAAK80H,cACjD90H,KAAKw6H,QACL,GAIN,QAAInO,GACF,OAAOrsH,KAAKq5E,SAASgzC,KAGvB,SAAIvzE,GACF,OAAO94C,KAAK40H,YAGd,UAAIhQ,GACF,OAAO5kH,KAAKq5E,SAASurC,OAGvB,UAAIA,CAAOA,GACT5kH,KAAKq5E,SAASurC,OAASA,EAGzB,cAAIwX,GACF,OAAOp8H,KAAKq5E,SAAS+iD,WAGvB,cAAIA,CAAWvX,GACb7kH,KAAKq5E,SAAS+iD,WAAavX,EAG7B,WAAIkQ,GACF,OAAO/0H,KAAKq5E,SAAS07C,QAGvB,WAAIA,CAAQA,GACV/0H,KAAKq5E,SAAS07C,QAAUA,EAG1B,gBAAIC,GACF,OAAOh1H,KAAKq5E,SAAS27C,aAGvB,gBAAIA,CAAaA,GACfh1H,KAAKq5E,SAAS27C,aAAeA,EAiC/BhB,YAAAA,GACEh0H,KAAK4zH,cAAgBhH,EAGnBiO,GAAS,CACT1iD,UAAW,CACT8iD,WAAYj7H,KAAK00H,WAAWtoH,MAC5BivH,YAAar7H,KAAK00H,WAAWroH,OAC7BivH,WAAYt7H,KAAK00H,WAAW57E,MAC5ByhF,QAASv6H,KAAKu6H,QACdC,QAASx6H,KAAKw6H,QACdG,SAAU36H,KAAK26H,SACfC,SAAU56H,KAAK46H,SACf/F,YAAa70H,KAAK60H,YAClBC,aAAc90H,KAAK80H,cAErB59C,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvC8qC,WAAW,IAGb5jF,KAAKu8H,0BAA4B3P,EAAW+O,GAAqB,CAC/DxjD,UAAW,CACT2jD,WAAY97H,KAAKoM,MACjB6vH,YAAaj8H,KAAKqM,OAClBoB,OAAQzN,KAAK84C,MACbmiF,WAAYj7H,KAAK00H,WAAWtoH,MAC5BivH,YAAar7H,KAAK00H,WAAWroH,OAC7BivH,WAAYt7H,KAAK00H,WAAW57E,MAC5ByhF,QAASv6H,KAAKu6H,QACdC,QAASx6H,KAAKw6H,QACdG,SAAU36H,KAAK26H,SACfC,SAAU56H,KAAK46H,SACf/F,YAAa70H,KAAK60H,YAClBC,aAAc90H,KAAK80H,cAErB59C,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvC8qC,WAAW,IAGb5jF,KAAKw8H,yBAA2B5P,EAAWsP,GAAoB,CAC7D/jD,UAAW,CACT2jD,WAAY97H,KAAKoM,MACjB6vH,YAAaj8H,KAAKqM,OAClBoB,OAAQzN,KAAK84C,MACbyhF,QAASv6H,KAAKu6H,QACdC,QAASx6H,KAAKw6H,QACdG,SAAU36H,KAAK26H,SACfC,SAAU56H,KAAK46H,SACf/F,YAAa70H,KAAK60H,YAClBC,aAAc90H,KAAK80H,aACnBF,YAAa50H,KAAK40H,aAEpB19C,OAAQ,CACNl3E,KAAK00H,WAAWtoH,MAChBpM,KAAK00H,WAAWroH,OAChBrM,KAAK00H,WAAW57E,OAElB8qC,WAAW,IAGb5jF,KAAKy8H,oBAAsB7P,EAAWuP,GAAe,CACnDjlD,OAAQ,CAAC,EAAG,EAAGl3E,KAAK84C,OACpBq/B,UAAW,CACT2jD,WAAY97H,KAAKoM,MACjB6vH,YAAaj8H,KAAKqM,QAEpBu3E,WAAW,IAIfuwC,OAAAA,GACEn0H,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,QAChB7kH,KAAK+0H,QACL/0H,KAAK4kH,QAITlwF,OAAAA,GACE,MAAM,aAAEsgG,EAAY,WAAEoH,GAAep8H,KACrCA,KAAKg1H,aAAgBh1H,KAAKu8H,0BACxBvH,EACAh1H,KAAK00H,WAAW7P,QAChB7kH,KAAK+kH,QAEPkI,EAAQ+H,GACRh1H,KAAKo8H,WAAcp8H,KAAKy8H,oBACtBL,EACAp8H,KAAK+kH,QAEPkI,EAAQmP,GACRnP,EAAQjtH,KAAK+kH,QACb/kH,KAAK+kH,OAAU/kH,KAAKw8H,yBAClBx8H,KAAK+0H,QACL/0H,KAAK00H,WAAW3P,QAGlBkI,EAAQjtH,KAAK00H,WAAW3P,QAExB/kH,KAAK00H,WAAW3P,OAAS1oF,GAAMr8B,KAAK+kH,QAGtCsP,KAAAA,CAAMnQ,GAGJ,MAAQW,QAAS+Q,GAAe51H,KAChCA,KAAK6kH,QAAW7kH,KAAKqmH,OAAmBtjC,IAAI/iF,KAAMkkH,GAClD+I,EAAQ2I,aAII+G,GACdtjD,EACAq7C,GAEA,OAAO,IAAI4H,GAAYjjD,EAAUq7C,EACnC,UCxdgBkI,GAAWC,GACzB,OAAOA,CACT,UAMgBC,GAEdzP,GAEA,OAAIuP,GAAWxjI,KAAK6C,UAAY+D,KAAKm4E,UAAU4kD,YACtC,EAEF1P,EAAOrtH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAC3C,UAEgBmsI,GAEd3P,GAEA,OAAOA,EAAOrtH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAAKmP,KAAKm4E,UAAU4kD,WAC/D,UAEgBE,GAEdC,EACAnY,GAEA,OAA+C,IAA3CmY,EAASl9H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC/B,EAEFk0H,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAC3C,CAMO,MAAMssI,GAAoC,IAC5C3J,GACHuJ,YAAa,UAGFK,WAAgBzI,GAI3B90H,WAAAA,CACE60H,EACAr7C,GAEAgI,MAAMhI,EAAsCq7C,GAN9C,KAAA2I,iBAAmE,KAOjEr9H,KAAKq5E,SAAW,IAAK8jD,MAAoB9jD,GACzCr5E,KAAKk9H,SAAW,KAChBl9H,KAAK+qF,WAGPipC,YAAAA,CAAaC,GACX,MAAM/8C,EAAS,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAE7B4nH,GACFj0H,KAAKq9H,iBAAmBtQ,EAGtB,CAAEmQ,SAAUN,IAAcE,GAAiB,CAC3C5lD,SACA0M,WAAW,IAEb5jF,KAAK6zH,cAAgBjH,EAAWqQ,GAAS,CAAE/lD,SAAQ0M,WAAW,KAE9D5jF,KAAKq9H,iBAAmBtQ,EAGtB,CAAC,EAAGiQ,GAAS,CAAE9lD,SAAQ0M,WAAW,IAIxCuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACT7kH,KAAKk9H,UACPjQ,EAAQjtH,KAAKk9H,UAEf,MAAM,OAAEpvG,EAAM,SAAEovG,GAAcl9H,KAC3Bq9H,iBACDr9H,KAAK00H,WAAW7P,SAElB7kH,KAAK6kH,QAAU/2F,EACf9tB,KAAKk9H,SAAWA,EAGlBxoG,OAAAA,GACEu4F,EAAQjtH,KAAK+kH,QACb/kH,KAAK+kH,OAAU/kH,KAAK6zH,cAClB7zH,KAAKk9H,SACLl9H,KAAK00H,WAAW3P,kBAKN8X,GACdnI,EACAr7C,GAEA,OAAO,IAAI+jD,GAAQ1I,EAAYr7C,EACjC,UChHgBikD,GAAYjkD,EAA0Bv0B,GACpD,MAAM,OAAEz4C,EAAM,WAAEonH,EAAa,MAASp6C,EAChCwrC,EAAU5oH,GAAO,CACrBw7B,GAAI,UACJprB,SACAD,MAAO04C,EAAMz4C,OACbonH,eAEI7O,EAAS3oH,GAAO,CAAEw7B,GAAI,SAAUprB,SAAQonH,eAC9C,OAAOoG,GACLtB,GAAIgB,GAAS1U,EAAS//D,EAAO,CAAE2uE,eAAe7O,EAAQ,CAAE6O,eACxD,CAAEA,cAEN,UCCgB8J,GAEdlQ,EACA0H,EACAnQ,GAEA,IAAI1tC,EAAS,EACT1oF,EAAI,EACR,IAAK,IAAIwiB,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAUkjD,YAAarqH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU8iD,WAAYpqI,IAC7CqmF,GAAUm2C,EAAOr8G,GAAGngB,GAAKkkI,EAAQ/0H,KAAKm3E,OAAOtmF,GAAGrC,GAChDA,IAGJ,OAAO0oF,EAAS0tC,EAAO5kH,KAAKm3E,OAAOtmF,EACrC,UAEgB2sI,GAEdnQ,EACA0H,EACAnQ,GAEA,IAAI1tC,EAAS,EACT1oF,EAAI,EACR,IAAK,IAAI4oF,EAAI,EAAGA,EAAIp3E,KAAKm4E,UAAUmjD,WAAYlkD,IAC7C,IAAK,IAAIpmE,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAUkjD,YAAarqH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU8iD,WAAYpqI,IAC7CqmF,GAAUm2C,EAAOj2C,GAAGpmE,GAAGngB,GAAKkkI,EAAQ/0H,KAAKm3E,OAAOtmF,GAAGrC,GACnDA,IAIN,OAAO0oF,EAAS0tC,EAAO5kH,KAAKm3E,OAAOtmF,EACrC,UAMgB4sI,GAEdnH,EACAvR,EACAgQ,GAEA,IAAItS,EAAM,EACV,MAAMgZ,EAAUz7H,KAAKm3E,OAAOtmF,EAAImP,KAAKm3E,OAAOnmE,EAAIhR,KAAKk3E,OAAOrmF,EAC5D,IAAK,IAAI0qI,EAAU,EAAGA,EAAUv7H,KAAKm4E,UAAUy8C,YAAa2G,IAC1D9Y,GAAOsS,EAAQwG,GAASE,GAAW1W,EAAO,GAAGwW,GAE/C,OAAO9Y,EAAM6T,EAAYt2H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EACtD,UAEgB6sI,GAEdpH,EACAvR,EACAgQ,GAEA,IAAItS,EAAM,EACV,MAAMgZ,EAAUz7H,KAAKm3E,OAAOtmF,EAAImP,KAAKm3E,OAAOnmE,EAAIhR,KAAKk3E,OAAOrmF,EAC5D,IAAK,IAAI0qI,EAAU,EAAGA,EAAUv7H,KAAKm4E,UAAUy8C,YAAa2G,IAC1D9Y,GAAOsS,EAAQwG,GAASE,GAAW1W,EAAO,GAAGwW,GAE/C,OAAO9Y,EAAM6T,EAAYt2H,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EACrE,UAEgB8sI,GAEd/Y,EACAG,GAEA,OAAOH,EAAO5kH,KAAKm3E,OAAOtmF,GAAKk0H,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EACnE,UASgB+sI,GAEd5I,EACA8D,EACA/T,GAEA,OACEiQ,EAAah1H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACxCioI,EAAa94H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACtCk0H,EAAO/kH,KAAKm4E,UAAU7qE,QAAQtN,KAAKm4E,UAAU/qE,OAEnD,UAEgBywH,GAEd7I,EACA8D,EACA/T,GAEA,MAAM+Y,EAAS1kI,KAAK0/E,MAClB94E,KAAKm3E,OAAOtmF,GAAKmP,KAAKm4E,UAAU8iD,WAAaj7H,KAAKm4E,UAAUkjD,cAExDG,EAASpiI,KAAK0/E,OACjB94E,KAAKm3E,OAAOtmF,EACXitI,EAAS99H,KAAKm4E,UAAU8iD,WAAaj7H,KAAKm4E,UAAUkjD,aACpDr7H,KAAKm4E,UAAU8iD,YAEbS,EACJ17H,KAAKm3E,OAAOtmF,EACZmP,KAAKm4E,UAAU8iD,YAAcO,EAASx7H,KAAKm4E,UAAUkjD,YAAcyC,GACrE,OACE9I,EAAah1H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACxCioI,EAAagF,GAAQtC,GAAQE,GAAU3W,EAAO,GAAG/kH,KAAKm3E,OAAOnmE,EAEjE,OAaa+sH,WAAuBpJ,GAyBlC90H,WAAAA,CACEw5E,EACAq7C,GAEArzC,MAAMhI,EAAUq7C,GAPlB,KAAA6H,0BAAuD,KACvD,KAAAC,yBAAsD,KACtD,KAAAC,oBAAiD,KAM/Cz8H,KAAKq5E,SAAW,IAAKA,GACrBr5E,KAAK+qF,WAEL,MAAMizC,EACJtJ,EAAWtoH,MAAQsoH,EAAWroH,OAASqoH,EAAW57E,MAEpD94C,KAAK4kH,OAAS1xB,GAAOlzF,KAAKqM,OAAQrM,KAAKqsH,MACvCrsH,KAAKo8H,WAAa9Y,EAAMtjH,KAAKqM,QAE7BrM,KAAK+0H,QAAU3R,EAAS4a,EAAiBh+H,KAAKqM,QAC9CrM,KAAKg1H,aAAeT,GAAQyJ,EAAiBh+H,KAAKqM,QAE9CrM,KAAK84C,MAAQ,GACf94C,KAAK6kH,QAAUxB,EAASrjH,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACtD94C,KAAK+kH,OAASyP,GAAQx0H,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,QAC3C94C,KAAKqM,OAAS,IACvBrM,KAAK6kH,QAAUzB,EAASpjH,KAAKoM,MAAOpM,KAAKqM,QACzCrM,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,SA9C3C,QAAIggH,GACF,OAAOrsH,KAAKq5E,SAASgzC,KAGvB,UAAIzH,GACF,OAAO5kH,KAAKq5E,SAASurC,OAGvB,UAAIA,CAAOA,GACT5kH,KAAKq5E,SAASurC,OAASA,EAGzB,cAAIwX,GACF,OAAOp8H,KAAKq5E,SAASurC,OAGvB,cAAIwX,CAAWA,GACbp8H,KAAKq5E,SAAS+iD,WAAaA,EAiC7BrxC,QAAAA,GAEE,GADA1J,MAAM0J,WACF/qF,KAAK84C,MAAQ,EAAG,MAAM,IAAIznD,MAAM,uBAGtC2iI,YAAAA,GACE,MAAM,WAAEU,GAAe10H,KACjBg+H,EACJtJ,EAAWtoH,MAAQsoH,EAAWroH,OAASqoH,EAAW57E,MAChD47E,EAAW57E,MAAQ,GACrB94C,KAAK4zH,cAAgBhH,EAAW4Q,GAAW,CACzCtmD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1B8rE,UAAW,CACTkjD,YAAa3G,EAAWroH,OACxB4uH,WAAYvG,EAAWtoH,MACvBkvH,WAAY5G,EAAW57E,SAI3B94C,KAAKu8H,0BAA4B3P,EAAWiR,GAAuB,CACjE3mD,OAAQ,CAAC8mD,EAAiBh+H,KAAKqM,QAC/B8rE,UAAW,CACT/qE,OAAQ,EACRE,OAAQ,EACR2tH,WAAYvG,EAAWtoH,MACvBivH,YAAa3G,EAAWroH,QAE1Bu3E,WAAW,IAGb5jF,KAAKw8H,yBAA2B5P,EAAW8Q,GAAsB,CAC/DxmD,OAAQ,CAACw9C,EAAWtoH,MAAOsoH,EAAWroH,OAAQqoH,EAAW57E,OACzDq/B,UAAW,CACTy8C,YAAa50H,KAAKqM,QAEpBu3E,WAAW,MAGb5jF,KAAK4zH,cAAgBhH,EAAW2Q,GAAS,CACvCrmD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1B8rE,UAAW,CACTkjD,YAAa3G,EAAWroH,OACxB4uH,WAAYvG,EAAWtoH,SAI3BpM,KAAKu8H,0BAA4B3P,EAAWgR,GAAqB,CAC/D1mD,OAAQ,CAAC8mD,EAAiBh+H,KAAKqM,QAC/B8rE,UAAW,CACT/qE,OAAQ,EACRE,OAAQ,EACR2tH,WAAYvG,EAAWtoH,MACvBivH,YAAa3G,EAAWroH,UAI5BrM,KAAKw8H,yBAA2B5P,EAAW6Q,GAAoB,CAC7DvmD,OAAQ,CAACw9C,EAAWtoH,MAAOsoH,EAAWroH,QACtC8rE,UAAW,CACTy8C,YAAa50H,KAAKqM,WAKxBrM,KAAKy8H,oBAAsB7P,EAAW+Q,GAAe,CACnDzmD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,UAI9B8nH,OAAAA,GACEn0H,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,QAChB7kH,KAAK+0H,QACL/0H,KAAK4kH,QAITlwF,OAAAA,GACE,MAAMupG,EAAmBj+H,KAAK00H,WAAW3P,OACzC/kH,KAAK00H,WAAW3P,OAAU/kH,KACvBw8H,yBACDyB,EACAj+H,KAAK+kH,OACL/kH,KAAK+0H,SAEP9H,EAAQgR,GAER,MAAM,WAAE7B,EAAU,aAAEpH,GAAiBh1H,KAErCA,KAAKo8H,WAAcp8H,KAAKy8H,oBACtBz8H,KAAK4kH,OACL5kH,KAAK+kH,QAIP/kH,KAAKg1H,aAAgBh1H,KAAKu8H,0BACxBvH,EACAh1H,KAAK00H,WAAW7P,QAChB7kH,KAAK+kH,QAEPkI,EAAQmP,GACRnP,EAAQ+H,aAIIkJ,GACd7kD,EACAq7C,GAEA,OAAO,IAAIqJ,GAAe1kD,EAAUq7C,EACtC,UClTgByJ,GAEdtZ,GAEA,OAAQA,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAC7C,OAEautI,WAAiBlJ,GAC5Br1H,WAAAA,CAAY60H,EAAoBr7C,GAC9BgI,MAAMqzC,EAAYr7C,GAClBr5E,KAAK+qF,WAGPipC,YAAAA,GACEh0H,KAAK4zH,cAAgBhH,EAAWuR,GAAS,CACvCjnD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,UAI9B8nH,OAAAA,GACEn0H,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,mBAKNwZ,GACd3J,EACAr7C,GAEA,OAAO,IAAI+kD,GAAS1J,EAAYr7C,EAClC,UC9BgBilD,GAEdC,EACAC,GAEA,OACED,EAAmBv+H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC9C2tI,EAAmBx+H,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAElD,UAEgB4tI,GAEd5Z,EACAE,GAEA,OACEF,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAAKk0H,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,EAE9E,OAEa6tI,WAAwBvJ,GACnC,SAAI/oH,GACF,OAAOpM,KAAKo1H,YAAYhpH,MAG1B,UAAIC,GACF,OAAOrM,KAAKo1H,YAAY/oH,OAG1B,SAAIysC,GACF,OAAO94C,KAAKo1H,YAAYt8E,MAG1BiyC,QAAAA,GACE1J,MAAM0J,WACNitC,GAAch4H,KAAKo1H,YAAap1H,KAAKq1H,aAGvCrB,YAAAA,GACEh0H,KAAK4zH,cAAgBhH,EAAW0R,GAAS,CACvCpnD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bu3E,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW6R,GAAS,CACvCvnD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bu3E,WAAW,IAIfuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAKo1H,YAAYvQ,QACjB7kH,KAAKq1H,YAAYxQ,SAIrBnwF,OAAAA,GACEu4F,EAAQjtH,KAAKo1H,YAAYrQ,QACzBkI,EAAQjtH,KAAKq1H,YAAYtQ,QACzB/kH,KAAKo1H,YAAYrQ,OAAU/kH,KAAK6zH,cAC9B7zH,KAAKq1H,YAAYxQ,QACjB7kH,KAAK+kH,QAEP/kH,KAAKq1H,YAAYtQ,OAAU/kH,KAAK6zH,cAC9B7zH,KAAKo1H,YAAYvQ,QACjB7kH,KAAK+kH,kBAKK4Z,GACdvJ,EACAC,EACAh8C,GAEA,OAAO,IAAIqlD,GAAgBtJ,EAAaC,EAAah8C,EACvD,UCrFgBulD,GAAK/3G,GACnB,OAAO,IAAIowD,aAAapwD,GAAMsmG,KAAK,EACrC,UAEgB0R,GAAOzyH,EAAeC,GACpC,MAAMyhB,EAAS,IAAI/4B,MAAMsX,GACzB,IAAK,IAAI2E,EAAI,EAAGA,EAAI3E,EAAQ2E,IAC1B8c,EAAO9c,GAAK4tH,GAAKxyH,GAEnB,OAAO0hB,CACT,OCJagxG,WAAanJ,GACxB91H,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK+qF,WACL/qF,KAAK6kH,QAAUga,GAAO7+H,KAAKoM,MAAOpM,KAAKqM,QACvCrM,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,kBAI3B0yH,GAAK1lD,GACnB,OAAO,IAAIylD,GAAKzlD,EAClB,UCVgB2lD,GAEd3R,GAEA,OAAO/mE,EAAS+mE,EAAOrtH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACpD,UAEgBouI,GAEd5R,GAEA,OAAO/mE,EAAS+mE,EAAOrtH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnE,UAEgBquI,GAEdra,EACAz3E,GAEA,OAAOoZ,EACLq+D,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnCu8C,EAAOptC,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAEtC,UAEgBsuI,GAEdta,EACAz3E,GAEA,OAAOoZ,EACLq+D,EAAQ7kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAClDu8C,EAAOptC,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAErD,OAEauuI,WAAa3K,GACxBT,YAAAA,GACMh0H,KAAK84C,MAAQ,GACf94C,KAAK4zH,cAAgBhH,EAAWqS,GAAW,CACzC/nD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvCytB,UAAW,CAACjgB,GACZs9B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAWuS,GAAW,CACzCjoD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvCytB,UAAW,CAAC/f,GACZo9B,WAAW,MAGb5jF,KAAK4zH,cAAgBhH,EAAWoS,GAAW,CACzC9nD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bk6D,UAAW,CAACjgB,GACZs9B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAWsS,GAAW,CACzChoD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,QAC1Bk6D,UAAW,CAAC/f,GACZo9B,WAAW,KAKjBuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,SAIpBnwF,OAAAA,GACEu4F,EAAQjtH,KAAK00H,WAAW3P,QACxB/kH,KAAK00H,WAAW3P,OAAU/kH,KAAK6zH,cAC7B7zH,KAAK6kH,QACL7kH,KAAK+kH,kBAKKsa,GAAK3K,EAAoBr7C,GACvC,OAAO,IAAI+lD,GAAK1K,EAAYr7C,EAC9B,OCtFaimD,WAAc3J,GACzB91H,WAAAA,CAAYw5E,GACVgI,MAAMhI,GACNr5E,KAAK+qF,WACL/qF,KAAK6kH,QAAU0P,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QACxCrM,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QAGzC8nH,OAAAA,IAIAz/F,OAAAA,cAOc6qG,GAAMlmD,GACpB,OAAO,IAAIimD,GAAMjmD,EACnB,UCbgBmmD,GACdnmD,EACAomD,EACA36E,GAEA,MAAM,OAAEz4C,GAAWgtE,EACbqmD,EAAoBzjI,GAAO,CAAEoQ,SAAQD,MAAO04C,EAAMz4C,SAClDszH,EAAsB1jI,GAAO,CAAEmQ,MAAOC,EAAQA,WAC9CuzH,EAAiBL,GAAM,CAAElzH,WACzBwzH,EAAahG,GACjBtB,GACEA,GACEgB,GAASmG,EAAmB56E,GAC5By0E,GAASoG,EAAqBF,IAEhCG,IAIEE,EAAmB7jI,GAAO,CAAEoQ,SAAQD,MAAO04C,EAAMz4C,SACjD0zH,EAAqB9jI,GAAO,CAAEmQ,MAAOC,EAAQA,WAC7C2zH,EAAgBT,GAAM,CAAElzH,WACxB4zH,EAAYpG,GAChBtB,GACEA,GACEgB,GAASuG,EAAkBh7E,GAC3By0E,GAASwG,EAAoBN,IAE/BO,IAIEE,EAAcjkI,GAAO,CAAEoQ,SAAQD,MAAO04C,EAAMz4C,SAC5C8zH,EAAgBlkI,GAAO,CAAEmQ,MAAOC,EAAQA,WACxC+zH,EAAWb,GAAM,CAAElzH,WACnBg0H,EAAOhB,GACX9G,GACEA,GACEgB,GAAS2G,EAAap7E,GACtBy0E,GAAS4G,EAAexB,GAAgBsB,EAAWR,KAErDW,IAMJ,OAAO7H,GACLoG,GACEpG,GACEwG,GAAK,CAAE3yH,MAAOyzH,EAAWzzH,MAAOC,OAAQwzH,EAAWxzH,SACnDgyH,GAASwB,IAEXQ,GAEF1B,GAAgBc,EAAgBI,GAEpC,CC/DO,MAAMS,GAA2B,CACtCzb,QAAS,YAGE1iB,WAAcuzB,GAEzB71H,WAAAA,CAAYw5E,GACVgI,MAAM,IAAKi/C,MAAajnD,IAF1B,KAAAknD,aAA0C,KAGxCvgI,KAAK+qF,WACL/qF,KAAKugI,aAAe,KACpBvgI,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,QAGzC2nH,YAAAA,GACqB,IAAfh0H,KAAKoM,QACPpM,KAAKm0H,QAAUn0H,KAAKwgI,UACpBxgI,KAAKugI,aAAe3T,GAClB,SAAqC55H,GACnC,OAAOA,EAAMgN,KAAKm3E,OAAOnmE,KAE3B,CACEkmE,OAAQ,CAAC,EAAGl3E,KAAKqM,QACjBu3E,WAAW,KAMnBswC,YAAAA,CAAahN,GAEXlnH,KAAKugI,aAAgBrZ,EAAgBqZ,aAGvCpM,OAAAA,CAAQ9G,GACN,IACGt4H,MAAMC,QAAQq4H,IAAWA,aAAkBp2C,eACvB,kBAAdo2C,EAAO,IACdA,EAAO/+H,SAAW0R,KAAKqM,OAASrM,KAAKoM,MAErC6gH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAUmI,EAAYK,EAAoB,CAACrtH,KAAKoM,MAAOpM,KAAKqM,aAC5D,KACLtX,MAAMC,QAAQq4H,IACdA,EAAO/+H,SAAW0R,KAAKqM,UACtBtX,MAAMC,QAAQq4H,EAAO,KAAOA,EAAO,aAAcp2C,eAClDo2C,EAAO,GAAG/+H,SAAW0R,KAAKoM,MAI1B,MAAM,IAAI/a,MAAM,qCAFhB2O,KAAK6kH,QAAUxoF,GAAMgxF,IAMzBmT,SAAAA,CAAUnT,GACJrtH,KAAK6kH,SAASoI,EAAQjtH,KAAK6kH,SAC3B7kH,KAAKugI,aACPvgI,KAAK6kH,QAAU7kH,KAAKugI,aAAalT,GAEjCrtH,KAAK6kH,QAAUwI,EAInB34F,OAAAA,IAIA2/F,KAAAA,GAAK,WAGSvvE,GAAMu0B,GACpB,OAAO,IAAI8oB,GAAM9oB,EACnB,UCvEgBonD,GAEdpT,GAEA,OAAO5mE,EAAS4mE,EAAOrtH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACpD,UAEgB6vI,GAEdrT,GAEA,OAAO5mE,EAAS4mE,EAAOrtH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnE,UAEgB8vI,GAEd9b,EACAE,GAEA,OAAOr+D,EACLm+D,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnCk0H,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAEtC,UAEgB+vI,GAEd/b,EACAE,GAEA,OAAOr+D,EACLm+D,EAAQ7kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAClDk0H,EAAO/kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAErD,OAEagwI,WAAkBpM,GAC7BT,YAAAA,GACE,MAAM,MAAE5nH,EAAK,OAAEC,EAAM,MAAEysC,GAAU94C,KAAK00H,WAClC10H,KAAK84C,MAAQ,GACf94C,KAAK4zH,cAAgBhH,EAAW8T,GAAW,CACzCxpD,OAAQ,CAAC9qE,EAAOC,EAAQysC,GACxBytB,UAAW,CAAC9f,GACZm9B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAWgU,GAAW,CACzC1pD,OAAQ,CAAC9qE,EAAOC,EAAQysC,GACxBytB,UAAW,CAAC7f,GACZk9B,WAAW,MAGb5jF,KAAK4zH,cAAgBhH,EAAW6T,GAAW,CACzCvpD,OAAQ,CAAC9qE,EAAOC,GAChBk6D,UAAW,CAAC9f,GACZm9B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW+T,GAAW,CACzCzpD,OAAQ,CAAC9qE,EAAOC,GAChBk6D,UAAW,CAAC7f,GACZk9B,WAAW,KAKjBuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,SAIpBnwF,OAAAA,GACE,MAAM,OAAEqwF,GAAW/kH,KACnBA,KAAK+kH,OAAU/kH,KAAK6zH,cAClB7zH,KAAK6kH,QACLE,GAEFkI,EAAQlI,aAII+b,GACdpM,EACAr7C,GAEA,OAAO,IAAIwnD,GAAUnM,EAAYr7C,EACnC,UCpFgB0nD,GACd1nD,EACAv0B,EACA26E,GAEA,MAAM,OAAEpzH,GAAWgtE,EAEnB,GAAsB,kBAAXhtE,EACT,MAAM,IAAIhb,MAAM,4BAEdouI,EAAel8B,eACjBk8B,EAAel8B,cAAc,EAAGl3F,GAGlC,MAAM20H,EAAmB/kI,GAAO,CAC9BmQ,MAAO04C,EAAMz4C,OACbA,SACA62G,IAAK,IACLzrF,GAAI,qBAEAwpG,EAAqBhlI,GAAO,CAChCmQ,MAAOC,EACPA,SACA62G,IAAK,IACLzrF,GAAI,uBAEAypG,EAAgB3B,GAAM,CAAEnzH,MAAO,EAAGC,SAAQorB,GAAI,kBAC9C0pG,EAAYtH,GAChBtB,GACEA,GACEgB,GAASyH,EAAkBl8E,GAC3By0E,GAAS0H,EAAoBxB,IAE/ByB,GAEF,CAAEzpG,GAAI,cAGF2pG,EAAoBnlI,GAAO,CAC/BmQ,MAAO04C,EAAMz4C,OACbA,SACA62G,IAAK,IACLzrF,GAAI,sBAEA4pG,EAAsBplI,GAAO,CACjCmQ,MAAOC,EACPA,SACA62G,IAAK,IACLzrF,GAAI,wBAEA6pG,EAAiB/B,GAAM,CAAEnzH,MAAO,EAAGC,SAAQorB,GAAI,mBAC/C8pG,EAAa1H,GACjBtB,GACEA,GACEgB,GAAS6H,EAAmBt8E,GAC5By0E,GAAS8H,EAAqB5B,IAEhC6B,GAEF,CAAE7pG,GAAI,eAGF+pG,EAAoBvlI,GAAO,CAC/BmQ,MAAO04C,EAAMz4C,OACbA,SACA62G,IAAK,IACLzrF,GAAI,sBAEAgqG,EAAsBxlI,GAAO,CACjCmQ,MAAOC,EACPA,SACA62G,IAAK,IACLzrF,GAAI,wBAEAiqG,EAAiBnC,GAAM,CAAEnzH,MAAO,EAAGC,SAAQorB,GAAI,mBAC/CkqG,EAAa9H,GACjBtB,GACEA,GACEgB,GAASiI,EAAmB18E,GAC5By0E,GAASkI,EAAqBhC,IAEhCiC,GAEF,CAAEjqG,GAAI,eAGFmqG,EAAgB3lI,GAAO,CAC3BmQ,MAAO04C,EAAMz4C,OACbA,SACA62G,IAAK,IACLzrF,GAAI,kBAEAoqG,EAAkB5lI,GAAO,CAC7BmQ,MAAOC,EACPA,SACA62G,IAAK,IACLzrF,GAAI,oBAEAqqG,EAAavC,GAAM,CAAEnzH,MAAO,EAAGC,SAAQorB,GAAI,eAC3CsqG,EAAS1C,GACb9G,GACEA,GACEgB,GAASqI,EAAe98E,GACxBy0E,GAASsI,EAAiBpC,IAE5BqC,GAEF,CAAErqG,GAAI,WAIFuqG,EAAarD,GAAgB4C,EAAY9B,EAAgB,CAC7DhoG,GAAI,eAEAwqG,EAAYtD,GAAgBwC,EAAWY,EAAQ,CAAEtqG,GAAI,cAI3D,OAAOknG,GAAgBgD,EAAYtC,GAHtB9G,GAAIyJ,EAAYC,EAAW,CAAExqG,GAAI,UAGC,CAAEA,GAAI,eACvD,UC3HgBy/C,GAAOmC,EAA0Bq7C,GAC/C,MAAM,OAAEroH,GAAWgtE,EACbsoD,EAAa1lI,GAAO,CACxBoQ,SACAD,MAAOsoH,EAAWroH,OAClBorB,GAAI,aACJyrF,IAAK,MAEDhsC,EAASj7E,GAAO,CAAEoQ,SAAQorB,GAAI,SAAUyrF,IAAK,MAC7Cgf,EAAsB3I,GAASoI,EAAYjN,EAAY,CAC3Dj9F,GAAI,wBAEN,OAAOzzB,GACL,CAAEyzB,GAAI,YAAa4hD,GACnBk/C,GAAI2J,EAAqBhrD,GAE7B,UCJgBirD,GAAWnvI,GACzB,OAAOA,CACT,UAEgBovI,GAAWpvI,GACzB,OAAOA,CACT,UAOgBqvI,GAEdhV,GAGA,MAAMiV,EACJtiI,KAAKm3E,OAAOtmF,EAAImP,KAAKm4E,UAAUoiD,QAAUv6H,KAAKm4E,UAAUwiD,SACpD4H,EACJviI,KAAKm3E,OAAOnmE,EAAIhR,KAAKm4E,UAAUqiD,QAAUx6H,KAAKm4E,UAAUyiD,SACpD4H,EAAqBF,EAAuBtiI,KAAKm4E,UAAU08C,YAC3D4N,EAAqBF,EAAuBviI,KAAKm4E,UAAU28C,aAC3DiG,EAAc3hI,KAAK4sD,IAAIs8E,EAAsB,GAC7CnH,EAAc/hI,KAAK4sD,IAAIu8E,EAAsB,GAC7CG,EAAYtpI,KAAK8Z,IAAIsvH,EAAoBxiI,KAAKm4E,UAAU8iD,YACxD0H,EAAYvpI,KAAK8Z,IAAIuvH,EAAoBziI,KAAKm4E,UAAUkjD,aAE9D,IAAIuH,EAAevV,EAAOrtH,KAAKm3E,OAAOC,GAAG+jD,GAAaJ,GAItD,IAAK,IAAI/pH,EAAImqH,EAAanqH,EAAI2xH,EAAW3xH,IACvC,IAAK,IAAIngB,EAAIkqI,EAAalqI,EAAI6xI,EAAW7xI,IAAK,CAC5C,MAAMi0D,EAAQuoE,EAAOrtH,KAAKm3E,OAAOC,GAAGpmE,GAAGngB,GACnCi0D,EAAQ89E,IACVA,EAAe99E,GAQrB,OAAO89E,CACT,UAUgBC,GAEd9d,EACA+d,EACAC,GAEA,MAAMC,EAAUhjI,KAAKm3E,OAAOtmF,EAAI,GAC1BoyI,EAAUjjI,KAAKm3E,OAAOnmE,EAAI,GAC1BkyH,EAAa,EAAIljI,KAAKm4E,UAAUoiD,QAChC4I,EAAa,EAAInjI,KAAKm4E,UAAUqiD,QAEhC4I,EAAehqI,KAAK4sD,IACxB,EACA5sD,KAAK0+F,MACFkrC,EAAUhjI,KAAKm4E,UAAU08C,YAAc70H,KAAKm4E,UAAUwiD,UACrDuI,IAGAG,EAAejqI,KAAK4sD,IACxB,EACA5sD,KAAK0+F,MACFmrC,EAAUjjI,KAAKm4E,UAAU28C,aAAe90H,KAAKm4E,UAAUyiD,UACtDuI,IAGAG,EAAalqI,KAAK8Z,IACtB9Z,KAAK0+F,MAAMkrC,EAAUhjI,KAAKm4E,UAAUwiD,UAAYuI,GAChDljI,KAAKm4E,UAAUorD,aAEXC,EAAapqI,KAAK8Z,IACtB9Z,KAAK0+F,MAAMmrC,EAAUjjI,KAAKm4E,UAAUyiD,UAAYuI,GAChDnjI,KAAKm4E,UAAUsrD,cAGjB,IAAI31G,EAAS,EACb,IAAK,IAAI41G,EAAQL,EAAcK,EAAQF,EAAYE,IACjD,IAAK,IAAIC,EAAQP,EAAcO,EAAQL,EAAYK,IAAS,CAC1D,MAAMC,EAAed,EAAQY,GAAOC,GAC9BE,EAAed,EAAQW,GAAOC,GAElCvqI,KAAKy3H,IAAI+S,EAAe5jI,KAAKm3E,OAAOtmF,GAAK,IACzCuI,KAAKy3H,IAAIgT,EAAe7jI,KAAKm3E,OAAOnmE,GAAK,KAEzC8c,GAAUi3F,EAAO2e,GAAOC,IAK9B,OAAO71G,CACT,CA8DO,MAAMg2G,GAA0B,CACrCpJ,QAAS,EACTJ,OAAQ,EACRzF,YAAa,EACbC,aAAc,EACdF,YAAa,SAGFmP,WAAapP,GAiExB90H,WAAAA,CAAYw5E,EAAyBq7C,GACnCrzC,MAAMhI,EAAUq7C,GAFlB,KAAA2I,iBAAmE,KAGjEr9H,KAAKq5E,SAAW,IACXA,KACA+gD,GAAU/gD,EAAUyqD,OACpBrJ,GAAWphD,EAAUyqD,KAG1B9jI,KAAK6kH,QAAUxB,EAASrjH,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACtD94C,KAAK+kH,OAASyP,GAAQx0H,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACpD94C,KAAK+qF,WAxEP,WAAIwvC,GACF,OAAOv6H,KAAKq5E,SAASkhD,QAGvB,WAAIC,GACF,OAAOx6H,KAAKq5E,SAASmhD,QAGvB,YAAIG,GACF,OAAO36H,KAAKq5E,SAASshD,SAGvB,YAAIC,GACF,OAAO56H,KAAKq5E,SAASuhD,SAGvB,SAAIxuH,GAGF,OAAOhT,KAAK0+F,MACT93F,KAAK00H,WAAWtoH,MAAwB,EAAhBpM,KAAK26H,SAAe36H,KAAK60H,aAChD70H,KAAKu6H,QACL,GAIN,UAAIluH,GAGF,OAAOjT,KAAK0/E,OACT94E,KAAK00H,WAAWroH,OAAyB,EAAhBrM,KAAK46H,SAAe56H,KAAK80H,cACjD90H,KAAKw6H,QACL,GAIN,SAAI1hF,GACF,OAAO94C,KAAKq5E,SAASu7C,YAGvB,eAAIA,GAEF,OAAO50H,KAAKq5E,SAASu7C,YAGvB,WAAIkO,GACF,OAAO9iI,KAAKq5E,SAASypD,QAGvB,WAAIA,CAAQA,GACV9iI,KAAKq5E,SAASypD,QAAUA,EAG1B,WAAIC,GACF,OAAO/iI,KAAKq5E,SAAS0pD,QAGvB,WAAIA,CAAQA,GACV/iI,KAAKq5E,SAAS0pD,QAAUA,EAiB1B/O,YAAAA,GACEh0H,KAAKq9H,iBAAmBtQ,EACtB,CACE+V,QAASV,GACTW,QAASZ,IAEXE,GACA,CACEnrD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACvCq/B,UAAW,CACT8iD,WAAYj7H,KAAK00H,WAAWtoH,MAC5BivH,YAAar7H,KAAK00H,WAAWroH,OAC7BsuH,SAAU36H,KAAK26H,SACfC,SAAU56H,KAAK46H,SACf9F,aAAc90H,KAAK80H,aACnBD,YAAa70H,KAAK60H,YAClB0F,QAASv6H,KAAKu6H,QACdC,QAASx6H,KAAKw6H,WAKpBx6H,KAAK6zH,cAAgBjH,EAAWiW,GAAS,CACvC3rD,OAAQ,CACNl3E,KAAK00H,WAAWtoH,MAChBpM,KAAK00H,WAAWroH,OAChBrM,KAAK00H,WAAW57E,OAElBq/B,UAAW,CACT8iD,WAAYj7H,KAAK00H,WAAWtoH,MAC5BivH,YAAar7H,KAAK00H,WAAWroH,OAC7Bk3H,YAAavjI,KAAKoM,MAClBq3H,aAAczjI,KAAKqM,OACnBwoH,YAAa70H,KAAK60H,YAClBC,aAAc90H,KAAK80H,aACnB6F,SAAU36H,KAAK26H,SACfC,SAAU56H,KAAK46H,SACfL,QAASv6H,KAAKu6H,QACdC,QAASx6H,KAAKw6H,WAKpBrG,OAAAA,GACE,MAAQrmG,OAAQ+2F,EAAO,QAAEie,EAAO,QAAEC,GAAa/iI,KAC5Cq9H,iBACDr9H,KAAK00H,WAAW7P,SAElB7kH,KAAK8iI,QAAUA,EACf9iI,KAAK+iI,QAAUA,EACf/iI,KAAK6kH,QAAUA,EAGjBnwF,OAAAA,GAME,MAAMupG,EAAmBj+H,KAAK00H,WAAW3P,OACzC/kH,KAAK00H,WAAW3P,OAAU/kH,KAAK6zH,cAC7B7zH,KAAK+kH,OACL/kH,KAAK8iI,QACL9iI,KAAK+iI,SAEP9V,EAAQgR,aASI56G,GAAKg2D,EAAyBq7C,GAC5C,OAAO,IAAIqP,GAAK1qD,EAAUq7C,EAC5B,OCjVasP,WAAuB/O,GAMlCp1H,WAAAA,CAAY4/H,GACVp+C,QALF,KAAAglC,OAAyB,KACzB,KAAAuN,cAAgB,KAChB,KAAAC,cAAgB,KAChB,KAAAx6C,SAAW,CAAC,EAGVr5E,KAAKy/H,eAAiBA,EACtBz/H,KAAK+qF,WAGP,SAAI3+E,GACF,OAAOpM,KAAKy/H,eAAerzH,MAG7B,UAAIC,GACF,OAAOrM,KAAKy/H,eAAepzH,OAG7B,SAAIysC,GACF,OAAO94C,KAAKy/H,eAAe3mF,MAG7B,UAAIisE,GACF,OAAO/kH,KAAKy/H,eAAe1a,OAG7B,UAAIA,CAAOA,GACT,MAAMkf,EAAuBjkI,KAAKy/H,eAAe1a,OACjD/kH,KAAKy/H,eAAe1a,OAASA,EAC7BkI,EAAQgX,GAGV,WAAIpf,GACF,OAAO7kH,KAAKy/H,eAAe5a,QAG7B,WAAIA,CAAQA,GACV,MAAMqf,EAAwBlkI,KAAKy/H,eAAe5a,QAClD7kH,KAAKy/H,eAAe5a,QAAUA,EAC9BoI,EAAQiX,GAGVn5C,QAAAA,GAEE,GADA4oC,GAAUvhI,UAAU24F,SAASv4F,KAAKwN,MAC9BA,KAAKoM,QAAUpM,KAAKy/H,eAAerzH,MACrC,MAAM,IAAI/a,MACR,GAAG2O,KAAKH,YAAYtP,oBAAoByP,KAAKoM,aAAapM,KAAKy/H,eAAe5/H,YAAYtP,eAAeyP,KAAKy/H,eAAerzH,uBAIjI,GAAIpM,KAAKqM,SAAWrM,KAAKy/H,eAAepzH,OACtC,MAAM,IAAIhb,MACR,GAAG2O,KAAKH,YAAYtP,qBAAqByP,KAAKqM,cAAcrM,KAAKy/H,eAAe5/H,YAAYtP,eAAeyP,KAAKy/H,eAAepzH,wBAKrIk3F,aAAAA,CAAcn3F,EAAeC,GAC3BrM,KAAKy/H,eAAerzH,MAAQA,EAC5BpM,KAAKy/H,eAAepzH,OAASA,EAG/B8nH,OAAAA,IAIAz/F,OAAAA,IAIA2/F,KAAAA,IAIAL,YAAAA,IAMAE,YAAAA,WCrFWiQ,WAAuBlP,GAMlCp1H,WAAAA,CAAYw5E,GACVgI,QANF,KAAAglC,OAAyB,KACzB,KAAAhtC,SAAoC,CAAC,EACrC,KAAAu6C,cAAgB,KAChB,KAAAC,cAAgB,KAIVx6C,IACFr5E,KAAKq5E,SAAW,IAAKA,IAIzBkqB,aAAAA,CAAcn3F,EAAeC,GAC3BrM,KAAKqmH,OAAS,KACdrmH,KAAKq5E,SAAW,IACXr5E,KAAKq5E,SACRjtE,QACAC,SACAw4G,QAAS0P,GAAQnoH,EAAOC,GACxB04G,OAAQwP,GAAQnoH,EAAOC,IAI3B2nH,YAAAA,IAMAE,YAAAA,IAMAC,OAAAA,IAIAz/F,OAAAA,IAIA2/F,KAAAA,CAAMnQ,GACJ,MAAQW,QAAS+Q,GAAe51H,KAChCA,KAAK6kH,QAAW7kH,KAAKqmH,OAAmBtjC,IAAI/iF,KAAMkkH,GAElD+I,EAAQ2I,aAYIwO,KACd,OAAO,IAAID,EACb,UC9DgBE,GAEdhX,GAEA,OAAOvnE,EAASunE,EAAOrtH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACpD,UAEgByzI,GAEdzf,EACAE,GAEA,OAAO9+D,EACL4+D,EAAQ7kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnCk0H,EAAO/kH,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAEtC,UAEgB0zI,GAEdlX,GAEA,OAAOvnE,EAASunE,EAAOrtH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACnE,UAEgB2zI,GAEd3f,EACAE,GAEA,OAAO9+D,EACL4+D,EAAQ7kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAClDk0H,EAAO/kH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAErD,OAEa4zI,WAAahQ,GACxBT,YAAAA,GACE,MAAM,MAAE5nH,EAAK,OAAEC,EAAM,MAAEysC,GAAU94C,KAAK00H,WAClC57E,EAAQ,GACV94C,KAAK4zH,cAAgBhH,EAAW2X,GAAW,CACzCrtD,OAAQ,CAAC9qE,EAAOC,EAAQysC,GACxBytB,UAAW,CAACzgB,GACZ89B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW4X,GAAW,CACzCttD,OAAQ,CAAC9qE,EAAOC,EAAQysC,GACxBytB,UAAW,CAACtgB,GACZ29B,WAAW,MAGb5jF,KAAK4zH,cAAgBhH,EAAWyX,GAAW,CACzCntD,OAAQ,CAAC9qE,EAAOC,GAChBk6D,UAAW,CAACzgB,GACZ89B,WAAW,IAGb5jF,KAAK6zH,cAAgBjH,EAAW0X,GAAW,CACzCptD,OAAQ,CAAC9qE,EAAOC,GAChBk6D,UAAW,CAACtgB,GACZ29B,WAAW,KAKjBuwC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,SAIpBnwF,OAAAA,GACEu4F,EAAQjtH,KAAK00H,WAAW3P,QACxB/kH,KAAK00H,WAAW3P,OAAU/kH,KAAK6zH,cAC7B7zH,KAAK6kH,QACL7kH,KAAK+kH,kBAKK2f,GAAKhQ,EAAoBr7C,GACvC,OAAO,IAAIorD,GAAK/P,EAAYr7C,EAC9B,UCnFgBsrD,GACdtrD,EACAv0B,EACA26E,GAEA,MAAM,OAAEpzH,GAAWgtE,EAEnB,GAAsB,kBAAXhtE,EAAqB,MAAM,IAAIhb,MAAM,kBAC5CouI,EAAel8B,eACjBk8B,EAAel8B,cAAc,EAAGl3F,GAIlC,MAAM05C,EAAS9pD,GAAO,CACpBw7B,GAAI,SACJprB,SACAD,MAAO04C,EAAMz4C,OACb62G,IAAK,MAGDxtG,EAAazZ,GAAO,CACxBw7B,GAAI,aACJprB,SACAD,MAAOC,EACP62G,IAAK,MAGDmJ,EAAOkT,GAAM,CAAE9nG,GAAI,OAAQprB,WAEjC,OAAOq4H,GACLnM,GACEA,GAAIgB,GAASxzE,EAAQjB,GAAQy0E,GAAS7jH,EAAY+pH,IAClDpT,GAGN,OCtCauY,WAAmBjR,GAE9B9zH,WAAAA,CAAYw5E,EAA0Bq7C,GACpCrzC,MAAMhI,GACNr5E,KAAK00H,WAAaA,EAClB10H,KAAK+qF,WAGPopC,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAUxoF,GAAMr8B,KAAK00H,WAAW7P,SAGvCwP,KAAAA,cAecwQ,GACdxrD,EACAq7C,GAEA,OAAO,IAAIkQ,GAAWvrD,EAAUq7C,EAClC,UCJgBoQ,GAEdzX,GAEA,IAAI0X,GAAW,IACf,IAAK,IAAI/zH,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAUkjD,YAAarqH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU8iD,WAAYpqI,IAAK,CAClD,MAAMi0D,EAAQuoE,EAAOr8G,GAAGngB,GACpBi0D,EAAQigF,IACVA,EAAWjgF,GAIjB,OAAOigF,CACT,UAEgBC,GAEd3X,GAEA,IAAI0X,GAAW,IACf,IAAK,IAAI3tD,EAAI,EAAGA,EAAIp3E,KAAKm4E,UAAUmjD,WAAYlkD,IAC7C,IAAK,IAAIpmE,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAUkjD,YAAarqH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU8iD,WAAYpqI,IAAK,CAClD,MAAMi0D,EAAQuoE,EAAOj2C,GAAGpmE,GAAGngB,GACvBi0D,EAAQigF,IACVA,EAAWjgF,GAKnB,OAAOigF,CACT,UAagBE,GAEd5X,GAEA,IAAI5K,EAAM,EACV,IAAK,IAAIzxG,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAUkjD,YAAarqH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU8iD,WAAYpqI,IAC7C4xH,GAAO4K,EAAOr8G,GAAGngB,GAGrB,OAAO4xH,CACT,UAEgByiB,GAEd7X,GAEA,IAAI5K,EAAM,EACV,IAAK,IAAIrrC,EAAI,EAAGA,EAAIp3E,KAAKm4E,UAAUmjD,WAAYlkD,IAC7C,IAAK,IAAIpmE,EAAI,EAAGA,EAAIhR,KAAKm4E,UAAUkjD,YAAarqH,IAC9C,IAAK,IAAIngB,EAAI,EAAGA,EAAImP,KAAKm4E,UAAU8iD,WAAYpqI,IAC7C4xH,GAAO4K,EAAOj2C,GAAGpmE,GAAGngB,GAI1B,OAAO4xH,CACT,UAEgB0iB,GAEd9X,EACA0X,GAEA,OAAO3rI,KAAKgtD,IAAIinE,EAAOrtH,KAAKm3E,OAAOtmF,GAAKk0I,EAAS,GACnD,UAUgBK,GAEd/X,EACA0X,GAEA,OAAO3rI,KAAKgtD,IACVinE,EAAOrtH,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAAKk0I,EAAS,GAEnE,UAUgBM,GAEdC,EACAC,GAEA,OAAOD,EAAatlI,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAAK00I,EAAgB,EACtE,UAEgBC,GAEdF,EACAC,GAEA,OACED,EAAatlI,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GACvD00I,EAAgB,EAEpB,UAcgBE,GAEdzhI,EACAshI,GAEA,IAAII,EAAY,EAKhB,OAJc1lI,KAAKm3E,OAAOtmF,EAAImP,KAAKm3E,OAAOnmE,EAAIhR,KAAKk3E,OAAOrmF,IAC5CmT,IACZ0hI,EAAY,KAELA,EAAYJ,EAAatlI,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAC/D,UAEgB80I,GAEd3hI,EACAshI,GAEA,IAAII,EAAY,EAQhB,OANE1lI,KAAKm3E,OAAOtmF,EACZmP,KAAKm3E,OAAOnmE,EAAIhR,KAAKk3E,OAAOrmF,EAC5BmP,KAAKm3E,OAAOC,EAAIp3E,KAAKk3E,OAAOrmF,EAAImP,KAAKk3E,OAAOlmE,IAChChN,IACZ0hI,EAAY,KAGZA,EAAYJ,EAAatlI,KAAKm3E,OAAOC,GAAGp3E,KAAKm3E,OAAOnmE,GAAGhR,KAAKm3E,OAAOtmF,GAEvE,OAQa+0I,WAAgB1Q,GAK3Br1H,WAAAA,CAAY60H,EAAoBr7C,GAC9BgI,MAAMqzC,EAAYr7C,GAFpB,KAAAjsC,OAA8B,KAG5BptC,KAAK6lI,sBAAwB,KAC7B7lI,KAAK8lI,kBAAoB,KACzB9lI,KAAK+lI,aAAe,KACpB/lI,KAAK+qF,WAED/qF,KAAK84C,MAAQ,GACf94C,KAAK6kH,QAAUxB,EAASrjH,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,OACtD94C,KAAK+kH,OAASyP,GAAQx0H,KAAKoM,MAAOpM,KAAKqM,OAAQrM,KAAK84C,QAC3C94C,KAAKqM,OAAS,GACvBrM,KAAK6kH,QAAUzB,EAASpjH,KAAKoM,MAAOpM,KAAKqM,QACzCrM,KAAK+kH,OAASwP,GAAQv0H,KAAKoM,MAAOpM,KAAKqM,UAEvCrM,KAAK6kH,QAAU1B,EAAOnjH,KAAKoM,OAC3BpM,KAAK+kH,OAASzB,EAAMtjH,KAAKoM,QAI7B4nH,YAAAA,GACE,MAAM,MAAE5nH,EAAK,OAAEC,EAAM,MAAEysC,GAAU94C,KAC7B84C,EAAQ,GACV94C,KAAK6lI,sBAAwBjZ,EAAWwY,GAAmB,CACzDluD,OAAQ,CAAC9qE,EAAOC,EAAQysC,KAE1B94C,KAAK8lI,kBAAoBlZ,EAAWoY,GAAe,CACjD9tD,OAAQ,CAAC,EAAG,EAAG,GACfiB,UAAW,CACT8iD,WAAY7uH,EACZivH,YAAahvH,EACbivH,WAAYxiF,KAGhB94C,KAAK+lI,aAAenZ,EAAWsY,GAAU,CACvChuD,OAAQ,CAAC,EAAG,EAAG,GACfiB,UAAW,CACT8iD,WAAY7uH,EACZivH,YAAahvH,EACbivH,WAAYxiF,KAGhB94C,KAAK4zH,cAAgBhH,EAAW4Y,GAAW,CACzCtuD,OAAQ,CAAC9qE,EAAOC,EAAQysC,KAE1B94C,KAAK6zH,cAAgBjH,EAAW+Y,GAAW,CACzCzuD,OAAQ,CAAC9qE,EAAOC,EAAQysC,GACxB8qC,WAAW,MAGb5jF,KAAK6lI,sBAAwBjZ,EAAWuY,GAAiB,CACvDjuD,OAAQ,CAAC9qE,EAAOC,KAElBrM,KAAK8lI,kBAAoBlZ,EAAWkY,GAAe,CACjD5tD,OAAQ,CAAC,EAAG,GACZiB,UAAW,CACT8iD,WAAY7uH,EACZivH,YAAahvH,KAGjBrM,KAAK+lI,aAAenZ,EAAWqY,GAAU,CACvC/tD,OAAQ,CAAC,EAAG,GACZiB,UAAW,CACT8iD,WAAY7uH,EACZivH,YAAahvH,KAGjBrM,KAAK4zH,cAAgBhH,EAAWyY,GAAW,CACzCnuD,OAAQ,CAAC9qE,EAAOC,KAElBrM,KAAK6zH,cAAgBjH,EAAW6Y,GAAW,CACzCvuD,OAAQ,CAAC9qE,EAAOC,GAChBu3E,WAAW,KAKjBuwC,OAAAA,GACE,MAAM6R,EAAYhmI,KAAK8lI,kBACrB9lI,KAAK00H,WAAW7P,SAEZygB,EAAgBtlI,KAAK6lI,sBACzB7lI,KAAK00H,WAAW7P,QAChBmhB,GAEIT,EAAmBvlI,KAAK+lI,aAC5BT,GAEFtlI,KAAK6kH,QAAW7kH,KAAK4zH,cACnB0R,EACAC,GAIJ7wG,OAAAA,CAAQ0/F,GACN,MAAM,OAAErP,EAAM,OAAE33E,GAAWptC,KAC3BA,KAAKotC,OAAUptC,KAAK6zH,cACjBO,EAA0B,GAC3BrP,GAEF/kH,KAAK+kH,OAAS1oF,GAAMr8B,KAAKotC,QACzB6/E,EAAQlI,GACRkI,EAAQ7/E,GAER,MAAM6wF,EAAmBj+H,KAAK00H,WAAW3P,OACzC/kH,KAAK00H,WAAW3P,OAAS1oF,GAAMr8B,KAAK+kH,QACpCkI,EAAQgR,aAIIgI,GACdvR,EACAr7C,GAEA,OAAO,IAAIusD,GAAQlR,EAAYr7C,EACjC,OCnUa6sD,WAAYvS,GAEvB9zH,WAAAA,CAAY60H,EAAoBr7C,GAC9BgI,MAAMhI,GACNr5E,KAAK00H,WAAaA,EAGpBP,OAAAA,GACElH,EAAQjtH,KAAK6kH,SACb7kH,KAAK6kH,QAAUxoF,GAAMr8B,KAAK00H,WAAW7P,SACrC7kH,KAAK+qF,WAGPspC,KAAAA,cAkBc8R,GAAIzR,EAAoBr7C,GACtC,OAAO,IAAI6sD,GAAIxR,EAAYr7C,EAC7B,UCjCgB86C,GAAmCnhI,GACjD,OAAOA,EAAMgN,KAAKm3E,OAAOtmF,GAAGmP,KAAKm3E,OAAOnmE,EAC1C,CAEA,MAAM0jB,GAAUy/F,SAEHiS,WAAkBlR,GAC7B,SAAI9oH,GACF,OAAOpM,KAAK00H,WAAWroH,OAGzB,UAAIA,GACF,OAAOrM,KAAK00H,WAAWtoH,MAGzBvM,WAAAA,CAAY60H,GACVrzC,MAAMqzC,GACN10H,KAAK+qF,WAGPipC,YAAAA,GACEh0H,KAAK4zH,cAAgBhH,EAAWuH,GAAS,CACvCj9C,OAAQ,CAACl3E,KAAKqM,OAAQrM,KAAKoM,SAE7BpM,KAAK6zH,cAAgBjH,EAAWl4F,GAAS,CACvCwiD,OAAQ,CAACl3E,KAAKoM,MAAOpM,KAAKqM,UAI9B8nH,OAAAA,GACEn0H,KAAK6kH,QAAW7kH,KAAK4zH,cACnB5zH,KAAK00H,WAAW7P,SAIpBnwF,OAAAA,GACE10B,KAAK00H,WAAW3P,OAAU/kH,KAAK6zH,cAC7B7zH,KAAK+kH,kBAKKshB,GAAU3R,GACxB,OAAO,IAAI0R,GAAU1R,EACvB,OCAa4R,GAAa,CACxB7R,cACAQ,YACAQ,iBACAC,cACAf,UACAgB,SACAT,YACAC,YACAK,2qBChDF,MAAM+Q,GAAiBp1I,OAAOkgB,KAAK61G,aAEnBsf,GACdC,EACArR,EACAC,GAEA,IACGkR,GAAe9Z,MAAMia,GAAkBA,IAAkBD,EAAUr2I,OAEpE,OAAO,KAET,MAAMu2I,EAAUzf,GAQbuf,EAAUr2I,MACb,GAAIu2I,EAAMv0I,qBAAqBk0I,GAAW3R,OAAQ,CAChD,IAAKS,EAAa,MAAM,IAAI/jI,MAAM,sBAClC,OAAO,IAAKs1I,EAAqBF,EAAWrR,GACvC,GACLuR,EAAMv0I,qBAAqBk0I,GAAW7R,YACtCkS,EAAMv0I,qBAAqBk0I,GAAWpR,SACtC,CACA,IAAKE,EAAa,MAAM,IAAI/jI,MAAM,sBAClC,OAAO,IAAKs1I,EAAyBvR,EAAaqR,GAC7C,GAAIE,EAAMv0I,qBAAqBk0I,GAAWrR,SAC/C,OAAO,IAAK0R,EAAuBF,GAC9B,GAAIE,EAAMv0I,qBAAqBk0I,GAAWnR,SAAU,CACzD,IAAKC,EAAa,MAAM,IAAI/jI,MAAM,uBAClC,IAAKgkI,EAAa,MAAM,IAAIhkI,MAAM,uBAClC,OAAO,IAAKs1I,EAAuBvR,EAAaC,EAAaoR,GACxD,GACLE,EAAMv0I,qBAAqBk0I,GAAW7Q,eACtCkR,EAAMv0I,qBAAqBk0I,GAAW5Q,YACtCiR,EAAMv0I,qBAAqBk0I,GAAW3Q,MAEtC,OAAO,IAAKgR,EAAwBF,GAC/B,GAAIE,IAAUnR,GAAQ,CAC3B,IAAKJ,EAAa,MAAM,IAAI/jI,MAAM,sBAClC,OAAO,IAAKs1I,EAAqBF,EAAWrR,GAE9C,OAAO,IACT,CCoBO,MAAMwR,GAAgC,CAC3C1iB,aAAc,GACdP,aAAc,GACdoQ,WAAYA,CACV+B,EACAz8C,WAEA,OAAAs+C,GACE7B,EACiC,QADpBrV,EACbqV,EAAcz8C,SAASo6C,kBAAU,IAAAhT,EAAAA,EAAIpnC,EACtC,GAGQwtD,GAA6C,CACxD/iB,WAAY,IACZC,YAAa,KACbprH,KAAK,EACLqrH,UAAW,GACXE,aAAc,GACdE,eAAgB,GAChBa,mBAAoB,IACpBnE,QAASn2E,WAWEm8F,GA0FXjnI,WAAAA,GAA6C,IAAjCkC,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA+B,CAAC,EAZ5C,KAAAo2H,UAAkD,CAAC,EAEnD,KAAAwH,OAA0B,KAC1B,KAAA8a,YAA6B,KAC7B,KAAAC,cAAiC,KACjC,KAAAC,aAA8B,KAC9B,KAAAC,OAA0B,KAC1B,KAAAC,iBAA4C,KAC5C,KAAAjiB,YAAkC,KAClC,KAAAC,kBAAmC,KACnC,KAAAC,aAAmC,KACnC,KAAAC,mBAAoC,KAElCrlH,KAAK+B,QAAU,IAAK6kI,MAAa7kI,GACjC/B,KAAKonI,uBAAuB,IACvBP,MACA9kI,IA1FP,+BAAOslI,CACLtlI,GAEA,MAAM,WACJ+hH,EAAU,YACVC,EAAW,IACXprH,EAAG,UACHqrH,EAAS,aACTE,EAAY,SACZj3F,EAAQ,eACRm3F,EAAc,QACdtD,GACE/+G,EAIE8lH,EAA2B,CAC/B/D,WAAYA,IAA4B,kBAAfA,GAA2BA,EAAa,EACjEC,YAAaA,IACY,kBAAhBA,GAA4BA,EAAc,GAAKA,EAAc,EACtEprH,IAAKA,IAAqB,oBAARA,GAAqC,mBAARA,EAC/CqrH,UAAWA,IAA2B,kBAAdA,GAA0BA,EAAY,EAC9DE,aAAcA,IACY,kBAAjBA,GACPA,EAAe,GACfA,EAAe,EACjBj3F,SAAUA,IAA0B,oBAAbA,GAAwC,OAAbA,EAClDm3F,eAAgBA,IACY,kBAAnBA,GAA+BA,EAAiB,EACzDtD,QAASA,IAAyB,kBAAZA,GAAwBA,EAAU,GAE1D3vH,OAAOkgB,KAAKw1H,IAAexnH,SAAS1T,IAClC,GAAIk8G,EAAY1wH,eAAewU,KAASk8G,EAAYl8G,KAAQ,CAC1D,MAAMi4D,EAAM7hE,EAAQ4J,GACpB,MAAM,IAAIta,MACR,IAAIsa,OACC,OAAHi4D,QAAG,IAAHA,EAAAA,EAAO,aACP1nE,0FAUVorI,aAAAA,CAAc3uI,GAEVqH,KAAKykH,UAAU9rH,IADE,oBAARA,EACYA,IACZA,GAEYi6B,QAAQj6B,IAMjCyuI,sBAAAA,CAAuBt3E,SACrB9vD,KAAKykH,UAAY,IAAKoiB,MAAkB7mI,KAAKykH,aAAc30D,GAC3Dg3E,GAAYO,yBAAyBrnI,KAAKykH,WAC1CzkH,KAAKsnI,cAAsB,QAAT7mB,EAAC3wD,EAAKn3D,WAAG,IAAA8nH,EAAAA,EAAIzgH,KAAKykH,UAAU9rH,KAC9C,MAAM,SAAEs0B,EAAQ,eAAEm3F,EAAc,mBAAEa,GAAuBjlH,KAAKykH,UAC1Dx3F,GAAYm3F,IAAmBa,GACjCryF,QAAQ8pE,KACN,yCACgB,OAAd0nB,QAAc,IAAdA,EAAAA,EAAkB,aAClBloH,uEACkB,OAAlB+oH,QAAkB,IAAlBA,EAAAA,EAAsB,aACtB/oH,iFAyBRqrI,qBAAAA,GACE,MAAM,gBAAEC,EAAe,iBAAEC,EAAgB,OAAExb,GAAWjsH,KAAK+B,QAC3D,IAAKkqH,EAAQ,MAAM,IAAI56H,MAAM,2CAC7B,GAA+B,kBAApBm2I,EACT,MAAM,IAAIn2I,MAAM,gCAClB,GAAgC,kBAArBo2I,EACT,MAAM,IAAIp2I,MAAM,gCAClB,MAAMqjI,EAAazI,EAAOub,GAC1B,IAAK9S,EACH,MAAM,IAAIrjI,MAAM,+CAElB,MAAMszH,EAAcsH,EAAOwb,GAC3B,IAAK9iB,EACH,MAAM,IAAItzH,MAAM,gDAQlB,OANA2O,KAAK+mI,YAAcrS,EACnB10H,KAAKgnI,cAAgB/a,EAAO9vH,MAC1BqrI,EACAC,EAAmBD,GAErBxnI,KAAKinI,aAAetiB,EACbsH,EAGTyb,iBAAAA,GACE,MAAM,WAAEhT,EAAU,YAAE/P,GAAgB3kH,KAAK+B,QACzC,IAAK2yH,EAAY,MAAM,IAAIrjI,MAAM,0BACjC,MAAM46H,EAAmB,GACzBjsH,KAAK+mI,YAAcrS,IACnB,MAAM1O,EAAehmH,KAAK2nI,qBAAqB3nI,KAAK+mI,aAEpD,IAAKpiB,EAAa,MAAM,IAAItzH,MAAM,2BAQlC,OAPA2O,KAAKinI,aAAetiB,EAClBqB,EAAaA,EAAa13H,OAAS,GACnC03H,EAAa13H,QAEf29H,EAAOl2H,KAAKiK,KAAK+mI,aACjB9a,EAAOl2H,QAAQiwH,GACfiG,EAAOl2H,KAAKiK,KAAKinI,cACVlP,GAAc9L,GAGvB0b,oBAAAA,CAAqBC,GACnB5nI,KAAKgnI,cAAgB,GACrB,MAAMl5G,EAAmB,IACnB,aAAEk4F,GAAiBhmH,KAAK+B,QAE9B,IAAKikH,EAAc,MAAM,IAAI30H,MAAM,4BAEnC,IAAK,IAAI7C,EAAI,EAAGA,EAAIw3H,EAAa13H,OAAQE,IAAK,CAC5C,MAAMq5I,EAAc7hB,EAAax3H,GAAGo5I,EAAep5I,GACnDs/B,EAAO/3B,KAAK8xI,GACZ7nI,KAAKgnI,cAAcjxI,KAAK8xI,GACxBD,EAAgBC,EAGlB,OAAO/5G,EAGTm4F,UAAAA,GACEjmH,KAAKisH,OAASjsH,KAAK+B,QAAQkqH,OACvBjsH,KAAKunI,wBACLvnI,KAAK0nI,oBACT1nI,KAAK8nI,iBAAiB9nI,KAAKisH,QAC3BjsH,KAAKknI,OAASlnI,KAAKisH,OAAO/oC,QAAQhY,GAAMA,aAAayqD,KAGvDmS,gBAAAA,CAAiB7b,WACf,IAAK,IAAIz9H,EAAI,EAAGA,EAAIy9H,EAAO39H,OAAQE,IAAK,CACtC,MAAM04H,EAAQ+E,EAAOz9H,GAErB04H,EAAM8M,cAAa,GAEjB9M,aAAiByO,IACA,OAAjBzO,EAAMb,QAC6B,oBAA5BrmH,KAAK+B,QAAQgyH,aAEpB7M,EAAMb,OAASrmH,KAAK+B,QAAQgyH,WAC1B7M,EACoD,QAD/C8D,EACoB,QADpBvK,EACLyG,EAAM7tC,SAASo6C,kBAAU,IAAAhT,EAAAA,EAAIzgH,KAAK+B,QAAQ0xH,kBAAU,IAAAzI,EAAAA,EAAI,CAAC,GAE3D9D,EAAMb,OAAO2N,gBAIjB,MAAM+T,EAAY9b,EAAOA,EAAO39H,OAAS,GACzC0R,KAAKmnI,iBAAmB,IAAIlU,GAAiB,CAC3C7mH,MAAO27H,EAAU37H,MACjBC,OAAQ07H,EAAU17H,SAItB02E,GAAAA,CAAIj+B,GACF,IAAIkjF,EACJ,GAAIjzI,MAAMC,QAAQ8vD,IAAWA,EAAuBszC,OAClD4vC,EAAgBljF,MACX,CACL,IAAI9kD,KAAKklH,YAOP,MAAM,IAAI7zH,MAAM,kCANhB22I,EAAgBvpB,EAAOl7D,QACrBvjD,KAAKklH,YACLpgE,EACA9kD,KAAKmlH,mBAOX,IAAIjuC,EAASl3E,KAAKwlH,SAASwiB,GAK3B,OAJI9wD,aAAkB41C,EAAAjuB,UACpB3nB,EAASA,EAAO3zB,WAGdvjD,KAAKolH,aACA3G,EAAOkB,SACZ3/G,KAAKolH,aACLluC,GAGGA,EAGTsuC,QAAAA,CAAS1gE,GACP,IAAK9kD,KAAKisH,OAAQ,MAAM,IAAI56H,MAAM,mBAClC2O,KAAKisH,OAAO,GAAGkI,QAAQrvE,GACvB,IAAK,IAAIt2D,EAAI,EAAGA,EAAIwR,KAAKisH,OAAO39H,OAAQE,IACtCwR,KAAKisH,OAAOz9H,GAAG2lI,UAEjB,OAAOn0H,KAAKisH,OAAOjsH,KAAKisH,OAAO39H,OAAS,GAAGu2H,QAG7C2D,KAAAA,CACEnzH,GACkD,IAAlD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAgD,CAAC,EAEjD,MAAM,aAAEo5H,EAAY,OAAEtsG,EAAM,QAAEitG,GAAYpoH,KAAKioI,cAAc5yI,EAAM0M,GACnE,IAAImmI,GAAkB,EACtB,MAAMC,EAAiBA,IACrBnoI,KAAKooI,wBAAwB3gB,GACzBS,EAAgBA,IAAYloH,KAAKqoI,eAAe5gB,GACtD,KAAOygB,GACLA,EAAkBloI,KAAKsoI,cACrBntH,EACAitG,EACA+f,EACAjgB,GAGJ,OAAO/sG,EAGT,gBAAMstG,CACJpzH,GACkD,IAAlD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAgD,CAAC,EAEjD,MAAM,aAAEo5H,EAAY,OAAEtsG,EAAM,QAAEitG,GAAYpoH,KAAKioI,cAAc5yI,EAAM0M,GAEnE,aAAa,IAAIgkC,SAAQ,CAACnjB,EAASojB,KACjC,IACE,MAAMmiG,EAAiBA,IACrBnoI,KAAKooI,wBAAwB3gB,GACzBS,EAAgBA,IAAYloH,KAAKqoI,eAAe5gB,GAChDiB,EAAoB,IAAIC,EAAApI,KAC5B,IAAIxrH,MAAMiL,KAAKykH,UAAUX,YACzB,CACE7C,OAAO,EACPN,KAAMA,IACJ3gH,KAAKsoI,cACHntH,EACAitG,EACA+f,EACAjgB,IACGQ,EAAYvH,OACnB3hG,KAAMA,IAAMoD,EAAQzH,KAGxButG,EAAY7H,OACZ,MAAO+H,GACP5iF,EAAO4iF,OAKb0f,aAAAA,CACEntH,EACAitG,EACA+f,EACAjgB,GAEA,MAAM,UAAEzD,GAAczkH,KACtB,QACEmb,EAAO2oG,YAAeW,EAAUX,YAChC3oG,EAAOP,OAAU6pG,EAAUV,aAC3Bh8G,KAAKnQ,OAASwwH,KAMW,oBAAlB3D,EAAU9rH,KACjBwiB,EAAO2oG,WAAcW,EAAUT,YAAyB,GAExD7oG,EAAOP,MAAQutH,IACf1jB,EAAU9rH,IACR,eAAewiB,EAAO2oG,+BAA+B3oG,EAAOP,UAG9DO,EAAO2oG,WAAcW,EAAUQ,qBAC/B,EAEA9pG,EAAOP,MAAQutH,IAEfjgB,IAIAzD,EAAUx3F,UACV9R,EAAO2oG,WAAcW,EAAUL,iBAA8B,GAE7DK,EAAUx3F,SAAS97B,OAAOD,OAAOiqB,IAGnCA,EAAO2oG,cACA,GAGTmkB,aAAAA,CACE5yI,EACA0M,GAEA/B,KAAKonI,uBAAuBrlI,GAE5B,MAAMwmI,EAAgBvoI,KAAKsoH,WAAWjzH,GAChC+yH,EAAUpoH,KAAKykH,UAAU3D,QAC3B/4G,KAAKnQ,MAAQoI,KAAKykH,UAAU3D,QAC5B,EAEE3lG,EAAS,CACbP,MAAO,EACPkpG,WAAY,GAKd,OAFA9jH,KAAKwnH,sBAEE,CACLC,aAAcznH,KAAKwoI,aAAaD,GAChCptH,SACAitG,WAIJZ,mBAAAA,GACOxnH,KAAKknI,QACRlnI,KAAKimH,aAITmiB,uBAAAA,CAAwB3gB,GACtB,IAAIhF,EAAmC,IAAIxrC,aAAa,CAAC,IACzD,MAAMkwD,EAAmBnnI,KAAKmnI,iBAC9B,IAAK,IAAI34I,EAAI,EAAGA,EAAIi5H,EAAan5H,SAAUE,EAAG,CAC5C,MAAM2gI,EAAU1M,EACV7nG,EAAQ5a,KAAKyoI,cACjBhhB,EAAaj5H,GAAGs2D,MAChB2iE,EAAaj5H,GAAG0oF,QAChB,GAEFurC,EAAM0kB,EAAiBjpI,IAAIukH,EAAK7nG,GAChCqyG,EAAQryG,GACRqyG,EAAQkC,GAEV,MAAMrhG,EAASq5G,EAAiB5T,OAAO9L,EAAan5H,OAAQm0H,GAE5D,GADAwK,EAAQxK,GACJ30F,aAAkBg/F,EAAAjuB,QAAS,CAC7B,MAAM6pC,EAAwB56G,EAAOy1B,UAErC,OADA0pE,EAAQn/F,GACD46G,EAAY,GAErB,OAAQ56G,EAAoB,GAO9Bu6G,cAAAA,CAAehzI,GACb,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EACjCwR,KAAKyoI,cAAcpzI,EAAK7G,GAAGs2D,MAAOzvD,EAAK7G,GAAG0oF,QAAQ,GAItDuxD,aAAAA,CACE3jF,EACA9gD,EACA6kH,SASA,GANA7oH,KAAKwlH,SAAS1gE,GAGd9kD,KAAK2oI,iBAAiB3kI,GACtBhE,KAAK8oH,gBAEDD,EAAc,CAChB,KAAsB,QAAlBpI,EAACzgH,KAAKinI,oBAAY,IAAAxmB,OAAA,EAAAA,EAAErzE,QACtB,MAAM,IAAI/7C,MAAM,kCAElB,OAAQ2O,KAAKmnI,iBAAsChU,UACjDnzH,KAAKinI,aAAa75F,QAGtB,OAAO,KAGTu7F,gBAAAA,CAAiB3kI,GACf,MAAMioH,EAASjsH,KAAKisH,OACpB,IAAK,IAAIz9H,EAAIy9H,EAAO39H,OAAS,EAAGE,GAAK,EAAGA,IACtCy9H,EAAOz9H,GAAGkmC,QAAQ1wB,GAOtB8kH,aAAAA,GACE,MAAMoe,EAASlnI,KAAKknI,OACpB,IAAK,IAAI14I,EAAI,EAAGA,EAAI04I,EAAO54I,OAAQE,IACjC04I,EAAO14I,GAAG6lI,MAAMr0H,KAAKykH,UAAUP,cASnCoE,UAAAA,CACEjzH,GAIA,IAAKN,MAAMC,QAAQK,GAAO,CAExB,MAAMuzI,EAAM,GACZA,EAAI7yI,KAAKV,GACTA,EAAOuzI,EAIT,MAAMC,EAAkBxzI,EAAK,GAAGyvD,MAChC,IAAIyjF,EACJ,IACExzI,MAAMC,QAAQK,IACbN,MAAMC,QAAQ6zI,IACbA,aAA2B5xD,aAkB7BsxD,EAAgBlzI,MAjBhB,CACA,IAAK2K,KAAKklH,YAAa,CACrB,MAAM4jB,EAAc,IAAIvmB,EAAYltH,EAAM,SAC1C2K,KAAKklH,YAAc4jB,EAAY7pB,MAC/Bj/G,KAAKmlH,kBAAoB2jB,EAAYx6I,OAEvCi6I,EAAgBlzI,EAAKyxB,KAAKiiH,IAQjB,CAAEjkF,MALK25D,EAAOl7D,QACnBvjD,KAAKklH,YACL6jB,EAAWjkF,MACX9kD,KAAKmlH,sBAGNnlH,MAKL,MAAMgpI,EAAmB3zI,EAAK,GAAG6hF,OACjC,IACGniF,MAAMC,QAAQg0I,MACbA,aAA4B/xD,cAC9B,CACA,IAAKj3E,KAAKolH,aAAc,CACtB,MAAM0jB,EAAc,IAAIvmB,EAAYltH,EAAM,UAC1C2K,KAAKolH,aAAe0jB,EAAY7pB,MAChCj/G,KAAKqlH,mBAAqByjB,EAAYx6I,OAExCi6I,EAAgBlzI,EAAKyxB,KACnB,CAACiiH,EAAYtzI,KACX,MAAMsxB,EAAQ03F,EAAOl7D,QACnBvjD,KAAKolH,aACL2jB,EAAW7xD,OACXl3E,KAAKmlH,mBAEP,MAAO,CACLrgE,MAAOyjF,EAAc9yI,GAAOqvD,MAC5BoyB,OAAQnwD,EACT,GAEH/mB,MAGJ,OAAOuoI,EAGTC,YAAAA,CACED,GAEA,MAAMU,EAAkB,IAAIl0I,MAAMwzI,EAAcj6I,QAC1C46I,EAAgBtc,GACpB,SAAU55H,GACR,OAAOA,EAAMgN,KAAKm3E,OAAOtmF,KAE3B,CACEqmF,OAAQ,CAACqxD,EAAc,GAAGzjF,MAAMx2D,QAChCs1F,WAAW,IAGTulD,EAAiBvc,GACrB,SAAqC55H,GACnC,OAAOA,EAAMgN,KAAKm3E,OAAOtmF,KAE3B,CACEqmF,OAAQ,CAACqxD,EAAc,GAAGrxD,OAAO5oF,QACjCs1F,WAAW,IAIf,IAAK,IAAIp1F,EAAI,EAAGA,EAAI+5I,EAAcj6I,OAAQE,IAAK,CAC7C,MAAM46I,EAAiBb,EAAc/5I,GACrCy6I,EAAgBz6I,GAAK,CACnBs2D,MAAOokF,EAAcE,EAAetkF,OACpCoyB,OAAQiyD,EAAeC,EAAelyD,SAG1C,OAAO+xD,EAaTrqI,IAAAA,GACE,MAAM,IAAIvN,MAAM,GAAG2O,KAAKH,YAAYtP,oCAMtC0nF,MAAAA,SAIE,GAHKj4E,KAAKisH,QACRjsH,KAAKimH,cAGJjmH,KAAKknI,SACLlnI,KAAKisH,SACLjsH,KAAK+mI,cACL/mI,KAAKgnI,gBACLhnI,KAAKinI,aAEN,MAAM,IAAI51I,MAAM,8BAElB,MAAM26H,EAAa,GACnB,IAAK,IAAIx9H,EAAI,EAAGA,EAAIwR,KAAKisH,OAAO39H,OAAQE,IAAK,CAC3C,MAAM04H,EAAQlnH,KAAKisH,OAAOz9H,GACpBi4I,EAAYvf,EAAMjvC,SACpBivC,EAAM/vH,eAAe,cACvBsvI,EAAUe,gBAAkBxnI,KAAKisH,OAAOx6H,QACtCy1H,EAAMwN,YAGRxN,EAAM/vH,eAAe,gBACrB+vH,EAAM/vH,eAAe,iBAErBsvI,EAAU4C,iBAAmBrpI,KAAKisH,OAAOx6H,QACvCy1H,EAAMkO,aAERqR,EAAU6C,iBAAmBtpI,KAAKisH,OAAOx6H,QACvCy1H,EAAMmO,cAGVrJ,EAAWj2H,KAAK0wI,GAGlB,MAAO,CACLr2I,KAAM4P,KAAKH,YAAYtP,KACvBm0H,MACoB,QADfjE,EACHzgH,KAAK+B,QAAQ2iH,aAAK,IAAAjE,EAAAA,EAClB,CAACzgH,KAAK+mI,YAAY16H,QACfygB,OAAO9sB,KAAKgnI,cAAclgH,KAAKokD,GAAMA,EAAE7+D,UACvCygB,OAAO,CAAC9sB,KAAKinI,aAAa56H,SAC/Bo7H,iBAAkBznI,KAAKisH,OAAOx6H,QAAQuO,KAAKinI,cAC3Chb,OAAQD,EACRwb,gBAAiBxnI,KAAKisH,OAAOx6H,QAAQuO,KAAK+mI,cAI9C,eAAOl/C,CACL/B,EACAyjD,eAMA,MAAMvd,EAAalmC,EAAKmmC,OAClBA,EAAmB,GACnByI,EAAa6U,EACa,QADL,EACvB/C,GAAcxa,EAAW,WAAG,IAAAvL,EAAAA,EAAI8oB,EAASvd,EAAW,IACpDwa,GAAcxa,EAAW,IAE7B,IAAK0I,EAAY,MAAM,IAAIrjI,MAAM,wBAEjC46H,EAAOl2H,KAAK2+H,GAEZ,IAAK,IAAIlmI,EAAI,EAAGA,EAAIw9H,EAAW19H,OAAQE,IAAK,CAC1C,MAAMi4I,EAAYza,EAAWx9H,GAC7B,GACuC,qBAA9Bi4I,EAAUe,iBACqB,qBAA/Bf,EAAU4C,kBACqB,qBAA/B5C,EAAU6C,iBACjB,CACA,MAAMpiB,EAAQqiB,EACc,QADN,EAClB/C,GAAcC,UAAU,IAAAzb,EAAAA,EAAIue,EAAS9C,GACrCD,GAAcC,GAClB,IAAKvf,EAAO,MAAM,IAAI71H,MAAM,wBAC5B46H,EAAOl2H,KAAKmxH,QACP,GAAyC,kBAA9Buf,EAAUe,gBAA8B,CACxD,MAAM9S,EAAazI,EAAOwa,EAAUe,iBACpC,IAAK9S,EACH,MAAM,IAAIrjI,MAAM,yBAElB,MAAM61H,EAAQqiB,EAC0B,QADlB,EAClB/C,GAAcC,EAAW/R,UAAW,IAAAgI,EAAAA,EACpC6M,EAAS9C,EAAW/R,GACpB8R,GAAcC,EAAW/R,GAC7B,IAAKxN,EAAO,MAAM,IAAI71H,MAAM,wBAC5B46H,EAAOl2H,KAAKmxH,OACP,CACL,GAA0C,kBAA/Buf,EAAU4C,iBACnB,MAAM,IAAIh4I,MACR,2EAGJ,GAA0C,kBAA/Bo1I,EAAU6C,iBACnB,MAAM,IAAIj4I,MACR,2EAGJ,MAAM+jI,EAAcnJ,EAAOwa,EAAU4C,kBAC/BhU,EAAcpJ,EAAOwa,EAAU6C,kBAErC,QAAoB/1D,IAAhB6hD,EACF,MAAM,IAAI/jI,MACR,4DAA4Do1I,EAAU4C,+BAE1E,QAAoB91D,IAAhB8hD,EACF,MAAM,IAAIhkI,MACR,4DAA4Do1I,EAAU6C,+BAG1E,MAAMpiB,EAAQqiB,EACwC,QADhC,EAClB/C,GAAcC,EAAWrR,EAAaC,UAAY,IAAAmU,EAAAA,EAClDD,EAAS9C,EAAWrR,EAAaC,GACjCmR,GAAcC,EAAWrR,EAAaC,GAE1C,IAAKnO,EAAO,MAAM,IAAI71H,MAAM,wBAC5B46H,EAAOl2H,KAAKmxH,IAIhB,OAAO,IAAIlnH,KAAK,IAAK8lF,EAAMmmC,WAO7BC,UAAAA,GACE,MAAM,IAAI76H,MACR,GAAG2O,KAAKH,YAAYtP,oDCnxBVk5I,GAMd3kF,EACA4kF,GAEA,IAAKA,EACH,MAAM,IAAIC,UACR,8CAA8CD,4CAIlD,MAAMxyD,EAASwyD,EAAI3mD,IAAIj+B,GACvB,IAAI8kF,EAAU,KACV5D,GAAY,EAahB,OAXA70I,OAAO04I,QAAQ3yD,GAAoB73D,SAAQyqH,IAAa,IAAXn+H,EAAK3Y,GAAM82I,EAEnC,qBAAV92I,GACU,kBAAVA,GACPA,EAAQgzI,IAER4D,EAAUj+H,EACVq6H,EAAWhzI,MAIR42I,CACT,OC7BaG,WAA4B9U,GAAzCp1H,WAAAA,uBACE,KAAAw5E,SAA2B,CAAC,EAC5B,KAAA6tC,MAAuB,KACvB8iB,QAAAA,CAAS9iB,GACPlnH,KAAKknH,MAAQA,EAGf,SAAI96G,GACF,IAAKpM,KAAKknH,MAAO,MAAM,IAAI71H,MAAM,iBACjC,OAAO2O,KAAKknH,MAAM96G,MAGpB,SAAIA,CAAMpZ,GACR,MAAM,IAAI3B,MAAM,GAAG2O,KAAKH,YAAYtP,qCAGtC,UAAI8b,GACF,IAAKrM,KAAKknH,MAAO,MAAM,IAAI71H,MAAM,iBACjC,OAAO2O,KAAKknH,MAAM76G,OAGpB,UAAIA,CAAOrZ,GACT,MAAM,IAAI3B,MAAM,GAAG2O,KAAKH,YAAYtP,sCAGtC,UAAIw0H,GACF,IAAK/kH,KAAKknH,MAAO,MAAM,IAAI71H,MAAM,iBACjC,OAAO2O,KAAKknH,MAAMnC,OAGpB,UAAIA,CAAOA,GACT,IAAK/kH,KAAKknH,MAAO,MAAM,IAAI71H,MAAM,iBACjC47H,EAAQjtH,KAAKknH,MAAMnC,QACnB/kH,KAAKknH,MAAMnC,OAASA,EAGtB,WAAIF,GACF,IAAK7kH,KAAKknH,MAAO,MAAM,IAAI71H,MAAM,iBACjC,OAAO2O,KAAKknH,MAAMrC,QAGpB,WAAIA,CAAQA,GACV,IAAK7kH,KAAKknH,MAAO,MAAM,IAAI71H,MAAM,iBACjC47H,EAAQjtH,KAAKknH,MAAMrC,SACnB7kH,KAAKknH,MAAMrC,QAAUA,EAGvBsP,OAAAA,IAIAz/F,OAAAA,IAIA2/F,KAAAA,GACE,MAAM,IAAIhjI,MAAM,mBAGlB2iI,YAAAA,IAMAE,YAAAA,WCfW+V,WAEHnD,GAWRjnI,WAAAA,GAKEwhF,MAJAhzF,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAkE,CAAC,GAXrE,KAAAo2H,UAAuC,CAAC,EAIxC,KAAAylB,kBAAgD,KAChD,KAAAC,WAAyB,GACzB,KAAAC,0BAAsC,GACtC,KAAAlD,OAA0B,KAW1BmD,cAAAA,GAKE,IAAKrqI,KAAK+B,QAAQ2yH,WAChB,MAAM,IAAIrjI,MAAM,wBAElB,IAAK2O,KAAK+B,QAAQ4iH,YAChB,MAAM,IAAItzH,MAAM,yBAElB,MAAMqjI,EAAa10H,KAAK+B,QAAQ2yH,aAC1B1O,EAAehmH,KAAK2nI,qBAAqBjT,GAK/C,MAAO,CACLA,aACA1O,eACArB,YAPkB3kH,KAAK+B,QAAQ4iH,YAC/BqB,EAAaA,EAAa13H,OAAS,IAClC,IASLg8I,kBAAAA,GACE,MAAMre,EAAmB,GACnBse,EAAiBvqI,KAAKmqI,WAAWnqI,KAAKmqI,WAAW77I,OAAS,GAChE,IAAIk8I,EAA6B,EAEjC,SAASC,EAAe/V,GACtB,MAAMj/H,EAAQ80I,EAAe94I,QAAQijI,GACrC,GAAIj/H,EAAQ,EAAG,MAAM,IAAIpE,MAAM,wBAC/B,OAAO46H,EAAOx2H,GAGhB,SAASi1I,EAAcxjB,GACrB,MAAO,IACFA,EAAM7tC,SACTwrC,QAAS,KACTE,OAAQ,KACRsB,OAAQ,MAIZ,IAAK,IAAI73H,EAAI,EAAGA,EAAI+7I,EAAej8I,OAAQE,IAAK,CAC9C,MAAMo5I,EAAgB2C,EAAe/7I,GACrC,IAAI04H,EAEJ,GAAI0gB,aAAyBnT,GAC3BvN,EAAQ,IAAK0gB,EAAc/nI,YACzB4qI,EAAe7C,EAAclT,YAC7BgW,EAAc9C,SAEX,GAAIA,aAAyBlS,GAClCxO,EAAQ,IAAK0gB,EAAc/nI,YACzB6qI,EAAc9C,SAEX,GAAIA,aAAyBjT,GAClCzN,EAAQ,IAAK0gB,EAAc/nI,YACzB6qI,EAAc9C,EAAclT,YAC5B+V,EAAe7C,EAAclT,kBAE1B,GAAIkT,aAAyB3S,GAAU,CAC5C,MAAM0V,EACJJ,EACEvqI,KAAKoqI,0BAA0BI,MAEnC,GAAI5C,aAAyBmC,GAC3B,MAAM,IAAI14I,MAAM,cACX,GAAIu2I,aAAyB5D,GAClC9c,EAAQ,IAAI8c,GAAe2G,OACtB,MAAI/C,aAAyBzD,IAGlC,MAAM,IAAI9yI,MACR,gBAAgBu2I,EAAc/nI,YAAYtP,qCAH5C22H,EAAQ,IAAI8c,GAAe2G,SAMxB,GACL/C,aAAyBnS,IACzBmS,aAAyBjS,GAEzBzO,EAAQ0gB,OACH,GAAIA,aAAyB1S,GAClChO,EAAQ,IAAK0gB,EAAc/nI,YACzB4qI,EAAe7C,EAAclT,YAC7BgW,EAAc9C,EAAclT,kBAEzB,GAAIkT,aAAyBzS,GAClCjO,EAAQ,IAAK0gB,EAAc/nI,YACzB4qI,EAAe7C,EAAcxS,aAC7BqV,EAAe7C,EAAcvS,aAC7BqV,EAAc9C,QAEX,MAAIA,aAAyBpS,IAMlC,MAAM,IAAInkI,MACR,gBAAgBu2I,EAAc/nI,YAAYtP,qCAN5C22H,EAAQ,IAAK0gB,EAAc/nI,YACzB6qI,EAAc9C,GACd6C,EAAe7C,EAAclT,aAOjCzI,EAAOl2H,KAAKmxH,GAGd,OAAO+E,EAGT0b,oBAAAA,CAAqBC,GACnB,MAAM5hB,EAAe,GAErB,IAAKhmH,KAAK+B,QAAQikH,aAAc,MAAM,IAAI30H,MAAM,4BAEhD,IAAK,IAAI7C,EAAI,EAAGA,EAAIwR,KAAK+B,QAAQikH,aAAa13H,OAAQE,IAAK,CACzD,MAAMixI,EAAiB,IAAI0E,GACrB0D,EAAc7nI,KAAK+B,QAAQikH,aAAax3H,GAC5Co5I,EACAnI,EACAjxI,GAEFo5I,EAAgBC,EAChB7hB,EAAajwH,KAAK8xI,GAGpB,OAAO7hB,EAGTC,UAAAA,GAEE,IAAI2kB,EACJ,GAFA5qI,KAAKkqI,kBAAoB,IAAIH,GAEzB/pI,KAAK+B,QAAQkqH,OACf2e,EAAW5qI,KAAKunI,4BACX,CACL,MAAM,WAAE7S,EAAU,aAAE1O,EAAY,YAAErB,GAAgB3kH,KAAKqqI,iBACvDO,EAAW7S,GAAc,CAACrD,KAAe1O,EAAcrB,IACvD3kH,KAAKoqI,0BAA4BpkB,EAAal/F,KAAKokD,GACjD0/D,EAASn5I,QAAQy5E,KAEnBlrE,KAAK+mI,YAAcrS,EACnB10H,KAAKgnI,cAAgBhhB,EACrBhmH,KAAKinI,aAAetiB,EAEtB3kH,KAAKisH,OAAS2e,EACd5qI,KAAKmqI,WAAa,CAACS,GACnB5qI,KAAKknI,OAAS0D,EAAS1nD,QACpBhY,GAAMA,aAAayqD,IAASzqD,aAAauqD,KAE5Cz1H,KAAK8nI,iBAAiB8C,GAGxBC,cAAAA,GACE,MAAM5e,EAASjsH,KAAKsqI,qBACpB,IAAK,IAAI97I,EAAI,EAAGA,EAAIy9H,EAAO39H,OAAQE,IAAK,CACtC,MAAM04H,EAAQ+E,EAAOz9H,GACrB04H,EAAM8M,cAAa,GACnB9M,EAAMgN,aAAal0H,KAAKmqI,WAAW,GAAG37I,IAExCwR,KAAKmqI,WAAWp0I,KAAKk2H,GAKvBlpC,GAAAA,CAAIsqC,GACF,KAAOrtH,KAAKmqI,WAAW77I,QAAU++H,EAAO/+H,QACtC0R,KAAK6qI,iBAEP,MAAM/8G,EAAS9tB,KAAK8qI,UAAUzd,GAC9B,OAAIv/F,aAAkBg/F,EAAAjuB,QACb/wE,EAAOy1B,UAETz1B,EAGT03F,QAAAA,CAAS1gE,GACP,MAAM,IAAIzzD,MAAM,oBAGlBy5I,SAAAA,CAAUzd,GACR,KAAOrtH,KAAKmqI,WAAW77I,OAAS++H,EAAO/+H,QACrC0R,KAAK6qI,iBAEP,MAAM7kF,EAAMqnE,EAAO/+H,OAAS,EAC5B,IAAK,IAAIuC,EAAI,EAAGA,GAAKm1D,EAAKn1D,IAAK,CAC7B,MAAM+5I,EAAW5qI,KAAKmqI,WAAWt5I,GACjC+5I,EAAS,GAAGzW,QAAQ9G,EAAOx8H,IAC3B,IAAK,IAAIrC,EAAI,EAAGA,EAAIo8I,EAASt8I,OAAQE,IACnCo8I,EAASp8I,GAAG2lI,UAGhB,MAAM4W,EAAgB/qI,KAAKmqI,WAAWnkF,GAChCl4B,EAASi9G,EAAcA,EAAcz8I,OAAS,GAAGu2H,QAEvD,OADA7kH,KAAKyF,MACEqoB,EAKT06F,KAAAA,CACEnzH,GACgD,IAAhD0M,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA8C,CAAC,EAE/C,MAAM,aAAEo5H,EAAY,OAAEtsG,EAAM,QAAEitG,GAAYpoH,KAAKioI,cAAc5yI,EAAM0M,GACnE,IAAImmI,GAAkB,EACtB,MAAMC,EAAiBA,IACrBnoI,KAAKooI,wBAAwB3gB,GACzBujB,EAAeA,IAAYhrI,KAAKqoI,eAAe5gB,GACrD,KAAOygB,GACLA,EAAkBloI,KAAKsoI,cACrBntH,EACAitG,EACA+f,EACA6C,GAGJ,OAAO7vH,EAGT1V,GAAAA,GACE,MAAM5U,EAAImP,KAAKmqI,WAAW77I,OAAS,EAC7B28I,EAAejrI,KAAKmqI,WAAWt5I,GACrCo6I,EAAa,GAAG9W,QAAQ,CAAC,IAAIl9C,aAAa,CAAC,MAC3C,IAAK,IAAIzoF,EAAI,EAAGA,EAAIy8I,EAAa38I,OAAQE,IACvCy8I,EAAaz8I,GAAG2lI,UAMpBqU,YAAAA,CAAaD,GACX,OAAOA,EAKTN,aAAAA,CACE5yI,EACA0M,GAEA/B,KAAKonI,uBAAuBrlI,GAC5B,MAAMqmH,EAAUpoH,KAAKykH,UAAU3D,QAC3B/4G,KAAKnQ,MAAQoI,KAAKykH,UAAU3D,QAC5B,EAEE3lG,EAAS,CACbP,MAAO,EACPkpG,WAAY,GAKd,OAFA9jH,KAAKwnH,sBAEE,CACLC,aAAcznH,KAAKwoI,aAAanzI,GAChC8lB,SACAitG,WAMJggB,uBAAAA,CAAwB/yI,GACtB,IAAK2K,KAAKmnI,iBACR,MAAM,IAAI91I,MAAM,mCAElB,IAAIoxH,EAAoB,IAAIxrC,aAAa,GACzC,IAAK,IAAIzoF,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EAAG,CACpC,MAAM2gI,EAAU1M,EACV7nG,EAAQ5a,KAAKyoI,cAAcpzI,EAAK7G,IAAI,GAC1Ci0H,EAAMziH,KAAKmnI,iBAAiBjpI,IAAIukH,EAAK7nG,GACrCqyG,EAAQryG,GACRqyG,EAAQkC,GAEV,MAAMrhG,EAAS9tB,KAAKmnI,iBAAiB5T,OAAOl+H,EAAK/G,OAAQm0H,GAEzD,OADAwK,EAAQxK,GACJ30F,aAAkBg/F,EAAAjuB,QACA/wE,EAAOy1B,UACR,GAEbz1B,EAAoB,GAM9Bw6F,UAAAA,CAAWjzH,GACT,OAAOA,EAKTszI,gBAAAA,CAAiB3kI,GACf,MAAMinI,EAAejrI,KAAKmqI,WAAWnqI,KAAKmqI,WAAW77I,OAAS,GAE9D,IAAK,IAAIE,EAAIy8I,EAAa38I,OAAS,EAAGE,GAAK,EAAGA,IAC5Cy8I,EAAaz8I,GAAGkmC,UAGlB,IAAK,IAAI7jC,EAAImT,EAAO1V,OAAS,EAAGuC,GAAK,EAAGA,IAAK,CAC3C,MAAM+5I,EAAW5qI,KAAKmqI,WAAWt5I,GACjC+5I,EAASA,EAASt8I,OAAS,GAAGomC,QAAQ1wB,EAAOnT,EAAI,IACjD,IAAK,IAAIrC,EAAIo8I,EAASt8I,OAAS,EAAGE,GAAK,EAAGA,IACxCo8I,EAASp8I,GAAGkmC,WAKlBo0F,aAAAA,SACE,MAAMoe,EAASlnI,KAAKknI,OACpB,IAAK,IAAI14I,EAAI,EAAGA,EAAI04I,EAAO54I,OAAQE,IACjC04I,EAAO14I,GAAG6lI,MAA+B,QAA1B5T,EAACzgH,KAAK+B,QAAQmiH,oBAAY,IAAAzD,EAAAA,EAAI,GAMjD4nB,cAAAA,CAAehzI,GACb,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EACjCwR,KAAKyoI,cAAcpzI,EAAK7G,IAAI,GAMhCi6I,aAAAA,CAAcpb,EAAaxE,GAQzB,GANA7oH,KAAK8qI,UAAUzd,GAGfrtH,KAAK2oI,iBAAiBtb,GACtBrtH,KAAK8oH,gBAEDD,EAAc,CAChB,IAAK7oH,KAAKmnI,iBACR,MAAM,IAAI91I,MAAM,mCAElB,IAAIupB,EAAsB,IAAIq8D,aAAa,GAC3C,IAAK,IAAIzoF,EAAI,EAAGw3D,EAAMqnE,EAAO/+H,OAAS,EAAGE,GAAKw3D,EAAKx3D,IAAK,CACtD,MAAMo8I,EAAW5qI,KAAKmqI,WAAW37I,GAC3Bu5I,EAAY6C,EAASA,EAASt8I,OAAS,GACvC+kI,EAA0Bz4G,EAChCA,EAAQ5a,KAAKmnI,iBAAiB/T,YAC5BC,EACA0U,EAAU36F,QAEZ6/E,EAAQoG,GAEV,OAAOh3F,GAAMr8B,KAAKmnI,iBAAiB5T,OAAOlG,EAAO/+H,OAAQssB,IAE3D,OAAO,YChaEswH,GAMXrrI,WAAAA,CAAYsrI,EAAeC,GAL3B,KAAAD,KAAO,EACP,KAAAC,QAAU,EAKJD,IAAMnrI,KAAKmrI,KAAOA,GAClBC,IAASprI,KAAKorI,QAAUA,GAE5BprI,KAAK6kH,QAAUvB,EAAMtjH,KAAKmrI,KAAOnrI,KAAKorI,SACtCprI,KAAK+kH,OAASzB,EAAMtjH,KAAKmrI,KAAOnrI,KAAKorI,SAGvCC,SAAAA,CAAUvqH,EAAastC,GAGrB,MAAMk9E,EAAKtrI,KAAKorI,QAAUtqH,EAAMstC,EAEhC,GAAIk9E,EAAK,GAAKA,GAAMtrI,KAAK6kH,QAAQv2H,OAC/B,MAAM,IAAI+C,MAAM,0BAGlB,OAAO2O,KAAK6kH,QAAQymB,GAGtBC,SAAAA,CAAUzqH,EAAastC,EAAawD,GAElC,MAAM05E,EAAKtrI,KAAKorI,QAAUtqH,EAAMstC,EAEhC,GAAIk9E,EAAK,GAAKA,GAAMtrI,KAAK6kH,QAAQv2H,OAC/B,MAAM,IAAI+C,MAAM,0BAKlB,OAFA2O,KAAK6kH,QAAQymB,GAAM15E,EAEZ5xD,KAGTwrI,QAAAA,CAAS1qH,EAAastC,GAGpB,MAAMk9E,EAAKtrI,KAAKorI,QAAUtqH,EAAMstC,EAEhC,GAAIk9E,EAAK,GAAKA,GAAMtrI,KAAK+kH,OAAOz2H,OAC9B,MAAM,IAAI+C,MAAM,0BAGlB,OAAO2O,KAAK+kH,OAAOumB,GAGrBG,QAAAA,CAAS3qH,EAAastC,EAAawD,GAEjC,MAAM05E,EAAKtrI,KAAKorI,QAAUtqH,EAAMstC,EAEhC,GAAIk9E,EAAK,GAAKA,GAAMtrI,KAAK6kH,QAAQv2H,OAC/B,MAAM,IAAI+C,MAAM,0BAKlB,OAFA2O,KAAK+kH,OAAOumB,GAAM15E,EAEX5xD,KAGTi4E,MAAAA,GACE,MAAO,CACLkzD,KAAMnrI,KAAKmrI,KACXC,QAASprI,KAAKorI,QACdvmB,QAAS9vH,MAAMshF,KAAKr2E,KAAK6kH,QAAQ1oH,MAAM,KAI3C,eAAO0rF,CAAS/B,GACd,MAAMvO,EAAS,IAAI2zD,GAAOplD,EAAKqlD,KAAMrlD,EAAKslD,SAE1C,IAAK,IAAI58I,EAAI,EAAGw3D,EAAM8/B,EAAKqlD,KAAOrlD,EAAKslD,QAAS58I,EAAIw3D,EAAKx3D,IACvD+oF,EAAOstC,QAAQr2H,GAAKs3F,EAAK++B,QAAQr2H,GAGnC,OAAO+oF,EAGT,gBAAOm0D,CAAU7mB,GACf,MAAMttC,EAAS,IAAI2zD,GAAOrmB,EAAQv2H,OAAQu2H,EAAQ,GAAGv2H,QAErD,OADAipF,EAAOm0D,UAAU7mB,GACVttC,EAGTo0D,aAAAA,GACE,OAAO3rI,KAAKujD,QAAQ,UAGtBqoF,cAAAA,GACE,OAAO5rI,KAAKujD,QAAQ,WAGtBA,OAAAA,GAA8C,IAAtCsb,EAAAxwE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA6B,UACnC,MAAMy/B,EAAqB,IAAI/4B,MAAMiL,KAAKmrI,MAa1C,OAZAnrI,KAAK6rI,QAAQ,CACX/qH,IAAMgrH,IACJh+G,EAAOg+G,GAAY,IAAI/2I,MAAMiL,KAAKorI,QAAQ,EAE5C/8E,OAAQA,CAACy9E,EAAUC,KACJ,YAATltE,EACF/wC,EAAOg+G,GAAUC,GAAe/rI,KAAKqrI,UAAUS,EAAUC,GACvC,WAATltE,IACT/wC,EAAOg+G,GAAUC,GAAe/rI,KAAKwrI,SAASM,EAAUC,OAIvDj+G,EAGT49G,SAAAA,CACE3kH,GACsC,IAAtC83C,EAAAxwE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA6B,UAE7B,GAAI04B,EAAMz4B,SAAW0R,KAAKmrI,KACxB,MAAM,IAAI95I,MAAM,qBAElB,GAAI01B,EAAM,GAAGz4B,SAAW0R,KAAKorI,QAC3B,MAAM,IAAI/5I,MAAM,wBAelB,OAbA2O,KAAK6rI,QAAQ,CACXx9E,OAAQA,CAACy9E,EAAUC,KACjB,MAAM/4I,EAAQ+zB,EAAM+kH,GAAUC,GAC9B,GAAqB,kBAAV/4I,EACT,MAAM,IAAI3B,MAAM,oBAEL,YAATwtE,EACF7+D,KAAKurI,UAAUO,EAAUC,EAAa/4I,GACpB,WAAT6rE,GACT7+D,KAAKyrI,SAASK,EAAUC,EAAa/4I,MAIpCgN,KAGT6rI,OAAAA,CAAQ9vG,GAIN,MAAMovG,EAAOnrI,KAAKmrI,KACZC,EAAUprI,KAAKorI,QACrB,IAAK,IAAIU,EAAW,EAAGA,EAAWX,EAAMW,IAAY,CAC9C/vG,EAAUjb,KACZib,EAAUjb,IAAIgrH,GAEhB,IAAK,IAAIC,EAAc,EAAGA,EAAcX,EAASW,IAC3ChwG,EAAUsyB,QACZtyB,EAAUsyB,OAAOy9E,EAAUC,GAIjC,OAAO/rI,YChKEgsI,WAAqBd,GAGhCrrI,WAAAA,CAAYsrI,EAAcC,EAAiBloB,GACzC7hC,MAAM8pD,EAAMC,GAEZprI,KAAKkjH,IAAMA,EAEX,IAAK,IAAI10H,EAAI,EAAGw3D,EAAMhmD,KAAK6kH,QAAQv2H,OAAQE,EAAIw3D,EAAKx3D,IAClDwR,KAAK6kH,QAAQr2H,GAAKm0H,GAAaO,EAAKA,UCG7B+oB,GAOXpsI,WAAAA,CAAoBqzF,GAAmD,IAAhBg5C,EAAY79I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAAlD,KAAA6kG,OAAAA,EANpB,KAAAi5C,WAA+D,CAAC,EAChE,KAAAC,eAA4D,CAAC,EAC7D,KAAAC,WAAqC,GACrC,KAAAC,eAA2B,GAC3B,KAAAC,SAAU,OAGOh5D,IAAX2f,GAEJlzF,KAAKwpG,MAAMtW,EAAQg5C,GAGrB1iC,KAAAA,CAAMtW,GAAkD,IAAhBg5C,EAAY79I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EACrD,GAAI2R,KAAKusI,QAAS,MAAM,IAAIl7I,MAAM,kCAClC2O,KAAKkzF,OAASA,EAIdlzF,KAAKwsI,4BAA4Bt5C,GACjClzF,KAAKysI,YAAYP,GACZh5C,EAAO,GAAiBpuC,OAC3B9kD,KAAK0sI,iBAEP1sI,KAAK2sI,kBACL3sI,KAAKusI,SAAU,EAGjBC,2BAAAA,CAA4Bt5C,GAC1B,MAAM05C,EAAwD,CAAC,EAC/D,IACE,IAAIC,EAAqB,EAAGC,EAAsB55C,EAAO5kG,OACzDu+I,EAAqBC,EACrBD,IACA,CACA,MAAMR,EAAan5C,EAAO25C,GAO1B,GAAIR,EAAWl1I,eAAe,UAAW,CACvC,MAAM41I,EAAaV,EACnB,IACE,IAAIW,EAAiB,EAAGC,EAAmBF,EAAWz+I,OACtD0+I,EAAiBC,EACjBD,IACA,CACA,MAAME,EAAYH,EAAWC,GACzBJ,EAAoBz1I,eAAe+1I,KACvCN,EAAoBM,IAAa,EACjCltI,KAAKqsI,WAAWt2I,KAAKm3I,UAElB,GAA0B,kBAAfb,EAAyB,CACzC,GAAIO,EAAoBz1I,eAAek1I,GAAa,SACpDO,EAAoBP,IAAc,EAClCrsI,KAAKqsI,WAAWt2I,KAAKs2I,QAChB,GAA0B,mBAAfA,EAA0B,CAC1C,MAAMa,EAAYb,EAAWnwI,WAC7B,GAAI0wI,EAAoBz1I,eAAe+1I,GAAY,SACnDN,EAAoBM,IAAa,EACjCltI,KAAKqsI,WAAWt2I,KAAKm3I,QAChB,GACLn4I,MAAMC,QAAQq3I,IACW,kBAAlBA,EAAW,GAElB,IAAK,IAAI79I,EAAI,EAAGA,EAAI69I,EAAW/9I,OAAQE,IAAK,CAC1C,MAAM0+I,EAAYb,EAAW79I,GACzBo+I,EAAoBz1I,eAAe+1I,KACvCN,EAAoBM,IAAa,EACjCltI,KAAKqsI,WAAWt2I,KAAKm3I,SAElB,IACLn4I,MAAMC,QAAQq3I,IACY,kBAAlBA,EAAW,IACQ,mBAAlBA,EAAW,GAQf,KACLA,EAAWl1I,eAAe,WAC1Bk1I,EAAWl1I,eAAe,UAe1B,MAAM,IAAI9F,MAAM,mBAdhB,CACA,MAAM,MAAEyzD,EAAK,OAAEoyB,GAAYm1D,EACvBt3I,MAAMC,QAAQ8vD,GAChB9kD,KAAKmtI,cAAcroF,EAAO8nF,GAE1B5sI,KAAKmtI,cAAcroF,EAAM5oD,WAAY0wI,GAGnC73I,MAAMC,QAAQkiF,GAChBl3E,KAAKmtI,cAAcj2D,EAAQ01D,GAE3B5sI,KAAKmtI,cAAcj2D,EAAOh7E,WAAY0wI,SApBxC,IAAK,IAAIp+I,EAAI,EAAGA,EAAI69I,EAAW/9I,OAAQE,IAAK,CAC1C,MAAM0+I,EAAYb,EAAW79I,GAAG0N,WAC5B0wI,EAAoBz1I,eAAe01I,KACvCD,EAAoBM,IAAa,EACjCltI,KAAKqsI,WAAWt2I,KAAKm3I,MAwB7BC,aAAAA,CACEd,EACAe,GAEA,IAAK,IAAI5+I,EAAI,EAAGA,EAAI69I,EAAW/9I,OAAQE,IAAK,CAC1C,MAAM0+I,EAAYb,EAAW79I,GAAG0N,WAC5BkxI,EAAgBj2I,eAAe+1I,KACnCE,EAAgBF,IAAa,EAC7BltI,KAAKqsI,WAAWt2I,KAAKm3I,KAIzBT,WAAAA,CAAYP,GAEV,MAAMe,EAAmBjtI,KAAKqsI,WAAW/9I,OACzC,IACE,IAAI0+I,EAAiB,EACrBA,EAAiBC,EACjBD,IACA,CACA,MAAME,EAAYltI,KAAKqsI,WAAWW,GAC9BA,GAAkBd,IAEpBlsI,KAAKmsI,WAAWe,GAAaF,EAC7BhtI,KAAKosI,eAAeY,GAAkBE,IAK5CG,SAAAA,CAAUr6I,GAA8B,IAAhBk5I,EAAY79I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EACrC,MAAMy/B,EAAS,IACT,WAAEq+G,GAAensI,KAEvB,cAAehN,GACb,IAAK,SACL,IAAK,UACHA,EAAQA,EAAMkJ,WAGlB,IAAK,IAAI1N,EAAI,EAAGw3D,EAAMhzD,EAAM1E,OAAQE,EAAIw3D,EAAKx3D,IAAK,CAChD,MAAM0+I,EAAYl6I,EAAMxE,GAAG0N,WAC3B,IAAIzG,EAAQ02I,EAAWe,GACvB,QAAc35D,IAAV99E,EAAqB,CACvB,IAAI02I,EAAWmB,aAGb,MAAM,IAAIj8I,MAAM,2BAA2B67I,MAF3Cz3I,EAAQ02I,EAAWmB,aAKnB73I,EAAQy2I,GACZp+G,EAAO/3B,KAAKN,GAEd,OAAOq4B,EAGTy/G,oBAAAA,CACEzoF,EACAoyB,GACgB,IAAhBg1D,EAAY79I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAEf,MAAMy/B,EAAmB9tB,KAAKwtI,eAAe1oF,EAAOonF,GAAc,GAElE,MAAsB,qBAAXh1D,EAA+BppD,EACnCA,EAAOhB,OAAO9sB,KAAKwtI,eAAet2D,EAAQg1D,GAAc,IAGjEsB,cAAAA,CACEx6I,EACAk5I,EACApuD,GAEA,GAAqB,kBAAV9qF,EACTA,EAAQA,EAAMK,MAAM,SACf,GAAqB,kBAAVL,GAAuC,mBAAVA,EAC7CA,EAAQA,EAAMkJ,WAAW7I,MAAM,QAC1B,KACL0B,MAAMC,QAAQhC,IACqB,kBAA1BA,EAAmB,IACS,mBAA3BA,EAAoB,IACM,kBAA1BA,EAAmB,GAI7B,MAAM,IAAI3B,MAAM,sBAFhB2B,EAASA,EAAmB8zB,KAAK8qC,GAAMA,EAAE11D,aAO3C,OAHI4hF,IACF9qF,EAAQA,EAAM85B,OAAO,CAAC,aAAc,kBAE/B9sB,KAAKqtI,UAAUr6I,EAAOk5I,GAG/BuB,YAAAA,CAAaC,GAAmC,IAAhBxB,EAAY79I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAC7C,MAAMy/B,EAAmB,IACnB,WAAEq+G,EAAU,eAAEC,GAAmBpsI,KAEvC,IAAK,IAAIxR,EAAI,EAAGw3D,EAAM0nF,EAAQp/I,OAAQE,EAAIw3D,EAAKx3D,IAAK,CAClD,MAAMiH,EAAQi4I,EAAQl/I,GACtB,GAAIiH,EAAQy2I,EAAc,SAC1B,IAAIgB,EAAYd,EAAe32I,GAC/B,QAAkB89E,IAAd25D,EAAyB,CAC3B,IAAIf,EAAWmB,aAGb,MAAM,IAAIj8I,MAAM,uBAAuBoE,MAFvCy3I,EAAYd,EAAeD,EAAWmB,mBAIjB,OAAdJ,GACTp/G,EAAO/3B,KAAKm3I,EAAUhxI,YAI1B,OAAO4xB,EAGT5xB,QAAAA,CAASwxI,EAAmBxB,GAC1B,OAAOlsI,KAAKytI,aAAaC,EAASxB,GAAc3vH,KAAK,IAGvDmwH,cAAAA,GACE1sI,KAAK2tI,WAAW,cAChB3tI,KAAK2tI,WAAW,gBAGlBhB,eAAAA,GACE3sI,KAAK2tI,WAAW,gBAGlB,uBAAOC,CACL1B,GACe,IAAfh5C,EAAM7kG,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,MAEV,IAAK,IAAIG,EAAI,GAAIA,GAAK,IAAKA,IACzB0kG,EAAOn9F,KAAK6V,OAAOC,aAAard,IAElC,OAAO,IAAIy9I,GAAc/4C,EAAQg5C,GAGnC,kCAAO2B,CACL3B,GACe,IAAfh5C,EAAM7kG,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,CAAC,MAEV,MAAMy/I,EAAgB7B,GAAc2B,iBAAiB1B,EAAch5C,GAGnE,OAFA46C,EAAcpB,iBACdoB,EAAcnB,kBACPmB,EAGT,4BAAOC,CACL3kF,EACA8iF,GAEA,MAAMh5C,EAASn+F,MAAMshF,KAAK,IAAIz4E,IAAIwrD,IAAS7sC,KAAK,IAC1CuxH,EAAgB,IAAI7B,GAAc/4C,EAAO7/F,MAAM,IAAK64I,GAI1D,OAHA4B,EAAcpB,iBACdoB,EAAcnB,kBACdmB,EAAcvB,SAAU,EACjBuB,EAGT,2BAAOE,CACL34I,EACA62I,GAEA,MAAMh5C,EAAmC,GAEzC,IAAK,IAAI1kG,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMwiI,EAAQ37H,EAAK7G,GACnB0kG,EAAOn9F,KAAKk4I,GAAgBjd,EAAMlsE,OAAQmpF,GAAgBjd,EAAM95C,SAElE,MAAMg3D,EAAsBn5I,MAAMC,QAAQk+F,GACrCA,EAAsB6pB,OACvB7pB,EACE46C,EAAgB,IAAI7B,GACxBl3I,MAAMshF,KAAK,IAAIz4E,IAAIswI,IACnBhC,GAKF,OAHA4B,EAAcpB,iBACdoB,EAAcnB,kBACdmB,EAAcvB,SAAU,EACjBuB,EAGT,iBAAOK,CAAW/kF,GAAgC,IAAhB8iF,EAAY79I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAC/C,MAAM6kG,EAASn+F,MAAMshF,KAAK,IAAIz4E,IAAIwrD,IAAS7sC,KAAK,IAChD,OAAO,IAAI0vH,GAAc/4C,EAAO7/F,MAAM,IAAK64I,GAG7Cj0D,MAAAA,GACE,MAAO,CACLk0D,WAAYnsI,KAAKmsI,WACjBC,eAAgBpsI,KAAKosI,eACrBl5C,OAAQlzF,KAAKkzF,OACbm5C,WAAYrsI,KAAKqsI,WACjBC,eAAgBtsI,KAAKssI,gBAOzB,eAAOzkD,CAAS/B,GACd,MAAMgoD,EAAgB,IAAI7B,GAO1B,OANA6B,EAAc3B,WAAarmD,EAAKqmD,WAChC2B,EAAc1B,eAAiBtmD,EAAKsmD,eACpC0B,EAAc56C,OAASpN,EAAKoN,OAC5B46C,EAAczB,WAAavmD,EAAKumD,WAChCyB,EAAcxB,eAAiBxmD,EAAKwmD,eACpCwB,EAAcvB,SAAU,EACjBuB,EAGTH,UAAAA,CAAWS,GAA0C,IAAhBlB,EAAS7+I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,KAC/C,MAAMggJ,EAAgBruI,KAAKmsI,WAAWiC,GAAWpuI,KAAKqsI,WAAW/9I,OACjE0R,KAAKosI,eAAeiC,GAAgBnB,EACpCltI,KAAKssI,eAAev2I,KAAKiK,KAAKqsI,WAAW/9I,QACzC0R,KAAKqsI,WAAWt2I,KAAKq4I,GAGvBE,gBAAAA,GACE,MAAO,0BACY33D,KAAKC,UAAU52E,KAAKosI,sCACxBz1D,KAAKC,UAAU52E,KAAKmsI,kCACpBx1D,KAAKC,UAAU52E,KAAKqsI,8DAEfrsI,KAAKqtI,UAAUnxI,iDACJ8D,KAAKutI,qBAAqBrxI,yCAClC8D,KAAKytI,aAAavxI,2CAChB8D,KAAKwtI,eAAetxI,kBAI/CqyI,YAAAA,CAAazpF,EAAeoyB,SAC1B,YAAc3D,IAAVzuB,EAA4B,GAC5B/vD,MAAMC,QAAQ8vD,IAA8B,kBAAbA,EAAM,GAChCA,GAEU,QAAnB27D,EAAIzgH,KAAKmsI,kBAAU,IAAA1rB,OAAA,EAAAA,EAAEtpH,eAAe,eAC3B6I,KAAKutI,qBAAqBzoF,EAAOoyB,GAEnCl3E,KAAKqtI,UAAUvoF,GAGxB0pF,aAAAA,CAAc1pF,EAAiBoyB,GAC7B,OAAOl3E,KAAKytI,aAAav2D,GAAQ36D,KAAK,IAGxCg0F,MAAAA,CAAOl7G,GACL,GACqB,kBAAZA,EAAK,KACXN,MAAMC,QAAQK,EAAK,OAClBA,EAAK,GAAG8B,eAAe,WAAa9B,EAAK,GAAG8B,eAAe,WAE7D,OAAO9B,EAET,MAAMy4B,EAAqB,GAC3B,GACqB,kBAAZz4B,EAAK,IACO,kBAAZA,EAAK,IACZN,MAAMC,QAAQK,EAAK,IAEnB,GAAK2K,KAAKusI,QAMR,IAAK,IAAI/9I,EAAI,EAAGw3D,EAAM3wD,EAAK/G,OAAQE,EAAIw3D,EAAKx3D,IAC1Cs/B,EAAO/3B,KAAKiK,KAAKuuI,aAAal5I,EAAK7G,SAPpB,CACjBwR,KAAKwpG,MAAMn0G,GACX,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAKiK,KAAKuuI,aAAaN,GAAgB54I,EAAK7G,UAOlD,KAAK6G,EAAK,GAAiByvD,QAAUzvD,EAAK,GAAiB6hF,OAahE,MAAM,IAAI7lF,MAAM,qBAZX2O,KAAKusI,SACRvsI,KAAKwpG,MAAMn0G,GAEb,IAAK,IAAI7G,EAAI,EAAGw3D,EAAM3wD,EAAK/G,OAAQE,EAAIw3D,EAAKx3D,IAC1Cs/B,EAAO/3B,KACLiK,KAAKuuI,aACHN,GAAiB54I,EAAK7G,GAAiBs2D,OACvCmpF,GAAiB54I,EAAK7G,GAAiB0oF,UAO/C,OAAOppD,GAIX,SAASmgH,GAAgBj7I,GACvB,GAAqB,kBAAVA,EAAoB,OAAOA,EACtC,GAAqB,kBAAVA,EAAoB,OAAOA,EAAMkJ,WAC5C,GAAqB,mBAAVlJ,EAAqB,OAAOA,EAAMkJ,WAC7C,GAAInH,MAAMC,QAAQhC,IAA8B,kBAAbA,EAAM,GACvC,OAAOA,EACT,GAAwB,mBAAbA,EAAM,GACf,OAAQA,EAAoB8zB,KAAK8qC,GAAeA,EAAE11D,aAEpD,GAAwB,kBAAblJ,EAAM,GACf,OAAQA,EAAmB8zB,KAAK8qC,GAAcA,EAAE11D,aAElD,MAAM,IAAI7K,MACR,yFAEJ,UCxagBo9I,GAAKC,EAAiB16H,GACpC06H,EAAQvD,KAAOn3H,EAAKm3H,KACpBuD,EAAQtD,QAAUp3H,EAAKo3H,QACvBsD,EAAQ7pB,QAAU7wG,EAAK6wG,QAAQ1oH,MAAM,GACrCuyI,EAAQ3pB,OAAS/wG,EAAK+wG,OAAO5oH,MAAM,EACrC,UCFgB+B,GAAIwwI,EAAiB16H,EAAcunD,GACjD,IAAK,IAAI/sE,EAAI,EAAGA,EAAIwlB,EAAK6wG,QAAQv2H,OAAQE,IACvCkgJ,EAAQ7pB,QAAQr2H,GAAKwlB,EAAK6wG,QAAQr2H,GAAK+sE,EAAMspD,QAAQr2H,GACrDkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCLgBmgJ,GAAKD,EAAiB16H,EAAcunD,GAClD,IAAK,IAAI/sE,EAAI,EAAGA,EAAIkgJ,EAAQ3pB,OAAOz2H,OAAQE,IACzCwlB,EAAK+wG,OAAOv2H,GAAKkgJ,EAAQ3pB,OAAOv2H,GAChC+sE,EAAMwpD,OAAOv2H,GAAKkgJ,EAAQ3pB,OAAOv2H,EAErC,UCLgBogJ,GAAQF,GACtB,IAAK,IAAIlgJ,EAAI,EAAGA,EAAIkgJ,EAAQ7pB,QAAQv2H,OAAQE,IAC1CkgJ,EAAQ7pB,QAAQr2H,GAAK,EACrBkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCRgBqgJ,GAAcH,EAAiB16H,GAC7C06H,EAAQvD,KAAOn3H,EAAKm3H,KACpBuD,EAAQtD,QAAUp3H,EAAKo3H,QACvBsD,EAAQ7pB,QAAU7wG,EAAK6wG,QAAQ1oH,MAAM,GACrCuyI,EAAQ3pB,OAAS/wG,EAAK+wG,OAAO5oH,MAAM,GAEnC,IAAK,IAAI3N,EAAI,EAAGA,EAAIwlB,EAAK6wG,QAAQv2H,OAAQE,IACvCkgJ,EAAQ7pB,QAAQr2H,IAAMwlB,EAAK6wG,QAAQr2H,GACnCkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCPgBsgJ,GAASJ,EAAiB16H,EAAcunD,GACtD,MAAMwzE,EAAW/6H,EAAKm3H,KAChB6D,EAAch7H,EAAKo3H,QACnB6D,EAAe1zE,EAAM6vE,QAG3B,IAAK,IAAI8D,EAAU,EAAGA,EAAUH,EAAUG,IAAW,CACnD,MAAMC,EAAcH,EAAcE,EAC5BE,EAAeH,EAAeC,EAGpC,IAAK,IAAIG,EAAc,EAAGA,EAAcJ,EAAcI,IAAe,CAEnE,IAAItlF,EAAM,EAGV,IAAK,IAAIulF,EAAa,EAAGA,EAAaN,EAAaM,IAAc,CAC/D,MACMC,EAAYJ,EAAcG,EAC1BE,EAFkBP,EAAeK,EAEFD,EACrCtlF,GAAO/1C,EAAK6wG,QAAQ0qB,GAAah0E,EAAMspD,QAAQ2qB,GAC/Cx7H,EAAK+wG,OAAOwqB,GAAa,EACzBh0E,EAAMwpD,OAAOyqB,GAAc,EAG7Bd,EAAQ7pB,QAAQuqB,EAAeC,GAAetlF,GAGpD,UC5BgB0lF,GAAUf,EAAiB16H,EAAcunD,GACvD,MAAMwzE,EAAW/6H,EAAKm3H,KAChB6D,EAAch7H,EAAKo3H,QACnB6D,EAAe1zE,EAAM6vE,QAG3B,IAAK,IAAIsE,EAAc,EAAGA,EAAcX,EAAUW,IAAe,CAC/D,MAAMP,EAAcH,EAAcU,EAC5BN,EAAeH,EAAeS,EAGpC,IAAK,IAAIL,EAAc,EAAGA,EAAcJ,EAAcI,IAEpD,IAAK,IAAIC,EAAa,EAAGA,EAAaN,EAAaM,IAAc,CAC/D,MACMJ,EAAUC,EAAcG,EACxBK,EAFkBV,EAAeK,EAEJD,EAC7BO,EAAqBlB,EAAQ3pB,OAAOqqB,EAAeC,GACzDr7H,EAAK+wG,OAAOmqB,IAAY3zE,EAAMspD,QAAQ8qB,GAAYC,EAClDr0E,EAAMwpD,OAAO4qB,IAAa37H,EAAK6wG,QAAQqqB,GAAWU,GAI1D,UC1BgBC,GACdnB,EACA16H,EACAunD,GAEA,MAAM,QAAEspD,GAAY7wG,EAEpB,IAAK,IAAIxlB,EAAI,EAAGA,EAAIq2H,EAAQv2H,OAAQE,IAClCkgJ,EAAQ7pB,QAAQr2H,GAAKwlB,EAAK6wG,QAAQr2H,GAAK+sE,EAAMspD,QAAQr2H,GACrDkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCRgBshJ,GACdpB,EACA16H,EACAunD,GAEA,IAAK,IAAI/sE,EAAI,EAAGA,EAAIwlB,EAAK6wG,QAAQv2H,OAAQE,IACvCwlB,EAAK+wG,OAAOv2H,GAAK+sE,EAAMspD,QAAQr2H,GAAKkgJ,EAAQ3pB,OAAOv2H,GACnD+sE,EAAMwpD,OAAOv2H,GAAKwlB,EAAK6wG,QAAQr2H,GAAKkgJ,EAAQ3pB,OAAOv2H,EAEvD,UCRgBuhJ,GAAKrB,EAAiB16H,GACpC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIwlB,EAAK6wG,QAAQv2H,OAAQE,IACvCkgJ,EAAQ7pB,QAAQr2H,GAAK4K,KAAK4sD,IAAI,EAAGhyC,EAAK6wG,QAAQr2H,IAC9CkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCNgBwhJ,GAAMtB,EAAiB16H,GACrC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIkgJ,EAAQ3pB,OAAOz2H,OAAQE,IACzCwlB,EAAK+wG,OAAOv2H,GAAKwlB,EAAK6wG,QAAQr2H,GAAK,EAAIkgJ,EAAQ3pB,OAAOv2H,GAAK,CAE/D,UCPgByhJ,GACdvB,EACA16H,EACAk8H,GAEA,MAAM,QAAE9E,GAAYp3H,EACdm8H,EAAU/E,EAAU8E,EAE1B,IAAK,IAAI7hF,EAAS,EAAGA,EAAS+8E,EAAS/8E,IACrCqgF,EAAQ7pB,QAAQx2D,GAAUr6C,EAAK6wG,QAAQsrB,EAAU9hF,GACjDqgF,EAAQ3pB,OAAO12D,GAAU,CAE7B,UCTgB+hF,GACd1B,EACA16H,EACA83H,GAEA,MAAM,QAAEV,GAAYp3H,EACdm8H,EAAU/E,EAAUU,EAE1B,IAAK,IAAIz9E,EAAS,EAAGA,EAAS+8E,EAAS/8E,IACrCr6C,EAAK+wG,OAAOorB,EAAU9hF,GAAUqgF,EAAQ3pB,OAAO12D,EAEnD,UCdgBgiF,GAAQ3B,EAAiB16H,GAEvC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIwlB,EAAK6wG,QAAQv2H,OAAQE,IACvCkgJ,EAAQ7pB,QAAQr2H,GAAK,GAAK,EAAI4K,KAAKgtD,KAAKpyC,EAAK6wG,QAAQr2H,KACrDkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCNgB8hJ,GAAS5B,EAAiB16H,GACxC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIkgJ,EAAQ3pB,OAAOz2H,OAAQE,IAAK,CAC9C,MAAM+hJ,EAAM7B,EAAQ7pB,QAAQr2H,GAC5BwlB,EAAK+wG,OAAOv2H,GAAK+hJ,GAAO,EAAIA,GAAO7B,EAAQ3pB,OAAOv2H,GAEtD,UCLgBgiJ,GAAQj5D,GAEtB,MAAMzpD,EAAS,IAAIo9G,GAAO3zD,EAAO4zD,KAAM5zD,EAAO6zD,SAC9C,IAAIqF,GAAU,OAEd,IAAK,IAAIjiJ,EAAI,EAAGA,EAAI+oF,EAAOstC,QAAQv2H,OAAQE,IACrC+oF,EAAOstC,QAAQr2H,GAAKiiJ,IACtBA,EAASl5D,EAAOstC,QAAQr2H,IAI5B,IAAIy8E,EAAI,EACR,IAAK,IAAIz8E,EAAI,EAAGA,EAAI+oF,EAAOstC,QAAQv2H,OAAQE,IACzCs/B,EAAO+2F,QAAQr2H,GAAK4K,KAAKgtD,IAAImxB,EAAOstC,QAAQr2H,GAAKiiJ,GACjDxlE,GAAKn9C,EAAO+2F,QAAQr2H,GAGtB,IAAK,IAAIA,EAAI,EAAGA,EAAI+oF,EAAOstC,QAAQv2H,OAAQE,IACzCs/B,EAAO+2F,QAAQr2H,IAAMy8E,EAMvB,OAAOn9C,CACT,UCzBgBy4B,GAAKmoF,EAAiB16H,GAEpC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIwlB,EAAK6wG,QAAQv2H,OAAQE,IACvCkgJ,EAAQ7pB,QAAQr2H,GAAK4K,KAAKmtD,KAAKvyC,EAAK6wG,QAAQr2H,IAC5CkgJ,EAAQ3pB,OAAOv2H,GAAK,CAExB,UCNgBkiJ,GAAMhC,EAAiB16H,GACrC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIkgJ,EAAQ3pB,OAAOz2H,OAAQE,IAAK,CAE9C,MAAM+hJ,EAAM7B,EAAQ7pB,QAAQr2H,GAC5BwlB,EAAK+wG,OAAOv2H,IAAM,EAAI+hJ,EAAMA,GAAO7B,EAAQ3pB,OAAOv2H,GAEtD,OCkCamiJ,GAAb9wI,WAAAA,GACE,KAAA8qF,OAAmB,GAEnB,KAAAimD,SAAW,EAEX1yI,GAAAA,CAAI8V,EAAcunD,GAChB,GAAIvnD,EAAK6wG,QAAQv2H,SAAWitE,EAAMspD,QAAQv2H,OACxC,MAAM,IAAI+C,MAAM,uBAGlB,MAAMq9I,EAAU,IAAIxD,GAAOl3H,EAAKm3H,KAAMn3H,EAAKo3H,SAW3C,OATAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,MACNm+I,UACA16H,OACAunD,QACAs1E,UAAW3yI,GACX4yI,kBAAmBnC,KAGdD,EAGTE,OAAAA,CAAQzD,EAAcC,GACpB,MAAMsD,EAAU,IAAIxD,GAAOC,EAAMC,GAUjC,OARAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,UACNm+I,UACA16H,KAAM06H,EACNmC,UAAWjC,GACXkC,kBAAmBA,SAGdpC,EAGTG,aAAAA,CAAct3D,GACZ,MAAMm3D,EAAU,IAAIxD,GAAO3zD,EAAO4zD,KAAM5zD,EAAO6zD,SAU/C,OARAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,gBACNm+I,UACA16H,KAAMujE,EACNs5D,UAAWhC,GACXiC,kBAAmBA,SAGdpC,EAMTqC,QAAAA,CAAS/8H,EAAcunD,GACrB,GAAIvnD,EAAK6wG,QAAQv2H,SAAWitE,EAAMspD,QAAQv2H,OACxC,MAAM,IAAI+C,MAAM,uBAGlB,OAAO2O,KAAK9B,IACV8B,KAAK9B,IAAI8B,KAAK4uI,QAAQ56H,EAAKm3H,KAAMn3H,EAAKo3H,SAAUprI,KAAK6uI,cAAc76H,IACnEunD,GAOJuzE,QAAAA,CAAS96H,EAAcunD,GACrB,GAAIvnD,EAAKo3H,UAAY7vE,EAAM4vE,KACzB,MAAM,IAAI95I,MAAM,uBAGlB,MAAMq9I,EAAU,IAAIxD,GAAOl3H,EAAKm3H,KAAM5vE,EAAM6vE,SAW5C,OATAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,WACNm+I,UACA16H,OACAunD,QACAs1E,UAAW/B,GACXgC,kBAAmBrB,KAGdf,EAMTmB,eAAAA,CAAgB77H,EAAcunD,GAC5B,GAAIvnD,EAAK6wG,QAAQv2H,SAAWitE,EAAMspD,QAAQv2H,OACxC,MAAM,IAAI+C,MAAM,uBAGlB,MAAMq9I,EAAU,IAAIxD,GAAOl3H,EAAKm3H,KAAMn3H,EAAKo3H,SAW3C,OATAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,kBACNm+I,UACA16H,OACAunD,QACAs1E,UAAWhB,GACXiB,kBAAmBhB,KAGdpB,EAMTqB,IAAAA,CAAKx4D,GACH,MAAMm3D,EAAU,IAAIxD,GAAO3zD,EAAO4zD,KAAM5zD,EAAO6zD,SAU/C,OARAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,OACNm+I,UACA16H,KAAMujE,EACNs5D,UAAWd,GACXe,kBAAmBd,KAGdtB,EAMT5pF,KAAAA,CAAMA,GAcJ,OAbA9kD,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,QACNm+I,QAAS5pF,EACT+rF,UAAYnC,IACV,GAAK1uI,KAAKgxI,WAAV,CACA,GAAIhxI,KAAKgxI,WAAW1iJ,SAAWogJ,EAAQ7pB,QAAQv2H,OAC7C,MAAM,IAAI+C,MAAM,0CAElBq9I,EAAQ7pB,QAAU//D,EAAM+/D,QAAU7kH,KAAKgxI,UAJX,CAIqB,EAEnDF,kBAAmBA,SAGdhsF,EAMTmsF,gBAAAA,CAAiB15D,GAEf,MAAM11B,EAAO7hD,KACP0uI,EAAU,IAAIxD,GAAO3zD,EAAO6zD,QAAS,GAa3C,OAXAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,mBACNm+I,UACA16H,KAAMujE,EACN,SAAIhc,GACF,OAAQ1Z,EAAK+uF,UAEfC,UAAWZ,GACXa,kBAAmBV,KAGd1B,EAMT2B,OAAAA,CAAQ94D,GACN,MAAMm3D,EAAU,IAAIxD,GAAO3zD,EAAO4zD,KAAM5zD,EAAO6zD,SAU/C,OARAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,UACNm+I,UACA16H,KAAMujE,EACNs5D,UAAWR,GACXS,kBAAmBR,KAGd5B,EAMTnoF,IAAAA,CAAKgxB,GACH,MAAMm3D,EAAU,IAAIxD,GAAO3zD,EAAO4zD,KAAM5zD,EAAO6zD,SAU/C,OARAprI,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,OACNm+I,UACA16H,KAAMujE,EACNs5D,UAAWtqF,GACXuqF,kBAAmBJ,KAGdhC,EAOTwC,OAAAA,CAAQ35D,GAQN,OAPAv3E,KAAK2qF,OAAO50F,KAAK,CACfxF,KAAM,UACNm+I,QAAS,IAAIxD,GACb2F,UAAWA,OACXC,kBAAmBA,SAGdv5D,EAMT45D,QAAAA,GAAqB,IAAZrF,EAAQz9I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAClB2R,KAAK4wI,SAAW9E,EAChB,IAAI/qH,EAAQ/gB,KAAK2qF,OAAO,GAExB,IAAK,IAAIn8F,EAAI,EAAGw3D,EAAMhmD,KAAK2qF,OAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IACjDuyB,EAAQ/gB,KAAK2qF,OAAOn8F,GAEfuyB,EAAM5pB,eAAe,cACzB4pB,EAAM8vH,UACL9vH,EAAM2tH,QACN3tH,EAAM/M,KACN+M,EAAMw6C,OAIV,OAAOx6C,EAAM2tH,QAMflpB,QAAAA,CAASwrB,GACPhxI,KAAKgxI,WAAaA,EAClB,IAAIjwH,EAAQ/gB,KAAK2qF,OAAO,GAExB,IAAK,IAAIn8F,EAAI,EAAGw3D,EAAMhmD,KAAK2qF,OAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IACjDuyB,EAAQ/gB,KAAK2qF,OAAOn8F,GAEfuyB,EAAM5pB,eAAe,cACzB4pB,EAAM8vH,UACL9vH,EAAM2tH,QACN3tH,EAAM/M,KACN+M,EAAMw6C,OAIV,OAAOx6C,EAAM2tH,QAMf0C,aAAAA,GACE,IAAI5iJ,EAAIwR,KAAK2qF,OAAOr8F,OAChByyB,EAAQ/gB,KAAK2qF,OAAO,GAExB,KAAOn8F,KAAM,GACXuyB,EAAQ/gB,KAAK2qF,OAAOn8F,GAEfuyB,EAAM5pB,eAAe,sBACzB4pB,EAAM+vH,kBACL/vH,EAAM2tH,QACN3tH,EAAM/M,KACN+M,EAAMw6C,OAIV,OAAOx6C,EAAM2tH,QAMf2C,kBAAAA,GAA+B,IAAZvF,EAAQz9I,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAC5B2R,KAAK4wI,SAAW9E,EAEhB,IAAIt9I,EAAIwR,KAAK2qF,OAAOr8F,OAChByyB,EAAQ/gB,KAAK2qF,OAAO,GAExB,KAAOn8F,KAAM,GACXuyB,EAAQ/gB,KAAK2qF,OAAOn8F,GAEfuyB,EAAM5pB,eAAe,sBACzB4pB,EAAM+vH,kBACL/vH,EAAM2tH,QACN3tH,EAAM/M,KACN+M,EAAMw6C,OAIV,OAAOx6C,EAAM2tH,QAMf4C,aAAAA,CAAcxsF,EAAqB9gD,GACjC,IAAIknH,EAAW,EACf,MAAMh0C,EAASl3E,KAAKwlH,SAAS1gE,GAE7B,IAAK,IAAIt2D,EAAI,EAAGA,EAAI0oF,EAAO2tC,QAAQv2H,OAAQE,IAAK,CAC9C,MAAMosB,EAAQs8D,EAAO2tC,QAAQr2H,GAAKwV,EAAOxV,GAEzC08H,GAAY9xH,KAAKy3H,IAAIj2G,GAErBs8D,EAAO6tC,OAAOv2H,GAAKosB,EAGrB,OAAOswG,EAMTqmB,kBAAAA,CAAmBzsF,EAAe9gD,GAChC,MAAMkzE,EAASl3E,KAAKmxI,SAASrsF,GAEvB0sF,EAAmBt6D,EACnBu6D,EAAgBjB,GAAQt5D,GAO9B,OAJAs6D,EAAiBzsB,OAAS0sB,EAAc5sB,QAAQ1oH,MAAM,GACtDq1I,EAAiBzsB,OAAO/gH,IAAW,GAG3B5K,KAAKskG,KAAK+zC,EAAc5sB,QAAQ7gH,cCxX5B0tI,GAAKn6D,GAEnB,MAAM,QAAEstC,GAAYttC,EACpB,IAAIo6D,EAAO9sB,EAAQ,GACf+sB,EAAQ,EAEZ,IAAK,IAAIpjJ,EAAI,EAAGA,EAAIq2H,EAAQv2H,OAAQE,IAAK,CACvC,MAAMojE,EAAIizD,EAAQr2H,GACdojE,EAAI+/E,IAERC,EAAQpjJ,EACRmjJ,EAAO//E,GAGT,OAAOggF,CACT,UCdgBC,GAAQt6D,GAGtB,MAAM99B,EAAIkpE,EAAY,EAAG,GACnB/qB,EAAIrgB,EAAOstC,QACjB,IAAIh0H,EAAI,EACJrC,EAAI,EAER,OAAa,CAGX,GAFAqC,GAAK+mG,EAAEppG,GAEHqC,EAAI4oD,EACN,OAAOjrD,EAGTA,IAEJ,CC0DO,MAAMsjJ,GAAqC,CAChDhuB,WAAY,IACZC,YAAa,KACbprH,KAAK,EACLqrH,UAAW,GACXE,aAAc,IACdE,eAAgB,GAChBtD,QAASn2E,KAgBEonG,GAAW1X,KACf,CACL5W,UAAW,GACXuuB,WAAY,GACZhsB,aAAc,CAAC,GAAI,IACnBtC,WAAY,GACZ2T,UAAW,KACXC,UAAW,KACX2a,KAAM,KACNC,QAAS,EACTC,oBAAqB,IACrBrE,cAAe,IAAI7B,WAeVmG,GAmBXvyI,WAAAA,GAAoE,IAAxDkC,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAsD,CAAC,EAlBnE,KAAA0T,QAAuB,IAAKgwI,MAC5B,KAAAttB,UAAiC,IAAKqtB,IACtC,KAAAO,UAA+C,CAAC,EAChD,KAAAC,KAAO,EACP,KAAAC,aAAe,EACf,KAAAC,MAAmBrhJ,OAAOshJ,KAAK,CAC7BC,eAAe,EACf5tF,MAAO,IAAIomF,GAAO,EAAG,GACrBllB,aAAc,GACd9uC,OAAQ,IAAIg0D,GAAO,EAAG,GACtByH,UAAW,GACXC,YAAa,GACbC,oBAAqB,GACrBC,gBAAiB,IAAI9G,GAAa,EAAG,EAAG,OAG1C,KAAA+G,mBAA+B,GAG7B/yI,KAAK+B,QAAU,IAAK/B,KAAK+B,WAAYA,GACrC/B,KAAK+lH,sBAAsB,IACtB+rB,KAID/vI,EAAQ+jF,MACV9lF,KAAK6nF,SAAS9lF,EAAQ+jF,MAI1BmgC,UAAAA,GACE,MAAM,cAAE6nB,GAAkB9tI,KAAK+B,SACd,OAAb+rI,QAAa,IAAbA,OAAa,EAAbA,EAAezB,WAAW/9I,UAC5B0R,KAAK+B,QAAQ0hH,UAAYzjH,KAAK+B,QAAQiwI,WAAahyI,KAAK+B,QAAQ2hH,WAC9DoqB,EAAczB,WAAW/9I,QAE7B0R,KAAKwyI,MAAQxyI,KAAKgzI,WAGpBC,kBAAAA,GACE,MAAM,aAAEjtB,EAAY,UAAEvC,GAAczjH,KAAK+B,QACnCmxI,EAAuC,GAE7CA,EAAkBn9I,KAAKiK,KAAKmzI,eAAentB,EAAa,GAAIvC,IAC5D,IAAI2C,EAAWJ,EAAa,GAE5B,IAAK,IAAI3sE,EAAI,EAAGA,EAAI2sE,EAAa13H,OAAQ+qD,IAAK,CAE5C,MAAM+5F,EAAaptB,EAAa3sE,GAChC65F,EAAkBn9I,KAAKiK,KAAKmzI,eAAeC,EAAYhtB,IACvDA,EAAWgtB,EAEb,OAAOF,EAGTC,cAAAA,CAAeC,EAAoBhtB,GACjC,MAAO,CAELrgE,OAAQ,IAAIimF,GAAaoH,EAAYhtB,EAAU,KAE/C1wG,WAAY,IAAIs2H,GAAaoH,EAAYA,EAAY,KAErD/mB,KAAM,IAAI6e,GAAOkI,EAAY,IAIjCC,WAAAA,CACEC,EACAC,EACAC,EACA3L,GAEA,IAAKA,EAAY9hF,SAAW8hF,EAAYnyH,aAAemyH,EAAYxb,KACjE,MAAM,IAAIh7H,MAAM,iDAElB,MAAM0+I,EAAOuD,EAASvD,KAAKpnH,KAAK2qH,GAC1Bp1I,EAAMo1I,EAASp1I,IAAIyqB,KAAK2qH,GACxBxE,EAAWwE,EAASxE,SAASnmH,KAAK2qH,GAExC,OAAOvD,EACL7xI,EACEA,EACE4wI,EAASjH,EAAY9hF,OAAQwtF,GAC7BzE,EAASjH,EAAYnyH,WAAY89H,IAEnC3L,EAAYxb,OAKlBonB,iBAAAA,GACE,MAAM,WAAEzB,EAAU,UAAEvuB,GAAczjH,KAAK+B,QACvC,GAAIiwI,EAAa,EACf,MAAM,IAAI3gJ,MAAM,kDAClB,GAAIoyH,EAAY,EACd,MAAM,IAAIpyH,MAAM,iDAGlB,OAAO,IAAI26I,GAAagG,EAAa,EAAGvuB,EAAW,KAGrDiwB,oBAAAA,GACE,MAAM,WAAEhwB,EAAU,aAAEsC,GAAiBhmH,KAAK+B,QACpC4xI,EAAiB3oH,GAAKg7F,GAG5B,MAAO,CAEL8sB,gBAAiB,IAAI9G,GAAatoB,EAAa,EAAGiwB,EAAgB,KAGlEz8D,OAAQ,IAAIg0D,GAAOxnB,EAAa,EAAG,IAIvCkwB,YAAAA,GACE,MAAM,MAAEpB,GAAUxyI,MACZ,aAAEgmH,GAAiBhmH,KAAK+B,QACxBuxI,EAAW,IAAI3C,GACf7rB,EAAoB,GACpB+uB,EACJrB,EAAMK,oBAAoBvkJ,OAAS,EAC/B08B,GAAKwnH,EAAMK,qBACX7yI,KAAK+yI,mBAEX,IAAI77D,EAASl3E,KAAKqzI,YAChBC,EACAA,EAASrC,iBAAiBuB,EAAM1tF,OAChC+uF,EAAmB,GACnBrB,EAAMxsB,aAAa,IAErBlB,EAAQ/uH,KAAKmhF,GAEb,IAAK,IAAI1oF,EAAI,EAAGw3D,EAAMggE,EAAa13H,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACvD,IAAKqlJ,EAAmBrlJ,GACtB,MAAM,IAAI6C,MAAM,iCAAiC7C,KAEnD0oF,EAASl3E,KAAKqzI,YACZC,EACAp8D,EACA28D,EAAmBrlJ,GACnBgkJ,EAAMxsB,aAAax3H,IAErBs2H,EAAQ/uH,KAAKmhF,GAGfs7D,EAAMK,oBAAoB98I,KAAK+uH,GAC/BwuB,EAASp1I,IACPo1I,EAASxE,SAAS0D,EAAMM,gBAAiB57D,GACzCs7D,EAAMt7D,QAERs7D,EAAMG,UAAU58I,KAAKu9I,GAGvBN,QAAAA,GACE,MAAMJ,EAAwB,GAC9B5yI,KAAK+yI,mBAAqB/yI,KAAK+B,QAAQikH,aAAal/F,KACjDD,GAAS,IAAIqkH,GAAOrkH,EAAM,KAG7B,MAAMi+B,EAAQ9kD,KAAKyzI,oBACnBb,EAAY78I,KAAK+uD,GAEjB,MAAMkhE,EAAehmH,KAAKizI,qBAC1B,IAAKjtB,EAAa13H,OAAQ,MAAM,IAAI+C,MAAM,4BAC1C,IAAK,IAAI7C,EAAI,EAAGw3D,EAAMggE,EAAa13H,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACvD,MAAMslJ,EAAqC9tB,EAAax3H,GACxD,IAAK,MAAMo0C,KAAYkxG,EAChBA,EAAa38I,eAAeyrC,IACjCgwG,EAAY78I,KAAK+9I,EAAalxG,IAIlC,MAAM,OAAEs0C,EAAM,gBAAE47D,GAAoB9yI,KAAK0zI,uBAIzC,OAHAd,EAAY78I,KAAK+8I,GACjBF,EAAY78I,KAAKmhF,GAEV/lF,OAAOshJ,KAAK,CACjBC,eAAe,EACf5tF,QACAkhE,eACA9uC,SACAy7D,UAAW,GACXC,cACAC,oBAAqB,GACrBC,oBAIJiB,UAAAA,CAAWjvF,GACT9kD,KAAKsyI,OACL,MAAM,MAAEE,GAAUxyI,KACZgmD,EAAMlB,EAAMx2D,OAClB,IACIglJ,EADAU,EAAU,EAEd,KAAOxB,EAAMG,UAAUrkJ,QAAUw2D,EAAMx2D,OAAS,GAE9C0R,KAAK4zI,eAEP,IACE,IAAIK,GAAc,EAAGC,EAAWpvF,EAAMx2D,OACtC2lJ,EAAaC,EACbD,IACA,CAEA,MAAME,EAAgBF,EAAa,EACnCX,EAAWd,EAAMG,UAAUwB,GAE3B,MAAMr8H,GAAyB,IAAhBm8H,EAAoB,EAAInvF,EAAMmvF,GAAc,EACrDjwI,EAASiwI,IAAejuF,EAAM,EAAI,EAAIlB,EAAMmvF,EAAa,GAAK,EACpED,GAAWV,EAAS/B,mBAAmBz5H,EAAQ9T,GAEjD,OAAO5K,KAAKoxH,IAAI,EAAGwpB,GAAWhuF,EAAM,IAAM,IAG5CorF,aAAAA,CAActsF,GACZ,IAAIt2D,EAAIs2D,EAAMx2D,OACd,MAAM,MAAEkkJ,GAAUxyI,MACZ,UAAE2yI,GAAcH,EACtB,KAAOhkJ,EAAI,GACTmkJ,EAAUnkJ,GAAG6iJ,mBAAmBvsF,EAAMt2D,EAAI,GAAK,GAC/CA,IAEFmkJ,EAAU,GAAGtB,mBAAmB,GAGlCvoB,aAAAA,GACE,MAAM,KAAEmpB,EAAI,QAAEC,EAAO,UAAE7a,EAAS,UAAEC,GAAct3H,KAAK+B,SAC/C,UAAE0iH,EAAS,MAAE+tB,EAAK,UAAEH,GAAcryI,MAClC,aAAEkkH,GAAiBO,GACnB,YAAEmuB,GAAgBJ,EACxB,IAAI4B,EAAa,EACbC,EAAS,EACb,IAAK,IAAIC,EAAc,EAAGA,EAAc1B,EAAYtkJ,OAAQgmJ,IAAe,CACzE,MAAM/8D,EAASq7D,EAAY0B,IACrB,QAAEzvB,EAAO,OAAEE,GAAWxtC,EACtB+8D,KAAejC,IACnBA,EAAUiC,GAAehxB,EAAM/rC,EAAO4zD,KAAO5zD,EAAO6zD,UAEtD,MAAMlpH,EAAQmwH,EAAUiC,GACxB,IAAK,IAAI9lJ,EAAI,EAAGA,EAAIq2H,EAAQv2H,OAAQE,IAAK,CACvC,IAAIirD,EAAIsrE,EAAOv2H,GACf,MAAMopG,EAAIitB,EAAQr2H,GAElB0zB,EAAM1zB,GAAK0zB,EAAM1zB,GAAK6oI,GAAa,EAAIA,GAAa59E,EAAIA,EAEpDA,EAAIy4F,GACNz4F,EAAIy4F,EACJkC,KACS36F,GAAKy4F,IACdz4F,GAAKy4F,EACLkC,KAEFC,IAEAxvB,EAAQr2H,GACNopG,GAAMssB,EAAezqE,EAAKrgD,KAAKsiH,KAAKx5F,EAAM1zB,GAAK8oI,GAAa2a,EAAOr6C,GAGzE53F,KAAKuyI,aAAe6B,EAAaC,EAGnC,cAAIttB,GACF,OAAI/mH,KAAKwyI,OAAyC,IAAhCxyI,KAAKwyI,MAAMG,UAAUrkJ,SACrCskC,QAAQhY,MAAM,6CACP,GAMX25H,aAAAA,GACE,IAAKv0I,KAAK+mH,WACR,MAAM,IAAI11H,MAAM,wBAIpB0xF,GAAAA,GAA4D,IAAxDyxD,EAAAnmJ,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAkB,GAAIomJ,EAASpmJ,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,IAAAA,UAAA,GAAUqmJ,EAAWrmJ,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EACzD,MAAM8jJ,EACJnyI,KAAK+B,QAAQowI,qBACC,OAAbqC,EAAqBA,EAAoBlmJ,OAAS,IAClD0R,KAAK+B,QAAQ+rI,cACV9tI,KAAK+B,QAAQ+rI,cAAcxB,eAAeh+I,OAC1C,GAEN0R,KAAKu0I,gBAEL,MAAMzvF,EACJ9kD,KAAK+B,QAAQ+rI,eAAkB0G,EAAoBlmJ,OAAS,EACxD0R,KAAK+B,QAAQ+rI,cAAcS,aAAaiG,GACvCA,GACD,MAAEhC,GAAUxyI,KACZk3E,EAAS,GACf,IAAI1oF,EAAI,EACR,OAAa,CACX,MAAMmmJ,EACE,IAANnmJ,EAAU,EAAIA,EAAIs2D,EAAMx2D,OAASw2D,EAAMt2D,EAAI,GAAK,EAAI0oF,EAAO1oF,EAAI,GACjE,KAAOgkJ,EAAMG,UAAUrkJ,QAAUE,GAC/BwR,KAAK4zI,eAEP,MAEMgB,EAFWpC,EAAMG,UAAUnkJ,GAEH2iJ,SAASwD,GACjCnD,EAAmB,IAAItG,GAC3BsH,EAAMt7D,OAAOi0D,KACbqH,EAAMt7D,OAAOk0D,SAGf,GADAqD,GAAK+C,EAAkBoD,GACH,IAAhBF,GAAqBD,EAOvB,IAAK,IAAI9qD,EAAI,EAAG3jC,EAAMwrF,EAAiB3sB,QAAQv2H,OAAQq7F,EAAI3jC,EAAK2jC,IAC9D6nD,EAAiB3sB,QAAQl7B,IAAM+qD,EAInC,MAAMG,EAAQrE,GAAQgB,GAChBrmE,EAAYspE,EAAY5C,GAAQgD,GAASnD,GAAKmD,GAGpD,GADArmJ,IACkB,IAAd28E,EAEF,MAEF,GAAI38E,GAAK2jJ,EAEP,MAGFj7D,EAAOnhF,KAAKo1E,GAcd,OAAOnrE,KAAK+B,QAAQ+rI,cAAcU,cAChC1pF,EACAoyB,EAAO/6E,MAAM2oD,EAAMx2D,QAAQw4B,KAAK9zB,GAAUA,EAAQ,KAStDw0H,mBAAAA,GACOxnH,KAAKwyI,MAAME,eACd1yI,KAAKimH,aAaTF,qBAAAA,CAAsBhkH,SACpB/B,KAAKykH,UAAY,IAAKqtB,MAAkB/vI,GACxC/B,KAAK2nH,wBAAwB3nH,KAAKykH,WAClCzkH,KAAK4nH,aAAwB,QAAZnH,EAAC1+G,EAAQpJ,WAAG,IAAA8nH,EAAAA,EAAIzgH,KAAKykH,UAAU9rH,KAKlDgvH,uBAAAA,CAAwB5lH,GACtB,MAAM8lH,EAAmD,CACvD/D,WAAYA,KACV,MAAMlgD,EAAM7hE,EAAQ+hH,WACpB,MAAsB,kBAARlgD,GAAoBA,EAAM,CAAC,EAE3CmgD,YAAaA,KACX,MAAMngD,EAAM7hE,EAAQgiH,YACpB,MAAsB,kBAARngD,GAAoBA,EAAM,GAAKA,EAAM,CAAC,EAEtDjrE,IAAKA,KACH,MAAMirE,EAAM7hE,EAAQpJ,IACpB,MAAsB,oBAARirE,GAAqC,mBAARA,CAAiB,EAE9DogD,UAAWA,KACT,MAAMpgD,EAAM7hE,EAAQiiH,UACpB,MAAsB,kBAARpgD,GAAoBA,EAAM,CAAC,EAE3CsgD,aAAcA,KACZ,MAAMtgD,EAAM7hE,EAAQmiH,aACpB,MAAsB,kBAARtgD,GAAoBA,EAAM,GAAKA,EAAM,CAAC,EAEtD32C,SAAUA,KACR,MAAM22C,EAAM7hE,EAAQkrB,SACpB,MAAsB,oBAAR22C,QAA8B2P,IAAR3P,CAAiB,EAEvDwgD,eAAgBA,KACd,MAAMxgD,EAAM7hE,EAAQqiH,eACpB,MAAsB,kBAARxgD,GAAoBA,EAAM,CAAC,EAE3Ck9C,QAASA,KACP,MAAMl9C,EAAM7hE,EAAQ++G,QACpB,MAAsB,kBAARl9C,GAAoBA,EAAM,CAAC,GAG7C,IAAK,MAAMhoE,KAAKisH,EAAa,CAC3B,MAAMj2D,EAAK7vD,EACX,IAAK8lH,EAAYjsH,KACf,MAAM,IAAIvK,MACR,IAAIuK,MAAMg2D,EAAEh2D,+EAMpBgsH,YAAAA,CAAajvH,GAETqH,KAAKykH,UAAU9rH,IADE,oBAARA,EACYA,IACZA,GACYi6B,QAAQj6B,IAMvB0vH,YAAAA,CACRhzH,EACA0M,SAEA/B,KAAK+lH,sBAAsBhkH,GAC3B,MAAM0lH,EAAeznH,KAAK+B,QAAQ+rI,cAAcv9B,OAAOl7G,GACjD+yH,EAAUrgH,KAAKnQ,OAA+B,QAA1B6oH,EAAIzgH,KAAKykH,UAAU3D,eAAO,IAAAL,EAAAA,EAAI,GAElDtlG,EAAS,CACbP,MAAO,EACPkpG,WAAY,GAKd,OAFA9jH,KAAKwnH,sBAEE,CACLC,eACAtsG,SACAitG,WAIJI,KAAAA,CACEnzH,GAC4C,IAA5CovH,EAAAp2H,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA0C,CAAC,QAE3C2R,KAAKykH,UAAYA,EAAY,IACxBqtB,MACArtB,GAEL,MAAM,WACJX,EAAU,YACVC,EAAW,UACXC,EAAS,SACT/2F,EAAQ,eACRm3F,GACEpkH,KAAKykH,UACH9rH,GAAwB,IAAlB8rH,EAAU9rH,IAAei6B,QAAQj6B,IAAM8rH,EAAU9rH,IAC7D,IACInK,EAEA6+H,EAHAzyG,EAAQ+vB,IAIZ,GAAgB,QAAhB81E,EAAIzgH,KAAK+B,eAAO,IAAA0+G,OAAA,EAAAA,EAAEqtB,cAChBzgB,EAASrtH,KAAK+B,QAAQ+rI,cAAcv9B,OAAOl7G,OACtC,KACLN,MAAMC,QAAQK,KACdN,MAAMC,QAAQK,EAAK,KACmB,kBAA9BA,EAAoB,GAAG,GAI/B,MAAM,IAAIhE,MAAM,iDAFhBg8H,EAASh4H,EAOX,IAFA2K,KAAKwnH,sBAEAh5H,EAAI,EAAGA,EAAIs1H,GAAclpG,EAAQmpG,EAAav1H,IAAK,CACtD,IAAIi0H,EAAM,EACV,IAAK,IAAI94B,EAAI,EAAGA,EAAI0jC,EAAO/+H,OAAQq7F,IAEjC84B,GADYziH,KAAKioH,aAAaoF,EAAO1jC,IAAI,GAK3C,GAFA/uE,EAAQ6nG,EAAMptH,EAAK/G,OAEf4pD,MAAMt9B,GACR,MAAM,IAAIvpB,MACR,gKAGAsH,GAAOnK,EAAIw1H,IAAc,GAC3BrrH,EAAI,eAAenK,sBAAsBosB,KAEvCqS,GAAYz+B,EAAI41H,IAAmB,GACrCn3F,EAAS,CAAErS,QAAOkpG,WAAYt1H,IAIlC,MAAO,CACLosB,QACAkpG,WAAYt1H,GAIhBu8H,SAAAA,CAAU11H,GAAW,CAErBizH,UAAAA,CAAWjzH,GACT,MAAMy4B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAKiK,KAAK+B,QAAQ+rI,cAAcS,aAAal5I,EAAK7G,KAE3D,OAAOs/B,EAGTmqD,MAAAA,GACOj4E,KAAKwyI,MAAME,eACd1yI,KAAKimH,aAEP,MAAM,MAAEusB,EAAK,QAAEzwI,GAAY/B,KAE3B,MAAO,CACL5P,KAAM4P,KAAKH,YAAYtP,KACvBwR,QAAS,IAAKA,EAAS+rI,cAAe/rI,EAAQ+rI,cAAc71D,UAC5DwsC,UAAW,IACNzkH,KAAKykH,UACR3D,QACE9gH,KAAKykH,UAAU3D,UAAYn2E,IACvB,WACA3qC,KAAKykH,UAAU3D,SAEvBh8D,MAAO0tF,EAAM1tF,MAAMmzB,SACnB+tC,aAAcwsB,EAAMxsB,aAAal/F,KAAK+gH,IACpC,MAAM5b,EAA2C,CAAC,EAClD,IAAK,MAAMrwH,KAAKisI,EACTA,EAAY1wI,eAAeyE,KAChCqwH,EAAOrwH,GAAKisI,EAAYjsI,GAAGq8E,UAE7B,OAAOg0C,CAAM,IAEf6mB,gBAAiB9yI,KAAKwyI,MAAMM,gBAAgB76D,SAC5Cf,OAAQl3E,KAAKwyI,MAAMt7D,OAAOe,UAI9B4P,QAAAA,CAAS/B,GACP,MAAM,QAAE/jF,GAAY+jF,EACd8sD,EAAc,GACd9tF,EAAQomF,GAAOrjD,SAAS/B,EAAKhhC,OACnC8tF,EAAY78I,KAAK+uD,GACjB,MAAMkhE,EAAuC,GAE7ClgC,EAAKkgC,aAAa3mG,SAASwoH,IACzB,MAAM5b,EAAsC,CAAC,EAC7C,IAAK,MAAMrwH,KAAKisI,EACd5b,EAAOrwH,GAAKsvI,GAAOrjD,SAASggD,EAAYjsI,IACxCg3I,EAAY78I,KAAKk2H,EAAOrwH,IAE1BoqH,EAAajwH,KAAKk2H,EAA+B,IAGnD,MAAM6mB,EAAkB5H,GAAOrjD,SAAS/B,EAAKgtD,iBAC7CF,EAAY78I,KAAK+8I,GACjB,MAAM57D,EAASg0D,GAAOrjD,SAAS/B,EAAK5O,QA+BpC,OA9BA07D,EAAY78I,KAAKmhF,GAEbn1E,EAAQ+rI,cACV9tI,KAAK+B,QAAU,IACVgwI,QACAhwI,EACH+rI,cAAe7B,GAAcpkD,SAAS9lF,EAAQ+rI,gBAGhD9tI,KAAK+B,QAAU,IACVgwI,QACAhwI,EACH+rI,cAAe,IAAI7B,IAIvBjsI,KAAKwyI,MAAQrhJ,OAAOshJ,KAAK,CACvBC,eAAe,EACf5tF,QACAkhE,eACA9uC,SACA07D,cACAE,kBACAH,UAAW,GACXE,oBAAqB,KAEvB7yI,KAAK+yI,mBAAqB/yI,KAAK+B,QAAQikH,aAAal/F,KACjDD,GAAS,IAAIqkH,GAAOrkH,EAAM,KAE7B7mB,KAAK4zI,eACE5zI,KAGTksH,UAAAA,CAAW15E,GACT,MAAM,MAAEggG,GAAUxyI,MACZ,UAAE2yI,GAAc3yI,KAAKwyI,MACrBc,EAAWX,EAAU,IACrB,OAAEhoD,GAAW2oD,EACbwB,EAAan+D,KAAKC,UAAU52E,KAAKi4E,UAEvC,SAAS88D,EAAwBz6F,GAC/B,MAAM06F,EAAaxC,EAAMK,oBAAoB,IACvC,OAAEloD,GAAWgoD,EAAU,GAC7B,IAAK,IAAInkJ,EAAI,EAAGw3D,EAAM2kC,EAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IAC5C,GAAIm8F,EAAOn8F,GAAGkgJ,UAAYp0F,EACxB,OAAO9rD,EAGX,OAAOwmJ,EAAWvjJ,QAAQ6oD,GAG5B,SAAS26F,EAAa36F,EAAW46F,GAC/B,IAAK,IAAI1mJ,EAAI,EAAGw3D,EAAM2kC,EAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACjD,MAAMuyB,EAAQ4pE,EAAOn8F,GAErB,GAAIA,IAAM0mJ,EAAY,CACpB,MAAMvrD,EAAIorD,EAAwBz6F,GAClC,OAAIqvC,GAAK,IAAMrvC,IAAMv5B,EAAM/M,MAAQsmC,IAAMv5B,EAAMw6C,OACtC,qBAAqBouB,gCAAgCA,2BAA2BrvC,EAAE6wF,SAAS7wF,EAAE8wF,WAE/F,cAAc9wF,EAAE6wF,SAAS7wF,EAAE8wF,WAGpC,GAAI9wF,IAAMv5B,EAAM2tH,QAAS,MAAO,UAAUlgJ,aAC1C,GAAI8rD,IAAMv5B,EAAMw6C,MAAO,MAAO,UAAU/sE,WACxC,GAAI8rD,IAAMv5B,EAAM/M,KAAM,MAAO,UAAUxlB,UAEzC,MAAO,GAGT,SAAS2mJ,EAAe76F,EAAW46F,GACjC,IAAK56F,IAAMA,EAAE6wF,OAAS7wF,EAAE8wF,QAAS,MAAO,OAExC,GAAI9wF,IAAMk4F,EAAM1tF,MAAO,MAAO,aAC9B,GAAIxK,IAAMk4F,EAAMM,gBAAiB,MAAO,uBACxC,GAAIx4F,IAAMk4F,EAAMt7D,OAAQ,MAAO,cAE/B,IAAK,IAAI1oF,EAAI,EAAGw3D,EAAMwsF,EAAMxsB,aAAa13H,OAAQE,EAAIw3D,EAAKx3D,IAAK,CAC7D,MAAMq5I,EAAc2K,EAAMxsB,aAAax3H,GACvC,IAAK,MAAMoN,KAAKisI,EACd,GAAKA,EAAY1wI,eAAeyE,IAC5BisI,EAAYjsI,KAAO0+C,EACvB,MAAO,qBAAqB9rD,MAAMoN,IAItC,OAAOq5I,EAAa36F,EAAG46F,GAGzB,SAASE,EAAQr7D,GAGf,MAAMs7D,EAAUt7D,EAAS79E,WAAW7I,MAAM,KAC1CgiJ,EAAQ52F,QAER,MACM62F,EADeD,EAAQ94H,KAAK,KACDlpB,MAAM,KAGvC,OAFAiiJ,EAAYz/I,MAELy/I,EACJ/4H,KAAK,KACLlpB,MAAM,MACNkpB,KAAK,cACL9oB,QAAQ,yBAA0B,IAClCA,QAAQ,8BAA+B,IACvCA,QAAQ,8BAA+B,IACvCA,QAAQ,gCAAiC,IACzCA,QAAQ,yCAA0C,IAGvD,SAAS8hJ,EAASC,GAChB,MAAO,wBAAwBA,EAAO/hJ,QAAQ,UAAU,SAAUT,GAChE,MAAO,IAAIA,EAAM+L,wBAIrB,MAAM02I,EAAY,GACZC,EAAuD,CAAC,EACxDC,EAAuB,GAC7B,IAAK,IAAInnJ,EAAI,EAAGw3D,EAAM2kC,EAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACjD,MAAMuyB,EAAQ4pE,EAAOn8F,GACrBinJ,EAAU1/I,KAAK,UAAUvH,wBAChBuyB,EAAM8vH,UAAUtgJ,uBACjBwwB,EAAM/M,KAAOmhI,EAAep0H,EAAM/M,KAAMxlB,GAAK,8BAC5CuyB,EAAMw6C,MAAQ45E,EAAep0H,EAAMw6C,MAAO/sE,GAAK,gCAC7C2mJ,EAAep0H,EAAM2tH,QAASlgJ,aAGzC,MAAMgnJ,EAASz0H,EAAM8vH,UAAUtgJ,KAC1BmlJ,EAAkBF,KACrBE,EAAkBF,IAAU,EAC5BG,EAAqB5/I,KACnB,iBAAiBy/I,uBAA4BD,EAASC,iBACpDJ,EAAQr0H,EAAM8vH,UAAU30I,kCAMhC,MAAMo+B,EAAM,iMAIDw6G,SAEX90I,KAAK+B,QAAQ+rI,cACT,GAAG9tI,KAAK+B,QAAQ+rI,cAAcQ,mFAE9B,SAGJtuI,KAAK+B,QAAQ+rI,eACsC,oBAA5C9tI,KAAK+B,QAAQ+rI,cAAcS,aAC9B,mDAAmD6G,EACjDp1I,KAAK+B,QAAQ+rI,cAAcS,aAAaryI,qCAE1C,SAG2B,OAA/B8D,KAAK+B,QAAQ+rI,eACuC,oBAA7C9tI,KAAK+B,QAAQ+rI,cAAcU,cAC9B,iEAAiE4G,EAC/Dp1I,KAAK+B,QAAQ+rI,cAAcU,cAActyI,qCAE3C,wCAGF8D,KAAK+B,QAAQowI,qDAGbnyI,KAAK+B,QAAQ+rI,cACT9tI,KAAK+B,QAAQ+rI,cAAcxB,eAAeh+I,OAC1C,qBAGN0R,KAAK+B,QAAQ+rI,eACsC,oBAA5C9tI,KAAK+B,QAAQ+rI,cAAcS,aAC9B,yBACA,0VAgBFkH,EAAUl5H,KAAK,wDAEfk5H,EAAUnnJ,yNAOdqnJ,EAAqBp5H,KAAK,+gBAyBxBvc,KAAK+B,QAAQ+rI,eACuC,oBAA7C9tI,KAAK+B,QAAQ+rI,cAAcU,cAC9B,qGACA,8NAOJlrB,EAAMpnH,iBACNs0I,GAAQt0I,WAAWzI,QAAQ,YAAa,gBACxCkvH,EAAYzmH,iBACZ21I,GAAQ31I,iBACRw1I,GAAKx1I,aAEL,OAAO,IAAI89E,SACT,WACA,YACA,cACAxnC,EAAKA,EAAGlY,GAAOA,GAInB2tF,YAAAA,CAAanjE,EAAiB+jE,GAC5B,MAAMjuG,EAAQ5a,KAAK+zI,WAAWjvF,GAI9B,OAHA9kD,KAAKoxI,cAActsF,GACnB9kD,KAAK8oH,gBAEDD,EACKjuG,EAEF,YAcKoQ,GAAQkoE,GACtB,OAAOA,EAAOA,EAAO5kG,OAAS,EAChC,OCr8BasnJ,WAAYxD,GACvBe,cAAAA,CAAeC,EAAoBhtB,GACjC,OAAOyvB,GAAkBzC,EAAYhtB,GAGvCitB,WAAAA,CACEC,EACAC,EACAC,EACA3L,GAEA,OAAOiO,GACLxC,EACAC,EACAC,EACA3L,aAKUgO,GACdzC,EACAhtB,GAEA,MAAO,CAGL2vB,sBAAuB,IAAI/J,GAAaoH,EAAYhtB,EAAU,KAC9D4vB,uBAAwB,IAAIhK,GAAaoH,EAAYA,EAAY,KACjExT,eAAgB,IAAIsL,GAAOkI,EAAY,GAGvC6C,qBAAsB,IAAIjK,GAAaoH,EAAYhtB,EAAU,KAC7D8vB,sBAAuB,IAAIlK,GAAaoH,EAAYA,EAAY,KAChEpT,cAAe,IAAIkL,GAAOkI,EAAY,GAGtC+C,qBAAsB,IAAInK,GAAaoH,EAAYhtB,EAAU,KAC7DgwB,sBAAuB,IAAIpK,GAAaoH,EAAYA,EAAY,KAChEiD,cAAe,IAAInL,GAAOkI,EAAY,GAE1C,UAEgB0C,GACdxC,EACAC,EACAC,EACA3L,GAEA,IACGA,EAAYkO,wBACZlO,EAAYmO,yBACZnO,EAAYjI,iBACZiI,EAAYoO,uBACZpO,EAAYqO,wBACZrO,EAAY7H,gBACZ6H,EAAYsO,uBACZtO,EAAYuO,wBACZvO,EAAYwO,cAEb,MAAM,IAAIhlJ,MAAM,iDAGlB,MAAMg/I,EAAUiD,EAASjD,QAAQ1nH,KAAK2qH,GAChCp1I,EAAMo1I,EAASp1I,IAAIyqB,KAAK2qH,GACxBxE,EAAWwE,EAASxE,SAASnmH,KAAK2qH,GAClCzD,EAAkByD,EAASzD,gBAAgBlnH,KAAK2qH,GAChD/sF,EAAO+sF,EAAS/sF,KAAK59B,KAAK2qH,GAC1B1E,EAAU0E,EAAS1E,QAAQjmH,KAAK2qH,GAChCzE,EAAgByE,EAASzE,cAAclmH,KAAK2qH,GAG5CzT,EAAawQ,EACjBnyI,EACEA,EACE4wI,EAASjH,EAAYkO,sBAAuBxC,GAC5CzE,EAASjH,EAAYmO,uBAAwBxC,IAE/C3L,EAAYjI,iBAKVK,EAAYoQ,EAChBnyI,EACEA,EACE4wI,EAASjH,EAAYoO,qBAAsB1C,GAC3CzE,EAASjH,EAAYqO,sBAAuB1C,IAE9C3L,EAAY7H,gBAKVK,EAAO95E,EACXroD,EACEA,EACE4wI,EAASjH,EAAYsO,qBAAsB5C,GAC3CzE,EACEjH,EAAYuO,sBACZvG,EAAgB5P,EAAWuT,KAG/B3L,EAAYwO,gBAMhB,OAAOn4I,EACL2xI,EACE3xI,EACE0wI,EAAQ/O,EAAWsL,KAAMtL,EAAWuL,SACpCyD,EAAchP,IAEhBQ,GAEFwP,EAAgB2D,EAAgB3T,GAEpC,OCxIayW,GAIXz2I,WAAAA,CACExK,EAIOwpE,GAAA,KAAAA,KAAAA,EART,KAAAvwE,OAAS,EACT,KAAA2wH,MAAmC,CAAC,EASlC,IAAK,IAAIzwH,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MACM+nJ,EADQlhJ,EAAK7G,GACGqwE,GACtB,IAAK,IAAI8qB,EAAI,EAAGA,EAAI4sD,EAAQjoJ,OAAQq7F,IAAK,CACvC,MAAM32F,EAAQujJ,EAAQ5sD,GACtB,IAAK,MAAM/tF,KAAK5I,EACTA,EAAMmE,eAAeyE,KACtBoE,KAAKi/G,MAAM9nH,eAAeyE,KAC9BoE,KAAKi/G,MAAMrjH,GAAKoE,KAAK1R,cCkFxB,MAAM+rI,GAAWA,KACf,IACF0X,KACHtuB,UAAW,EACXuC,aAAc,CAAC,IACftC,WAAY,EACZsuB,WAAY,UAIHwE,WAAoBpE,GAqB/BvyI,WAAAA,GACkE,IAAhEkC,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA8D,CAAC,EAE/DgzF,QAvBF,KAAA8jC,kBAAoB,EACpB,KAAAD,YAAkC,KAClC,KAAAE,aAAmC,KACnC,KAAAC,mBAAqB,EAIrB,KAAAmtB,MAA2BrhJ,OAAOshJ,KAAK,CACrCC,eAAe,EACf1sB,aAAc,GACd9uC,OAAQ,IAAIg0D,GAAO,EAAG,GACtByH,UAAW,GACXC,YAAa,GACbC,oBAAqB,GACrBC,gBAAiB,IAAI9G,GAAa,EAAG,EAAG,OAK1C,KAAAjqI,QAA+Bs4H,KAK7Br6H,KAAK+B,QAAU,IAAK/B,KAAK+B,WAAYA,GACrC/B,KAAK+lH,sBAAsB,IACtB0wB,MACA10I,IAGDA,EAAQ+jF,MACV9lF,KAAK6nF,SAAS9lF,EAAQ+jF,MAI1B2tD,iBAAAA,GACE,MAAM,IAAIpiJ,MAAM,8CAGlBqiJ,oBAAAA,GACE,MAAM,WAAEhwB,GAAe1jH,KAAK+B,QACtB4xI,EAAiB3oH,GAAKhrB,KAAK+B,QAAQikH,cAGnC8sB,EAAkB,IAAI9G,GAAatoB,EAAYiwB,EAAgB,KAGrE,MAAO,CAAEz8D,OADM,IAAI80D,GAAatoB,EAAY,EAAG,KAC9BovB,mBAGnBc,YAAAA,GACE,MAAM,MAAEpB,EAAK,QAAEzwI,GAAY/B,MACrB,aAAEgmH,EAAY,UAAEvC,GAAc1hH,EAC9BkqH,EAASumB,EAAMxsB,aACfstB,EAAW,IAAI3C,GACf7rB,EAAU,GACV+uB,EACJrB,EAAMK,oBAAoBvkJ,OAAS,EAC/BkkJ,EAAMK,oBAAoBL,EAAMK,oBAAoBvkJ,OAAS,GAC7D0R,KAAK+yI,mBAEX,IAAI77D,EAASl3E,KAAKqzI,YAChBC,EACAA,EAASxuF,MAAM,IAAIomF,GAAOznB,EAAW,IACrCowB,EAAmB,GACnB5nB,EAAO,IAETnH,EAAQ/uH,KAAKmhF,GAEb,IAAK,IAAI1oF,EAAI,EAAGw3D,EAAMggE,EAAa13H,OAAQE,EAAIw3D,EAAKx3D,IAClD0oF,EAASl3E,KAAKqzI,YACZC,EACAp8D,EACA28D,EAAmBrlJ,GACnBy9H,EAAOz9H,IAETs2H,EAAQ/uH,KAAKmhF,GAGfs7D,EAAMK,oBAAoB98I,KAAK+uH,GAC/BwuB,EAASp1I,IACPo1I,EAASxE,SAAS0D,EAAMM,gBAAiB57D,GACzCs7D,EAAMt7D,QAERs7D,EAAMG,UAAU58I,KAAKu9I,GAGvBrtB,UAAAA,GACEjmH,KAAKwyI,MAAQxyI,KAAKgzI,WAKpBA,QAAAA,GACE,MAAMJ,EAAwB,GAC9B5yI,KAAK+yI,mBAAqB/yI,KAAK+B,QAAQikH,aAAal/F,KACjDD,GAAS,IAAIqkH,GAAOrkH,EAAM,KAG7B,MAAMm/F,EAAehmH,KAAKizI,qBAC1B,IAAK,IAAIzkJ,EAAI,EAAGw3D,EAAMggE,EAAa13H,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACvD,MAAMslJ,EAAe9tB,EAAax3H,GAClC,IAAK,MAAMo0C,KAAYkxG,EAChBA,EAAa38I,eAAeyrC,IACjCgwG,EAAY78I,KAAK+9I,EAAalxG,IAIlC,MAAM,gBAAEkwG,EAAe,OAAE57D,GAAWl3E,KAAK0zI,uBAIzC,OAFAd,EAAY78I,KAAK+8I,GACjBF,EAAY78I,KAAKmhF,GACV/lF,OAAOshJ,KAAK,CACjBC,eAAe,EACf1sB,eACA9uC,SACAy7D,UAAW,GACXC,cACAC,oBAAqB,GACrBC,oBAIJ1B,aAAAA,GACE,IAAK,IAAI5iJ,EAAIwR,KAAKwyI,MAAMG,UAAUrkJ,OAAS,EAAGE,GAAK,EAAGA,IACpDwR,KAAKwyI,MAAMG,UAAUnkJ,GAAG4iJ,gBAM5BruD,GAAAA,CACEyxD,GAEA,MAAMz0B,EAAQtB,EAAOqB,UAAU00B,GAAUj4H,KAAK,KAC9C,OAAQwjG,GACN,IAAK,eAGH,OAAO//G,KAAK02I,SAASlC,GACvB,IAAK,qBAGH,OAAOx0I,KAAK22I,gBAAgBnC,GAC9B,IAAK,gBAGH,OAAOx0I,KAAK42I,UAAUpC,GACxB,IAAK,sBAGH,OAAOx0I,KAAK62I,iBAAiBrC,GAC/B,QACE,MAAM,IAAInjJ,MAAM,2BAA2B0uH,MAIjD+2B,QAAAA,CACEtC,GACS,IAAT5zG,EAAKvyC,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAER,MAAM0xH,EAAQtB,EAAOqB,UAAU00B,GAAUj4H,KAAK,KAC9C,OAAQwjG,GACN,IAAK,eAGH,OAAO//G,KAAK+2I,cAAcvC,EAA0B5zG,GACtD,IAAK,qBAGH,OAAO5gC,KAAKg3I,qBAAqBxC,EAA4B5zG,GAC/D,IAAK,gBAGH,OAAO5gC,KAAK42I,UAAUpC,GACxB,IAAK,sBAGH,OAAOx0I,KAAKi3I,sBAAsBzC,EAA2B5zG,GAC/D,QACE,MAAM,IAAIvvC,MAAM,2BAA2B0uH,MAIjDg3B,aAAAA,CAAcjyF,GAA8B,IAATlkB,EAAKvyC,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EACzC2R,KAAKu0I,gBACL,MAAM,MAAE/B,GAAUxyI,MACZ,UAAE2yI,GAAcH,EAChBlkJ,EAASw2D,EAAMx2D,OAASsyC,EAC9B,KAAO+xG,EAAUrkJ,QAAUA,GACzB0R,KAAK4zI,eAEP,IAAIsD,EACA/C,EAAgB,EACpB,GAA+B,IAA3Bn0I,KAAK+B,QAAQ0hH,UACf,IAAK,IAAIj1H,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAChC0oJ,EAAavE,EAAUwB,KAAiB3uB,SACtCvuC,aAAaZ,KAAK,CAACvxB,EAAMt2D,WAI7B,IAAK,IAAIA,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAChC0oJ,EAAavE,EAAUwB,KAAiB3uB,SAASvuC,aAAaZ,KAAK,KAGvE,IAAK6gE,EACH,MAAM,IAAI7lJ,MAAM,sBAElB,MAAMy8B,EAAS,CAACopH,EAAWryB,QAAQ,IACnC,IAAK,IAAIr2H,EAAI,EAAGw3D,EAAMplB,EAAQ,EAAGpyC,EAAIw3D,EAAKx3D,IACxC0oJ,EAAavE,EAAUwB,KAAiB3uB,SAAS0xB,EAAWryB,SAC5D/2F,EAAO/3B,KAAKmhJ,EAAWryB,QAAQ,IAGjC,OADA7kH,KAAKyF,MACEwxE,aAAaZ,KAAKvoD,GAG3BkpH,oBAAAA,CAAqBlyF,GAAgC,IAATlkB,EAAKvyC,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAClD2R,KAAKu0I,gBACL,MAAM,MAAE/B,GAAUxyI,MACZ,UAAE2yI,GAAcH,EAChBlkJ,EAASw2D,EAAMx2D,OAASsyC,EAC9B,KAAO+xG,EAAUrkJ,QAAUA,GACzB0R,KAAK4zI,eAEP,IAAIsD,EACA/C,EAAgB,EACpB,IAAK,IAAI3lJ,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAChC0oJ,EAAavE,EAAUwB,KAAiB3uB,SAAS1gE,EAAMt2D,IAEzD,IAAK0oJ,EACH,MAAM,IAAI7lJ,MAAM,sBAElB,MAAMy8B,EAAS,CAACmpD,aAAaZ,KAAK6gE,EAAWryB,UAC7C,IAAK,IAAIr2H,EAAI,EAAGw3D,EAAMplB,EAAQ,EAAGpyC,EAAIw3D,EAAKx3D,IACxC0oJ,EAAavE,EAAUwB,KAAiB3uB,SAAS0xB,EAAWryB,SAC5D/2F,EAAO/3B,KAAKkhF,aAAaZ,KAAK6gE,EAAWryB,QAAQ1oH,MAAM,KAGzD,OADA6D,KAAKyF,MACEqoB,EAGTmpH,qBAAAA,CAAsBnyF,GAA+B,IAATlkB,EAAKvyC,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAG,EAClD,IAAK2R,KAAKklH,YACR,MAAM,IAAI7zH,MAAM,4BAElB,IAAK2O,KAAKolH,aACR,MAAM,IAAI/zH,MAAM,6BAElB,MAAMk3I,EAAgBzjF,EAAMh+B,KAAK9zB,GAC/ByrH,EAAOl7D,QACLvjD,KAAKklH,YACLlyH,EACAgN,KAAKmlH,qBAGT,OAAOnlH,KAAKg3I,qBAAqBzO,EAAe3nG,GAAO9Z,KAAK9zB,GAC1DyrH,EAAOkB,SAAS3/G,KAAKolH,aAA6BpyH,KAMtDw1H,KAAAA,CACEnzH,GAC4C,IAA5CovH,EAAAp2H,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAA0C,CAAC,EAE3C2R,KAAKykH,UAAYA,EAAY,IACxBqtB,MACArtB,GAG0B,IAA3BzkH,KAAK+B,QAAQ0hH,WAA+C,IAA5BzjH,KAAK+B,QAAQ2hH,YAC/C1jH,KAAKm3I,QAAQ9hJ,GAEf2K,KAAKo3I,aAEL,MAAM7O,EAAgBvoI,KAAKsoH,WAAWjzH,GACtC,IACI7G,EADAosB,EAAQ+vB,IAGZ3qC,KAAKwnH,sBACL,MAAM,WACJ1D,EAAU,YACVC,EAAW,UACXC,EAAS,SACT/2F,EAAQ,eACRm3F,GACEpkH,KAAKykH,UACH9rH,GAAwB,IAAlB8rH,EAAU9rH,IAAei6B,QAAQj6B,IAAM8rH,EAAU9rH,IAC7D,IAAKnK,EAAI,EAAGA,EAAIs1H,GAAclpG,EAAQmpG,EAAav1H,IAAK,CACtD,IAAIi0H,EAAM,EACV,IAAK,IAAI94B,EAAI,EAAGA,EAAI4+C,EAAcj6I,OAAQq7F,IAExC84B,GADYziH,KAAKioH,aAAasgB,EAAc5+C,IAAI,GAKlD,GAFA/uE,EAAQ6nG,EAAM8lB,EAAcj6I,OAExB4pD,MAAMt9B,GACR,MAAM,IAAIvpB,MACR,gKAEAsH,GAAOnK,EAAIw1H,IAAc,GAC3BrrH,EAAI,eAAenK,sBAAsBosB,KAEvCqS,GAAYz+B,EAAI41H,IAAmB,GACrCn3F,EAAS,CAAErS,QAAOkpG,WAAYt1H,IAIlC,MAAO,CACLosB,QACAkpG,WAAYt1H,GAIhB6oJ,iBAAAA,CAAkBvyF,GAChB,GAAIA,EAAMx2D,OAAS,EACjB,MAAM,IAAI+C,MAAM,uCAElB,MAAM,UAAEshJ,GAAc3yI,KAAKwyI,MAC3B,KAAOG,EAAUrkJ,OAASw2D,EAAMx2D,QAC9B0R,KAAK4zI,eAEP,IAAI1oB,EAAW,EACf,IAAK,IAAI18H,EAAI,EAAGw3D,EAAMlB,EAAMx2D,OAAS,EAAGE,EAAIw3D,EAAKx3D,IAC/C08H,GAAYynB,EAAUnkJ,GAAG8iJ,cAAcxsF,EAAMt2D,GAAIs2D,EAAMt2D,EAAI,IAG7D,OADAwR,KAAKyF,MACEylH,EAAWpmE,EAAMx2D,OAK1B25H,YAAAA,CAAanjE,EAAuB+jE,GAClC,MAAMjuG,EAAQ5a,KAAKq3I,kBAAkBvyF,GAIrC,OAHA9kD,KAAKoxI,gBACLpxI,KAAK8oH,gBAEDD,EACKjuG,EAEF,EAGTu8H,OAAAA,CAAQ9hJ,GACN,IAAIwxB,EAAO,EAEX,OADkB43F,EAAOqB,UAAUzqH,GAAMknB,KAAK,MAE5C,IAAK,qBACL,IAAK,sBACL,IAAK,2BACL,IAAK,4BACHsK,EAAO,EAEP,MACF,IAAK,2BACHA,EAAQxxB,EAAsB,GAAG,GAAG/G,OACpC,MACF,IAAK,4BAEHu4B,EAAO11B,OAAOkgB,KAAKotG,EAAOM,UAAU1pH,IAA0B/G,OAC9D,MACF,IAAK,iCACHu4B,EAASxxB,EAEL,GAAGyvD,MAAM,GAAGx2D,OAChB,MACF,IAAK,kCACHu4B,EAAO11B,OAAOkgB,KACZotG,EAAOW,eACL/pH,IAEF/G,OACF,MACF,QACE,MAAM,IAAI+C,MAAM,uCAEpB2O,KAAK+B,QAAU5Q,OAAOshJ,KAAK,IACtBzyI,KAAK+B,QACR0hH,UAAW58F,EACX68F,WAAY78F,IAIhBuwH,UAAAA,GACE,IAAIp3I,KAAK+B,QAAQ0hH,WAAazjH,KAAK+B,QAAQ2hH,aACrC1jH,KAAK+B,QAAQ0hH,YAAczjH,KAAK+B,QAAQ2hH,WAC1C,MAAM,IAAIryH,MAAM,kDAKtBqlJ,QAAAA,CAAS5xF,GACP9kD,KAAKu0I,gBACL,MAAM,UAAE5B,GAAc3yI,KAAKwyI,MAC3B,KAAOG,EAAUrkJ,QAAUw2D,EAAMx2D,QAC/B0R,KAAK4zI,eAEP,IAAIsD,EACJ,IAAK,IAAI1oJ,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAChC0oJ,EAAavE,EAAUnkJ,GAAGg3H,SAAS,IAAIvuC,aAAa,CAACnyB,EAAMt2D,MAG7D,OADAwR,KAAKyF,MACGyxI,EAAsBryB,QAAQ,GAGxC8xB,eAAAA,CAAgB7xF,GACd9kD,KAAKu0I,gBACL,MAAM,MAAE/B,GAAUxyI,MACZ,UAAE2yI,GAAcH,EACtB,KAAOG,EAAUrkJ,QAAUw2D,EAAMx2D,QAC/B0R,KAAK4zI,eAEP,IAAIsD,EACJ,IAAK,IAAI1oJ,EAAI,EAAGA,EAAIs2D,EAAMx2D,OAAQE,IAEhC0oJ,EADqBvE,EAAUnkJ,GAAGg3H,SAAS1gE,EAAMt2D,IACvBq2H,QAG5B,OADA7kH,KAAKyF,MACY,OAAVyxI,QAAU,IAAVA,EAAAA,EAAcjgE,aAAaZ,KAAK,IAGzCugE,SAAAA,CAAU9xF,GACR,IAAK9kD,KAAKklH,YACR,MAAM,IAAI7zH,MAAM,4BAElB,IAAK2O,KAAKolH,aACR,MAAM,IAAI/zH,MAAM,6BAElB,IAAK2O,KAAKqlH,mBACR,MAAM,IAAIh0H,MAAM,mCAElB,GAAI2O,KAAKklH,cAAgBllH,KAAKolH,aAAc,CAC1C,MAAMkyB,EAAa74B,EAAOgB,aAAaz/G,KAAKklH,YAAapgE,GACzD,OAAO25D,EAAOmB,gBACZ5/G,KAAKolH,aACLplH,KAAK+2I,cACHO,EACAt3I,KAAKqlH,mBAAqBiyB,EAAWhpJ,QAEvCgpJ,EAAWhpJ,QAGf,OAAOmwH,EAAOkB,SACZ3/G,KAAKolH,aACLplH,KAAK+2I,cACHt4B,EAAOl7D,QAAQvjD,KAAKklH,YAAapgE,EAAO9kD,KAAKmlH,mBAC7CnlH,KAAKqlH,qBAKXwxB,gBAAAA,CAAiB/xF,GACf,GAAyB,OAArB9kD,KAAKklH,YACP,MAAM,IAAI7zH,MAAM,4BAElB,GAA0B,OAAtB2O,KAAKolH,aACP,MAAM,IAAI/zH,MAAM,6BAElB,MAAM21H,EAAiBliE,EAAMh+B,KAAK9zB,GAChCyrH,EAAOl7D,QACLvjD,KAAKklH,YACLlyH,EACAgN,KAAKmlH,qBAGT,OAAOnlH,KAAKg3I,qBAAqBhwB,EAAgB,GAAGlgG,KAAK9zB,GACvDyrH,EAAOkB,SAAS3/G,KAAKolH,aAA6BpyH,KAClD,GAGJukJ,uBAAAA,CAAwBzyF,GACtB,IAAK9kD,KAAKklH,YACR,MAAM,IAAI7zH,MAAM,4BAElB,IAAK2O,KAAKolH,aACR,MAAM,IAAI/zH,MAAM,6BAElB,OAAOotH,EAAOkB,SACZ3/G,KAAKolH,aACLplH,KAAK22I,gBACHl4B,EAAOiB,SAAS1/G,KAAKklH,YAAapgE,EAAO9kD,KAAKmlH,qBAKpD1/G,GAAAA,GACEzF,KAAKwyI,MAAMG,UAAU3yI,KAAKwyI,MAAMG,UAAUrkJ,OAAS,GAAGk3H,SACpD,IAAIvuC,aAAaj3E,KAAK+B,QAAQ2hH,aAIlC8zB,uBAAAA,GACE,GAA+B,IAA3Bx3I,KAAK+B,QAAQ0hH,UACf,MAAM,IAAIpyH,MAAM,0CAElB,GAAgC,IAA5B2O,KAAK+B,QAAQ2hH,WACf,MAAM,IAAIryH,MAAM,2CAKpBomJ,WAAAA,CAAYpiJ,GACV,MAAMy4B,EAAS,GACf9tB,KAAKw3I,0BACL,IAAK,IAAIhpJ,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAK,CAAChhF,EAAK7G,MAEtC,MAAO,CAACs/B,GAIV4pH,kBAAAA,CAAmBriJ,GACjB,MAAMy4B,EAAS,IACT,UAAE21F,EAAS,WAAEC,GAAe1jH,KAAK+B,QACvC,GAAkB,IAAd0hH,GAAkC,IAAfC,EAAkB,CACvC,IAAK,IAAIl1H,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAK6rH,EAAqBvsH,EAAK7G,KAExC,OAAOs/B,EAET,GAAI21F,IAAcpuH,EAAK,GAAG/G,OACxB,MAAM,IAAI+C,MAAM,wCAElB,GAAIqyH,IAAeruH,EAAK,GAAG/G,OACzB,MAAM,IAAI+C,MAAM,0CAElB,IAAK,IAAI7C,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAKkhF,aAAaZ,KAAKhhF,EAAK7G,KAErC,MAAO,CAACs/B,GAIV6pH,mBAAAA,CAAoBtiJ,GAElB,GADA2K,KAAKw3I,2BACAx3I,KAAKklH,YAAa,CACrB,MAAM4jB,EAAc,IAAIvmB,EAAYltH,GACpC2K,KAAKklH,YAAcllH,KAAKolH,aAAe0jB,EAAY7pB,MACnDj/G,KAAKmlH,kBAAoBnlH,KAAKqlH,mBAAqByjB,EAAYx6I,OAEjE,MAAMw/B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAKqsH,EAAsB/sH,EAAK7G,KAEzC,OAAOs/B,EAIT8pH,wBAAAA,CAAyBviJ,GACvB,IAAK2K,KAAKklH,YAAa,CACrB,MAAM4jB,EAAc,IAAIvmB,EAAYltH,GACpC2K,KAAKklH,YAAcllH,KAAKolH,aAAe0jB,EAAY7pB,MACnDj/G,KAAKmlH,kBAAoBnlH,KAAKqlH,mBAAqByjB,EAAYx6I,OAEjE,MAAMw/B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAK,CACVusH,EAAqBjtH,EAAK7G,GAAIwR,KAAKklH,YAAallH,KAAKmlH,qBAGzD,OAAOr3F,EAIT+pH,yBAAAA,CAA0BxiJ,GACxB,MAAMy4B,EAAS,GACf9tB,KAAKw3I,0BACL,IAAK,IAAIhpJ,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMwiI,EAAQ37H,EAAK7G,GACnBs/B,EAAO/3B,KACL8rH,EACEmP,EAAMlsE,MACNksE,EAAM95C,SAIZ,OAAOppD,EAITgqH,0BAAAA,CAA2BziJ,GAEzB,GADA2K,KAAKw3I,2BACAx3I,KAAKklH,YAAa,CACrB,MAAMA,EAAc,IAAI3C,EAAYltH,EAAM,SAC1C2K,KAAKklH,YAAcA,EAAYjG,MAC/Bj/G,KAAKmlH,kBAAoBD,EAAY52H,OAEvC,IAAK0R,KAAKolH,aAAc,CACtB,MAAMA,EAAe,IAAI7C,EAAYltH,EAAM,UAC3C2K,KAAKolH,aAAeA,EAAanG,MACjCj/G,KAAKqlH,mBAAqBD,EAAa92H,OAEzC,MAAMw/B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMwiI,EAAQ37H,EAAK7G,GACnBs/B,EAAO/3B,KACLssH,EACE2O,EAAMlsE,MACNksE,EAAM95C,SAIZ,OAAOppD,EAITiqH,yBAAAA,CAA0B1iJ,GACxB,MAAMy4B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC/Bs/B,EAAO/3B,KAAK0rH,EAAsBpsH,EAAK7G,KAEzC,OAAOs/B,EAITkqH,0BAAAA,CAA2B3iJ,GACzB,IAAK2K,KAAKklH,YAAa,CACrB,MAAM4jB,EAAc,IAAIvmB,EAAYltH,GACpC2K,KAAKklH,YAAcllH,KAAKolH,aAAe0jB,EAAY7pB,MACnDj/G,KAAKmlH,kBAAoBnlH,KAAKqlH,mBAAqByjB,EAAYx6I,OAEjE,MAAMw/B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMu4B,EAAQ,GACd,IAAK,IAAI4iE,EAAI,EAAGA,EAAIt0F,EAAK7G,GAAGF,OAAQq7F,IAClC5iE,EAAMhxB,KACJusH,EACEjtH,EAAK7G,GAAGm7F,GACR3pF,KAAKklH,YACLllH,KAAKmlH,oBAIXr3F,EAAO/3B,KAAKgxB,GAEd,OAAO+G,EAITmqH,gCAAAA,CAAiC5iJ,GAC/B,MAAMy4B,EAAS,IACT,UAAE21F,EAAS,WAAEC,GAAe1jH,KAAK+B,QACvC,GAAI0hH,IAAepuH,EAAK,GAAGyvD,MAA2B,GAAGx2D,OACvD,MAAM,IAAI+C,MAAM,wCAElB,GAAIqyH,IAAgBruH,EAAK,GAAG6hF,OAA4B,GAAG5oF,OACzD,MAAM,IAAI+C,MAAM,0CAElB,IAAK,IAAI7C,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMwiI,EAAQ37H,EAAK7G,GACnBs/B,EAAO/3B,KACL4rH,EACEqP,EAAMlsE,MACNksE,EAAM95C,SAIZ,OAAOppD,EAIToqH,iCAAAA,CACE7iJ,GAKA,IAAK2K,KAAKklH,YAAa,CACrB,MAAMA,EAAc,IAAIoxB,GAAiBjhJ,EAAM,SAC/C2K,KAAKklH,YAAcA,EAAYjG,MAC/Bj/G,KAAKmlH,kBAAoBD,EAAY52H,OAEvC,IAAK0R,KAAKolH,aAAc,CACtB,MAAMA,EAAe,IAAIkxB,GAAiBjhJ,EAAM,UAChD2K,KAAKolH,aAAeA,EAAanG,MACjCj/G,KAAKqlH,mBAAqBD,EAAa92H,OAEzC,IAAK0R,KAAKqlH,mBACR,MAAM,IAAIh0H,MAAM,oDAElB,MAAMy8B,EAAS,GACf,IAAK,IAAIt/B,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAAK,CACpC,MAAMwiI,EAAQ37H,EAAK7G,GACnBs/B,EAAO/3B,KACLgsH,EACEiP,EAAMlsE,MACNksE,EAAM95C,OACNl3E,KAAKklH,YACLllH,KAAKolH,aACLplH,KAAKmlH,kBACLnlH,KAAKqlH,qBAIX,OAAOv3F,EAKTw6F,UAAAA,CAAWjzH,GAET,OADkBopH,EAAOqB,UAAUzqH,GAAMknB,KAAK,MAE5C,IAAK,eACH,OAAOvc,KAAKy3I,YAAYpiJ,GAC1B,IAAK,qBACH,OAAO2K,KAAK03I,mBAAmBriJ,GACjC,IAAK,sBACH,OAA+B,IAA3B2K,KAAK+B,QAAQ0hH,UACRzjH,KAAK23I,oBAAoBtiJ,GAEzB2K,KAAK43I,yBAAyBviJ,GAEzC,IAAK,2BACH,OAAO2K,KAAK63I,0BAA0BxiJ,GACxC,IAAK,4BACH,OAAO2K,KAAK83I,2BAA2BziJ,GACzC,IAAK,2BACH,OAAO2K,KAAK+3I,0BAA0B1iJ,GACxC,IAAK,4BACH,OAAO2K,KAAKg4I,2BAA2B3iJ,GACzC,IAAK,iCACH,OAAO2K,KAAKi4I,iCAAiC5iJ,GAC/C,IAAK,kCACH,OAAO2K,KAAKk4I,kCACV7iJ,GAKJ,QACE,MAAM,IAAIhE,MAAM,wCAItBuN,IAAAA,CAAKvJ,GAEH,MAAM41H,EAAa,GAGnB,IAAIC,EAAW,EACf,MAAMqd,EAAgBvoI,KAAKsoH,WAAWjzH,GACtC,IAAK,IAAI7G,EAAI,EAAGA,EAAI+5I,EAAcj6I,OAAQE,IAAK,CAC7C,MAAMs2D,EAAQyjF,EAAc/5I,GACtB0oF,EAASl3E,KAAK+iF,IAAIj+B,EAAMpiB,OAAO,EAAGoiB,EAAMx2D,OAAS,IACjD0V,EAAS8gD,EAAMA,EAAMx2D,OAAS,GACpC,IAAI8+C,EAAS,EACT+qG,EAAa,EACjB,IAAK,IAAIxuD,EAAI,EAAGA,EAAIzS,EAAO5oF,OAAQq7F,IAAK,CACtCwuD,IACA,MAAMv9H,EAAQ5W,EAAO2lF,GAAKzS,EAAOyS,GAEjCv8C,GAAUxyB,EAAQA,EAIpB,GAFAswG,GAAY99E,EAAS+qG,EACH/+I,KAAKy3H,IAAIzjF,GACXptC,KAAKykH,UAAUV,YAAa,CAC1C,MAAM0H,EAAYp2H,EAAsB7G,GACxCy8H,EAAWl1H,KAAK,CACd/C,MAAOy4H,EACPF,OAAQr0C,KAId,MAAO,CACLt8D,MAAOswG,EAAWqd,EAAcj6I,OAChC28H,aACAz5C,MAAO+2D,EAAcj6I,QAMzBy8H,SAAAA,CAAU/3H,mBAER,OADkByrH,EAAOqB,UAAU9sH,GAAOupB,KAAK,MAE7C,IAAK,qBACL,IAAK,2BACL,IAAK,eACL,IAAK,qBACH,OACF,IAAK,sBACHvc,KAAKklH,YAAczG,EAAOyB,QACvBltH,EAAyB8xD,MACV,QAD8B27D,EAC9CzgH,KAAKklH,mBAAW,IAAAzE,EAAAA,EAAI,CAAC,GAEnBzgH,KAAKklH,cACPllH,KAAKmlH,kBAAoBh0H,OAAOkgB,KAAKrR,KAAKklH,aAAa52H,QAEzD0R,KAAKolH,aAAe3G,EAAOyB,QACxBltH,EAAyBkkF,OACT,QAD8B8zC,EAC/ChrH,KAAKolH,oBAAY,IAAA4F,EAAAA,EAAI,CAAC,GAEpBhrH,KAAKolH,eACPplH,KAAKqlH,mBAAqBl0H,OAAOkgB,KAAKrR,KAAKolH,cAAc92H,QAE3D,MAEF,IAAK,gBACH0R,KAAKklH,YAAcllH,KAAKolH,aAAe3G,EAAOyB,QAC5CltH,EACgB,QADI0pI,EACpB18H,KAAKklH,mBAAW,IAAAwX,EAAAA,EAAI,CAAC,GAEnB18H,KAAKklH,cACPllH,KAAKmlH,kBAAoBnlH,KAAKqlH,mBAAqBl0H,OAAOkgB,KACxDrR,KAAKklH,aACL52H,QAEJ,MAEF,IAAK,sBAAuB,CAC1B,MAAM8pJ,EAAaplJ,EACnB,IAAK,IAAIxE,EAAI,EAAGA,EAAI4pJ,EAAW9pJ,OAAQE,IACrCwR,KAAKklH,YAAcllH,KAAKolH,aAAe3G,EAAOyB,QAC5Ck4B,EAAW5pJ,GACK,QADHg7I,EACbxpI,KAAKklH,mBAAW,IAAAskB,EAAAA,EAAI,CAAC,GAEnBxpI,KAAKklH,cACPllH,KAAKmlH,kBAAoBnlH,KAAKqlH,mBAAqBl0H,OAAOkgB,KACxDrR,KAAKklH,aACL52H,QAGN,MAEF,IAAK,4BAA6B,CAChC,MAAM8pJ,EAAaplJ,EACbqlJ,EAAaD,EAAWtzF,MAC9B,IAAK,IAAIt2D,EAAI,EAAGA,EAAI6pJ,EAAW/pJ,OAAQE,IACrCwR,KAAKklH,YAAczG,EAAOyB,QACxBm4B,EAAW7pJ,GACK,QADH8pJ,EACbt4I,KAAKklH,mBAAW,IAAAozB,EAAAA,EAAI,CAAC,GAEnBt4I,KAAKklH,cACPllH,KAAKmlH,kBAAoBh0H,OAAOkgB,KAAKrR,KAAKklH,aAAa52H,QAG3D,MAAMiqJ,EAAcH,EAAWlhE,OAC/B,IAAK,IAAI1oF,EAAI,EAAGA,EAAI+pJ,EAAYjqJ,OAAQE,IACtCwR,KAAKolH,aAAe3G,EAAOyB,QACzBq4B,EAAY/pJ,GACK,QADHgqJ,EACdx4I,KAAKolH,oBAAY,IAAAozB,EAAAA,EAAI,CAAC,GAEpBx4I,KAAKolH,eACPplH,KAAKqlH,mBAAqBl0H,OAAOkgB,KAAKrR,KAAKolH,cAAc92H,QAG7D,MAGF,QACE,MAAM,IAAI+C,MAAM,wCAMtB4mF,MAAAA,GACOj4E,KAAKwyI,OACRxyI,KAAKimH,aAEP,MAAM,MAAEusB,GAAUxyI,KACZ+B,EAAU,IAAK/B,KAAK+B,WAAYgwI,IAEtC,MAAO,CACL3hJ,KAAM4P,KAAKH,YAAYtP,KACvBwR,UACAikH,aAAcwsB,EAAMxsB,aAAal/F,KAAK+gH,IACpC,MAAM5b,EAA2C,CAAC,EAClD,IAAK,MAAMrwH,KAAKisI,EACTA,EAAY1wI,eAAeyE,KAChCqwH,EAAOrwH,GAAKisI,EAAYjsI,GAAGq8E,UAE7B,OAAOg0C,CAAM,IAEf6mB,gBAAiBN,EAAMM,gBAAgB76D,SACvCf,OAAQs7D,EAAMt7D,OAAOe,SACrBitC,YAAallH,KAAKklH,YAClBC,kBAAmBnlH,KAAKmlH,kBACxBC,aAAcplH,KAAKolH,aACnBC,mBAAoBrlH,KAAKqlH,oBAM7Bx9B,QAAAA,CAAS/B,GACP,MAAM,QAAE/jF,GAAY+jF,EACd8sD,EAAc,GACd5sB,EAAuC,GAG7ClgC,EAAKkgC,aAAa3mG,SAASwoH,IACzB,MAAM5b,EAAsC,CAAC,EAC7C,IAAK,MAAMrwH,KAAKisI,EACd5b,EAAOrwH,GAAKsvI,GAAOrjD,SAASggD,EAAYjsI,IACxCg3I,EAAY78I,KAAKk2H,EAAOrwH,IAE1BoqH,EAAajwH,KAAKk2H,EAA+B,IAGnD,MAAM6mB,EAAkB5H,GAAOrjD,SAAS/B,EAAKgtD,iBAC7CF,EAAY78I,KAAK+8I,GACjB,MAAM57D,EAASg0D,GAAOrjD,SAAS/B,EAAK5O,QAwBpC,OAvBA07D,EAAY78I,KAAKmhF,GAIjBl3E,KAAK+B,QAAU,IAAKs4H,QAAet4H,GACnC/B,KAAKklH,YAAcp/B,EAAKo/B,YACxBllH,KAAKmlH,kBAAoBr/B,EAAKq/B,kBAC9BnlH,KAAKolH,aAAet/B,EAAKs/B,aACzBplH,KAAKqlH,mBAAqBv/B,EAAKu/B,mBAE/BrlH,KAAKwyI,MAAQrhJ,OAAOshJ,KAAK,CACvBC,eAAe,EACf1sB,eACA9uC,SACA07D,cACAE,kBACAH,UAAW,GACXE,oBAAqB,KAEvB7yI,KAAK+yI,mBAAqBhxI,EAAQikH,aAAal/F,KAC5CD,GAAS,IAAIqkH,GAAOrkH,EAAM,KAE7B7mB,KAAK4zI,eACE5zI,KAKTksH,UAAAA,CAAW15E,GACT,MAAM,MACJggG,EAAK,YACLttB,EAAW,kBACXC,EAAiB,aACjBC,EAAY,mBACZC,GACErlH,MACE,UAAEyjH,GAAczjH,KAAK+B,SACrB,UAAE4wI,GAAcH,EAChBc,EAAWX,EAAU,IACrB,OAAEhoD,GAAW2oD,EACbwB,EAAan+D,KAAKC,UAAU52E,KAAKi4E,UAEvC,SAAS88D,EAAwBz6F,GAC/B,MAAM06F,EAAaxC,EAAMK,oBAAoB,IACvC,OAAEloD,GAAWgoD,EAAU,GAC7B,IAAK,IAAInkJ,EAAI,EAAGw3D,EAAM2kC,EAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IAC5C,GAAIm8F,EAAOn8F,GAAGkgJ,UAAYp0F,EACxB,OAAO9rD,EAGX,OAAOwmJ,EAAWvjJ,QAAQ6oD,GAG5B,SAAS26F,EAAa36F,EAAW46F,GAC/B,IAAK,IAAI1mJ,EAAI,EAAGw3D,EAAM2kC,EAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACjD,MAAMuyB,EAAQ4pE,EAAOn8F,GAErB,GAAIA,IAAM0mJ,EAAY,CACpB,MAAMvrD,EAAIorD,EAAwBz6F,GAClC,OAAQA,GACN,KAAKv5B,EAAM/M,KACT,GAAI21E,GAAK,EACP,MAAO,qBAAqBA,gCAAgCA,2BAA2BrvC,EAAE6wF,SAAS7wF,EAAE8wF,WAGxG,KAAKrqH,EAAMw6C,MACT,GAAIouB,GAAK,EACP,MAAO,qBAAqBA,gCAAgCA,2BAA2BrvC,EAAE6wF,SAAS7wF,EAAE8wF,WAGxG,KAAKrqH,EAAM2tH,QACT,MAAO,cAAcp0F,EAAE6wF,SAAS7wF,EAAE8wF,WACpC,QACE,MAAM/5I,MAAM,kBAIlB,GAAIipD,IAAMv5B,EAAM2tH,QAAS,MAAO,UAAUlgJ,aAC1C,GAAI8rD,IAAMv5B,EAAMw6C,MAAO,MAAO,UAAU/sE,WACxC,GAAI8rD,IAAMv5B,EAAM/M,KAAM,MAAO,UAAUxlB,UAEzC,MAAO,GAGT,SAAS2mJ,EAAe76F,EAAW46F,GACjC,IAAK56F,IAAMA,EAAE6wF,OAAS7wF,EAAE8wF,QAAS,MAAO,OACxC,GAAI9wF,IAAMk4F,EAAMM,gBAAiB,MAAO,uBACxC,GAAIx4F,IAAMk4F,EAAMt7D,OAAQ,MAAO,cAE/B,IAAK,IAAI1oF,EAAI,EAAGw3D,EAAMwsF,EAAMxsB,aAAa13H,OAAQE,EAAIw3D,EAAKx3D,IAAK,CAC7D,MAAMq5I,EAAc2K,EAAMxsB,aAAax3H,GACvC,IAAK,MAAMoN,KAAKisI,EACd,GAAKA,EAAY1wI,eAAeyE,IAC5BisI,EAAYjsI,KAAO0+C,EACvB,MAAO,qBAAqB9rD,MAAMoN,IAItC,OAAOq5I,EAAa36F,EAAG46F,GAGzB,SAASuD,IACP,OAAKvzB,EACa,IAAdzB,EACEyB,IAAgBE,EACX,0DACSzuC,KAAKC,UAAUsuC,+OAS1B,wDACSvuC,KAAKC,UAAUsuC,+KAQ1B,0DACSvuC,KAAKC,UAAUsuC,uKAIIC,6MA3BV,GAqC3B,SAASuzB,IACP,OAAKtzB,EACa,IAAd3B,EACEyB,IAAgBE,EACX,0EACSzuC,KAAKC,UAAUwuC,oSAW1B,0DACSzuC,KAAKC,UAAUwuC,oKAQ1B,wDACSzuC,KAAKC,UAAUwuC,qJAzBL,GAkC5B,SAASgwB,EAAQr7D,GAKf,MAAMs7D,EAAUt7D,EAAS79E,WAAW7I,MAAM,KAC1CgiJ,EAAQ52F,QAER,MACM62F,EADeD,EAAQ94H,KAAK,KACDlpB,MAAM,KAGvC,OAFAiiJ,EAAYz/I,MAELy/I,EACJ/4H,KAAK,KACLlpB,MAAM,MACNkpB,KAAK,cACL9oB,QAAQ,yBAA0B,IAClCA,QAAQ,8BAA+B,IACvCA,QAAQ,8BAA+B,IACvCA,QAAQ,gCAAiC,IACzCA,QAAQ,yCAA0C,IAGvD,SAAS8hJ,EAASC,GAChB,MAAO,wBAAwBA,EAAO/hJ,QAAQ,UAAU,SAAUT,GAChE,MAAO,IAAIA,EAAM+L,wBAIrB,MAAM02I,EAAY,GACZC,EAAuD,CAAC,EACxDC,EAAuB,GAC7B,IAAK,IAAInnJ,EAAI,EAAGw3D,EAAM2kC,EAAOr8F,OAAQE,EAAIw3D,EAAKx3D,IAAK,CACjD,MAAMuyB,EAAQ4pE,EAAOn8F,GACrBinJ,EAAU1/I,KAAK,UAAUvH,wBAChBuyB,EAAM8vH,UAAUtgJ,uBACjBwwB,EAAM/M,KAAOmhI,EAAep0H,EAAM/M,KAAMxlB,GAAK,8BAC5CuyB,EAAMw6C,MAAQ45E,EAAep0H,EAAMw6C,MAAO/sE,GAAK,gCAC7C2mJ,EAAep0H,EAAM2tH,QAASlgJ,aAGzC,MAAMgnJ,EAASz0H,EAAM8vH,UAAUtgJ,KAC1BmlJ,EAAkBF,KACrBE,EAAkBF,IAAU,EACT,UAAfz0H,EAAMxwB,MACRolJ,EAAqB5/I,KAAK,SAASy/I,OACnCG,EAAqB5/I,KACnBmvH,GAA6B,IAAdzB,EACX,sGACc,IAAdA,EACA,iCACA,gCAENkyB,EAAqB5/I,KAAK,WAE1B4/I,EAAqB5/I,KACnB,iBAAiBy/I,MACJ,cAAXA,EACI,oBAAoBD,EAASC,KAC7B,iBAENJ,EAAQr0H,EAAM8vH,UAAU30I,kCAOhC,MAAMy8I,EAA8B,IAAdl1B,GAAmBzjH,KAAKolH,aACxC9qF,EAAM,mBACAt6B,KAAKklH,YAAc,wBAA0B,6BAC9C4vB,4FAMX6D,EACIzzB,IAAgBE,EACdD,EACA,mBAAkBE,EAAqB,GACzC,0GAKFowB,EAAUl5H,KAAK,wDAEfk5H,EAAUnnJ,uNAQdqnJ,EAAqBp5H,KAAK,8BAIR,IAAdknG,GAAmByB,EACf,sEACA,6CAINE,EACIA,IAAiBF,EACf,4CACA,8BACY,IAAdzB,EACA,mBACA,uBAEJg1B,UACAC,+JAOAlI,GAAQt0I,WAAWzI,QAAQ,aAAc,gBACzCkvH,EAAYzmH,iBACZ21I,GAAQ31I,iBACRw1I,GAAKx1I,aAEL,OAAO,IAAI89E,SAAS,WAAYxnC,EAAKA,EAAGlY,GAAOA,IAY5C,MAAMm8G,GAAgB,IAAK3E,UC5yCrB8G,WAAoBpC,GAC/BrD,cAAAA,CAAeC,EAAoBhtB,GACjC,OAAOyvB,GAAkBzC,EAAYhtB,GAGvCitB,WAAAA,CACEC,EACAC,EACAC,EACA3L,GAEA,OAAOiO,GACLxC,EACAC,EACAC,EACA3L,UCDOgR,WAAazG,GACxBe,cAAAA,CAAeC,EAAoBhtB,GACjC,OAAO0yB,GAAmB1F,EAAYhtB,GAGxCitB,WAAAA,CACEC,EACAC,EACAC,EACA3L,GAEA,OAAOkR,GACLzF,EACAC,EACAC,EACA3L,aAKUiR,GACd1F,EACAhtB,GAEA,MAAO,CAGLmtB,YAAa,IAAIvH,GAAaoH,EAAYhtB,EAAU,KACpD4yB,YAAa,IAAIhN,GAAaoH,EAAYA,EAAY,KACtD6F,UAAW,IAAI/N,GAAOkI,EAAY,GAElC8F,aAAc,IAAIlN,GAAaoH,EAAYhtB,EAAU,KACrD+yB,aAAc,IAAInN,GAAaoH,EAAYA,EAAY,KACvDgG,WAAY,IAAIlO,GAAOkI,EAAY,GAEnCwB,aAAc,IAAI5I,GAAaoH,EAAYhtB,EAAU,KACrDizB,aAAc,IAAIrN,GAAaoH,EAAYA,EAAY,KACvDkG,WAAY,IAAIpO,GAAOkI,EAAY,GAGnCmG,qBAAsB,IAAIvN,GAAaoH,EAAYhtB,EAAU,KAC7DozB,qBAAsB,IAAIxN,GAAaoH,EAAYA,EAAY,KAC/DqG,mBAAoB,IAAIvO,GAAOkI,EAAY,GAE/C,UAEgB2F,GACdzF,EACAC,EACAC,EACA3L,GAEA,IACGA,EAAY0L,cACZ1L,EAAYmR,cACZnR,EAAYoR,YACZpR,EAAYqR,eACZrR,EAAYsR,eACZtR,EAAYuR,aACZvR,EAAY+M,eACZ/M,EAAYwR,eACZxR,EAAYyR,aACZzR,EAAY0R,uBACZ1R,EAAY2R,uBACZ3R,EAAY4R,mBAEb,MAAM,IAAIpoJ,MAAM,iDAGlB,MAAMg/I,EAAUiD,EAASjD,QAAQ1nH,KAAK2qH,GAChCp1I,EAAMo1I,EAASp1I,IAAIyqB,KAAK2qH,GACxBxE,EAAWwE,EAASxE,SAASnmH,KAAK2qH,GAClCzD,EAAkByD,EAASzD,gBAAgBlnH,KAAK2qH,GAChD/sF,EAAO+sF,EAAS/sF,KAAK59B,KAAK2qH,GAE1BnS,EAAYkP,EAChBnyI,EACEA,EACE4wI,EAASjH,EAAY0L,YAAaA,GAClCzE,EAASjH,EAAYmR,YAAaxF,IAEpC3L,EAAYoR,YAIV1X,EAAa8O,EACjBnyI,EACEA,EACE4wI,EAASjH,EAAYqR,aAAc3F,GACnCzE,EAASjH,EAAYsR,aAAc3F,IAErC3L,EAAYuR,aAKVzX,EAAa0O,EACjBnyI,EACEA,EACE4wI,EAASjH,EAAY+M,aAAcrB,GACnCzE,EAASjH,EAAYwR,aAAc7F,IAErC3L,EAAYyR,aAKVI,EAAYnzF,EAChBroD,EACEA,EACE4wI,EAASjH,EAAY0R,qBAAsBhG,GAC3CzE,EAASjH,EAAY2R,qBAAsBhG,IAE7C3L,EAAY4R,qBAKVzX,EAAa6N,EAAgBtO,EAAYiS,GACzCvR,EAAY4N,EAAgB1O,EAAWuY,GAI7C,OAAO7J,EAAgBlO,EAAYp7E,EAHtBroD,EAAI8jI,EAAYC,IAI/B,OC1Ia0X,WAAqBnD,GAChCrD,cAAAA,CAAeC,EAAoBhtB,GACjC,OAAO0yB,GAAmB1F,EAAYhtB,GAGxCitB,WAAAA,CACEC,EACAC,EACAC,EACA3L,GAEA,OAAOkR,GACLzF,EACAC,EACAC,EACA3L,aCfU54H,GAAMzJ,EAAeC,GACnC,MAAMqoB,EAAmB,GACzB,KAAOtoB,EAAQC,EAAKD,IAClBsoB,EAAO/3B,KAAKyP,GAEd,OAAOsoB,CACT,UCZgBy1B,GACd2vC,GAEA,OAAIn+F,MAAMC,QAAQk+F,GACTjc,aAAaZ,KAAK6c,GAGpBjc,aAAaZ,KAAKllF,OAAO+hG,OAAOA,GACzC,UCmCgB0mD,GAASC,GAST,IATU,OACxBC,EAAM,OACNC,EAAM,OACNC,EAAM,OACN3sB,EAAM,IACNvsG,EAAG,KACHqtC,EAAI,SACJ8rF,EAAQ,cACRC,GACcL,EACVM,EAAM,2BACOL,EAAS,EAAIE,wBACbD,EAAS,EAAIj5H,EAAMi5H,EAASC,4BACxB,EAAIA,6BACH,EAAIA,yFAGN3sB,EAAO3+G,gCACN2+G,EAAO+sB,uDAEVN,EAAS,yBACTC,EAAS,EAAIj5H,EAAMi5H,yBACnBD,EAAS,EAAIE,yBACbD,EAAS,EAAIj5H,EAAMi5H,mCACT5rF,EAAKz/C,sBAAsBy/C,EAAK/hD,gCACvC+hD,EAAKisF,gBAS1B,OARI/sB,EAAOp6D,SACTknF,GAAO,2BACQL,EAAS,wBACTC,EAAS,EAAIj5H,EAAMi5H,EAAS,4DAEpBE,4BACJC,MAAkB7sB,EAAOp6D,OAAOnyC,aAE9Cq5H,CACT,UAOgBE,GAAUC,GAOT,IAPU,OACzBR,EAAM,OACNC,EAAM,IACNj5H,EAAG,OACHutC,EAAM,OACN2rF,EAAM,OACNO,GACeD,EACf,MAAO,4BACSR,EAAS,EAAIzrF,EAASyrF,uBACtBC,EAAS,EAAIj5H,EAAMi5H,sBACpBC,mFAGGO,EAAO7rI,8BACN6rI,EAAOH,eAC5B,UAQgBI,GAAUC,GAQT,IARU,OACzBX,EAAM,OACNC,EAAM,IACNj5H,EAAG,OACHutC,EAAM,KACNF,EAAI,QACJ22D,EAAO,OACPk1B,GACeS,EACf,MAAO,4BACSX,EAAS,EAAIzrF,EAASyrF,uBACtBC,EAAS,EAAIj5H,EAAMi5H,sBACpBC,mFAGGl1B,EAAQp2G,8BACPo2G,EAAQs1B,mDAEXN,EAAS,EAAIzrF,EAASyrF,EAASE,uBAC/BD,EAAS,EAAIj5H,EAAMi5H,uBACnBD,EAAS,EAAIzrF,EAASyrF,EAASA,EAAS,uBACxCC,EAAS,EAAIj5H,EAAMi5H,iCACT5rF,EAAKz/C,sBAAsBy/C,EAAK/hD,8BACvC+hD,EAAKisF,eAC1B,UASgBM,GAAuBC,GAST,IATU,OACtCb,EAAM,OACNC,EAAM,IACNj5H,EAAG,OACHutC,EAAM,OACN2rF,EAAM,MACNY,EAAK,KACLzsF,EAAI,wBACJ4mF,GAC4B4F,EAC5B,MAAO,0BACSb,EAAS,GAAKzrF,EAAS,GAAKyrF,EAASE,uBACrCY,EAAQ,EAAI7F,EAA0B6F,uBACtCd,EAAS,EAAIzrF,EAASyrF,EAASE,uBAC/BD,EAAS,EAAIj5H,EAAMi5H,iCACT5rF,EAAKz/C,sBAAsBy/C,EAAK/hD,8BACvC+hD,EAAKisF,eAC1B,UAegBS,GACd94I,GAEA,MAAM,MAAE2iH,EAAK,OAAEr4G,EAAM,MAAED,GAAUrK,EACjC,IAAIo4I,EAAM,GACV,MAAML,EAAS1tI,EAAQs4G,EAAMp2H,OAC7B,IAAK,IAAI+/D,EAAS,EAAGA,EAASq2D,EAAMp2H,OAAQ+/D,IAAU,CACpD,MAAMxnC,EAAO69F,EAAMr2D,GACb0rF,EAAS1tI,EAASwa,EACxB,IAAK,IAAI/F,EAAM,EAAGA,EAAM+F,EAAM/F,IAC5B,GAAe,IAAXutC,EACF8rF,GAAOP,GAAU,CAAEE,SAAQC,SAAQj5H,MAAKutC,YAAWtsD,QAC9C,CACDssD,IAAWq2D,EAAMp2H,OAAS,EAC5B6rJ,GAAOK,GAAW,CAAEV,SAAQC,SAAQj5H,MAAKutC,YAAWtsD,IAEpDo4I,GAAOE,GAAW,CAAEP,SAAQC,SAAQj5H,MAAKutC,YAAWtsD,IAEtD,MAAM+4I,EAAep2B,EAAMr2D,EAAS,GAC9BusF,EAAQvuI,EAASyuI,EACvB,IACE,IAAI/F,EAA0B,EAC9BA,EAA0B+F,EAC1B/F,IAEAoF,GAAOO,GAAwB,CAC7BZ,SACAC,SACAj5H,MACAutC,SACAusF,QACA7F,6BACGhzI,KAMb,OAAOo4I,CACT,UAOgBY,GAAwBC,GAOT,IAPU,OACvClB,EAAM,OACNC,EAAM,IACNj5H,EAAG,OACHutC,EAAM,OACN2rF,EAAM,cACNiB,GAC6BD,EAC7B,MAAME,EAAQpB,EAAS,EAAIzrF,EAASyrF,EAASE,EAAS,EAChDmB,EAAQpB,EAAS,EAAIj5H,EAAMi5H,EAC3BlpJ,EAAIqqJ,EAAiB,EAATlB,EAAa,EAM/B,MAAO,6BACYkB,KAASC,OALjBtqJ,EAAI,OADLsqJ,EAEK,OACJD,EAAQ,OACRC,EAAQ,OAE8CtqJ,KANvDsqJ,6BAOYF,EAAcvsI,uCACRusI,EAAc7uI,gJAIrB6uI,EAAcb,eACrC,UAOgBgB,GACdr5I,GAEA,MAAM,MAAEqK,EAAK,OAAEC,EAAM,cAAE4uI,EAAa,MAAEv2B,EAAK,OAAEs1B,GAAWj4I,EAClD+3I,EAAS1tI,EAAQs4G,EAAMp2H,OAC7B,IAAI6rJ,EAAM,4LAEuCc,EAAcvsI,0DAG/DyrI,GAAOU,GAAwB94I,GAC/B,IAAK,IAAIssD,EAAS,EAAGA,EAASq2D,EAAMp2H,OAAQ+/D,IAAU,CACpD,MAAMxnC,EAAO69F,EAAMr2D,GACb0rF,EAAS1tI,EAASwa,EACxB,IAAK,IAAI/F,EAAM,EAAGA,EAAM+F,EAAM/F,IAC5Bq5H,GAAOY,GAAyB,CAC9BjB,SACAC,SACAj5H,MACAutC,SACA2rF,SACAiB,kBAIN,OAAOd,CACT,UAEgBkB,GAAqBhpB,GACnC,MAAM,QAAEtwH,GAAYswH,EACpB,IAAKtwH,EACH,MAAM,IAAI1Q,MAAM,uBAElB,IAAK0Q,EAAQ2yH,WACX,MAAM,IAAIrjI,MAAM,kCAElB,IAAK0Q,EAAQikH,aACX,MAAM,IAAI30H,MAAM,oCAElB,GAAI0Q,EAAQikH,aAAa13H,OAAS,EAChC,MAAM,IAAI+C,MAAM,iCAElB,IAAK0Q,EAAQ4iH,YACX,MAAM,IAAItzH,MAAM,mCAElB,MAAMqjI,EAAa3yH,EAAQ2yH,aACrB1O,EAAe,GACrBA,EAAajwH,KAAKgM,EAAQikH,aAAa,GAAG0O,EAAY,IACtD,IAAK,IAAIlmI,EAAI,EAAGA,EAAIuT,EAAQikH,aAAa13H,OAAQE,IAC/Cw3H,EAAajwH,KAAKgM,EAAQikH,aAAax3H,GAAGw3H,EAAax3H,EAAI,GAAIA,IAEjE,MAAMm2H,EAAc5iH,EAAQ4iH,YAC1BqB,EAAaA,EAAa13H,OAAS,GACnC03H,EAAa13H,QAEf,MAAO,CACLm1H,UAAWiR,EAAWroH,OACtB25G,aAAcA,EAAal/F,KAAK+gH,GAAwBA,EAAYx7H,SACpEq3G,WAAYiB,EAAYt4G,OAE5B,UAEgBivI,GAAmBjpB,GACjC,MAAMrM,EAAyB,IACzB,QAAEjkH,GAAYswH,EACpB,IAAKtwH,EAAQ2yH,WACX,MAAM,IAAIrjI,MAAM,0BAElB,IAAK0Q,EAAQ4iH,YACX,MAAM,IAAItzH,MAAM,2BAElB,MAAMqjI,EAAa3yH,EAAQ2yH,aAC3B1O,EAAajwH,KAAKgM,EAAQikH,aAAa,GAAG0O,EAAY0P,KAAkB,IACxE,IAAK,IAAI51I,EAAI,EAAGA,EAAIuT,EAAQikH,aAAa13H,OAAQE,IAC/Cw3H,EAAajwH,KACXgM,EAAQikH,aAAax3H,GAAGw3H,EAAax3H,EAAI,GAAI41I,KAAkB51I,IAGnE,MAAMm2H,EAAc5iH,EAAQ4iH,YAC1BqB,EAAaA,EAAa13H,OAAS,IAClC,GAEH,MAAO,CACLm1H,UAAWiR,EAAWroH,OACtB25G,aAAcA,EAAal/F,KAAK+gH,GAAwBA,EAAYx7H,SACpEq3G,WAAYiB,EAAYt4G,OAE5B,UAEgBkvI,GACdC,EACApvI,EACAC,GAGA,MAAO,+JAIYD,2BACCC,MAAWmvI,SACjC,UAEgBC,GAA0B31D,GACxC,OAAOA,EAAK4+B,KACd,UAEgBg3B,GAIdhS,GAIA,MAAM,QAAE3nI,EAAO,MAAE2iH,GAAUglB,GACrB,UAAEjmB,EAAS,WAAEC,EAAU,aAAEsC,GAAiBjkH,EAChD,IAAK2iH,EAAO,CACV,GAAyB,kBAAdjB,GAA0BA,EAAY,EAC/C,MAAM,IAAIpyH,MAAM,qBAElB,GAA0B,kBAAfqyH,GAA2BA,EAAa,EACjD,MAAM,IAAIryH,MAAM,sBAElB,GAAgB,OAAZ20H,QAAY,IAAZA,OAAY,EAAZA,EAAc5Y,MAAMx7C,GAAMA,EAAI,IAChC,MAAM,IAAIvgE,MAAM,wBAGpB,MAA4B,kBAAdoyH,GACZ1uH,MAAMC,QAAQgxH,IACQ,kBAAftC,EACL,CAACD,GAAW32F,OAAOk5F,GAAcl5F,OAAO,CAAC42F,IACzCgB,CACN,UAEgBi3B,GACdjS,GAEA,MAAM,QAAE3nI,GAAY2nI,GACd,UAAEjmB,EAAS,WAAEC,EAAU,aAAEsC,GAAiBjkH,EAChD,MAAO,CAAC0hH,GAAW32F,OAAOk5F,GAAcl5F,OAAO,CAAC42F,GAClD,UAEgB90D,KACd,MAAO,CACLT,KAAM,CACJ/hD,MAAO,GACPsC,MAAO,QACP0rI,UAAW,cAEba,cAAe,CACb7uI,MAAO,EACPsC,MAAO,MACP0rI,UAAW,cAEb/sB,OAAQ,CACN3+G,MAAO,uBACPukD,OAAQ,KACRmnF,UAAW,SAEbt1B,QAAS,CACPp2G,MAAO,2BACP0rI,UAAW,UAEbG,OAAQ,CACN7rI,MAAO,0BACP0rI,UAAW,iBAEbH,SAAU,OACVC,cAAe,QACfF,OAAQ,EACR5tI,MAAO,IACPC,OAAQ,IACRq4G,MAAO,GAEX,UAWgBk3B,GAqBdlS,EACA3nI,GAIA,MAAM85I,EAAgB,IAAKjtF,QAAqB7sD,IAC1C,MAAEqK,EAAK,OAAEC,EAAM,OAAEghH,GAAWwuB,EAGlC,IAAIn3B,EAAkB,GACtB,GAAIglB,aAAellB,GAAiBklB,aAAerb,GACjD3J,EAAQg3B,GAAsBhS,QAG3B,GAAIA,aAAeO,GAAW,CACjC,MAAM,UAAExmB,EAAS,aAAEuC,EAAY,WAAEtC,GAAe43B,GAAmB5R,GACnEhlB,EAAQ,CAACjB,GAAW32F,OAAOk5F,GAAcl5F,OAAO,CAAC42F,SAG9C,GAAIgmB,aAAe5C,GAAa,CACnC,MAAM,UAAErjB,EAAS,aAAEuC,EAAY,WAAEtC,GAAe23B,GAAqB3R,GACrEhlB,EAAQ,CAACjB,GAAW32F,OAAOk5F,GAAcl5F,OAAO,CAAC42F,QAG9C,IACHgmB,aAAe0I,IACf1I,aAAemP,IACfnP,aAAekM,IACflM,aAAe8M,IACf9M,aAAeiQ,IACfjQ,aAAekP,GAEf,OAAO2C,GACLH,GAAc,IACTS,EACHn3B,MAAOo3B,GACLH,GACGjS,GAQHrc,EAAOp6D,UAGX7mD,EACAC,GAIC,GAAIq9H,EAAIvyI,eAAe,QAC1B,OAASuyI,EAA2Bt5I,MAClC,IAAK,gBACL,IAAK,mBACH,OAAOmrJ,GACLV,GAAwB,IACnBgB,EACHn3B,MAAOo3B,GACLL,GAA0B/R,GAC1Brc,EAAOp6D,UAGX7mD,EACAC,GAEJ,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,cACL,IAAK,cACL,IAAK,eACH,OAAOkvI,GACLH,GAAc,IACTS,EACHn3B,MAAOo3B,GAAWH,GAAYjS,GAAkBrc,EAAOp6D,UAEzD7mD,EACAC,GAEJ,QACE,MAAM,IAAIhb,MAAM,6BAEf,GACLq4I,EAAIvyI,eAAe,cACnBuyI,EAAIvyI,eAAe,iBACnBuyI,EAAIvyI,eAAe,cACnB,CACA,MAAM,UAAEssH,EAAS,aAAEuC,EAAY,WAAEtC,GAAegmB,EAChDhlB,EAAQ,CAACjB,KAAcuC,EAActC,OAChC,KAAIgmB,EAAIvyI,eAAe,SAG5B,MAAM,IAAI9F,MAAM,wBAFhBqzH,EAASglB,EAAehlB,OAI1B,OAAO62B,GACLV,GAAwB,IACnBgB,EACHn3B,MAAOo3B,GAAWp3B,EAAO2I,EAAOp6D,UAElC7mD,EACAC,EAEJ,UAEgByvI,GACdp3B,EACAzxD,GAEA,IAAKyxD,EACH,MAAM,IAAIrzH,MAAM,iBAElB,GAAIqzH,EAAMtX,MAAMvmF,GAAiBA,EAAO,IACtC,MAAM,IAAIx1B,MAAM,2BAElB,GAAI4hE,GAAUA,EAAO3kE,SAAWo2H,EAAM,GACpC,MAAM,IAAIrzH,MAAM,gCAElB,OAAOqzH,CACT,OCriBMq3B,GAAY,CAChBvF,eACAmD,gBACAf,eACAxG,OACAyG,QACAjD,QAGIoG,GAAY,CAChBh2F,UACAw8D,OACAoc,GACAC,iBACAod,EACAv5B,eACAS,SACAl0G,SACAs0C,WACA0oF,uBACA3oB,EACAs4B,2SCxCE7sJ,EAAqBF,OAAOC,IAAI,8BAEpC,SAASotJ,EAAQ9rJ,EAAM2zD,EAAQo4F,GAC7B,IAAIxwI,EAAM,KAGV,QAFA,IAAWwwI,IAAaxwI,EAAM,GAAKwwI,QACnC,IAAWp4F,EAAOp4C,MAAQA,EAAM,GAAKo4C,EAAOp4C,KACxC,QAASo4C,EAEX,IAAK,IAAIr9C,KADTy1I,EAAW,CAAC,EACSp4F,EACnB,QAAUr9C,IAAay1I,EAASz1I,GAAYq9C,EAAOr9C,SAChDy1I,EAAWp4F,EAElB,OADAA,EAASo4F,EAAShgI,IACX,CACL9rB,SAAUtB,EACVqB,KAAMA,EACNub,IAAKA,EACLwQ,SAAK,IAAW4nC,EAASA,EAAS,KAClCx/C,MAAO43I,EAEX,CAlBwBttJ,OAAOC,IAAI,kBAoBnCiyD,EAAQq7F,IAAMF,EACdn7F,EAAQs7F,KAAOH,8BC9Bb96F,EAAOL,QAAU,EAAjBK,+BCQF,SAASrrD,EAAKumJ,EAAM5tJ,GAClB,IAAI+G,EAAQ6mJ,EAAKhuJ,OACjBguJ,EAAKvmJ,KAAKrH,GACV8V,EAAG,KAAO,EAAI/O,GAAS,CACrB,IAAI8mJ,EAAe9mJ,EAAQ,IAAO,EAChC2hB,EAASklI,EAAKC,GAChB,KAAI,EAAI7nH,EAAQtd,EAAQ1oB,IAEnB,MAAM8V,EADR83I,EAAKC,GAAe7tJ,EAAQ4tJ,EAAK7mJ,GAAS2hB,EAAU3hB,EAAQ8mJ,CAEjE,CACF,CACA,SAASC,EAAKF,GACZ,OAAO,IAAMA,EAAKhuJ,OAAS,KAAOguJ,EAAK,EACzC,CACA,SAASzmJ,EAAIymJ,GACX,GAAI,IAAMA,EAAKhuJ,OAAQ,OAAO,KAC9B,IAAI2wE,EAAQq9E,EAAK,GACftxH,EAAOsxH,EAAKzmJ,MACd,GAAIm1B,IAASi0C,EAAO,CAClBq9E,EAAK,GAAKtxH,EACVxmB,EAAG,IACD,IAAI/O,EAAQ,EAAGnH,EAASguJ,EAAKhuJ,OAAQmuJ,EAAanuJ,IAAW,EAC7DmH,EAAQgnJ,GAER,CACA,IAAIlN,EAAY,GAAK95I,EAAQ,GAAK,EAChCue,EAAOsoI,EAAK/M,GACZC,EAAaD,EAAY,EACzBh0E,EAAQ+gF,EAAK9M,GACf,GAAI,EAAI96G,EAAQ1gB,EAAMgX,GACpBwkH,EAAalhJ,GAAU,EAAIomC,EAAQ6mC,EAAOvnD,IACpCsoI,EAAK7mJ,GAAS8lE,EACf+gF,EAAK9M,GAAcxkH,EACnBv1B,EAAQ+5I,IACP8M,EAAK7mJ,GAASue,EACfsoI,EAAK/M,GAAavkH,EAClBv1B,EAAQ85I,OACV,MAAIC,EAAalhJ,GAAU,EAAIomC,EAAQ6mC,EAAOvwC,IAE9C,MAAMxmB,EADR83I,EAAK7mJ,GAAS8lE,EAAS+gF,EAAK9M,GAAcxkH,EAAQv1B,EAAQ+5I,CACjD,CACd,CACF,CACA,OAAOvwE,CACT,CACA,SAASvqC,EAAQlwB,EAAGO,GAClB,IAAI23I,EAAOl4I,EAAEm4I,UAAY53I,EAAE43I,UAC3B,OAAO,IAAMD,EAAOA,EAAOl4I,EAAEizB,GAAK1yB,EAAE0yB,EACtC,CAEA,GADAspB,EAAQlpD,kBAAe,EACnB,kBAAoB+kJ,aAAe,oBAAsBA,YAAYhlJ,IAAK,CAC5E,IAAIilJ,EAAmBD,YACvB77F,EAAQlpD,aAAe,WACrB,OAAOglJ,EAAiBjlJ,KAC1B,CACF,KAAO,CACL,IAAIklJ,EAAY/0I,KACdg1I,EAAcD,EAAUllJ,MAC1BmpD,EAAQlpD,aAAe,WACrB,OAAOilJ,EAAUllJ,MAAQmlJ,CAC3B,CACF,CACA,IAAIC,EAAY,GACdC,EAAa,GACbC,EAAgB,EAChBC,EAAc,KACdC,EAAuB,EACvBC,GAAmB,EACnBC,GAA0B,EAC1BC,GAAyB,EACzBC,EAAkB,oBAAsBnqH,WAAaA,WAAa,KAClEoqH,EAAoB,oBAAsBrvG,aAAeA,aAAe,KACxEsvG,EAAoB,qBAAuBC,aAAeA,aAAe,KAC3E,SAASC,EAAcnjJ,GACrB,IAAK,IAAIojJ,EAAQrB,EAAKS,GAAa,OAASY,GAAS,CACnD,GAAI,OAASA,EAAM5wH,SAAUp3B,EAAIonJ,OAC5B,MAAIY,EAAMC,WAAarjJ,GAIvB,MAHH5E,EAAIonJ,GACDY,EAAMlB,UAAYkB,EAAMxqG,eACzBt9C,EAAKinJ,EAAWa,EACV,CACVA,EAAQrB,EAAKS,EACf,CACF,CACA,SAASc,EAActjJ,GAGrB,GAFA8iJ,GAAyB,EACzBK,EAAcnjJ,IACT6iJ,EACH,GAAI,OAASd,EAAKQ,GACfM,GAA0B,EAAKU,QAC7B,CACH,IAAIC,EAAazB,EAAKS,GACtB,OAASgB,GACPC,EAAmBH,EAAeE,EAAWH,UAAYrjJ,EAC7D,CACJ,CACA,IA6EI0jJ,EA7EAC,GAAuB,EACzBC,GAAiB,EACjBC,EAAgB,EAChBR,GAAa,EACf,SAASS,IACP,QAAOx9F,EAAQlpD,eAAiBimJ,EAAYQ,EAC9C,CACA,SAASE,IACP,GAAIJ,EAAsB,CACxB,IAAI3jJ,EAAcsmD,EAAQlpD,eAC1BimJ,EAAYrjJ,EACZ,IAAIgkJ,GAAc,EAClB,IACEj6I,EAAG,CACD84I,GAA0B,EAC1BC,IACIA,GAAyB,EAC3BE,EAAkBY,GACjBA,GAAiB,GACpBhB,GAAmB,EACnB,IAAIqB,EAAwBtB,EAC5B,IACEr4I,EAAG,CAED,IADA64I,EAAcnjJ,GAEZ0iJ,EAAcX,EAAKQ,GACnB,OAASG,KAEPA,EAAY9pG,eAAiB54C,GAAe8jJ,MAG9C,CACA,IAAItxH,EAAWkwH,EAAYlwH,SAC3B,GAAI,oBAAsBA,EAAU,CAClCkwH,EAAYlwH,SAAW,KACvBmwH,EAAuBD,EAAY5sG,cACnC,IAAIouG,EAAuB1xH,EACzBkwH,EAAY9pG,gBAAkB54C,GAGhC,GADAA,EAAcsmD,EAAQlpD,eAClB,oBAAsB8mJ,EAAsB,CAC9CxB,EAAYlwH,SAAW0xH,EACvBf,EAAcnjJ,GACdgkJ,GAAc,EACd,MAAM15I,CACR,CACAo4I,IAAgBX,EAAKQ,IAAcnnJ,EAAImnJ,GACvCY,EAAcnjJ,EAChB,MAAO5E,EAAImnJ,GACXG,EAAcX,EAAKQ,EACrB,CACA,GAAI,OAASG,EAAasB,GAAc,MACnC,CACH,IAAIR,EAAazB,EAAKS,GACtB,OAASgB,GACPC,EACEH,EACAE,EAAWH,UAAYrjJ,GAE3BgkJ,GAAc,CAChB,CACF,CACA,MAAMj6I,CACR,CAAE,QACC24I,EAAc,KACZC,EAAuBsB,EACvBrB,GAAmB,CACxB,CACAoB,OAAc,CAChB,CACF,CAAE,QACAA,EACIN,IACCC,GAAuB,CAC9B,CACF,CACF,CAEA,GAAI,oBAAsBV,EACxBS,EAAmC,WACjCT,EAAkBc,EACpB,OACG,GAAI,qBAAuBI,eAAgB,CAC9C,IAAIvrC,EAAU,IAAIurC,eAChBC,EAAOxrC,EAAQyrC,MACjBzrC,EAAQ0rC,MAAMC,UAAYR,EAC1BL,EAAmC,WACjCU,EAAKI,YAAY,KACnB,CACF,MACEd,EAAmC,WACjCX,EAAgBgB,EAA0B,EAC5C,EACF,SAASR,IACPI,IACIA,GAAuB,EAAKD,IAClC,CACA,SAASD,EAAmBjxH,EAAUiyH,GACpCb,EAAgBb,GAAgB,WAC9BvwH,EAAS8zB,EAAQlpD,eACnB,GAAGqnJ,EACL,CACAn+F,EAAQtoD,sBAAwB,EAChCsoD,EAAQ9oD,2BAA6B,EACrC8oD,EAAQxoD,qBAAuB,EAC/BwoD,EAAQ1oD,wBAA0B,EAClC0oD,EAAQo+F,mBAAqB,KAC7Bp+F,EAAQ5oD,8BAAgC,EACxC4oD,EAAQxpD,wBAA0B,SAAU6nJ,GAC1CA,EAAKnyH,SAAW,IAClB,EACA8zB,EAAQs+F,2BAA6B,WACnC/B,GACED,IACEC,GAA0B,EAAKU,IACrC,EACAj9F,EAAQu+F,wBAA0B,SAAUC,GAC1C,EAAIA,GAAO,IAAMA,EACb3sH,QAAQhY,MACN,mHAED0jI,EAAgB,EAAIiB,EAAMnmJ,KAAK0/E,MAAM,IAAMymE,GAAO,CACzD,EACAx+F,EAAQhpD,iCAAmC,WACzC,OAAOqlJ,CACT,EACAr8F,EAAQy+F,8BAAgC,WACtC,OAAOhD,EAAKQ,EACd,EACAj8F,EAAQ0+F,cAAgB,SAAUC,GAChC,OAAQtC,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACH,IAAI7sG,EAAgB,EACpB,MACF,QACEA,EAAgB6sG,EAEpB,IAAIsB,EAAwBtB,EAC5BA,EAAuB7sG,EACvB,IACE,OAAOmvG,GACT,CAAE,QACAtC,EAAuBsB,CACzB,CACF,EACA39F,EAAQ4+F,wBAA0B,WAAa,EAC/C5+F,EAAQppD,sBAAwB,WAAa,EAC7CopD,EAAQ6+F,yBAA2B,SAAUrvG,EAAemvG,GAC1D,OAAQnvG,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,MACF,QACEA,EAAgB,EAEpB,IAAImuG,EAAwBtB,EAC5BA,EAAuB7sG,EACvB,IACE,OAAOmvG,GACT,CAAE,QACAtC,EAAuBsB,CACzB,CACF,EACA39F,EAAQ1pD,0BAA4B,SAClCk5C,EACAtjB,EACAlrB,GAEA,IAAItH,EAAcsmD,EAAQlpD,eAQ1B,OAPA,kBAAoBkK,GAAW,OAASA,EAEnCA,EACC,kBAFAA,EAAUA,EAAQk/G,QAEa,EAAIl/G,EAC/BtH,EAAcsH,EACdtH,EACLsH,EAAUtH,EACP81C,GACN,KAAK,EACH,IAAIuwE,GAAW,EACf,MACF,KAAK,EACHA,EAAU,IACV,MACF,KAAK,EACHA,EAAU,WACV,MACF,KAAK,EACHA,EAAU,IACV,MACF,QACEA,EAAU,IAyBd,OAtBAvwE,EAAgB,CACd9Y,GAAIylH,IACJjwH,SAAUA,EACVsjB,cAAeA,EACfutG,UAAW/7I,EACXsxC,eANFytE,EAAU/+G,EAAU++G,EAOlB67B,WAAY,GAEd56I,EAAUtH,GACJ81C,EAAcosG,UAAY56I,EAC5BhM,EAAKknJ,EAAY1sG,GACjB,OAASisG,EAAKQ,IACZzsG,IAAkBisG,EAAKS,KACtBM,GACIE,EAAkBY,GAAiBA,GAAiB,GACpDd,GAAyB,EAC9BW,EAAmBH,EAAeh8I,EAAUtH,MAC5C81C,EAAcosG,UAAY77B,EAC5B/qH,EAAKinJ,EAAWzsG,GAChB+sG,GACED,IACEC,GAA0B,EAAKU,MAChCztG,CACT,EACAwQ,EAAQtpD,qBAAuB8mJ,EAC/Bx9F,EAAQ8+F,sBAAwB,SAAU5yH,GACxC,IAAI6yH,EAAsB1C,EAC1B,OAAO,WACL,IAAIsB,EAAwBtB,EAC5BA,EAAuB0C,EACvB,IACE,OAAO7yH,EAASogB,MAAMrtC,KAAM3R,UAC9B,CAAE,QACA+uJ,EAAuBsB,CACzB,CACF,CACF,+BClVA,SAAS/5F,IAEP,GAC4C,qBAAnCjE,gCAC4C,oBAA5CA,+BAA+BiE,SAcxC,IAEEjE,+BAA+BiE,SAASA,EAC1C,CAAE,MAAOzrD,GAGP05B,QAAQhY,MAAM1hB,EAChB,CACF,CAKEyrD,GACAvD,EAAOL,QAAU,EAAjBK,OCjCE2+F,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB1sE,IAAjB2sE,EACH,OAAOA,EAAan/F,QAGrB,IAAIK,EAAS2+F,EAAyBE,GAAY,CAGjDl/F,QAAS,CAAC,GAOX,OAHAo/F,EAAoBF,GAAUztJ,KAAK4uD,EAAOL,QAASK,EAAQA,EAAOL,QAASi/F,GAGpE5+F,EAAOL,OACf,CAGAi/F,EAAoB1lG,EAAI6lG,ECxBxBH,EAAoB3mG,EAAI,CAAC0H,EAASq/F,KACjC,IAAI,IAAIz0I,KAAOy0I,EACXJ,EAAoBp5F,EAAEw5F,EAAYz0I,KAASq0I,EAAoBp5F,EAAE7F,EAASp1C,IAC5Exa,OAAOgB,eAAe4uD,EAASp1C,EAAK,CAAE1L,YAAY,EAAMF,IAAKqgJ,EAAWz0I,IAE1E,ECNDq0I,EAAoB1mG,EAAI,CAAC,EAGzB0mG,EAAoBl/I,EAAKu/I,GACjBt6G,QAAQu6G,IAAInvJ,OAAOkgB,KAAK2uI,EAAoB1mG,GAAGulE,QAAO,CAAC0hC,EAAU50I,KACvEq0I,EAAoB1mG,EAAE3tC,GAAK00I,EAASE,GAC7BA,IACL,KCNJP,EAAoBl5F,EAAKu5F,GAEjB,aAAeA,EAAf,qBCFRL,EAAoBQ,SAAYH,IAEf,ECHjBL,EAAoBnnE,EAAI,WACvB,GAA0B,kBAAf4nE,WAAyB,OAAOA,WAC3C,IACC,OAAOzgJ,MAAQ,IAAIg6E,SAAS,cAAb,EAChB,CAAE,MAAOl5E,GACR,GAAsB,kBAAXjF,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBmkJ,EAAoBp5F,EAAI,CAACmH,EAAK8Q,IAAU1tE,OAAOiB,UAAU+E,eAAe3E,KAAKu7D,EAAK8Q,SCAlF,IAAI6hF,EAAa,CAAC,EACdC,EAAoB,0BAExBX,EAAoB90E,EAAI,CAAC98E,EAAKoxB,EAAM7T,EAAK00I,KACxC,GAAGK,EAAWtyJ,GAAQsyJ,EAAWtyJ,GAAK2H,KAAKypB,OAA3C,CACA,IAAIohI,EAAQC,EACZ,QAAWttE,IAAR5nE,EAEF,IADA,IAAI6uC,EAAUp8C,SAASikC,qBAAqB,UACpC7zC,EAAI,EAAGA,EAAIgsD,EAAQlsD,OAAQE,IAAK,CACvC,IAAIy8E,EAAIzwB,EAAQhsD,GAChB,GAAGy8E,EAAE/wC,aAAa,QAAU9rC,GAAO68E,EAAE/wC,aAAa,iBAAmBymH,EAAoBh1I,EAAK,CAAEi1I,EAAS31E,EAAG,KAAO,CACpH,CAEG21E,IACHC,GAAa,GACbD,EAASxiJ,SAASC,cAAc,WAEzByiJ,QAAU,QACjBF,EAAO9/B,QAAU,IACbk/B,EAAoBe,IACvBH,EAAO5hJ,aAAa,QAASghJ,EAAoBe,IAElDH,EAAO5hJ,aAAa,eAAgB2hJ,EAAoBh1I,GAExDi1I,EAAOtmH,IAAMlsC,GAEdsyJ,EAAWtyJ,GAAO,CAACoxB,GACnB,IAAIwhI,EAAmB,CAAC9tG,EAAMp3C,KAE7B8kJ,EAAO16G,QAAU06G,EAAO36G,OAAS,KACjCmI,aAAa0yE,GACb,IAAImgC,EAAUP,EAAWtyJ,GAIzB,UAHOsyJ,EAAWtyJ,GAClBwyJ,EAAOnqJ,YAAcmqJ,EAAOnqJ,WAAWoqC,YAAY+/G,GACnDK,GAAWA,EAAQ5hI,SAASztB,GAAQA,EAAGkK,KACpCo3C,EAAM,OAAOA,EAAKp3C,EAAM,EAExBglH,EAAUztF,WAAW2tH,EAAiBr4H,KAAK,UAAM4qD,EAAW,CAAEnjF,KAAM,UAAW4T,OAAQ48I,IAAW,MACtGA,EAAO16G,QAAU86G,EAAiBr4H,KAAK,KAAMi4H,EAAO16G,SACpD06G,EAAO36G,OAAS+6G,EAAiBr4H,KAAK,KAAMi4H,EAAO36G,QACnD46G,GAAcziJ,SAASkkC,KAAKpD,YAAY0hH,EApCkB,CAoCX,MCvChDZ,EAAoBvmG,EAAKsH,IACH,qBAAXlyD,QAA0BA,OAAOqyJ,aAC1C/vJ,OAAOgB,eAAe4uD,EAASlyD,OAAOqyJ,YAAa,CAAEluJ,MAAO,WAE7D7B,OAAOgB,eAAe4uD,EAAS,aAAc,CAAE/tD,OAAO,GAAO,ECL9DgtJ,EAAoBpkJ,EAAI,+BCKxB,IAAIulJ,EAAkB,CACrB,IAAK,GAGNnB,EAAoB1mG,EAAEqwC,EAAI,CAAC02D,EAASE,KAElC,IAAIa,EAAqBpB,EAAoBp5F,EAAEu6F,EAAiBd,GAAWc,EAAgBd,QAAW9sE,EACtG,GAA0B,IAAvB6tE,EAGF,GAAGA,EACFb,EAASxqJ,KAAKqrJ,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAIt7G,SAAQ,CAACnjB,EAASojB,IAAYo7G,EAAqBD,EAAgBd,GAAW,CAACz9H,EAASojB,KAC1Gu6G,EAASxqJ,KAAKqrJ,EAAmB,GAAKC,GAGtC,IAAIjzJ,EAAM4xJ,EAAoBpkJ,EAAIokJ,EAAoBl5F,EAAEu5F,GAEpDzlI,EAAQ,IAAIvpB,MAgBhB2uJ,EAAoB90E,EAAE98E,GAfF0N,IACnB,GAAGkkJ,EAAoBp5F,EAAEu6F,EAAiBd,KAEf,KAD1Be,EAAqBD,EAAgBd,MACRc,EAAgBd,QAAW9sE,GACrD6tE,GAAoB,CACtB,IAAIE,EAAYxlJ,IAAyB,SAAfA,EAAM1L,KAAkB,UAAY0L,EAAM1L,MAChEmxJ,EAAUzlJ,GAASA,EAAMkI,QAAUlI,EAAMkI,OAAOs2B,IACpD1f,EAAM3mB,QAAU,iBAAmBosJ,EAAU,cAAgBiB,EAAY,KAAOC,EAAU,IAC1F3mI,EAAMrqB,KAAO,iBACbqqB,EAAMxqB,KAAOkxJ,EACb1mI,EAAM4mI,QAAUD,EAChBH,EAAmB,GAAGxmI,EACvB,CACD,GAEwC,SAAWylI,EAASA,EAE/D,CACD,EAcF,IAAIoB,EAAuB,CAACC,EAA4BrsJ,KACvD,IAKI4qJ,EAAUI,EALVsB,EAAWtsJ,EAAK,GAChBusJ,EAAcvsJ,EAAK,GACnBwsJ,EAAUxsJ,EAAK,GAGI7G,EAAI,EAC3B,GAAGmzJ,EAASv0C,MAAM31E,GAAgC,IAAxB0pH,EAAgB1pH,KAAa,CACtD,IAAIwoH,KAAY2B,EACZ5B,EAAoBp5F,EAAEg7F,EAAa3B,KACrCD,EAAoB1lG,EAAE2lG,GAAY2B,EAAY3B,IAGhD,GAAG4B,EAAsBA,EAAQ7B,EAClC,CAEA,IADG0B,GAA4BA,EAA2BrsJ,GACrD7G,EAAImzJ,EAASrzJ,OAAQE,IACzB6xJ,EAAUsB,EAASnzJ,GAChBwxJ,EAAoBp5F,EAAEu6F,EAAiBd,IAAYc,EAAgBd,IACrEc,EAAgBd,GAAS,KAE1Bc,EAAgBd,GAAW,CAC5B,EAIGyB,EAAqBjgG,KAAyC,mCAAIA,KAAyC,oCAAK,GACpHigG,EAAmBziI,QAAQoiI,EAAqB94H,KAAK,KAAM,IAC3Dm5H,EAAmB/rJ,KAAO0rJ,EAAqB94H,KAAK,KAAMm5H,EAAmB/rJ,KAAK4yB,KAAKm5H,yDCrFvF,MAuEA,EAvEqB5uB,IAAmB,IAAlB,SAAE6uB,GAAU7uB,EAChC,MAAO7kG,EAAU2zH,IAAep8H,EAAAA,EAAAA,UAAS,CACvCq8H,KAAM,GACNC,SAAU,GACVC,UAAW,GACXr2I,SAAU,WACVs2I,IAAK,KAGDC,EAAgBvhJ,IACpBkhJ,EAAY,IAAK3zH,EAAU,CAACvtB,EAAEkD,OAAOzT,MAAOuQ,EAAEkD,OAAOhR,OAAQ,EAQ/D,OACEsvJ,EAAAA,EAAAA,MAAA,QACEP,SAPkBjhJ,IACpBA,EAAEoG,iBACF66I,EAAS1zH,EAAS,EAMhB+rH,UAAU,2DAA0D/3I,SAAA,EAEpEkgJ,EAAAA,EAAAA,KAAA,MAAInI,UAAU,4CAA2C/3I,SAAC,wCAKzD,CAAC,OAAQ,WAAY,YAAa,OAAOykB,KAAI,CAAC07H,EAAO/sJ,KACpD6sJ,EAAAA,EAAAA,MAAA,OAAiBlI,UAAU,OAAM/3I,SAAA,EAC/BigJ,EAAAA,EAAAA,MAAA,SAAOlI,UAAU,sCAAqC/3I,SAAA,CACnDmgJ,EAAM,QAETD,EAAAA,EAAAA,KAAA,SACEnyJ,KAAK,SACLG,KAAMiyJ,EACNxvJ,MAAOq7B,EAASm0H,GAChBC,SAAUJ,EACVK,UAAQ,EACRtI,UAAU,+DAVJ3kJ,MAgBZ6sJ,EAAAA,EAAAA,MAAA,OAAKlI,UAAU,OAAM/3I,SAAA,EACnBkgJ,EAAAA,EAAAA,KAAA,SAAOnI,UAAU,2BAA0B/3I,SAAC,eAC5CigJ,EAAAA,EAAAA,MAAA,UACE/xJ,KAAK,WACLyC,MAAOq7B,EAASviB,SAChB22I,SAAUJ,EACVK,UAAQ,EACRtI,UAAU,2DAA0D/3I,SAAA,EAEpEkgJ,EAAAA,EAAAA,KAAA,UAAQvvJ,MAAM,WAAUqP,SAAC,cACzBkgJ,EAAAA,EAAAA,KAAA,UAAQvvJ,MAAM,gBAAeqP,SAAC,mBAC9BkgJ,EAAAA,EAAAA,KAAA,UAAQvvJ,MAAM,UAASqP,SAAC,mBAK5BkgJ,EAAAA,EAAAA,KAAA,UACEnyJ,KAAK,SACLgqJ,UAAU,yEAAwE/3I,SACnF,iCAGI,eCrEX,MAmBE,EAnBmB,CACjB,CAAEyiD,MAAO,CAAEm9F,KAAM,IAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,MAC1F,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,IAAMlrE,OAAQ,CAAEyrE,MAAO,OAC3F,CAAE79F,MAAO,CAAEm9F,KAAM,IAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,MAC1F,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,OAC1F,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,MAC1F,CAAE79F,MAAO,CAAEm9F,KAAM,IAAKC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,OACzF,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,IAAMlrE,OAAQ,CAAEyrE,MAAO,OAC3F,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,MAC1F,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,IAAMlrE,OAAQ,CAAEyrE,MAAO,OAC3F,CAAE79F,MAAO,CAAEm9F,KAAM,KAAMC,SAAU,EAAGC,UAAW,EAAGr2I,SAAU,EAAGs2I,IAAK,GAAKlrE,OAAQ,CAAEyrE,MAAO,QCNxFjZ,EAAM,IAAIkZ,EAAAA,cA6CHC,EAAgB/9F,IAXJg+F,MACvB,MAAMC,EAAaC,aAAaC,QAAQ,gBACpCF,GACFrZ,EAAI7hD,SAASlR,KAAK7iB,MAAMivF,IACxBnwH,QAAQj6B,IAAI,uCAEZi6B,QAAQj6B,IAAI,+CACd,EAKAmqJ,GAEA,MAAMI,EAAkB,CACtBjB,KAAMn9F,EAAMm9F,KAAO,IACnBC,SAAUp9F,EAAMo9F,SAAW,EAC3BC,UAAWr9F,EAAMq9F,UAAY,EAC7Br2I,SAAUg5C,EAAMh5C,SAAW,EAC3Bs2I,IAAKt9F,EAAMs9F,IAAM,IAInB,OAAsB,IADP1Y,EAAI3mD,IAAImgE,GACTP,KAAe,ECvD/B,SAASvtD,EAAMxjC,GACb,OAAOA,EAAI,GAAM,CACnB,CACA,MAAMuxF,EAAMA,CAACvxF,EAAGsZ,EAAG2sB,IAAMz+F,KAAK4sD,IAAI5sD,KAAK8Z,IAAI0+C,EAAGimC,GAAI3sB,GAClD,SAASk4E,EAAIxxF,GACX,OAAOuxF,EAAI/tD,EAAU,KAAJxjC,GAAW,EAAG,IACjC,CAIA,SAASyxF,EAAIzxF,GACX,OAAOuxF,EAAI/tD,EAAU,IAAJxjC,GAAU,EAAG,IAChC,CACA,SAAS0xF,EAAI1xF,GACX,OAAOuxF,EAAI/tD,EAAMxjC,EAAI,MAAQ,IAAK,EAAG,EACvC,CACA,SAAS2xF,EAAI3xF,GACX,OAAOuxF,EAAI/tD,EAAU,IAAJxjC,GAAU,EAAG,IAChC,CAEA,MAAM4xF,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG92G,EAAG,GAAI+2G,EAAG,GAAI5pG,EAAG,GAAIF,EAAG,GAAIsrD,EAAG,GAAIy+C,EAAG,GAAIl/I,EAAG,GAAIO,EAAG,GAAIyyB,EAAG,GAAI6hB,EAAG,GAAIv4C,EAAG,GAAIw4C,EAAG,IACrJqqG,EAAM,IAAI,oBACVC,EAAK7+I,GAAK4+I,EAAQ,GAAJ5+I,GACd8+I,EAAK9+I,GAAK4+I,GAAS,IAAJ5+I,IAAa,GAAK4+I,EAAQ,GAAJ5+I,GACrCwlD,EAAKxlD,IAAW,IAAJA,IAAa,KAAY,GAAJA,GAyBvC,SAAS++I,EAAUlyF,GACjB,IAAItY,EAzBUsY,IAAKrH,EAAGqH,EAAEnY,IAAM8Q,EAAGqH,EAAEinB,IAAMtuB,EAAGqH,EAAE7sD,IAAMwlD,EAAGqH,EAAEptD,GAyBjDu/I,CAAQnyF,GAAKgyF,EAAKC,EAC1B,OAAOjyF,EACH,IAAMtY,EAAEsY,EAAEnY,GAAKH,EAAEsY,EAAEinB,GAAKv/B,EAAEsY,EAAE7sD,GAJpBkoG,EAACzoG,EAAG80C,IAAM90C,EAAI,IAAM80C,EAAE90C,GAAK,GAIFyoG,CAAMr7C,EAAEptD,EAAG80C,QAC5Ci6B,CACN,CAEA,MAAMywE,EAAS,+GACf,SAASC,EAASpsD,EAAG5sB,EAAGC,GACtB,MAAM1mE,EAAIymE,EAAI7xE,KAAK8Z,IAAIg4D,EAAG,EAAIA,GACxB5xB,EAAI,SAACgK,GAAC,IAAE4Z,EAAC7uE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,IAAIi1D,EAAIu0C,EAAI,IAAM,GAAE,OAAK3sB,EAAI1mE,EAAIpL,KAAK4sD,IAAI5sD,KAAK8Z,IAAIgqD,EAAI,EAAG,EAAIA,EAAG,IAAK,EAAE,EACvF,MAAO,CAAC5jB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GACxB,CACA,SAAS4qG,EAASrsD,EAAG5sB,EAAGrZ,GACtB,MAAMtY,EAAI,SAACgK,GAAC,IAAE4Z,EAAC7uE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,IAAIi1D,EAAIu0C,EAAI,IAAM,EAAC,OAAKjmC,EAAIA,EAAIqZ,EAAI7xE,KAAK4sD,IAAI5sD,KAAK8Z,IAAIgqD,EAAG,EAAIA,EAAG,GAAI,EAAE,EACrF,MAAO,CAAC5jB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GACxB,CACA,SAAS6qG,EAAStsD,EAAGD,EAAG7yF,GACtB,MAAMq/I,EAAMH,EAASpsD,EAAG,EAAG,IAC3B,IAAIrpG,EAMJ,IALIopG,EAAI7yF,EAAI,IACVvW,EAAI,GAAKopG,EAAI7yF,GACb6yF,GAAKppG,EACLuW,GAAKvW,GAEFA,EAAI,EAAGA,EAAI,EAAGA,IACjB41J,EAAI51J,IAAM,EAAIopG,EAAI7yF,EAClBq/I,EAAI51J,IAAMopG,EAEZ,OAAOwsD,CACT,CAUA,SAASC,EAAQzyF,GACf,MACMnY,EAAImY,EAAEnY,EADE,IAERo/B,EAAIjnB,EAAEinB,EAFE,IAGR9zE,EAAI6sD,EAAE7sD,EAHE,IAIRihD,EAAM5sD,KAAK4sD,IAAIvM,EAAGo/B,EAAG9zE,GACrBmO,EAAM9Z,KAAK8Z,IAAIumC,EAAGo/B,EAAG9zE,GACrBmmE,GAAKllB,EAAM9yC,GAAO,EACxB,IAAI2kF,EAAG5sB,EAAG5xB,EAOV,OANI2M,IAAQ9yC,IACVmmC,EAAI2M,EAAM9yC,EACV+3D,EAAIC,EAAI,GAAM7xB,GAAK,EAAI2M,EAAM9yC,GAAOmmC,GAAK2M,EAAM9yC,GAC/C2kF,EArBJ,SAAkBp+C,EAAGo/B,EAAG9zE,EAAGs0C,EAAG2M,GAC5B,OAAIvM,IAAMuM,GACC6yB,EAAI9zE,GAAKs0C,GAAMw/B,EAAI9zE,EAAI,EAAI,GAElC8zE,IAAM7yB,GACAjhD,EAAI00C,GAAKJ,EAAI,GAEfI,EAAIo/B,GAAKx/B,EAAI,CACvB,CAaQirG,CAAS7qG,EAAGo/B,EAAG9zE,EAAGs0C,EAAG2M,GACzB6xC,EAAQ,GAAJA,EAAS,IAER,CAAK,EAAJA,EAAO5sB,GAAK,EAAGC,EACzB,CACA,SAASq5E,EAAMjrG,EAAG90C,EAAGO,EAAGyyB,GACtB,OACEziC,MAAMC,QAAQwP,GACV80C,EAAE90C,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAChB80C,EAAE90C,EAAGO,EAAGyyB,IACZ1Q,IAAIu8H,EACR,CACA,SAASmB,EAAQ3sD,EAAG5sB,EAAGC,GACrB,OAAOq5E,EAAMN,EAAUpsD,EAAG5sB,EAAGC,EAC/B,CAOA,SAASu5E,EAAI5sD,GACX,OAAQA,EAAI,IAAM,KAAO,GAC3B,CACA,SAAS6sD,EAASzzE,GAChB,MAAM32B,EAAI0pG,EAAOr1F,KAAKsiB,GACtB,IACIrf,EADAptD,EAAI,IAER,IAAK81C,EACH,OAEEA,EAAE,KAAOsX,IACXptD,EAAI81C,EAAE,GAAK8oG,GAAK9oG,EAAE,IAAM+oG,GAAK/oG,EAAE,KAEjC,MAAMu9C,EAAI4sD,GAAKnqG,EAAE,IACXqqG,GAAMrqG,EAAE,GAAK,IACbsqG,GAAMtqG,EAAE,GAAK,IAQnB,OANEsX,EADW,QAATtX,EAAE,GAtBR,SAAiBu9C,EAAGD,EAAG7yF,GACrB,OAAOw/I,EAAMJ,EAAUtsD,EAAGD,EAAG7yF,EAC/B,CAqBQ8/I,CAAQhtD,EAAG8sD,EAAIC,GACD,QAATtqG,EAAE,GArBf,SAAiBu9C,EAAG5sB,EAAGrZ,GACrB,OAAO2yF,EAAML,EAAUrsD,EAAG5sB,EAAGrZ,EAC/B,CAoBQkzF,CAAQjtD,EAAG8sD,EAAIC,GAEfJ,EAAQ3sD,EAAG8sD,EAAIC,GAEd,CACLnrG,EAAGmY,EAAE,GACLinB,EAAGjnB,EAAE,GACL7sD,EAAG6sD,EAAE,GACLptD,EAAGA,EAEP,CAsBA,MAAMsiB,EAAM,CACXj2B,EAAG,OACHk0J,EAAG,QACHC,EAAG,KACHzqG,EAAG,MACH0qG,EAAG,KACHC,EAAG,SACHC,EAAG,QACHz4G,EAAG,KACHtiB,EAAG,KACH3H,EAAG,KACHghI,EAAG,KACH5pG,EAAG,QACHF,EAAG,QACHyrG,EAAG,KACHC,EAAG,WACHpgD,EAAG,KACHqgD,EAAG,KACHC,EAAG,KACHC,EAAG,KACH5qG,EAAG,KACHd,EAAG,QACH4pG,EAAG,KACH+B,EAAG,KACHC,EAAG,OACHhhI,EAAG,KACHihI,EAAG,QACHC,EAAG,MAEEC,EAAU,CACfC,OAAQ,SACRC,YAAa,SACbC,KAAM,OACNC,UAAW,SACXC,KAAM,SACNC,MAAO,SACPC,OAAQ,SACRC,MAAO,IACPC,aAAc,SACdC,GAAI,KACJC,QAAS,SACTC,KAAM,SACNC,UAAW,SACXC,OAAQ,SACRC,SAAU,SACVC,QAAS,SACTC,IAAK,SACLC,YAAa,SACbC,QAAS,SACTC,QAAS,SACTC,KAAM,OACNC,IAAK,KACLC,MAAO,OACPC,QAAS,SACTC,KAAM,SACNC,KAAM,OACNC,KAAM,SACNC,OAAQ,SACRC,QAAS,SACTC,SAAU,SACVC,OAAQ,SACRC,MAAO,SACPC,IAAK,SACLC,OAAQ,SACRC,OAAQ,SACRC,KAAM,SACNC,MAAO,SACPC,MAAO,SACPC,IAAK,OACLC,OAAQ,SACRC,OAAQ,SACRC,SAAU,OACVC,OAAQ,SACRC,OAAQ,SACRC,SAAU,SACVC,SAAU,SACVC,SAAU,SACVC,SAAU,SACVC,OAAQ,SACRC,QAAS,SACTC,UAAW,SACXC,IAAK,SACLC,OAAQ,SACRC,IAAK,SACLC,IAAK,OACLC,MAAO,SACPC,IAAK,SACLC,QAAS,SACTC,OAAQ,SACRC,QAAS,SACTC,MAAO,SACPC,KAAM,SACNC,MAAO,SACPC,OAAQ,SACRC,UAAW,SACXC,QAAS,SACTC,WAAY,SACZC,IAAK,SACLC,KAAM,SACNC,MAAO,SACPC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,QAAS,SACTC,IAAK,SACLC,KAAM,OACNC,QAAS,SACTC,IAAK,SACLC,OAAQ,SACRC,MAAO,SACPC,WAAY,SACZC,IAAK,KACLC,MAAO,SACPC,OAAQ,SACRC,OAAQ,SACRC,KAAM,SACNC,UAAW,OACXC,IAAK,SACLC,SAAU,SACVC,WAAY,SACZC,QAAS,SACTC,SAAU,SACVC,QAAS,SACTC,WAAY,SACZC,KAAM,KACNC,OAAQ,SACRC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,QAAS,SACTC,KAAM,SACNC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,WAAY,SACZC,UAAW,SACXC,QAAS,SACTC,KAAM,SACNC,IAAK,SACLC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,YAAa,SACbC,GAAI,SACJC,SAAU,SACVC,MAAO,SACPC,UAAW,SACXC,MAAO,SACPC,UAAW,SACXC,MAAO,SACPC,QAAS,SACTC,MAAO,SACPC,OAAQ,SACRC,MAAO,SACPC,IAAK,SACLC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,SAAU,OACVC,OAAQ,SACRC,IAAK,SACLC,IAAK,OACLC,MAAO,SACPC,OAAQ,SACRC,GAAI,SACJC,MAAO,SACPC,IAAK,SACLC,KAAM,SACNC,UAAW,SACXC,GAAI,SACJC,MAAO,UAmBR,IAAIC,EACJ,SAASC,EAAUl+E,GACZi+E,IACHA,EApBJ,WACE,MAAME,EAAW,CAAC,EACZ/9I,EAAOlgB,OAAOkgB,KAAKw0I,GACnBwJ,EAAQl+J,OAAOkgB,KAAKyV,GAC1B,IAAIt4B,EAAGm7F,EAAGzsB,EAAGoyF,EAAIC,EACjB,IAAK/gK,EAAI,EAAGA,EAAI6iB,EAAK/iB,OAAQE,IAAK,CAEhC,IADA8gK,EAAKC,EAAKl+I,EAAK7iB,GACVm7F,EAAI,EAAGA,EAAI0lE,EAAM/gK,OAAQq7F,IAC5BzsB,EAAImyF,EAAM1lE,GACV4lE,EAAKA,EAAG97J,QAAQypE,EAAGp2C,EAAIo2C,IAEzBA,EAAI4U,SAAS+zE,EAAQyJ,GAAK,IAC1BF,EAASG,GAAM,CAACryF,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EACjD,CACA,OAAOkyF,CACT,CAKYI,GACRN,EAAMO,YAAc,CAAC,EAAG,EAAG,EAAG,IAEhC,MAAMjrJ,EAAI0qJ,EAAMj+E,EAAIlyE,eACpB,OAAOyF,GAAK,CACVi1C,EAAGj1C,EAAE,GACLq0E,EAAGr0E,EAAE,GACLO,EAAGP,EAAE,GACLA,EAAgB,IAAbA,EAAElW,OAAekW,EAAE,GAAK,IAE/B,CAEA,MAAMkrJ,EAAS,uGAiCf,MAAMC,EAAK/9F,GAAKA,GAAK,SAAgB,MAAJA,EAAqC,MAAzBx4D,KAAKoxH,IAAI54D,EAAG,EAAM,KAAe,KACxEykB,EAAOzkB,GAAKA,GAAK,OAAUA,EAAI,MAAQx4D,KAAKoxH,KAAK54D,EAAI,MAAS,MAAO,KAa3E,SAASg+F,EAAOh+F,EAAGpjE,EAAGqhK,GACpB,GAAIj+F,EAAG,CACL,IAAIg3E,EAAMyb,EAAQzyF,GAClBg3E,EAAIp6I,GAAK4K,KAAK4sD,IAAI,EAAG5sD,KAAK8Z,IAAI01H,EAAIp6I,GAAKo6I,EAAIp6I,GAAKqhK,EAAa,IAANrhK,EAAU,IAAM,IACvEo6I,EAAM4b,EAAQ5b,GACdh3E,EAAEnY,EAAImvF,EAAI,GACVh3E,EAAEinB,EAAI+vD,EAAI,GACVh3E,EAAE7sD,EAAI6jI,EAAI,EACZ,CACF,CACA,SAASvsG,EAAMu1B,EAAGqP,GAChB,OAAOrP,EAAIzgE,OAAOD,OAAO+vE,GAAS,CAAC,EAAGrP,GAAKA,CAC7C,CACA,SAASk+F,EAAWhrG,GAClB,IAAI8M,EAAI,CAACnY,EAAG,EAAGo/B,EAAG,EAAG9zE,EAAG,EAAGP,EAAG,KAY9B,OAXIzP,MAAMC,QAAQ8vD,GACZA,EAAMx2D,QAAU,IAClBsjE,EAAI,CAACnY,EAAGqL,EAAM,GAAI+zB,EAAG/zB,EAAM,GAAI//C,EAAG+/C,EAAM,GAAItgD,EAAG,KAC3CsgD,EAAMx2D,OAAS,IACjBsjE,EAAEptD,EAAI6+I,EAAIv+F,EAAM,OAIpB8M,EAAIv1B,EAAMyoB,EAAO,CAACrL,EAAG,EAAGo/B,EAAG,EAAG9zE,EAAG,EAAGP,EAAG,KACrCA,EAAI6+I,EAAIzxF,EAAEptD,GAEPotD,CACT,CACA,SAASm+F,EAAc9+E,GACrB,MAAsB,MAAlBA,EAAItZ,OAAO,GA3EjB,SAAkBsZ,GAChB,MAAM32B,EAAIo1G,EAAO/gG,KAAKsiB,GACtB,IACIx3B,EAAGo/B,EAAG9zE,EADNP,EAAI,IAER,GAAK81C,EAAL,CAGA,GAAIA,EAAE,KAAOb,EAAG,CACd,MAAMmY,GAAKtX,EAAE,GACb91C,EAAI81C,EAAE,GAAK8oG,EAAIxxF,GAAKuxF,EAAQ,IAAJvxF,EAAS,EAAG,IACtC,CAOA,OANAnY,GAAKa,EAAE,GACPu+B,GAAKv+B,EAAE,GACPv1C,GAAKu1C,EAAE,GACPb,EAAI,KAAOa,EAAE,GAAK8oG,EAAI3pG,GAAK0pG,EAAI1pG,EAAG,EAAG,MACrCo/B,EAAI,KAAOv+B,EAAE,GAAK8oG,EAAIvqE,GAAKsqE,EAAItqE,EAAG,EAAG,MACrC9zE,EAAI,KAAOu1C,EAAE,GAAK8oG,EAAIr+I,GAAKo+I,EAAIp+I,EAAG,EAAG,MAC9B,CACL00C,EAAGA,EACHo/B,EAAGA,EACH9zE,EAAGA,EACHP,EAAGA,EAfL,CAiBF,CAqDWwrJ,CAAS/+E,GAEXyzE,EAASzzE,EAClB,CACA,MAAMg/E,EACJpwJ,WAAAA,CAAYilD,GACV,GAAIA,aAAiBmrG,EACnB,OAAOnrG,EAET,MAAM10D,SAAc00D,EACpB,IAAI8M,EACS,WAATxhE,EACFwhE,EAAIk+F,EAAWhrG,GACG,WAAT10D,IACTwhE,EAjcN,SAAkBqf,GAChB,IACIiY,EADA10B,EAAMyc,EAAI3iF,OAmBd,MAjBe,MAAX2iF,EAAI,KACM,IAARzc,GAAqB,IAARA,EACf00B,EAAM,CACJzvC,EAAG,IAAsB,GAAhB+pG,EAAMvyE,EAAI,IACnB4H,EAAG,IAAsB,GAAhB2qE,EAAMvyE,EAAI,IACnBlsE,EAAG,IAAsB,GAAhBy+I,EAAMvyE,EAAI,IACnBzsE,EAAW,IAARgwD,EAA4B,GAAhBgvF,EAAMvyE,EAAI,IAAW,KAErB,IAARzc,GAAqB,IAARA,IACtB00B,EAAM,CACJzvC,EAAG+pG,EAAMvyE,EAAI,KAAO,EAAIuyE,EAAMvyE,EAAI,IAClC4H,EAAG2qE,EAAMvyE,EAAI,KAAO,EAAIuyE,EAAMvyE,EAAI,IAClClsE,EAAGy+I,EAAMvyE,EAAI,KAAO,EAAIuyE,EAAMvyE,EAAI,IAClCzsE,EAAW,IAARgwD,EAAagvF,EAAMvyE,EAAI,KAAO,EAAIuyE,EAAMvyE,EAAI,IAAO,OAIrDiY,CACT,CA4aUgnE,CAASprG,IAAUqqG,EAAUrqG,IAAUirG,EAAcjrG,IAE3D9kD,KAAKmwJ,KAAOv+F,EACZ5xD,KAAKowJ,SAAWx+F,CAClB,CACA,SAAIy+F,GACF,OAAOrwJ,KAAKowJ,MACd,CACA,OAAIhM,GACF,IAAIxyF,EAAIv1B,EAAMr8B,KAAKmwJ,MAInB,OAHIv+F,IACFA,EAAEptD,EAAI8+I,EAAI1xF,EAAEptD,IAEPotD,CACT,CACA,OAAIwyF,CAAIr2F,GACN/tD,KAAKmwJ,KAAOL,EAAW/hG,EACzB,CACAuiG,SAAAA,GACE,OAAOtwJ,KAAKowJ,QArFGx+F,EAqFgB5xD,KAAKmwJ,QAnFpCv+F,EAAEptD,EAAI,IACF,QAAQotD,EAAEnY,MAAMmY,EAAEinB,MAAMjnB,EAAE7sD,MAAMu+I,EAAI1xF,EAAEptD,MACtC,OAAOotD,EAAEnY,MAAMmY,EAAEinB,MAAMjnB,EAAE7sD,WAiFewuE,EArFhD,IAAmB3hB,CAsFjB,CACAkyF,SAAAA,GACE,OAAO9jJ,KAAKowJ,OAAStM,EAAU9jJ,KAAKmwJ,WAAQ58E,CAC9C,CACAg9E,SAAAA,GACE,OAAOvwJ,KAAKowJ,OApVhB,SAAmBx+F,GACjB,IAAKA,EACH,OAEF,MAAMptD,EAAI6/I,EAAQzyF,GACZimC,EAAIrzF,EAAE,GACNymE,EAAIs4E,EAAI/+I,EAAE,IACV0mE,EAAIq4E,EAAI/+I,EAAE,IAChB,OAAOotD,EAAEptD,EAAI,IACT,QAAQqzF,MAAM5sB,OAAOC,OAAOo4E,EAAI1xF,EAAEptD,MAClC,OAAOqzF,MAAM5sB,OAAOC,KAC1B,CAyUyBqlF,CAAUvwJ,KAAKmwJ,WAAQ58E,CAC9C,CACAi9E,GAAAA,CAAI9hJ,EAAOq3C,GACT,GAAIr3C,EAAO,CACT,MAAM+hJ,EAAKzwJ,KAAKokJ,IACVsM,EAAKhiJ,EAAM01I,IACjB,IAAIuM,EACJ,MAAM/0J,EAAImqD,IAAW4qG,EAAK,GAAM5qG,EAC1B6xC,EAAI,EAAIh8F,EAAI,EACZ4I,EAAIisJ,EAAGjsJ,EAAIksJ,EAAGlsJ,EACdosJ,IAAOh5D,EAAIpzF,KAAO,EAAIozF,GAAKA,EAAIpzF,IAAM,EAAIozF,EAAIpzF,IAAM,GAAK,EAC9DmsJ,EAAK,EAAIC,EACTH,EAAGh3G,EAAI,IAAOm3G,EAAKH,EAAGh3G,EAAIk3G,EAAKD,EAAGj3G,EAAI,GACtCg3G,EAAG53E,EAAI,IAAO+3E,EAAKH,EAAG53E,EAAI83E,EAAKD,EAAG73E,EAAI,GACtC43E,EAAG1rJ,EAAI,IAAO6rJ,EAAKH,EAAG1rJ,EAAI4rJ,EAAKD,EAAG3rJ,EAAI,GACtC0rJ,EAAGjsJ,EAAI5I,EAAI60J,EAAGjsJ,GAAK,EAAI5I,GAAK80J,EAAGlsJ,EAC/BxE,KAAKokJ,IAAMqM,CACb,CACA,OAAOzwJ,IACT,CACA6wJ,WAAAA,CAAYniJ,EAAOi4C,GAIjB,OAHIj4C,IACF1O,KAAKmwJ,KAvGX,SAAqBW,EAAMC,EAAMpqG,GAC/B,MAAMlN,EAAI48B,EAAKitE,EAAIwN,EAAKr3G,IAClBo/B,EAAIxC,EAAKitE,EAAIwN,EAAKj4E,IAClB9zE,EAAIsxE,EAAKitE,EAAIwN,EAAK/rJ,IACxB,MAAO,CACL00C,EAAG4pG,EAAIsM,EAAGl2G,EAAIkN,GAAK0vB,EAAKitE,EAAIyN,EAAKt3G,IAAMA,KACvCo/B,EAAGwqE,EAAIsM,EAAG92E,EAAIlyB,GAAK0vB,EAAKitE,EAAIyN,EAAKl4E,IAAMA,KACvC9zE,EAAGs+I,EAAIsM,EAAG5qJ,EAAI4hD,GAAK0vB,EAAKitE,EAAIyN,EAAKhsJ,IAAMA,KACvCP,EAAGssJ,EAAKtsJ,EAAImiD,GAAKoqG,EAAKvsJ,EAAIssJ,EAAKtsJ,GAEnC,CA6FkBqsJ,CAAY7wJ,KAAKmwJ,KAAMzhJ,EAAMyhJ,KAAMxpG,IAE1C3mD,IACT,CACAq8B,KAAAA,GACE,OAAO,IAAI4zH,EAAMjwJ,KAAKokJ,IACxB,CACAn3C,KAAAA,CAAMzoG,GAEJ,OADAxE,KAAKmwJ,KAAK3rJ,EAAI6+I,EAAI7+I,GACXxE,IACT,CACAgxJ,OAAAA,CAAQnB,GAGN,OAFY7vJ,KAAKmwJ,KACb3rJ,GAAK,EAAIqrJ,EACN7vJ,IACT,CACAixJ,SAAAA,GACE,MAAM7M,EAAMpkJ,KAAKmwJ,KACXvsF,EAAMwxB,EAAc,GAARgvD,EAAI3qG,EAAkB,IAAR2qG,EAAIvrE,EAAmB,IAARurE,EAAIr/I,GAEnD,OADAq/I,EAAI3qG,EAAI2qG,EAAIvrE,EAAIurE,EAAIr/I,EAAI6+D,EACjB5jE,IACT,CACAkxJ,OAAAA,CAAQrB,GAGN,OAFY7vJ,KAAKmwJ,KACb3rJ,GAAK,EAAIqrJ,EACN7vJ,IACT,CACAmxJ,MAAAA,GACE,MAAMv/F,EAAI5xD,KAAKmwJ,KAIf,OAHAv+F,EAAEnY,EAAI,IAAMmY,EAAEnY,EACdmY,EAAEinB,EAAI,IAAMjnB,EAAEinB,EACdjnB,EAAE7sD,EAAI,IAAM6sD,EAAE7sD,EACP/E,IACT,CACAoxJ,OAAAA,CAAQvB,GAEN,OADAD,EAAO5vJ,KAAKmwJ,KAAM,EAAGN,GACd7vJ,IACT,CACAqxJ,MAAAA,CAAOxB,GAEL,OADAD,EAAO5vJ,KAAKmwJ,KAAM,GAAIN,GACf7vJ,IACT,CACAsxJ,QAAAA,CAASzB,GAEP,OADAD,EAAO5vJ,KAAKmwJ,KAAM,EAAGN,GACd7vJ,IACT,CACAuxJ,UAAAA,CAAW1B,GAET,OADAD,EAAO5vJ,KAAKmwJ,KAAM,GAAIN,GACf7vJ,IACT,CACAwxJ,MAAAA,CAAOC,GAEL,OAtaJ,SAAgB7/F,EAAG6/F,GACjB,IAAI55D,EAAIwsD,EAAQzyF,GAChBimC,EAAE,GAAK4sD,EAAI5sD,EAAE,GAAK45D,GAClB55D,EAAI2sD,EAAQ3sD,GACZjmC,EAAEnY,EAAIo+C,EAAE,GACRjmC,EAAEinB,EAAIgf,EAAE,GACRjmC,EAAE7sD,EAAI8yF,EAAE,EACV,CA8ZI25D,CAAOxxJ,KAAKmwJ,KAAMsB,GACXzxJ,IACT,EC3jBK,SAASguC,IACJ,CAML,MAAM0jH,EAAO,MAClB,IAAIj6H,EAAK,EACT,MAAO,IAAMA,GACd,EAHmB,GAUb,SAASk6H,EAAc3+J,GAC5B,OAAiB,OAAVA,QAA4BugF,IAAVvgF,CAC3B,CAOO,SAASgC,EAAqBhC,GACnC,GAAI+B,MAAMC,SAAWD,MAAMC,QAAQhC,GACjC,OAAO,EAET,MAAM5C,EAAOe,OAAOiB,UAAU8J,SAAS1J,KAAKQ,GAC5C,MAAyB,YAArB5C,EAAK+L,MAAM,EAAG,IAAuC,WAAnB/L,EAAK+L,OAAO,EAIpD,CAOO,SAASy1J,EAAS5+J,GACvB,OAAiB,OAAVA,GAA4D,oBAA1C7B,OAAOiB,UAAU8J,SAAS1J,KAAKQ,EAC1D,CAMA,SAAS6+J,EAAe7+J,GACtB,OAAyB,kBAAVA,GAAsBA,aAAiBm5F,SAAW2lE,UAAU9+J,EAC7E,CAUO,SAAS++J,EAAgB/+J,EAAgB2C,GAC9C,OAAOk8J,EAAe7+J,GAASA,EAAQ2C,CACzC,CAOO,SAASq8J,EAAkBh/J,EAAsB2C,GACtD,MAAwB,qBAAV3C,EAAwB2C,EAAe3C,CACvD,OAOai/J,EAAcA,CAACj/J,EAAwBk/J,IACjC,kBAAVl/J,GAAsBA,EAAMmlD,SAAS,KAC1C45B,WAAW/+E,GAAS,IAAMk/J,GACvBl/J,EASA,SAASi6B,EACdr7B,EACAqkF,EACAk8E,GAEA,GAAIvgK,GAAyB,oBAAZA,EAAGY,KAClB,OAAOZ,EAAGy7C,MAAM8kH,EAASl8E,EAE7B,CAuBO,SAAS0qC,EACdyxC,EACAxgK,EACAugK,EACAppE,GAEA,IAAIv6F,EAAWgmE,EAAanjD,EAC5B,GAAIrc,EAAQo9J,GAEV,GADA59F,EAAM49F,EAAS9jK,OACXy6F,EACF,IAAKv6F,EAAIgmE,EAAM,EAAGhmE,GAAK,EAAGA,IACxBoD,EAAGY,KAAK2/J,EAASC,EAAS5jK,GAAIA,QAGhC,IAAKA,EAAI,EAAGA,EAAIgmE,EAAKhmE,IACnBoD,EAAGY,KAAK2/J,EAASC,EAAS5jK,GAAIA,QAG7B,GAAIojK,EAASQ,GAGlB,IAFA/gJ,EAAOlgB,OAAOkgB,KAAK+gJ,GACnB59F,EAAMnjD,EAAK/iB,OACNE,EAAI,EAAGA,EAAIgmE,EAAKhmE,IACnBoD,EAAGY,KAAK2/J,EAASC,EAAS/gJ,EAAK7iB,IAAK6iB,EAAK7iB,GAG/C,CAQO,SAAS6jK,EAAeC,EAAuBC,GACpD,IAAI/jK,EAAWgkK,EAAcC,EAAqBx9D,EAElD,IAAKq9D,IAAOC,GAAMD,EAAGhkK,SAAWikK,EAAGjkK,OACjC,OAAO,EAGT,IAAKE,EAAI,EAAGgkK,EAAOF,EAAGhkK,OAAQE,EAAIgkK,IAAQhkK,EAIxC,GAHAikK,EAAKH,EAAG9jK,GACRymG,EAAKs9D,EAAG/jK,GAEJikK,EAAGC,eAAiBz9D,EAAGy9D,cAAgBD,EAAGh9J,QAAUw/F,EAAGx/F,MACzD,OAAO,EAIX,OAAO,CACT,CAMO,SAAS4mC,GAASvkB,GACvB,GAAI9iB,EAAQ8iB,GACV,OAAOA,EAAOgP,IAAIuV,IAGpB,GAAIu1H,EAAS95I,GAAS,CACpB,MAAM9T,EAAS7S,OAAO86B,OAAO,MACvB5a,EAAOlgB,OAAOkgB,KAAKyG,GACnB66I,EAAOthJ,EAAK/iB,OAClB,IAAI4uE,EAAI,EAER,KAAOA,EAAIy1F,IAAQz1F,EACjBl5D,EAAOqN,EAAK6rD,IAAM7gC,GAAMvkB,EAAOzG,EAAK6rD,KAGtC,OAAOl5D,EAGT,OAAO8T,CACT,CAEA,SAAS86I,GAAWjnJ,GAClB,OAAmE,IAA5D,CAAC,YAAa,YAAa,eAAela,QAAQka,EAC3D,CAOO,SAASknJ,GAAQlnJ,EAAa3H,EAAmB8T,EAAmB/V,GACzE,IAAK6wJ,GAAWjnJ,GACd,OAGF,MAAMmnJ,EAAO9uJ,EAAO2H,GACdonJ,EAAOj7I,EAAOnM,GAEhBimJ,EAASkB,IAASlB,EAASmB,GAE7BC,GAAMF,EAAMC,EAAMhxJ,GAElBiC,EAAO2H,GAAO0wB,GAAM02H,EAExB,CA0BO,SAASC,GAAShvJ,EAAW8T,EAAqB/V,GACvD,MAAMkxJ,EAAUj+J,EAAQ8iB,GAAUA,EAAS,CAACA,GACtC06I,EAAOS,EAAQ3kK,OAErB,IAAKsjK,EAAS5tJ,GACZ,OAAOA,EAIT,MAAMkvJ,GADNnxJ,EAAUA,GAAW,CAAC,GACCmxJ,QAAUL,GACjC,IAAIj9J,EAEJ,IAAK,IAAIpH,EAAI,EAAGA,EAAIgkK,IAAQhkK,EAAG,CAE7B,GADAoH,EAAUq9J,EAAQzkK,IACbojK,EAASh8J,GACZ,SAGF,MAAMyb,EAAOlgB,OAAOkgB,KAAKzb,GACzB,IAAK,IAAIsnE,EAAI,EAAGy1F,EAAOthJ,EAAK/iB,OAAQ4uE,EAAIy1F,IAAQz1F,EAC9Cg2F,EAAO7hJ,EAAK6rD,GAAIl5D,EAAQpO,EAASmM,EAErC,CAEA,OAAOiC,CACT,CAgBO,SAASmvJ,GAAWnvJ,EAAW8T,GAEpC,OAAOk7I,GAAShvJ,EAAQ8T,EAAQ,CAACo7I,OAAQE,IAC3C,CAMO,SAASA,GAAUznJ,EAAa3H,EAAmB8T,GACxD,IAAK86I,GAAWjnJ,GACd,OAGF,MAAMmnJ,EAAO9uJ,EAAO2H,GACdonJ,EAAOj7I,EAAOnM,GAEhBimJ,EAASkB,IAASlB,EAASmB,GAC7BI,GAAQL,EAAMC,GACJ5hK,OAAOiB,UAAU+E,eAAe3E,KAAKwR,EAAQ2H,KACvD3H,EAAO2H,GAAO0wB,GAAM02H,GAExB,CAaA,MAAMM,GAAe,CAEnB,GAAIzhG,GAAKA,EAET/gE,EAAG+1D,GAAKA,EAAE/1D,EACVmgB,EAAG41C,GAAKA,EAAE51C,GAqCL,SAASsiJ,GAAiBvlG,EAAgBpiD,GAC/C,MAAM4nJ,EAAWF,GAAa1nJ,KAAS0nJ,GAAa1nJ,GAhBtD,SAAyBA,GACvB,MAAM0F,EAjBD,SAAmB1F,GACxB,MAAM6nJ,EAAQ7nJ,EAAItY,MAAM,KAClBge,EAAiB,GACvB,IAAIu3H,EAAM,GACV,IAAK,MAAM9sB,KAAQ03C,EACjB5qB,GAAO9sB,EACH8sB,EAAIzwF,SAAS,MACfywF,EAAMA,EAAIzsI,MAAM,GAAI,GAAK,KAEzBkV,EAAKtb,KAAK6yI,GACVA,EAAM,IAGV,OAAOv3H,CACT,CAGeoiJ,CAAU9nJ,GACvB,OAAOoiD,IACL,IAAK,MAAMmP,KAAK7rD,EAAM,CACpB,GAAU,KAAN6rD,EAGF,MAEFnP,EAAMA,GAAOA,EAAImP,EACnB,CACA,OAAOnP,CAAA,CAEX,CAG6D2lG,CAAgB/nJ,IAC3E,OAAO4nJ,EAASxlG,EAClB,CAKO,SAAS4lG,GAAY1iF,GAC1B,OAAOA,EAAItZ,OAAO,GAAGzjB,cAAgB+8B,EAAI90E,MAAM,EACjD,OAGay3J,GAAW5gK,GAAoC,qBAAVA,EAErC2lH,GAAc3lH,GAAsE,oBAAVA,EAG1E6gK,GAAYA,CAAIrvJ,EAAWO,KACtC,GAAIP,EAAEqiB,OAAS9hB,EAAE8hB,KACf,OAAO,EAGT,IAAK,MAAM09C,KAAQ//D,EACjB,IAAKO,EAAE5B,IAAIohE,GACT,OAAO,EAIX,OAAO,CAAI,EC9YN,MAAMuvF,GAAK16J,KAAK06J,GACVC,GAAM,EAAID,GACVE,GAAQD,GAAMD,GACdG,GAAW9nE,OAAO+nE,kBAClBC,GAAcL,GAAK,IACnBM,GAAUN,GAAK,EACfO,GAAaP,GAAK,EAClBQ,GAAqB,EAALR,GAAS,EAEzBS,GAAQn7J,KAAKm7J,MACbC,GAAOp7J,KAAKo7J,KAElB,SAASC,GAAa5jK,EAAWmgB,EAAWuzG,GACjD,OAAOnrH,KAAKy3H,IAAIhgI,EAAImgB,GAAKuzG,CAC3B,CAKO,SAASmwC,GAAQzlJ,GACtB,MAAM0lJ,EAAev7J,KAAKg8F,MAAMnmF,GAChCA,EAAQwlJ,GAAaxlJ,EAAO0lJ,EAAc1lJ,EAAQ,KAAQ0lJ,EAAe1lJ,EACzE,MAAM2lJ,EAAYx7J,KAAKoxH,IAAI,GAAIpxH,KAAK0/E,MAAMy7E,GAAMtlJ,KAC1C4lJ,EAAW5lJ,EAAQ2lJ,EAEzB,OADqBC,GAAY,EAAI,EAAIA,GAAY,EAAI,EAAIA,GAAY,EAAI,EAAI,IAC3DD,CACxB,CAgCO,SAASE,GAASxxG,GACvB,OALF,SAAwBA,GACtB,MAAoB,kBAANA,GAAgC,kBAANA,GAAwB,OAANA,KAAgBz0D,OAAOkmK,eAAezxG,GAAK,aAAcA,GAAK,YAAaA,EACvI,CAGU0xG,CAAe1xG,KAAOpL,MAAM65B,WAAWzuB,KAAiBwuG,SAASxuG,EAC3E,CAUO,SAAS2xG,GACdluI,EACA/iB,EACA4+B,GAEA,IAAIp0C,EAAWgkK,EAAcx/J,EAE7B,IAAKxE,EAAI,EAAGgkK,EAAOzrI,EAAMz4B,OAAQE,EAAIgkK,EAAMhkK,IACzCwE,EAAQ+zB,EAAMv4B,GAAGo0C,GACZsV,MAAMllD,KACTgR,EAAOkP,IAAM9Z,KAAK8Z,IAAIlP,EAAOkP,IAAKlgB,GAClCgR,EAAOgiD,IAAM5sD,KAAK4sD,IAAIhiD,EAAOgiD,IAAKhzD,GAGxC,CAEO,SAASkiK,GAAUC,GACxB,OAAOA,GAAWrB,GAAK,IACzB,CAEO,SAASsB,GAAUC,GACxB,OAAOA,GAAW,IAAMvB,GAC1B,CASO,SAASwB,GAAezkK,GAC7B,IAAKghK,EAAehhK,GAClB,OAEF,IAAIiQ,EAAI,EACJlF,EAAI,EACR,KAAOxC,KAAKg8F,MAAMvkG,EAAIiQ,GAAKA,IAAMjQ,GAC/BiQ,GAAK,GACLlF,IAEF,OAAOA,CACT,CAGO,SAAS25J,GACdC,EACAC,GAEA,MAAMC,EAAsBD,EAAW5kK,EAAI2kK,EAAY3kK,EACjD8kK,EAAsBF,EAAWzkJ,EAAIwkJ,EAAYxkJ,EACjD4kJ,EAA2Bx8J,KAAKsiH,KAAKg6C,EAAsBA,EAAsBC,EAAsBA,GAE7G,IAAIE,EAAQz8J,KAAK08J,MAAMH,EAAqBD,GAM5C,OAJIG,GAAU,GAAM/B,KAClB+B,GAAS9B,IAGJ,CACL8B,QACAE,SAAUH,EAEd,CAEO,SAASI,GAAsBC,EAAYC,GAChD,OAAO98J,KAAKsiH,KAAKtiH,KAAKoxH,IAAI0rC,EAAIrlK,EAAIolK,EAAIplK,EAAG,GAAKuI,KAAKoxH,IAAI0rC,EAAIllJ,EAAIilJ,EAAIjlJ,EAAG,GACxE,CAMO,SAASmlJ,GAAW3xJ,EAAWO,GACpC,OAAQP,EAAIO,EAAIivJ,IAASD,GAAMD,EACjC,CAMO,SAASsC,GAAgB5xJ,GAC9B,OAAQA,EAAIuvJ,GAAMA,IAAOA,EAC3B,CAKO,SAASsC,GAAcR,EAAerwJ,EAAeC,EAAa6wJ,GACvE,MAAM9xJ,EAAI4xJ,GAAgBP,GACpB5qF,EAAImrF,GAAgB5wJ,GACpB1E,EAAIs1J,GAAgB3wJ,GACpB8wJ,EAAeH,GAAgBnrF,EAAIzmE,GACnCgyJ,EAAaJ,GAAgBt1J,EAAI0D,GACjCiyJ,EAAeL,GAAgB5xJ,EAAIymE,GACnCyrF,EAAaN,GAAgB5xJ,EAAI1D,GACvC,OAAO0D,IAAMymE,GAAKzmE,IAAM1D,GAAMw1J,GAAyBrrF,IAAMnqE,GACvDy1J,EAAeC,GAAcC,EAAeC,CACpD,CASO,SAASC,GAAY3jK,EAAekgB,EAAa8yC,GACtD,OAAO5sD,KAAK4sD,IAAI9yC,EAAK9Z,KAAK8Z,IAAI8yC,EAAKhzD,GACrC,CAiBO,SAAS4jK,GAAW5jK,EAAewS,EAAeC,GAA6B,IAAhB8+G,EAAUl2H,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,QAC9E,OAAO2E,GAASoG,KAAK8Z,IAAI1N,EAAOC,GAAO8+G,GAAWvxH,GAASoG,KAAK4sD,IAAIxgD,EAAOC,GAAO8+G,CACpF,CC3LO,SAASsyC,GACd53C,EACAjsH,EACA8jK,GAEAA,EAAMA,GAAA,CAASrhK,GAAUwpH,EAAMxpH,GAASzC,GACxC,IAEI+jK,EAFAC,EAAK/3C,EAAM3wH,OAAS,EACpB2oK,EAAK,EAGT,KAAOD,EAAKC,EAAK,GACfF,EAAOE,EAAKD,GAAO,EACfF,EAAIC,GACNE,EAAKF,EAELC,EAAKD,EAIT,MAAO,CAACE,KAAID,KACd,CAUO,MAAME,GAAeA,CAC1Bj4C,EACAtzG,EACA3Y,EACAg4B,IAEA6rI,GAAQ53C,EAAOjsH,EAAOg4B,EAClBv1B,IACA,MAAM0hK,EAAKl4C,EAAMxpH,GAAOkW,GACxB,OAAOwrJ,EAAKnkK,GAASmkK,IAAOnkK,GAASisH,EAAMxpH,EAAQ,GAAGkW,KAAS3Y,CAAA,EAE/DyC,GAASwpH,EAAMxpH,GAAOkW,GAAO3Y,GAStBokK,GAAgBA,CAC3Bn4C,EACAtzG,EACA3Y,IAEA6jK,GAAQ53C,EAAOjsH,GAAOyC,GAASwpH,EAAMxpH,GAAOkW,IAAQ3Y,IAyBtD,MAAMqkK,GAAc,CAAC,OAAQ,MAAO,QAAS,SAAU,WA0DhD,SAASC,GAAoBvwI,EAAO1F,GACzC,MAAMk2I,EAAOxwI,EAAMywI,SACnB,IAAKD,EACH,OAGF,MAAM7nJ,EAAY6nJ,EAAK7nJ,UACjBja,EAAQia,EAAUje,QAAQ4vB,IACjB,IAAX5rB,GACFia,EAAUgzB,OAAOjtC,EAAO,GAGtBia,EAAUphB,OAAS,IAIvB+oK,GAAYh4I,SAAS1T,WACZob,EAAMpb,EAAI,WAGZob,EAAMywI,SACf,CAKO,SAASC,GAAgBj3C,GAC9B,MAAMnuH,EAAM,IAAIuL,IAAO4iH,GAEvB,OAAInuH,EAAIw0B,OAAS25F,EAAMlyH,OACdkyH,EAGFzrH,MAAMshF,KAAKhkF,EACpB,CClLa,MAAAqlK,GACW,qBAAX77J,OACF,SAASoxB,GACd,OAAOA,GACT,EAEKpxB,OAAO87J,sBAOT,SAASC,GACdhmK,EACAugK,GAEA,IAAI0F,EAAY,GACZC,GAAU,EAEd,OAAO,WAAyB,QAAAC,EAAA1pK,UAAAC,OAAb2nF,EAAW,IAAAlhF,MAAAgjK,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAX/hF,EAAW+hF,GAAA3pK,UAAA2pK,GAE5BH,EAAY5hF,EACP6hF,IACHA,GAAU,EACVJ,GAAiBllK,KAAKqJ,QAAQ,KAC5Bi8J,GAAU,EACVlmK,EAAGy7C,MAAM8kH,EAAS0F,EAAA,IAGxB,CACF,CAsBO,MAAMI,GAAsBC,GAAgD,UAAVA,EAAoB,OAAmB,QAAVA,EAAkB,QAAU,SAMrHC,GAAiBA,CAACD,EAAmC1yJ,EAAeC,IAA0B,UAAVyyJ,EAAoB1yJ,EAAkB,QAAV0yJ,EAAkBzyJ,GAAOD,EAAQC,GAAO,EAe9J,SAAS2yJ,GAAiC3zF,EAAqC4zF,EAAwBC,GAC5G,MAAMC,EAAaF,EAAO/pK,OAE1B,IAAIkX,EAAQ,EACRo7B,EAAQ23H,EAEZ,GAAI9zF,EAAK+zF,QAAS,CAChB,MAAM,OAACC,EAAM,OAAEC,EAAA,QAAQC,GAAWl0F,EAC5Bm0F,EAAWn0F,EAAK1sC,SAAU0sC,EAAK1sC,QAAQh2B,QAAU0iE,EAAK1sC,QAAQh2B,QAAQ62J,SAAkB,KACxFC,EAAOJ,EAAOI,MACd,IAAC3lJ,EAAG,IAAE8yC,EAAG,WAAE8yG,EAAU,WAAEC,GAAcN,EAAOO,gBAElD,GAAIF,EAAY,CAMd,GALAtzJ,EAAQpM,KAAK8Z,IAEXgkJ,GAAayB,EAASE,EAAM3lJ,GAAK+jJ,GAEjCqB,EAAqBC,EAAarB,GAAamB,EAAQQ,EAAMJ,EAAOQ,iBAAiB/lJ,IAAM+jJ,IACzF2B,EAAU,CACZ,MAAMM,EAAuBP,EAC1Bx8J,MAAM,EAAGqJ,EAAQ,GACjBujF,UACAowE,WACCC,IAAUzH,EAAcyH,EAAMV,EAAOG,SACzCrzJ,GAASpM,KAAK4sD,IAAI,EAAGkzG,GAEvB1zJ,EAAQmxJ,GAAYnxJ,EAAO,EAAG+yJ,EAAa,GAE7C,GAAIQ,EAAY,CACd,IAAItzJ,EAAMrM,KAAK4sD,IAEbkxG,GAAayB,EAASF,EAAOI,KAAM7yG,GAAK,GAAMgxG,GAAK,EAEnDsB,EAAqB,EAAIpB,GAAamB,EAAQQ,EAAMJ,EAAOQ,iBAAiBjzG,IAAM,GAAMgxG,GAAK,GAC/F,GAAI4B,EAAU,CACZ,MAAMS,EAAuBV,EAC1Bx8J,MAAMsJ,EAAM,GACZ0zJ,WACCC,IAAUzH,EAAcyH,EAAMV,EAAOG,SACzCpzJ,GAAOrM,KAAK4sD,IAAI,EAAGqzG,GAErBz4H,EAAQ+1H,GAAYlxJ,EAAKD,EAAO+yJ,GAAc/yJ,OAE9Co7B,EAAQ23H,EAAa/yJ,EAIzB,MAAO,CAACA,QAAOo7B,QACjB,CAQO,SAAS04H,GAAoB70F,GAClC,MAAM,OAAC80F,EAAM,OAAEC,EAAA,aAAQC,GAAgBh1F,EACjCi1F,EAAY,CAChBC,KAAMJ,EAAOrmJ,IACb0mJ,KAAML,EAAOvzG,IACb6zG,KAAML,EAAOtmJ,IACb4mJ,KAAMN,EAAOxzG,KAEf,IAAKyzG,EAEH,OADAh1F,EAAKg1F,aAAeC,GACb,EAET,MAAMK,EAAUN,EAAaE,OAASJ,EAAOrmJ,KAC1CumJ,EAAaG,OAASL,EAAOvzG,KAC7ByzG,EAAaI,OAASL,EAAOtmJ,KAC7BumJ,EAAaK,OAASN,EAAOxzG,IAGhC,OADA70D,OAAOD,OAAOuoK,EAAcC,GACrBK,CACT,CChKA,MAAMC,GAAUrzG,GAAoB,IAANA,GAAiB,IAANA,EACnCszG,GAAYA,CAACtzG,EAAWskB,EAAWrvE,KAAgBxC,KAAKoxH,IAAI,EAAG,IAAM7jE,GAAK,IAAMvtD,KAAK8gK,KAAKvzG,EAAIskB,GAAK8oF,GAAMn4J,GACzGu+J,GAAaA,CAACxzG,EAAWskB,EAAWrvE,IAAcxC,KAAKoxH,IAAI,GAAI,GAAK7jE,GAAKvtD,KAAK8gK,KAAKvzG,EAAIskB,GAAK8oF,GAAMn4J,GAAK,EAOvGw+J,GAAU,CACdC,OAAS1zG,GAAcA,EAEvB2zG,WAAa3zG,GAAcA,EAAIA,EAE/B4zG,YAAc5zG,IAAeA,GAAKA,EAAI,GAEtC6zG,cAAgB7zG,IAAgBA,GAAK,IAAO,EACxC,GAAMA,EAAIA,GACT,MAAUA,GAAMA,EAAI,GAAK,GAE9B8zG,YAAc9zG,GAAcA,EAAIA,EAAIA,EAEpC+zG,aAAe/zG,IAAeA,GAAK,GAAKA,EAAIA,EAAI,EAEhDg0G,eAAiBh0G,IAAgBA,GAAK,IAAO,EACzC,GAAMA,EAAIA,EAAIA,EACd,KAAQA,GAAK,GAAKA,EAAIA,EAAI,GAE9Bi0G,YAAcj0G,GAAcA,EAAIA,EAAIA,EAAIA,EAExCk0G,aAAel0G,MAAiBA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,GAEtDm0G,eAAiBn0G,IAAgBA,GAAK,IAAO,EACzC,GAAMA,EAAIA,EAAIA,EAAIA,GACjB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,GAEnCo0G,YAAcp0G,GAAcA,EAAIA,EAAIA,EAAIA,EAAIA,EAE5Cq0G,aAAer0G,IAAeA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,EAExDs0G,eAAiBt0G,IAAgBA,GAAK,IAAO,EACzC,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EACtB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,GAEtCu0G,WAAav0G,GAAuC,EAAxBvtD,KAAK+hK,IAAIx0G,EAAIytG,IAEzCgH,YAAcz0G,GAAcvtD,KAAK8gK,IAAIvzG,EAAIytG,IAEzCiH,cAAgB10G,IAAe,IAAOvtD,KAAK+hK,IAAIrH,GAAKntG,GAAK,GAEzD20G,WAAa30G,GAAqB,IAAPA,EAAY,EAAIvtD,KAAKoxH,IAAI,EAAG,IAAM7jE,EAAI,IAEjE40G,YAAc50G,GAAqB,IAAPA,EAAY,EAA4B,EAAvBvtD,KAAKoxH,IAAI,GAAI,GAAK7jE,GAE/D60G,cAAgB70G,GAAcqzG,GAAOrzG,GAAKA,EAAIA,EAAI,GAC9C,GAAMvtD,KAAKoxH,IAAI,EAAG,IAAU,EAAJ7jE,EAAQ,IAChC,IAAyC,EAAjCvtD,KAAKoxH,IAAI,GAAI,IAAU,EAAJ7jE,EAAQ,KAEvC80G,WAAa90G,GAAcA,GAAM,EAAKA,IAAMvtD,KAAKsiH,KAAK,EAAI/0D,EAAIA,GAAK,GAEnE+0G,YAAc/0G,GAAcvtD,KAAKsiH,KAAK,GAAK/0D,GAAK,GAAKA,GAErDg1G,cAAgBh1G,IAAgBA,GAAK,IAAO,GACvC,IAAOvtD,KAAKsiH,KAAK,EAAI/0D,EAAIA,GAAK,GAC/B,IAAOvtD,KAAKsiH,KAAK,GAAK/0D,GAAK,GAAKA,GAAK,GAEzCi1G,cAAgBj1G,GAAcqzG,GAAOrzG,GAAKA,EAAIszG,GAAUtzG,EAAG,KAAO,IAElEk1G,eAAiBl1G,GAAcqzG,GAAOrzG,GAAKA,EAAIwzG,GAAWxzG,EAAG,KAAO,IAEpEm1G,gBAAAA,CAAiBn1G,GACf,MAAMskB,EAAI,MAEV,OAAO+uF,GAAOrzG,GAAKA,EACjBA,EAAI,GACA,GAAMszG,GAAc,EAAJtzG,EAAOskB,EAHnB,KAIJ,GAAM,GAAMkvF,GAAe,EAAJxzG,EAAQ,EAAGskB,EAJ9B,IAKZ,EAEA8wF,UAAAA,CAAWp1G,GACT,MAAMskB,EAAI,QACV,OAAOtkB,EAAIA,IAAMskB,EAAI,GAAKtkB,EAAIskB,EAChC,EAEA+wF,WAAAA,CAAYr1G,GACV,MAAMskB,EAAI,QACV,OAAQtkB,GAAK,GAAKA,IAAMskB,EAAI,GAAKtkB,EAAIskB,GAAK,CAC5C,EAEAgxF,aAAAA,CAAct1G,GACZ,IAAIskB,EAAI,QACR,OAAKtkB,GAAK,IAAO,EACDA,EAAIA,IAAuB,GAAhBskB,GAAM,QAAetkB,EAAIskB,GAA3C,GAEF,KAAQtkB,GAAK,GAAKA,IAAuB,GAAhBskB,GAAM,QAAetkB,EAAIskB,GAAK,EAChE,EAEAixF,aAAev1G,GAAc,EAAIyzG,GAAQ+B,cAAc,EAAIx1G,GAE3Dw1G,aAAAA,CAAcx1G,GACZ,MAAMrM,EAAI,OACJjB,EAAI,KACV,OAAIsN,EAAK,EAAItN,EACJiB,EAAIqM,EAAIA,EAEbA,EAAK,EAAItN,EACJiB,GAAKqM,GAAM,IAAMtN,GAAMsN,EAAI,IAEhCA,EAAK,IAAMtN,EACNiB,GAAKqM,GAAM,KAAOtN,GAAMsN,EAAI,MAE9BrM,GAAKqM,GAAM,MAAQtN,GAAMsN,EAAI,OACtC,EAEAy1G,gBAAkBz1G,GAAeA,EAAI,GACH,GAA9ByzG,GAAQ8B,aAAiB,EAAJv1G,GACc,GAAnCyzG,GAAQ+B,cAAkB,EAAJx1G,EAAQ,GAAW,ICpHxC,SAAS01G,GAAoBrpK,GAClC,GAAIA,GAA0B,kBAAVA,EAAoB,CACtC,MAAM5C,EAAO4C,EAAMkJ,WACnB,MAAgB,2BAAT9L,GAA8C,4BAATA,EAG9C,OAAO,CACT,CAWO,SAASse,GAAM1b,GACpB,OAAOqpK,GAAoBrpK,GAASA,EAAQ,IAAIi9J,EAAMj9J,EACxD,CAKO,SAASspK,GAActpK,GAC5B,OAAOqpK,GAAoBrpK,GACvBA,EACA,IAAIi9J,EAAMj9J,GAAOs+J,SAAS,IAAKD,OAAO,IAAKvN,WACjD,CC/BA,MAAMyY,GAAU,CAAC,IAAK,IAAK,cAAe,SAAU,WAC9CC,GAAS,CAAC,QAAS,cAAe,mBCAxC,MAAMC,GAAY,IAAIj/J,IAaf,SAASk/J,GAAaxzG,EAAal9C,EAAgBjK,GACxD,OAZF,SAAyBiK,EAAgBjK,GACvCA,EAAUA,GAAW,CAAC,EACtB,MAAM46J,EAAW3wJ,EAAS2qE,KAAKC,UAAU70E,GACzC,IAAI66J,EAAYH,GAAU18J,IAAI48J,GAK9B,OAJKC,IACHA,EAAY,IAAIC,KAAKC,aAAa9wJ,EAAQjK,GAC1C06J,GAAUpqK,IAAIsqK,EAAUC,IAEnBA,CACT,CAGSG,CAAgB/wJ,EAAQjK,GAASwuG,OAAOrnD,EACjD,CCRA,MAAM8zG,GAAa,CAOjB9pE,OAAOlgG,GACEgC,EAAQhC,GAAkCA,EAAS,GAAKA,EAWjEiqK,OAAAA,CAAQC,EAAWznK,EAAO0nK,GACxB,GAAkB,IAAdD,EACF,MAAO,IAGT,MAAMlxJ,EAAShM,KAAKo9J,MAAMr7J,QAAQiK,OAClC,IAAIqxJ,EACAn3G,EAAQg3G,EAEZ,GAAIC,EAAM7uK,OAAS,EAAG,CAEpB,MAAMgvK,EAAUlkK,KAAK4sD,IAAI5sD,KAAKy3H,IAAIssC,EAAM,GAAGnqK,OAAQoG,KAAKy3H,IAAIssC,EAAMA,EAAM7uK,OAAS,GAAG0E,SAChFsqK,EAAU,MAAQA,EAAU,QAC9BD,EAAW,cAGbn3G,EAyCN,SAAwBg3G,EAAWC,GAGjC,IAAIj3G,EAAQi3G,EAAM7uK,OAAS,EAAI6uK,EAAM,GAAGnqK,MAAQmqK,EAAM,GAAGnqK,MAAQmqK,EAAM,GAAGnqK,MAAQmqK,EAAM,GAAGnqK,MAGvFoG,KAAKy3H,IAAI3qE,IAAU,GAAKg3G,IAAc9jK,KAAK0/E,MAAMokF,KAEnDh3G,EAAQg3G,EAAY9jK,KAAK0/E,MAAMokF,IAEjC,OAAOh3G,CACT,CApDcq3G,CAAeL,EAAWC,GAGpC,MAAMK,EAAWjJ,GAAMn7J,KAAKy3H,IAAI3qE,IAO1Bu3G,EAAavlH,MAAMslH,GAAY,EAAIpkK,KAAK4sD,IAAI5sD,KAAK8Z,KAAK,EAAI9Z,KAAK0/E,MAAM0kF,GAAW,IAAK,GAErFz7J,EAAU,CAACs7J,WAAUK,sBAAuBD,EAAYE,sBAAuBF,GAGrF,OAFAtsK,OAAOD,OAAO6Q,EAAS/B,KAAK+B,QAAQo7J,MAAM5sD,QAEnCmsD,GAAaQ,EAAWlxJ,EAAQjK,EACzC,EAWA67J,WAAAA,CAAYV,EAAWznK,EAAO0nK,GAC5B,GAAkB,IAAdD,EACF,MAAO,IAET,MAAMW,EAASV,EAAM1nK,GAAOqoK,aAAgBZ,EAAa9jK,KAAKoxH,IAAI,GAAIpxH,KAAK0/E,MAAMy7E,GAAM2I,KACvF,MAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,IAAI3pK,SAASsqK,IAAWpoK,EAAQ,GAAM0nK,EAAM7uK,OACxD0uK,GAAWC,QAAQzqK,KAAKwN,KAAMk9J,EAAWznK,EAAO0nK,GAElD,EACT,GAsBF,IAAAY,GAAe,CAACf,qBC/FHgB,GAAY7sK,OAAO86B,OAAO,MAC1BgyI,GAAc9sK,OAAO86B,OAAO,MAOzC,SAASiyI,GAASxvK,EAAMid,GACtB,IAAKA,EACH,OAAOjd,EAET,MAAM2iB,EAAO1F,EAAItY,MAAM,KACvB,IAAK,IAAI7E,EAAI,EAAG80D,EAAIjyC,EAAK/iB,OAAQE,EAAI80D,IAAK90D,EAAG,CAC3C,MAAM0uE,EAAI7rD,EAAK7iB,GACfE,EAAOA,EAAKwuE,KAAOxuE,EAAKwuE,GAAK/rE,OAAO86B,OAAO,MAC7C,CACA,OAAOv9B,CACT,CAEA,SAAS2D,GAAIuH,EAAM2qD,EAAO2uC,GACxB,MAAqB,kBAAV3uC,EACFyuG,GAAMkL,GAAStkK,EAAM2qD,GAAQ2uC,GAE/B8/D,GAAMkL,GAAStkK,EAAM,IAAK2qD,EACnC,CAMO,MAAM45G,GACXt+J,WAAAA,CAAYu+J,EAAcC,GACxBr+J,KAAKyV,eAAY89D,EACjBvzE,KAAKs+J,gBAAkB,kBACvBt+J,KAAKu+J,YAAc,kBACnBv+J,KAAK0O,MAAQ,OACb1O,KAAKw+J,SAAW,CAAC,EACjBx+J,KAAKy+J,iBAAoB3nK,GAAYA,EAAQsmK,MAAMsB,SAASC,sBAC5D3+J,KAAK0nC,SAAW,CAAC,EACjB1nC,KAAKqlB,OAAS,CACZ,YACA,WACA,QACA,aACA,aAEFrlB,KAAK4+J,KAAO,CACVC,OAAQ,qDACRh4I,KAAM,GACN/jB,MAAO,SACPg8J,WAAY,IACZ/4G,OAAQ,MAEV/lD,KAAK++J,MAAQ,CAAC,EACd/+J,KAAKg/J,qBAAuB,CAAC36E,EAAKtiF,IAAYu6J,GAAcv6J,EAAQu8J,iBACpEt+J,KAAKi/J,iBAAmB,CAAC56E,EAAKtiF,IAAYu6J,GAAcv6J,EAAQw8J,aAChEv+J,KAAKk/J,WAAa,CAAC76E,EAAKtiF,IAAYu6J,GAAcv6J,EAAQ2M,OAC1D1O,KAAKm/J,UAAY,IACjBn/J,KAAKo/J,YAAc,CACjBthJ,KAAM,UACNuhJ,WAAW,EACXC,kBAAkB,GAEpBt/J,KAAKu/J,qBAAsB,EAC3Bv/J,KAAKw/J,QAAU,KACfx/J,KAAKka,QAAU,KACfla,KAAKy/J,SAAU,EACfz/J,KAAKu0D,QAAU,CAAC,EAChBv0D,KAAK0/J,YAAa,EAClB1/J,KAAK2/J,WAAQpsF,EACbvzE,KAAK4/J,OAAS,CAAC,EACf5/J,KAAK6/J,UAAW,EAChB7/J,KAAK8/J,yBAA0B,EAE/B9/J,KAAK+/J,SAAS3B,GACdp+J,KAAKqtC,MAAMgxH,EACb,CAMAhsK,GAAAA,CAAIkyD,EAAO2uC,GACT,OAAO7gG,GAAI2N,KAAMukD,EAAO2uC,EAC1B,CAKAnzF,GAAAA,CAAIwkD,GACF,OAAO25G,GAASl+J,KAAMukD,EACxB,CAMAw7G,QAAAA,CAASx7G,EAAO2uC,GACd,OAAO7gG,GAAI4rK,GAAa15G,EAAO2uC,EACjC,CAEAlsB,QAAAA,CAASziB,EAAO2uC,GACd,OAAO7gG,GAAI2rK,GAAWz5G,EAAO2uC,EAC/B,CAmBA8sE,KAAAA,CAAMz7G,EAAOh0D,EAAM0vK,EAAalvE,GAC9B,MAAMmvE,EAAchC,GAASl+J,KAAMukD,GAC7B47G,EAAoBjC,GAASl+J,KAAMigK,GACnCG,EAAc,IAAM7vK,EAE1BY,OAAO2jE,iBAAiBorG,EAAa,CAEnC,CAACE,GAAc,CACbptK,MAAOktK,EAAY3vK,GACnB8vK,UAAU,GAGZ,CAAC9vK,GAAO,CACN0P,YAAY,EACZF,GAAAA,GACE,MAAMy+D,EAAQx+D,KAAKogK,GACbp8J,EAASm8J,EAAkBpvE,GACjC,OAAI6gE,EAASpzF,GACJrtE,OAAOD,OAAO,CAAC,EAAG8S,EAAQw6D,GAE5BwzF,EAAexzF,EAAOx6D,EAC/B,EACA3R,GAAAA,CAAIW,GACFgN,KAAKogK,GAAeptK,CACtB,IAGN,CAEAq6C,KAAAA,CAAMizH,GACJA,EAASjhJ,SAASguB,GAAUA,EAAMrtC,OACpC,EAIF,IAAAq6H,GAA+B,IAAI8jC,GAAS,CAC1CoC,YAAchwK,IAAUA,EAAKiwK,WAAW,MACxCC,WAAalwK,GAAkB,WAATA,EACtBwuK,MAAO,CACL2B,UAAW,eAEbtB,YAAa,CACXmB,aAAa,EACbE,YAAY,IAEb,CH3KI,SAAiCpmC,GACtCA,EAAShoI,IAAI,YAAa,CACxB4uH,WAAO1tC,EACPotF,SAAU,IACVC,OAAQ,eACRhvK,QAAI2hF,EACJ8C,UAAM9C,EACNrD,UAAMqD,EACNo8E,QAAIp8E,EACJnjF,UAAMmjF,IAGR8mD,EAAS0lC,SAAS,YAAa,CAC7BW,WAAW,EACXD,YAAY,EACZF,YAAchwK,GAAkB,eAATA,GAAkC,eAATA,GAAkC,OAATA,IAG3E8pI,EAAShoI,IAAI,aAAc,CACzBmqK,OAAQ,CACNpsK,KAAM,QACNwuE,WAAY49F,IAEdD,QAAS,CACPnsK,KAAM,SACNwuE,WAAY29F,MAIhBliC,EAAS0lC,SAAS,aAAc,CAC9BW,UAAW,cAGbrmC,EAAShoI,IAAI,cAAe,CAC1BwuK,OAAQ,CACNprJ,UAAW,CACTkrJ,SAAU,MAGdj/D,OAAQ,CACNjsF,UAAW,CACTkrJ,SAAU,IAGdG,KAAM,CACJC,WAAY,CACVvE,OAAQ,CACNnmF,KAAM,eAER2qF,QAAS,CACP5wK,KAAM,UACNuwK,SAAU,KAIhBM,KAAM,CACJF,WAAY,CACVvE,OAAQ,CACN7M,GAAI,eAENqR,QAAS,CACP5wK,KAAM,UACNwwK,OAAQ,SACRhvK,GAAIggE,GAAS,EAAJA,MAKnB,EIvEO,SAA8ByoE,GACnCA,EAAShoI,IAAI,SAAU,CACrB6uK,aAAa,EACbxmC,QAAS,CACPxmH,IAAK,EACLqnD,MAAO,EACP4lG,OAAQ,EACRntJ,KAAM,IAGZ,ECRO,SAA4BqmH,GACjCA,EAAShoI,IAAI,QAAS,CACpBmxC,SAAS,EACT9xB,QAAQ,EACRq3E,SAAS,EACTq4E,aAAa,EASbC,OAAQ,QAERC,MAAM,EAMNC,MAAO,EAGPC,KAAM,CACJh+H,SAAS,EACTi+H,UAAW,EACXC,iBAAiB,EACjBC,WAAW,EACXC,WAAY,EACZC,UAAWA,CAACC,EAAM//J,IAAYA,EAAQ0/J,UACtCM,UAAWA,CAACD,EAAM//J,IAAYA,EAAQ2M,MACtCgD,QAAQ,GAGVswJ,OAAQ,CACNx+H,SAAS,EACTy+H,KAAM,GACNC,WAAY,EACZ91J,MAAO,GAITiuB,MAAO,CAELmJ,SAAS,EAGThhC,KAAM,GAGNk4H,QAAS,CACPxmH,IAAK,EACLitJ,OAAQ,IAKZhE,MAAO,CACLgF,YAAa,EACbC,YAAa,GACbC,QAAQ,EACRC,gBAAiB,EACjBC,gBAAiB,GACjB7nC,QAAS,EACTl3F,SAAS,EACTg/H,UAAU,EACVC,gBAAiB,EACjBC,YAAa,EAEbz1I,SAAU8wI,GAAMf,WAAW9pE,OAC3ByvE,MAAO,CAAC,EACRC,MAAO,CAAC,EACR1K,MAAO,SACP2K,WAAY,OAEZC,mBAAmB,EACnBC,cAAe,4BACfC,gBAAiB,KAIrB3oC,EAAS2lC,MAAM,cAAe,QAAS,GAAI,SAC3C3lC,EAAS2lC,MAAM,aAAc,QAAS,GAAI,eAC1C3lC,EAAS2lC,MAAM,eAAgB,QAAS,GAAI,eAC5C3lC,EAAS2lC,MAAM,cAAe,QAAS,GAAI,SAE3C3lC,EAAS0lC,SAAS,QAAS,CACzBW,WAAW,EACXH,YAAchwK,IAAUA,EAAKiwK,WAAW,YAAcjwK,EAAKiwK,WAAW,UAAqB,aAATjwK,GAAgC,WAATA,EACzGkwK,WAAalwK,GAAkB,eAATA,GAAkC,mBAATA,GAAsC,SAATA,IAG9E8pI,EAAS0lC,SAAS,SAAU,CAC1BW,UAAW,UAGbrmC,EAAS0lC,SAAS,cAAe,CAC/BQ,YAAchwK,GAAkB,oBAATA,GAAuC,aAATA,EACrDkwK,WAAalwK,GAAkB,oBAATA,GAE1B,IClEO,SAAS0yK,GACd5+E,EACAhvF,EACA6zE,EACAg6F,EACA95G,GAEA,IAAI+5G,EAAY9tK,EAAK+zD,GAQrB,OAPK+5G,IACHA,EAAY9tK,EAAK+zD,GAAUi7B,EAAI++E,YAAYh6G,GAAQh9C,MACnD88D,EAAGnzE,KAAKqzD,IAEN+5G,EAAYD,IACdA,EAAUC,GAELD,CACT,CAsEO,SAASG,GAAYjG,EAAcz4E,EAAev4E,GACvD,MAAMqyJ,EAAmBrB,EAAMkG,wBACzBC,EAAsB,IAAVn3J,EAAchT,KAAK4sD,IAAI55C,EAAQ,EAAG,IAAO,EAC3D,OAAOhT,KAAKg8F,OAAOzQ,EAAQ4+E,GAAa9E,GAAoBA,EAAmB8E,CACjF,CAKO,SAASC,GAAYlrF,EAA4B+L,IACjDA,GAAQ/L,MAIb+L,EAAMA,GAAO/L,EAAOsJ,WAAW,OAE3B6hF,OAGJp/E,EAAIq/E,iBACJr/E,EAAIs/E,UAAU,EAAG,EAAGrrF,EAAOlsE,MAAOksE,EAAOjsE,QACzCg4E,EAAIu/E,UACN,CASO,SAASC,GACdx/E,EACAtiF,EACAlR,EACAmgB,GAGA8yJ,GAAgBz/E,EAAKtiF,EAASlR,EAAGmgB,EAAG,KACtC,CAGO,SAAS8yJ,GACdz/E,EACAtiF,EACAlR,EACAmgB,EACA4mF,GAEA,IAAIxnG,EAAcgmH,EAAiBC,EAAiBxvF,EAAck9I,EAAsB33J,EAAe43J,EAAkBC,EACzH,MAAMnhK,EAAQf,EAAQmiK,WAChBC,EAAWpiK,EAAQoiK,SACnBnqB,EAASj4I,EAAQi4I,OACvB,IAAIoqB,GAAOD,GAAY,GAAKhQ,GAE5B,GAAIrxJ,GAA0B,kBAAVA,IAClB1S,EAAO0S,EAAM5G,WACA,8BAAT9L,GAAiD,+BAATA,GAM1C,OALAi0F,EAAIo/E,OACJp/E,EAAIggF,UAAUxzK,EAAGmgB,GACjBqzE,EAAImtE,OAAO4S,GACX//E,EAAIG,UAAU1hF,GAAQA,EAAMsJ,MAAQ,GAAItJ,EAAMuJ,OAAS,EAAGvJ,EAAMsJ,MAAOtJ,EAAMuJ,aAC7Eg4E,EAAIu/E,UAKR,KAAI1rH,MAAM8hG,IAAWA,GAAU,GAA/B,CAMA,OAFA31D,EAAIigF,YAEIxhK,GAEN,QACM80F,EACFvT,EAAIkgF,QAAQ1zK,EAAGmgB,EAAG4mF,EAAI,EAAGoiD,EAAQ,EAAG,EAAG+Z,IAEvC1vE,EAAImgF,IAAI3zK,EAAGmgB,EAAGgpI,EAAQ,EAAG+Z,IAE3B1vE,EAAIogF,YACJ,MACF,IAAK,WACHr4J,EAAQwrF,EAAIA,EAAI,EAAIoiD,EACpB31D,EAAIqgF,OAAO7zK,EAAIuI,KAAK8gK,IAAIkK,GAAOh4J,EAAO4E,EAAI5X,KAAK+hK,IAAIiJ,GAAOpqB,GAC1DoqB,GAAO9P,GACPjwE,EAAIsgF,OAAO9zK,EAAIuI,KAAK8gK,IAAIkK,GAAOh4J,EAAO4E,EAAI5X,KAAK+hK,IAAIiJ,GAAOpqB,GAC1DoqB,GAAO9P,GACPjwE,EAAIsgF,OAAO9zK,EAAIuI,KAAK8gK,IAAIkK,GAAOh4J,EAAO4E,EAAI5X,KAAK+hK,IAAIiJ,GAAOpqB,GAC1D31D,EAAIogF,YACJ,MACF,IAAK,cAQHV,EAAwB,KAAT/pB,EACfnzH,EAAOmzH,EAAS+pB,EAChB3tD,EAAUh9G,KAAK+hK,IAAIiJ,EAAM/P,IAAcxtI,EACvCm9I,EAAW5qK,KAAK+hK,IAAIiJ,EAAM/P,KAAez8D,EAAIA,EAAI,EAAImsE,EAAel9I,GACpEwvF,EAAUj9G,KAAK8gK,IAAIkK,EAAM/P,IAAcxtI,EACvCo9I,EAAW7qK,KAAK8gK,IAAIkK,EAAM/P,KAAez8D,EAAIA,EAAI,EAAImsE,EAAel9I,GACpEw9D,EAAImgF,IAAI3zK,EAAImzK,EAAUhzJ,EAAIqlG,EAAS0tD,EAAcK,EAAMtQ,GAAIsQ,EAAMhQ,IACjE/vE,EAAImgF,IAAI3zK,EAAIozK,EAAUjzJ,EAAIolG,EAAS2tD,EAAcK,EAAMhQ,GAASgQ,GAChE//E,EAAImgF,IAAI3zK,EAAImzK,EAAUhzJ,EAAIqlG,EAAS0tD,EAAcK,EAAKA,EAAMhQ,IAC5D/vE,EAAImgF,IAAI3zK,EAAIozK,EAAUjzJ,EAAIolG,EAAS2tD,EAAcK,EAAMhQ,GAASgQ,EAAMtQ,IACtEzvE,EAAIogF,YACJ,MACF,IAAK,OACH,IAAKN,EAAU,CACbt9I,EAAOztB,KAAKwrK,QAAU5qB,EACtB5tI,EAAQwrF,EAAIA,EAAI,EAAI/wE,EACpBw9D,EAAIwgF,KAAKh0K,EAAIub,EAAO4E,EAAI6V,EAAM,EAAIza,EAAO,EAAIya,GAC7C,MAEFu9I,GAAO/P,GAET,IAAK,UACH2P,EAAW5qK,KAAK+hK,IAAIiJ,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC5jC,EAAUh9G,KAAK+hK,IAAIiJ,GAAOpqB,EAC1B3jC,EAAUj9G,KAAK8gK,IAAIkK,GAAOpqB,EAC1BiqB,EAAW7qK,KAAK8gK,IAAIkK,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC31D,EAAIqgF,OAAO7zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIsgF,OAAO9zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B/xB,EAAIsgF,OAAO9zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIsgF,OAAO9zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B/xB,EAAIogF,YACJ,MACF,IAAK,WACHL,GAAO/P,GAET,IAAK,QACH2P,EAAW5qK,KAAK+hK,IAAIiJ,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC5jC,EAAUh9G,KAAK+hK,IAAIiJ,GAAOpqB,EAC1B3jC,EAAUj9G,KAAK8gK,IAAIkK,GAAOpqB,EAC1BiqB,EAAW7qK,KAAK8gK,IAAIkK,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC31D,EAAIqgF,OAAO7zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIsgF,OAAO9zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIqgF,OAAO7zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B/xB,EAAIsgF,OAAO9zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B,MACF,IAAK,OACH4tD,EAAW5qK,KAAK+hK,IAAIiJ,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC5jC,EAAUh9G,KAAK+hK,IAAIiJ,GAAOpqB,EAC1B3jC,EAAUj9G,KAAK8gK,IAAIkK,GAAOpqB,EAC1BiqB,EAAW7qK,KAAK8gK,IAAIkK,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC31D,EAAIqgF,OAAO7zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIsgF,OAAO9zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIqgF,OAAO7zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B/xB,EAAIsgF,OAAO9zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7BguD,GAAO/P,GACP2P,EAAW5qK,KAAK+hK,IAAIiJ,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC5jC,EAAUh9G,KAAK+hK,IAAIiJ,GAAOpqB,EAC1B3jC,EAAUj9G,KAAK8gK,IAAIkK,GAAOpqB,EAC1BiqB,EAAW7qK,KAAK8gK,IAAIkK,IAAQxsE,EAAIA,EAAI,EAAIoiD,GACxC31D,EAAIqgF,OAAO7zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIsgF,OAAO9zK,EAAImzK,EAAUhzJ,EAAIqlG,GAC7BhyB,EAAIqgF,OAAO7zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B/xB,EAAIsgF,OAAO9zK,EAAIozK,EAAUjzJ,EAAIolG,GAC7B,MACF,IAAK,OACHA,EAAUxe,EAAIA,EAAI,EAAIx+F,KAAK+hK,IAAIiJ,GAAOpqB,EACtC3jC,EAAUj9G,KAAK8gK,IAAIkK,GAAOpqB,EAC1B31D,EAAIqgF,OAAO7zK,EAAIulH,EAASplG,EAAIqlG,GAC5BhyB,EAAIsgF,OAAO9zK,EAAIulH,EAASplG,EAAIqlG,GAC5B,MACF,IAAK,OACHhyB,EAAIqgF,OAAO7zK,EAAGmgB,GACdqzE,EAAIsgF,OAAO9zK,EAAIuI,KAAK+hK,IAAIiJ,IAAQxsE,EAAIA,EAAI,EAAIoiD,GAAShpI,EAAI5X,KAAK8gK,IAAIkK,GAAOpqB,GACzE,MACF,KAAK,EACH31D,EAAIogF,YAIRpgF,EAAI8oC,OACAprH,EAAQ+iK,YAAc,GACxBzgF,EAAI0gF,SAER,CASO,SAASC,GACd5L,EACAnX,EACAgjB,GAIA,OAFAA,EAASA,GAAU,IAEXhjB,GAASmX,GAASA,EAAMvoK,EAAIoxJ,EAAKjuI,KAAOixJ,GAAU7L,EAAMvoK,EAAIoxJ,EAAK1mF,MAAQ0pG,GACjF7L,EAAMpoJ,EAAIixI,EAAK/tI,IAAM+wJ,GAAU7L,EAAMpoJ,EAAIixI,EAAKkf,OAAS8D,CACzD,CAEO,SAASC,GAAS7gF,EAA+B49D,GACtD59D,EAAIo/E,OACJp/E,EAAIigF,YACJjgF,EAAIwgF,KAAK5iB,EAAKjuI,KAAMiuI,EAAK/tI,IAAK+tI,EAAK1mF,MAAQ0mF,EAAKjuI,KAAMiuI,EAAKkf,OAASlf,EAAK/tI,KACzEmwE,EAAIi9E,MACN,CAEO,SAAS6D,GAAW9gF,GACzBA,EAAIu/E,SACN,CAKO,SAASwB,GACd/gF,EACAghF,EACArhK,EACA00E,EACA56D,GAEA,IAAKunJ,EACH,OAAOhhF,EAAIsgF,OAAO3gK,EAAOnT,EAAGmT,EAAOgN,GAErC,GAAa,WAAT8M,EAAmB,CACrB,MAAMwnJ,GAAYD,EAASx0K,EAAImT,EAAOnT,GAAK,EAC3CwzF,EAAIsgF,OAAOW,EAAUD,EAASr0J,GAC9BqzE,EAAIsgF,OAAOW,EAAUthK,EAAOgN,EAC9B,KAAoB,UAAT8M,MAAuB46D,EAChC2L,EAAIsgF,OAAOU,EAASx0K,EAAGmT,EAAOgN,GAE9BqzE,EAAIsgF,OAAO3gK,EAAOnT,EAAGw0K,EAASr0J,GAEhCqzE,EAAIsgF,OAAO3gK,EAAOnT,EAAGmT,EAAOgN,EAC9B,CAKO,SAASu0J,GACdlhF,EACAghF,EACArhK,EACA00E,GAEA,IAAK2sF,EACH,OAAOhhF,EAAIsgF,OAAO3gK,EAAOnT,EAAGmT,EAAOgN,GAErCqzE,EAAImhF,cACF9sF,EAAO2sF,EAASI,KAAOJ,EAASK,KAChChtF,EAAO2sF,EAASM,KAAON,EAASO,KAChCltF,EAAO10E,EAAO0hK,KAAO1hK,EAAOyhK,KAC5B/sF,EAAO10E,EAAO4hK,KAAO5hK,EAAO2hK,KAC5B3hK,EAAOnT,EACPmT,EAAOgN,EACX,CAwBA,SAAS60J,GACPxhF,EACAxzF,EACAmgB,EACAm9C,EACA2B,GAEA,GAAIA,EAAKg2G,eAAiBh2G,EAAKi2G,UAAW,CAQxC,MAAMC,EAAU3hF,EAAI++E,YAAYj1G,GAC1Bn6C,EAAOnjB,EAAIm1K,EAAQC,sBACnB1qG,EAAQ1qE,EAAIm1K,EAAQE,uBACpBhyJ,EAAMlD,EAAIg1J,EAAQG,wBAClBhF,EAASnwJ,EAAIg1J,EAAQI,yBACrBC,EAAcv2G,EAAKg2G,eAAiB5xJ,EAAMitJ,GAAU,EAAIA,EAE9D98E,EAAIiiF,YAAcjiF,EAAIkiF,UACtBliF,EAAIigF,YACJjgF,EAAIo9E,UAAY3xG,EAAK02G,iBAAmB,EACxCniF,EAAIqgF,OAAO1wJ,EAAMqyJ,GACjBhiF,EAAIsgF,OAAOppG,EAAO8qG,GAClBhiF,EAAI0gF,SAER,CAEA,SAAS0B,GAAapiF,EAA+Bv0B,GACnD,MAAM42G,EAAWriF,EAAIkiF,UAErBliF,EAAIkiF,UAAYz2G,EAAKphD,MACrB21E,EAAIsiF,SAAS72G,EAAK97C,KAAM87C,EAAK57C,IAAK47C,EAAK1jD,MAAO0jD,EAAKzjD,QACnDg4E,EAAIkiF,UAAYG,CAClB,CAKO,SAASE,GACdviF,EACA7hF,EACA3R,EACAmgB,EACA4tJ,GAEA,IADA9uG,EAAuBzhE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,MAEvB,MAAM2tH,EAAQhnH,EAAQwN,GAAQA,EAAO,CAACA,GAChCuiK,EAASj1G,EAAK+2G,YAAc,GAA0B,KAArB/2G,EAAKg3G,YAC5C,IAAIt4K,EAAW2/D,EAMf,IAJAk2B,EAAIo/E,OACJp/E,EAAIu6E,KAAOA,EAAKx1G,OA7ElB,SAAuBi7B,EAA+Bv0B,GAChDA,EAAKi3G,aACP1iF,EAAIggF,UAAUv0G,EAAKi3G,YAAY,GAAIj3G,EAAKi3G,YAAY,IAGjDpV,EAAc7hG,EAAKq0G,WACtB9/E,EAAImtE,OAAO1hG,EAAKq0G,UAGdr0G,EAAKphD,QACP21E,EAAIkiF,UAAYz2G,EAAKphD,OAGnBohD,EAAKk3G,YACP3iF,EAAI2iF,UAAYl3G,EAAKk3G,WAGnBl3G,EAAKm3G,eACP5iF,EAAI4iF,aAAen3G,EAAKm3G,aAE5B,CA0DEC,CAAc7iF,EAAKv0B,GAEdthE,EAAI,EAAGA,EAAIwtH,EAAM1tH,SAAUE,EAC9B2/D,EAAO6tD,EAAMxtH,GAETshE,EAAKq3G,UACPV,GAAapiF,EAAKv0B,EAAKq3G,UAGrBpC,IACEj1G,EAAKg3G,cACPziF,EAAIiiF,YAAcx2G,EAAKg3G,aAGpBnV,EAAc7hG,EAAK+2G,eACtBxiF,EAAIo9E,UAAY3xG,EAAK+2G,aAGvBxiF,EAAI+iF,WAAWj5G,EAAMt9D,EAAGmgB,EAAG8+C,EAAKu3G,WAGlChjF,EAAIijF,SAASn5G,EAAMt9D,EAAGmgB,EAAG8+C,EAAKu3G,UAC9BxB,GAAaxhF,EAAKxzF,EAAGmgB,EAAGm9C,EAAM2B,GAE9B9+C,GAAKm7E,OAAOyyE,EAAKE,YAGnBz6E,EAAIu/E,SACN,CAOO,SAAS2D,GACdljF,EACAwgF,GAEA,MAAM,EAACh0K,EAAC,EAAEmgB,EAAC,EAAE4mF,EAAC,EAAEC,EAAC,OAAEmiD,GAAU6qB,EAG7BxgF,EAAImgF,IAAI3zK,EAAImpJ,EAAOwtB,QAASx2J,EAAIgpI,EAAOwtB,QAASxtB,EAAOwtB,QAAS,IAAM1T,GAAIA,IAAI,GAG9EzvE,EAAIsgF,OAAO9zK,EAAGmgB,EAAI6mF,EAAImiD,EAAOytB,YAG7BpjF,EAAImgF,IAAI3zK,EAAImpJ,EAAOytB,WAAYz2J,EAAI6mF,EAAImiD,EAAOytB,WAAYztB,EAAOytB,WAAY3T,GAAIM,IAAS,GAG1F/vE,EAAIsgF,OAAO9zK,EAAI+mG,EAAIoiD,EAAO0tB,YAAa12J,EAAI6mF,GAG3CxT,EAAImgF,IAAI3zK,EAAI+mG,EAAIoiD,EAAO0tB,YAAa12J,EAAI6mF,EAAImiD,EAAO0tB,YAAa1tB,EAAO0tB,YAAatT,GAAS,GAAG,GAGhG/vE,EAAIsgF,OAAO9zK,EAAI+mG,EAAG5mF,EAAIgpI,EAAO2tB,UAG7BtjF,EAAImgF,IAAI3zK,EAAI+mG,EAAIoiD,EAAO2tB,SAAU32J,EAAIgpI,EAAO2tB,SAAU3tB,EAAO2tB,SAAU,GAAIvT,IAAS,GAGpF/vE,EAAIsgF,OAAO9zK,EAAImpJ,EAAOwtB,QAASx2J,EACjC,CCxgBA,MAAM42J,GAAc,uCACdC,GAAa,wEAcZ,SAASC,GAAa90K,EAAwB6zB,GACnD,MAAMwe,GAAW,GAAKryC,GAAO1B,MAAMs2K,IACnC,IAAKviI,GAA0B,WAAfA,EAAQ,GACtB,OAAc,IAAPxe,EAKT,OAFA7zB,GAASqyC,EAAQ,GAETA,EAAQ,IACd,IAAK,KACH,OAAOryC,EACT,IAAK,IACHA,GAAS,IAMb,OAAO6zB,EAAO7zB,CAChB,CAUO,SAAS+0K,GAAkB/0K,EAAwCuR,GACxE,MAAM2kF,EAAM,CAAC,EACP8+E,EAAWpW,EAASrtJ,GACpB8M,EAAO22J,EAAW72K,OAAOkgB,KAAK9M,GAASA,EACvC0jK,EAAOrW,EAAS5+J,GAClBg1K,EACEnpG,GAAQmzF,EAAeh/J,EAAM6rE,GAAO7rE,EAAMuR,EAAMs6D,KAChDA,GAAQ7rE,EAAM6rE,GAChB,IAAM7rE,EAEV,IAAK,MAAM6rE,KAAQxtD,EACjB63E,EAAIrqB,IAAqBopG,EAAKppG,IAnBS,EAqBzC,OAAOqqB,CACT,CAUO,SAASg/E,GAAOl1K,GACrB,OAAO+0K,GAAkB/0K,EAAO,CAACkhB,IAAK,IAAKqnD,MAAO,IAAK4lG,OAAQ,IAAKntJ,KAAM,KAC5E,CASO,SAASm0J,GAAcn1K,GAC5B,OAAO+0K,GAAkB/0K,EAAO,CAAC,UAAW,WAAY,aAAc,eACxE,CAUO,SAASo1K,GAAUp1K,GACxB,MAAM+6D,EAAMm6G,GAAOl1K,GAKnB,OAHA+6D,EAAI3hD,MAAQ2hD,EAAI/5C,KAAO+5C,EAAIwN,MAC3BxN,EAAI1hD,OAAS0hD,EAAI75C,IAAM65C,EAAIozG,OAEpBpzG,CACT,CAUO,SAASs6G,GAAOtmK,EAA4B41B,GACjD51B,EAAUA,GAAW,CAAC,EACtB41B,EAAWA,GAAY0iG,GAASukC,KAEhC,IAAI/3I,EAAOmrI,EAAejwJ,EAAQ8kB,KAAM8Q,EAAS9Q,MAE7B,kBAATA,IACTA,EAAOirD,SAASjrD,EAAM,KAExB,IAAI/jB,EAAQkvJ,EAAejwJ,EAAQe,MAAO60B,EAAS70B,OAC/CA,KAAW,GAAKA,GAAOxR,MAAMu2K,MAC/Bj1I,QAAQ8pE,KAAK,kCAAoC55F,EAAQ,KACzDA,OAAQywE,GAGV,MAAMqrF,EAAO,CACXC,OAAQ7M,EAAejwJ,EAAQ88J,OAAQlnI,EAASknI,QAChDC,WAAYgJ,GAAa9V,EAAejwJ,EAAQ+8J,WAAYnnI,EAASmnI,YAAaj4I,GAClFA,OACA/jB,QACAijD,OAAQisG,EAAejwJ,EAAQgkD,OAAQpuB,EAASouB,QAChDqD,OAAQ,IAIV,OADAw1G,EAAKx1G,ODlHA,SAAsBw1G,GAC3B,OAAKA,GAAQjN,EAAciN,EAAK/3I,OAAS8qI,EAAciN,EAAKC,QACnD,MAGDD,EAAK97J,MAAQ87J,EAAK97J,MAAQ,IAAM,KACrC87J,EAAK74G,OAAS64G,EAAK74G,OAAS,IAAM,IACnC64G,EAAK/3I,KAAO,MACZ+3I,EAAKC,MACT,CCyGgByJ,CAAa1J,GACpBA,CACT,CAaO,SAASh8I,GAAQyqG,EAAwBv2H,EAAkBrB,EAAgB1B,GAChF,IACIvF,EAAWgkK,EAAcx/J,EADzBu1K,GAAY,EAGhB,IAAK/5K,EAAI,EAAGgkK,EAAOnlC,EAAO/+H,OAAQE,EAAIgkK,IAAQhkK,EAE5C,GADAwE,EAAQq6H,EAAO7+H,QACD+kF,IAAVvgF,SAGYugF,IAAZz8E,GAA0C,oBAAV9D,IAClCA,EAAQA,EAAM8D,GACdyxK,GAAY,QAEAh1F,IAAV99E,GAAuBT,EAAQhC,KACjCA,EAAQA,EAAMyC,EAAQzC,EAAM1E,QAC5Bi6K,GAAY,QAEAh1F,IAAVvgF,GAIF,OAHIe,IAASw0K,IACXx0K,EAAKw0K,WAAY,GAEZv1K,CAGb,CA0BO,SAASixD,GAAcukH,EAAuB1xK,GACnD,OAAO3F,OAAOD,OAAOC,OAAO86B,OAAOu8I,GAAgB1xK,EACrD,CCnLO,SAAS2xK,GAIdC,GAKA,IAJA7zJ,EAAWxmB,UAAAC,OAAA,QAAAilF,IAAAllF,UAAC,GAADA,UAAC,GAAD,CAAC,IAEZspC,EAA4BtpC,UAAAC,OAAA,EAAAD,UAAA,QAAAklF,EAC5Bo1F,EAAAt6K,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAY,IAAMq6K,EAAO,GAEzB,MAAME,GAJQv6K,UAAAC,OAAA,EAAAD,UAAA,QAAAklF,IAIwBm1F,EACd,qBAAb/wI,IACTA,EAAWkxI,GAAS,YAAaH,IAEnC,MAAMxmJ,EAA6B,CACjC,CAACrzB,OAAOqyJ,aAAc,SACtB4nB,YAAY,EACZC,QAASL,EACTM,YAAaJ,EACblI,UAAW/oI,EACXsxI,WAAYN,EACZ3hG,SAAWziB,GAAqBkkH,GAAgB,CAAClkH,KAAUmkH,GAAS7zJ,EAAU+zJ,EAAiBjxI,IAEjG,OAAO,IAAIs8C,MAAM/xD,EAAO,CAItBgnJ,eAAeA,CAAAllK,EAAQ66D,YACd76D,EAAO66D,UACP76D,EAAOmlK,aACPT,EAAO,GAAG7pG,IACV,GAMT9+D,IAAIA,CAAAiE,EAAQ66D,IACHuqG,GAAQplK,EAAQ66D,GACrB,IAoUR,SACEA,EACAhqD,EACA6zJ,EACA10F,GAEA,IAAIhhF,EACJ,IAAK,MAAMlC,KAAU+jB,EAEnB,GADA7hB,EAAQ61K,GAASQ,GAAQv4K,EAAQ+tE,GAAO6pG,GACnB,qBAAV11K,EACT,OAAOs2K,GAAiBzqG,EAAM7rE,GAC1Bu2K,GAAkBb,EAAQ10F,EAAOnV,EAAM7rE,GACvCA,CAGV,CAnVcw2K,CAAqB3qG,EAAMhqD,EAAU6zJ,EAAQ1kK,KAOvDlR,yBAAyBA,CAAAkR,EAAQ66D,IACxBvsE,QAAQQ,yBAAyBkR,EAAO+kK,QAAQ,GAAIlqG,GAM7Dq9C,eAAiBA,IACR5pH,QAAQ4pH,eAAewsD,EAAO,IAMvCvlK,IAAIA,CAAAa,EAAQ66D,IACH4qG,GAAqBzlK,GAAQzQ,SAASsrE,GAM/C6qG,QAAQ1lK,GACCylK,GAAqBzlK,GAM9B3R,GAAAA,CAAI2R,EAAQ66D,EAAc7rE,GACxB,MAAM22K,EAAU3lK,EAAO4lK,WAAa5lK,EAAO4lK,SAAWjB,KAGtD,OAFA3kK,EAAO66D,GAAQ8qG,EAAQ9qG,GAAQ7rE,SACxBgR,EAAOmlK,OACP,CACT,GAEJ,CAUO,SAASU,GAId71F,EACAl9E,EACAgzK,EACAC,GAEA,MAAM7nJ,EAA4B,CAChC4mJ,YAAY,EACZkB,OAAQh2F,EACRxjF,SAAUsG,EACVmzK,UAAWH,EACXI,OAAQ,IAAItsK,IACZwgK,aAAcA,GAAapqF,EAAO+1F,GAClCxxF,WAAa8L,GAAmBwlF,GAAe71F,EAAOqQ,EAAKylF,EAAUC,GACrE/iG,SAAWziB,GAAqBslH,GAAe71F,EAAMhN,SAASziB,GAAQztD,EAASgzK,EAAUC,IAE3F,OAAO,IAAI91F,MAAM/xD,EAAO,CAItBgnJ,eAAeA,CAAAllK,EAAQ66D,YACd76D,EAAO66D,UACPmV,EAAMnV,IACN,GAMT9+D,IAAG,CAACiE,EAAQ66D,EAAcsrG,IACjBf,GAAQplK,EAAQ66D,GACrB,IAiFR,SACE76D,EACA66D,EACAsrG,GAEA,MAAM,OAACH,EAAM,SAAEx5K,EAAQ,UAAEy5K,EAAW7L,aAAcH,GAAej6J,EACjE,IAAIhR,EAAQg3K,EAAOnrG,GAGf85C,GAAW3lH,IAAUirK,EAAYmM,aAAavrG,KAChD7rE,EAYJ,SACE6rE,EACA3+D,EACA8D,EACAmmK,GAEA,MAAM,OAACH,EAAA,SAAQx5K,EAAA,UAAUy5K,EAAS,OAAEC,GAAUlmK,EAC9C,GAAIkmK,EAAO/mK,IAAI07D,GACb,MAAM,IAAIxtE,MAAM,uBAAyB0D,MAAMshF,KAAK6zF,GAAQ3tJ,KAAK,MAAQ,KAAOsiD,GAElFqrG,EAAOhsK,IAAI2gE,GACX,IAAI7rE,EAAQkN,EAAS1P,EAAUy5K,GAAaE,GAC5CD,EAAO9qJ,OAAOy/C,GACVyqG,GAAiBzqG,EAAM7rE,KAEzBA,EAAQu2K,GAAkBS,EAAOjB,QAASiB,EAAQnrG,EAAM7rE,IAE1D,OAAOA,CACT,CA9BYq3K,CAAmBxrG,EAAM7rE,EAAOgR,EAAQmmK,IAE9Cn1K,EAAQhC,IAAUA,EAAM1E,SAC1B0E,EA6BJ,SACE6rE,EACA7rE,EACAgR,EACAsmK,GAEA,MAAM,OAACN,EAAM,SAAEx5K,EAAQ,UAAEy5K,EAAW7L,aAAcH,GAAej6J,EAEjE,GAA8B,qBAAnBxT,EAASiF,OAAyB60K,EAAYzrG,GACvD,OAAO7rE,EAAMxC,EAASiF,MAAQzC,EAAM1E,QAC/B,GAAIsjK,EAAS5+J,EAAM,IAAK,CAE7B,MAAMu3K,EAAMv3K,EACN01K,EAASsB,EAAOjB,QAAQ7lF,QAAOjY,GAAKA,IAAMs/F,IAChDv3K,EAAQ,GACR,IAAK,MAAMuxE,KAAQgmG,EAAK,CACtB,MAAMhX,EAAWgW,GAAkBb,EAAQsB,EAAQnrG,EAAM0F,GACzDvxE,EAAM+C,KAAK8zK,GAAetW,EAAU/iK,EAAUy5K,GAAaA,EAAUprG,GAAOo/F,GAC9E,EAEF,OAAOjrK,CACT,CAlDYw3K,CAAc3rG,EAAM7rE,EAAOgR,EAAQi6J,EAAYqM,cAErDhB,GAAiBzqG,EAAM7rE,KAEzBA,EAAQ62K,GAAe72K,EAAOxC,EAAUy5K,GAAaA,EAAUprG,GAAOo/F,IAExE,OAAOjrK,CACT,CArGcy3K,CAAoBzmK,EAAQ66D,EAAMsrG,KAO5Cr3K,yBAAyBA,CAAAkR,EAAQ66D,IACxB76D,EAAOo6J,aAAasM,QACvBp4K,QAAQ6Q,IAAI6wE,EAAOnV,GAAQ,CAAC5+D,YAAY,EAAMlN,cAAc,QAAQwgF,EACpEjhF,QAAQQ,yBAAyBkhF,EAAOnV,GAM9Cq9C,eAAiBA,IACR5pH,QAAQ4pH,eAAeloC,GAMhC7wE,IAAIA,CAAAa,EAAQ66D,IACHvsE,QAAQ6Q,IAAI6wE,EAAOnV,GAM5B6qG,QAAUA,IACDp3K,QAAQo3K,QAAQ11F,GAMzB3hF,IAAG,CAAC2R,EAAQ66D,EAAM7rE,KAChBghF,EAAMnV,GAAQ7rE,SACPgR,EAAO66D,IACP,IAGb,CAKO,SAASu/F,GACdpqF,GAEY,IADZqmD,EAA+BhsI,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,IAACs8K,YAAY,EAAMC,WAAW,GAE7D,MAAM,YAACrK,EAAclmC,EAASswC,WAAU,WAAElK,EAAapmC,EAASuwC,UAAS,SAAEC,EAAWxwC,EAASqwC,SAAW12F,EAC1G,MAAO,CACL02F,QAASG,EACTF,WAAYpK,EACZqK,UAAWnK,EACX2J,aAAczxD,GAAW4nD,GAAeA,EAAc,IAAMA,EAC5D+J,YAAa3xD,GAAW8nD,GAAcA,EAAa,IAAMA,EAE7D,CAEA,MAAM4I,GAAUA,CAACv4K,EAAgBP,IAAiBO,EAASA,EAAS6iK,GAAYpjK,GAAQA,EAClF+4K,GAAmBA,CAACzqG,EAAc7rE,IAAmB4+J,EAAS5+J,IAAmB,aAAT6rE,IAC1C,OAAjC1tE,OAAO+qH,eAAelpH,IAAmBA,EAAM6M,cAAgB1O,QAElE,SAASi4K,GACPplK,EACA66D,EACAj8C,GAEA,GAAIzxB,OAAOiB,UAAU+E,eAAe3E,KAAKwR,EAAQ66D,IAAkB,gBAATA,EACxD,OAAO76D,EAAO66D,GAGhB,MAAM7rE,EAAQ4vB,IAGd,OADA5e,EAAO66D,GAAQ7rE,EACRA,CACT,CAmEA,SAAS83K,GACPnzI,EACAknC,EACA7rE,GAEA,OAAO2lH,GAAWhhF,GAAYA,EAASknC,EAAM7rE,GAAS2kC,CACxD,CAEA,MAAMozI,GAAWA,CAACp/J,EAAwByL,KAA8B,IAARzL,EAAeyL,EAC5D,kBAARzL,EAAmB2nJ,GAAiBl8I,EAAQzL,QAAO4nE,EAE9D,SAASy3F,GACP34K,EACA44K,EACAt/J,EACAu/J,EACAl4K,GAEA,IAAK,MAAMokB,KAAU6zJ,EAAc,CACjC,MAAM1mH,EAAQwmH,GAASp/J,EAAKyL,GAC5B,GAAImtC,EAAO,CACTlyD,EAAI6L,IAAIqmD,GACR,MAAM5sB,EAAWmzI,GAAgBvmH,EAAMm8G,UAAW/0J,EAAK3Y,GACvD,GAAwB,qBAAb2kC,GAA4BA,IAAahsB,GAAOgsB,IAAauzI,EAGtE,OAAOvzI,OAEJ,IAAc,IAAV4sB,GAA6C,qBAAnB2mH,GAAkCv/J,IAAQu/J,EAG7E,OAAO,IAEX,CACA,OAAO,CACT,CAEA,SAAS3B,GACP0B,EACA1X,EACA10F,EACA7rE,GAEA,MAAMm4K,EAAa5X,EAASyV,YACtBrxI,EAAWmzI,GAAgBvX,EAASmN,UAAW7hG,EAAM7rE,GACrDo4K,EAAY,IAAIH,KAAiBE,GACjC94K,EAAM,IAAIuL,IAChBvL,EAAI6L,IAAIlL,GACR,IAAI2Y,EAAM0/J,GAAiBh5K,EAAK+4K,EAAWvsG,EAAMlnC,GAAYknC,EAAM7rE,GACnE,OAAY,OAAR2Y,KAGoB,qBAAbgsB,GAA4BA,IAAaknC,IAClDlzD,EAAM0/J,GAAiBh5K,EAAK+4K,EAAWzzI,EAAUhsB,EAAK3Y,GAC1C,OAAR2Y,KAIC88J,GAAgB1zK,MAAMshF,KAAKhkF,GAAM,CAAC,IAAK84K,EAAYxzI,GACxD,IAgBJ,SACE47H,EACA10F,EACA7rE,GAEA,MAAMokB,EAASm8I,EAAS0V,aAClBpqG,KAAQznD,IACZA,EAAOynD,GAAQ,CAAC,GAElB,MAAM76D,EAASoT,EAAOynD,GACtB,GAAI7pE,EAAQgP,IAAW4tJ,EAAS5+J,GAE9B,OAAOA,EAET,OAAOgR,GAAU,CAAC,CACpB,CA/BUsnK,CAAa/X,EAAU10F,EAAgB7rE,KACjD,CAEA,SAASq4K,GACPh5K,EACA+4K,EACAz/J,EACAgsB,EACA4sC,GAEA,KAAO54D,GACLA,EAAMq/J,GAAU34K,EAAK+4K,EAAWz/J,EAAKgsB,EAAU4sC,GAEjD,OAAO54D,CACT,CAoCA,SAASk9J,GAASl9J,EAAa+8J,GAC7B,IAAK,MAAMnkH,KAASmkH,EAAQ,CAC1B,IAAKnkH,EACH,SAEF,MAAMvxD,EAAQuxD,EAAM54C,GACpB,GAAqB,qBAAV3Y,EACT,OAAOA,CAEX,CACF,CAEA,SAASy2K,GAAqBzlK,GAC5B,IAAIqN,EAAOrN,EAAOmlK,MAIlB,OAHK93J,IACHA,EAAOrN,EAAOmlK,MAKlB,SAAkCT,GAChC,MAAMr2K,EAAM,IAAIuL,IAChB,IAAK,MAAM2mD,KAASmkH,EAClB,IAAK,MAAM/8J,KAAOxa,OAAOkgB,KAAKkzC,GAAO2+B,QAAOhmB,IAAMA,EAAEsjG,WAAW,OAC7DnuK,EAAI6L,IAAIyN,GAGZ,OAAO5W,MAAMshF,KAAKhkF,EACpB,CAb0Bk5K,CAAyBvnK,EAAO+kK,UAEjD13J,CACT,CCnaA,MAAMm6J,GAAUr/E,OAAOq/E,SAAW,MAG5BC,GAAWA,CAACpT,EAAuB7pK,IAAmCA,EAAI6pK,EAAO/pK,SAAW+pK,EAAO7pK,GAAG+oE,MAAQ8gG,EAAO7pK,GACrHk9K,GAAgBvM,GAAuC,MAAdA,EAAoB,IAAM,IAElE,SAASwM,GACdC,EACAC,EACAC,EACAnlH,GAUA,MAAM0+G,EAAWuG,EAAWr0G,KAAOs0G,EAAcD,EAC3Ch2K,EAAUi2K,EACVj1J,EAAOk1J,EAAWv0G,KAAOs0G,EAAcC,EACvCC,EAAM/V,GAAsBpgK,EAASyvK,GACrC2G,EAAMhW,GAAsBp/I,EAAMhhB,GAExC,IAAIq2K,EAAMF,GAAOA,EAAMC,GACnBE,EAAMF,GAAOD,EAAMC,GAGvBC,EAAM/zH,MAAM+zH,GAAO,EAAIA,EACvBC,EAAMh0H,MAAMg0H,GAAO,EAAIA,EAEvB,MAAMC,EAAKxlH,EAAIslH,EACTG,EAAKzlH,EAAIulH,EAEf,MAAO,CACL7G,SAAU,CACRx0K,EAAG+E,EAAQ/E,EAAIs7K,GAAMv1J,EAAK/lB,EAAIw0K,EAASx0K,GACvCmgB,EAAGpb,EAAQob,EAAIm7J,GAAMv1J,EAAK5F,EAAIq0J,EAASr0J,IAEzC4F,KAAM,CACJ/lB,EAAG+E,EAAQ/E,EAAIu7K,GAAMx1J,EAAK/lB,EAAIw0K,EAASx0K,GACvCmgB,EAAGpb,EAAQob,EAAIo7J,GAAMx1J,EAAK5F,EAAIq0J,EAASr0J,IAG7C,CAsEO,SAASq7J,GAAoBhU,GAAmD,IAA5B8G,EAAA9wK,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAuB,IAChF,MAAMi+K,EAAYZ,GAAavM,GACzBoN,EAAYlU,EAAO/pK,OACnBk+K,EAAmBz3K,MAAMw3K,GAAWp/C,KAAK,GACzCs/C,EAAe13K,MAAMw3K,GAG3B,IAAI/9K,EAAGk+K,EAAkCC,EACrCC,EAAanB,GAASpT,EAAQ,GAElC,IAAK7pK,EAAI,EAAGA,EAAI+9K,IAAa/9K,EAI3B,GAHAk+K,EAAcC,EACdA,EAAeC,EACfA,EAAanB,GAASpT,EAAQ7pK,EAAI,GAC7Bm+K,EAAL,CAIA,GAAIC,EAAY,CACd,MAAMC,EAAaD,EAAWzN,GAAawN,EAAaxN,GAGxDqN,EAAOh+K,GAAoB,IAAfq+K,GAAoBD,EAAWN,GAAaK,EAAaL,IAAcO,EAAa,EAElGJ,EAAGj+K,GAAMk+K,EACJE,EACEpY,GAAKgY,EAAOh+K,EAAI,MAAQgmK,GAAKgY,EAAOh+K,IAAO,GACzCg+K,EAAOh+K,EAAI,GAAKg+K,EAAOh+K,IAAM,EAFpBg+K,EAAOh+K,EAAI,GADNg+K,EAAOh+K,IAzFlC,SAAwB6pK,EAAuBmU,EAAkBC,GAC/D,MAAMF,EAAYlU,EAAO/pK,OAEzB,IAAIw+K,EAAgBC,EAAeC,EAAcC,EAA0BN,EACvEC,EAAanB,GAASpT,EAAQ,GAClC,IAAK,IAAI7pK,EAAI,EAAGA,EAAI+9K,EAAY,IAAK/9K,EACnCm+K,EAAeC,EACfA,EAAanB,GAASpT,EAAQ7pK,EAAI,GAC7Bm+K,GAAiBC,IAIlBnY,GAAa+X,EAAOh+K,GAAI,EAAGg9K,IAC7BiB,EAAGj+K,GAAKi+K,EAAGj+K,EAAI,GAAK,GAItBs+K,EAASL,EAAGj+K,GAAKg+K,EAAOh+K,GACxBu+K,EAAQN,EAAGj+K,EAAI,GAAKg+K,EAAOh+K,GAC3By+K,EAAmB7zK,KAAKoxH,IAAIsiD,EAAQ,GAAK1zK,KAAKoxH,IAAIuiD,EAAO,GACrDE,GAAoB,IAIxBD,EAAO,EAAI5zK,KAAKsiH,KAAKuxD,GACrBR,EAAGj+K,GAAKs+K,EAASE,EAAOR,EAAOh+K,GAC/Bi+K,EAAGj+K,EAAI,GAAKu+K,EAAQC,EAAOR,EAAOh+K,KAEtC,CAmEE0+K,CAAe7U,EAAQmU,EAAQC,GAjEjC,SAAyBpU,EAAuBoU,GAA0C,IAA5BtN,EAAA9wK,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAuB,IACnF,MAAMi+K,EAAYZ,GAAavM,GACzBoN,EAAYlU,EAAO/pK,OACzB,IAAI43D,EAAewmH,EAAkCC,EACjDC,EAAanB,GAASpT,EAAQ,GAElC,IAAK,IAAI7pK,EAAI,EAAGA,EAAI+9K,IAAa/9K,EAAG,CAIlC,GAHAk+K,EAAcC,EACdA,EAAeC,EACfA,EAAanB,GAASpT,EAAQ7pK,EAAI,IAC7Bm+K,EACH,SAGF,MAAMQ,EAASR,EAAaxN,GACtBiO,EAAST,EAAaL,GACxBI,IACFxmH,GAASinH,EAAST,EAAYvN,IAAc,EAC5CwN,EAAa,MAAMxN,KAAegO,EAASjnH,EAC3CymH,EAAa,MAAML,KAAec,EAASlnH,EAAQumH,EAAGj+K,IAEpDo+K,IACF1mH,GAAS0mH,EAAWzN,GAAagO,GAAU,EAC3CR,EAAa,MAAMxN,KAAegO,EAASjnH,EAC3CymH,EAAa,MAAML,KAAec,EAASlnH,EAAQumH,EAAGj+K,GAE1D,CACF,CAwCE6+K,CAAgBhV,EAAQoU,EAAItN,EAC9B,CAEA,SAASmO,GAAgBC,EAAYr6J,EAAa8yC,GAChD,OAAO5sD,KAAK4sD,IAAI5sD,KAAK8Z,IAAIq6J,EAAIvnH,GAAM9yC,EACrC,CA2BO,SAASs6J,GACdnV,EACAt2J,EACAkgJ,EACA/xE,EACAivF,GAEA,IAAI3wK,EAAWgkK,EAAc4G,EAAoBqU,EAOjD,GAJI1rK,EAAQ62J,WACVP,EAASA,EAAOn1E,QAAQqqF,IAAQA,EAAGh2G,QAGE,aAAnCx1D,EAAQ2rK,uBACVrB,GAAoBhU,EAAQ8G,OACvB,CACL,IAAIjsH,EAAOg9B,EAAOmoF,EAAOA,EAAO/pK,OAAS,GAAK+pK,EAAO,GACrD,IAAK7pK,EAAI,EAAGgkK,EAAO6F,EAAO/pK,OAAQE,EAAIgkK,IAAQhkK,EAC5C4qK,EAAQf,EAAO7pK,GACfi/K,EAAgB9B,GACdz4H,EACAkmH,EACAf,EAAOj/J,KAAK8Z,IAAI1kB,EAAI,EAAGgkK,GAAQtiF,EAAO,EAAI,IAAMsiF,GAChDzwJ,EAAQ4rK,SAEVvU,EAAMqM,KAAOgI,EAAcpI,SAASx0K,EACpCuoK,EAAMuM,KAAO8H,EAAcpI,SAASr0J,EACpCooJ,EAAMsM,KAAO+H,EAAc72J,KAAK/lB,EAChCuoK,EAAMwM,KAAO6H,EAAc72J,KAAK5F,EAChCkiC,EAAOkmH,EAIPr3J,EAAQ6rK,iBA3Dd,SAAyBvV,EAAuBpW,GAC9C,IAAIzzJ,EAAGgkK,EAAM4G,EAAOyU,EAAQC,EACxBC,EAAa/I,GAAe3M,EAAO,GAAIpW,GAC3C,IAAKzzJ,EAAI,EAAGgkK,EAAO6F,EAAO/pK,OAAQE,EAAIgkK,IAAQhkK,EAC5Cs/K,EAAaD,EACbA,EAASE,EACTA,EAAav/K,EAAIgkK,EAAO,GAAKwS,GAAe3M,EAAO7pK,EAAI,GAAIyzJ,GACtD4rB,IAGLzU,EAAQf,EAAO7pK,GACXs/K,IACF1U,EAAMqM,KAAO6H,GAAgBlU,EAAMqM,KAAMxjB,EAAKjuI,KAAMiuI,EAAK1mF,OACzD69F,EAAMuM,KAAO2H,GAAgBlU,EAAMuM,KAAM1jB,EAAK/tI,IAAK+tI,EAAKkf,SAEtD4M,IACF3U,EAAMsM,KAAO4H,GAAgBlU,EAAMsM,KAAMzjB,EAAKjuI,KAAMiuI,EAAK1mF,OACzD69F,EAAMwM,KAAO0H,GAAgBlU,EAAMwM,KAAM3jB,EAAK/tI,IAAK+tI,EAAKkf,SAG9D,CAwCIyM,CAAgBvV,EAAQpW,EAE5B,CCtNO,SAAS+rB,KACd,MAAyB,qBAAXnyK,QAA8C,qBAAbuC,QACjD,CAKO,SAAS6vK,GAAeC,GAC7B,IAAI92J,EAAS82J,EAAQz3K,WAIrB,OAHI2gB,GAAgC,wBAAtBA,EAAOlb,aACnBkb,EAAUA,EAAsB+2J,MAE3B/2J,CACT,CAOA,SAASg3J,GAAcC,EAA6B3/K,EAAmB4/K,GACrE,IAAIC,EAYJ,MAX0B,kBAAfF,GACTE,EAAgBz8F,SAASu8F,EAAY,KAEJ,IAA7BA,EAAW58K,QAAQ,OAErB88K,EAAgBA,EAAiB,IAAO7/K,EAAK+H,WAAW63K,KAG1DC,EAAgBF,EAGXE,CACT,CAEA,MAAMC,GAAoBptK,GACxBA,EAAQM,cAAc0Q,YAAYo8J,iBAAiBptK,EAAS,MAM9D,MAAMqtK,GAAY,CAAC,MAAO,QAAS,SAAU,QAC7C,SAASC,GAAmBrrK,EAA6BP,EAAe/R,GACtE,MAAM+8B,EAAS,CAAC,EAChB/8B,EAASA,EAAS,IAAMA,EAAS,GACjC,IAAK,IAAIvC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMu5D,EAAM0mH,GAAUjgL,GACtBs/B,EAAOi6B,GAAOgqB,WAAW1uE,EAAOP,EAAQ,IAAMilD,EAAMh3D,KAAY,CAClE,CAGA,OAFA+8B,EAAO1hB,MAAQ0hB,EAAO9Z,KAAO8Z,EAAOytC,MACpCztC,EAAOzhB,OAASyhB,EAAO5Z,IAAM4Z,EAAOqzI,OAC7BrzI,CACT,CA0CO,SAAS6gJ,GACd7yK,EACAshK,GAEA,GAAI,WAAYthK,EACd,OAAOA,EAGT,MAAM,OAACw8E,EAAA,wBAAQgrF,GAA2BlG,EACpCt6J,EAAQ0rK,GAAiBl2F,GACzBs2F,EAAgC,eAApB9rK,EAAM+rK,UAClBC,EAAWJ,GAAmB5rK,EAAO,WACrCisK,EAAUL,GAAmB5rK,EAAO,SAAU,UAC9C,EAACjS,EAAA,EAAGmgB,EAAA,IAAGg+J,GA7Cf,SACEluK,EACAw3E,GAMA,MAAMxrE,EAAUhM,EAAkBgM,QAC5BgL,EAAUhL,GAAWA,EAAQxe,OAASwe,EAAQ,GAAKhM,GACnD,QAACmuK,EAAA,QAASC,GAAWp3J,EAC3B,IACIjnB,EAAGmgB,EADHg+J,GAAM,EAEV,GArBmBG,EAACt+K,EAAWmgB,EAAWhN,KACzCnT,EAAI,GAAKmgB,EAAI,MAAQhN,IAAWA,EAAwBorK,YAoBrDD,CAAaF,EAASC,EAASpuK,EAAEkD,QACnCnT,EAAIo+K,EACJj+J,EAAIk+J,MACC,CACL,MAAMrK,EAAOvsF,EAAO+2F,wBACpBx+K,EAAIinB,EAAOrP,QAAUo8J,EAAK7wJ,KAC1BhD,EAAI8G,EAAOpP,QAAUm8J,EAAK3wJ,IAC1B86J,GAAM,EAER,MAAO,CAACn+K,IAAGmgB,IAAGg+J,MAChB,CAsBsBM,CAAkBxzK,EAAOw8E,GACvC89B,EAAU04D,EAAS96J,MAAQg7J,GAAOD,EAAQ/6J,MAC1CqiG,EAAUy4D,EAAS56J,KAAO86J,GAAOD,EAAQ76J,KAE/C,IAAI,MAAC9H,EAAA,OAAOC,GAAU+wJ,EAKtB,OAJIwR,IACFxiK,GAAS0iK,EAAS1iK,MAAQ2iK,EAAQ3iK,MAClCC,GAAUyiK,EAASziK,OAAS0iK,EAAQ1iK,QAE/B,CACLxb,EAAGuI,KAAKg8F,OAAOvkG,EAAIulH,GAAWhqG,EAAQksE,EAAOlsE,MAAQk3J,GACrDtyJ,EAAG5X,KAAKg8F,OAAOpkF,EAAIqlG,GAAWhqG,EAASisE,EAAOjsE,OAASi3J,GAE3D,CA6BA,MAAMiM,GAAU39G,GAAcx4D,KAAKg8F,MAAU,GAAJxjC,GAAU,GAG5C,SAAS49G,GACdl3F,EACAm3F,EACAC,EACAC,GAEA,MAAM7sK,EAAQ0rK,GAAiBl2F,GACzBs3F,EAAUlB,GAAmB5rK,EAAO,UACpCukK,EAAW+G,GAActrK,EAAMukK,SAAU/uF,EAAQ,gBAAkB27E,GACnE4b,EAAYzB,GAActrK,EAAM+sK,UAAWv3F,EAAQ,iBAAmB27E,GACtE6b,EAxCR,SAA0Bx3F,EAA2BlsE,EAAeC,GAClE,IAAIg7J,EAAkBwI,EAEtB,QAAct8F,IAAVnnE,QAAkCmnE,IAAXlnE,EAAsB,CAC/C,MAAMqpC,EAAY4iC,GAAU21F,GAAe31F,GAC3C,GAAK5iC,EAGE,CACL,MAAMmvH,EAAOnvH,EAAU25H,wBACjBU,EAAiBvB,GAAiB94H,GAClCs6H,EAAkBtB,GAAmBqB,EAAgB,SAAU,SAC/DE,EAAmBvB,GAAmBqB,EAAgB,WAC5D3jK,EAAQy4J,EAAKz4J,MAAQ6jK,EAAiB7jK,MAAQ4jK,EAAgB5jK,MAC9DC,EAASw4J,EAAKx4J,OAAS4jK,EAAiB5jK,OAAS2jK,EAAgB3jK,OACjEg7J,EAAW+G,GAAc2B,EAAe1I,SAAU3xH,EAAW,eAC7Dm6H,EAAYzB,GAAc2B,EAAeF,UAAWn6H,EAAW,qBAV/DtpC,EAAQksE,EAAO43F,YACf7jK,EAASisE,EAAO63F,aAYpB,MAAO,CACL/jK,QACAC,SACAg7J,SAAUA,GAAYpT,GACtB4b,UAAWA,GAAa5b,GAE5B,CAewBmc,CAAiB93F,EAAQm3F,EAASC,GACxD,IAAI,MAACtjK,EAAA,OAAOC,GAAUyjK,EAEtB,GAAwB,gBAApBhtK,EAAM+rK,UAA6B,CACrC,MAAME,EAAUL,GAAmB5rK,EAAO,SAAU,SAC9CgsK,EAAWJ,GAAmB5rK,EAAO,WAC3CsJ,GAAS0iK,EAAS1iK,MAAQ2iK,EAAQ3iK,MAClCC,GAAUyiK,EAASziK,OAAS0iK,EAAQ1iK,OAEtCD,EAAQhT,KAAK4sD,IAAI,EAAG55C,EAAQwjK,EAAQxjK,OACpCC,EAASjT,KAAK4sD,IAAI,EAAG2pH,EAAcvjK,EAAQujK,EAActjK,EAASujK,EAAQvjK,QAC1ED,EAAQmjK,GAAOn2K,KAAK8Z,IAAI9G,EAAOi7J,EAAUyI,EAAczI,WACvDh7J,EAASkjK,GAAOn2K,KAAK8Z,IAAI7G,EAAQwjK,EAAWC,EAAcD,YACtDzjK,IAAUC,IAGZA,EAASkjK,GAAOnjK,EAAQ,IAU1B,YAPmCmnE,IAAZk8F,QAAsCl8F,IAAbm8F,IAE1BC,GAAeG,EAAczjK,QAAUA,EAASyjK,EAAczjK,SAClFA,EAASyjK,EAAczjK,OACvBD,EAAQmjK,GAAOn2K,KAAK0/E,MAAMzsE,EAASsjK,KAG9B,CAACvjK,QAAOC,SACjB,CAQO,SAASgkK,GACdjT,EACAkT,EACAC,GAEA,MAAMC,EAAaF,GAAc,EAC3BG,EAAer3K,KAAK0/E,MAAMskF,EAAM/wJ,OAASmkK,GACzCE,EAAct3K,KAAK0/E,MAAMskF,EAAMhxJ,MAAQokK,GAE5CpT,EAAuB/wJ,OAASjT,KAAK0/E,MAAMskF,EAAM/wJ,QACjD+wJ,EAAuBhxJ,MAAQhT,KAAK0/E,MAAMskF,EAAMhxJ,OAEjD,MAAMksE,EAAS8kF,EAAM9kF,OAUrB,OALIA,EAAOx1E,QAAUytK,IAAgBj4F,EAAOx1E,MAAMuJ,SAAWisE,EAAOx1E,MAAMsJ,SACxEksE,EAAOx1E,MAAMuJ,OAAS,GAAG+wJ,EAAM/wJ,WAC/BisE,EAAOx1E,MAAMsJ,MAAQ,GAAGgxJ,EAAMhxJ,YAG5BgxJ,EAAMkG,0BAA4BkN,GAC/Bl4F,EAAOjsE,SAAWokK,GAClBn4F,EAAOlsE,QAAUskK,KACrBtT,EAAuBkG,wBAA0BkN,EAClDl4F,EAAOjsE,OAASokK,EAChBn4F,EAAOlsE,MAAQskK,EACftT,EAAM/4E,IAAIssF,aAAaH,EAAY,EAAG,EAAGA,EAAY,EAAG,IACjD,EAGX,CAOa,MAAAI,GAAgC,WAC3C,IAAIC,GAAmB,EACvB,IACE,MAAM9uK,EAAU,CACd,WAAIszC,GAEF,OADAw7H,GAAmB,GACZ,CACT,GAGE7C,OACFnyK,OAAOsJ,iBAAiB,OAAQ,KAAMpD,GACtClG,OAAOuJ,oBAAoB,OAAQ,KAAMrD,GAE7C,CAAE,MAAOjB,IAGT,OAAO+vK,CACT,CAlB6C,GA8BtC,SAASC,GACd1vK,EACAwhC,GAEA,MAAM5vC,EAzOD,SAAkB+9K,EAAiBnuI,GACxC,OAAO4rI,GAAiBuC,GAAIC,iBAAiBpuI,EAC/C,CAuOgBquI,CAAS7vK,EAASwhC,GAC1ByC,EAAUryC,GAASA,EAAM1B,MAAM,qBACrC,OAAO+zC,GAAWA,EAAQ,QAAKkuC,CACjC,CCtRO,SAAS29F,GAAavsB,EAAWC,EAAWj+F,EAAW7oC,GAC5D,MAAO,CACLjtB,EAAG8zJ,EAAG9zJ,EAAI81D,GAAKi+F,EAAG/zJ,EAAI8zJ,EAAG9zJ,GACzBmgB,EAAG2zI,EAAG3zI,EAAI21C,GAAKi+F,EAAG5zI,EAAI2zI,EAAG3zI,GAE7B,CAKO,SAASmgK,GACdxsB,EACAC,EACAj+F,EAAW7oC,GAEX,MAAO,CACLjtB,EAAG8zJ,EAAG9zJ,EAAI81D,GAAKi+F,EAAG/zJ,EAAI8zJ,EAAG9zJ,GACzBmgB,EAAY,WAAT8M,EAAoB6oC,EAAI,GAAMg+F,EAAG3zI,EAAI4zI,EAAG5zI,EAC9B,UAAT8M,EAAmB6oC,EAAI,EAAIg+F,EAAG3zI,EAAI4zI,EAAG5zI,EACnC21C,EAAI,EAAIi+F,EAAG5zI,EAAI2zI,EAAG3zI,EAE5B,CAKO,SAASogK,GAAqBzsB,EAAiBC,EAAiBj+F,EAAW7oC,GAChF,MAAMuzJ,EAAM,CAACxgL,EAAG8zJ,EAAG+gB,KAAM10J,EAAG2zI,EAAGihB,MACzB0L,EAAM,CAACzgL,EAAG+zJ,EAAG6gB,KAAMz0J,EAAG4zI,EAAG+gB,MACzBnhK,EAAI0sK,GAAavsB,EAAI0sB,EAAK1qH,GAC1B5hD,EAAImsK,GAAaG,EAAKC,EAAK3qH,GAC3BnvB,EAAI05I,GAAaI,EAAK1sB,EAAIj+F,GAC1BtN,EAAI63H,GAAa1sK,EAAGO,EAAG4hD,GACvB7lD,EAAIowK,GAAansK,EAAGyyB,EAAGmvB,GAC7B,OAAOuqH,GAAa73H,EAAGv4C,EAAG6lD,EAC5B,CCUO,SAAS4qH,GAAcC,EAAcC,EAAerlK,GACzD,OAAOolK,EA3CqB,SAASC,EAAerlK,GACpD,MAAO,CACLvb,EAAEA,GACO4gL,EAAQA,EAAQrlK,EAAQvb,EAEjC6gL,QAAAA,CAAS95E,GACPxrF,EAAQwrF,CACV,EACAovE,UAAU9O,GACM,WAAVA,EACKA,EAEQ,UAAVA,EAAoB,OAAS,QAEtCyZ,MAAMA,CAAA9gL,EAAGmC,IACAnC,EAAImC,EAEb4+K,WAAWA,CAAA/gL,EAAGghL,IACLhhL,EAAIghL,EAGjB,CAsBeC,CAAsBL,EAAOrlK,GAnBnC,CACLvb,EAAEA,GACOA,EAET6gL,QAAAA,CAAS95E,GAAI,EAEbovE,UAAU9O,GACDA,EAETyZ,MAAMA,CAAA9gL,EAAGmC,IACAnC,EAAImC,EAEb4+K,WAAWA,CAAA/gL,EAAGkhL,IACLlhL,EAOb,CAEO,SAASmhL,GAAsB3tF,EAA+B4tF,GACnE,IAAInvK,EAA4BovK,EACd,QAAdD,GAAqC,QAAdA,IACzBnvK,EAAQuhF,EAAI/L,OAAOx1E,MACnBovK,EAAW,CACTpvK,EAAMkuK,iBAAiB,aACvBluK,EAAMqvK,oBAAoB,cAG5BrvK,EAAMG,YAAY,YAAagvK,EAAW,aACzC5tF,EAAiD+tF,kBAAoBF,EAE1E,CAEO,SAASG,GAAqBhuF,EAA+B6tF,QACjD3+F,IAAb2+F,WACM7tF,EAAiD+tF,kBACzD/tF,EAAI/L,OAAOx1E,MAAMG,YAAY,YAAaivK,EAAS,GAAIA,EAAS,IAEpE,CC/DA,SAASI,GAAW1vI,GAClB,MAAiB,UAAbA,EACK,CACL2vI,QAASlc,GACT3hI,QAASyhI,GACTqc,UAAWpc,IAGR,CACLmc,QAAS3b,GACTliI,QAASA,CAAClwB,EAAGO,IAAMP,EAAIO,EACvBytK,UAAW3hL,GAAKA,EAEpB,CAEA,SAAS4hL,GAAiBv/C,GAAkC,IAAlC,MAAC1tH,EAAK,IAAEC,EAAG,MAAEm7B,EAAK,KAAEsvC,EAAI,MAAEptE,GAAMowH,EACxD,MAAO,CACL1tH,MAAOA,EAAQo7B,EACfn7B,IAAKA,EAAMm7B,EACXsvC,KAAMA,IAASzqE,EAAMD,EAAQ,GAAKo7B,IAAU,EAC5C99B,QAEJ,CA4CO,SAAS4vK,GAAcC,EAASta,EAAQgJ,GAC7C,IAAKA,EACH,MAAO,CAACsR,GAGV,MAAM,SAAC/vI,EAAUp9B,MAAOotK,EAAYntK,IAAKotK,GAAYxR,EAC/CzgI,EAAQy3H,EAAO/pK,QACf,QAAComC,EAAA,QAAS69I,EAAA,UAASC,GAAaF,GAAW1vI,IAC3C,MAACp9B,EAAA,IAAOC,EAAA,KAAKyqE,EAAA,MAAMptE,GAlD3B,SAAoB6vK,EAASta,EAAQgJ,GACnC,MAAM,SAACz+H,EAAUp9B,MAAOotK,EAAYntK,IAAKotK,GAAYxR,GAC/C,QAACkR,EAAO,UAAEC,GAAaF,GAAW1vI,GAClChC,EAAQy3H,EAAO/pK,OAErB,IACIE,EAAGgkK,GADH,MAAChtJ,EAAK,IAAEC,EAAA,KAAKyqE,GAAQyiG,EAGzB,GAAIziG,EAAM,CAGR,IAFA1qE,GAASo7B,EACTn7B,GAAOm7B,EACFpyC,EAAI,EAAGgkK,EAAO5xH,EAAOpyC,EAAIgkK,GACvB+f,EAAQC,EAAUna,EAAO7yJ,EAAQo7B,GAAOgC,IAAYgwI,EAAYC,KADjCrkL,EAIpCgX,IACAC,IAEFD,GAASo7B,EACTn7B,GAAOm7B,EAMT,OAHIn7B,EAAMD,IACRC,GAAOm7B,GAEF,CAACp7B,QAAOC,MAAKyqE,OAAMptE,MAAO6vK,EAAQ7vK,MAC3C,CAwBoCgwK,CAAWH,EAASta,EAAQgJ,GAExDvzI,EAAS,GACf,IAEI96B,EAAOomK,EAAO5rI,EAFdulJ,GAAS,EACTC,EAAW,KAGf,MAEMC,EAAcA,IAAMF,GAFER,EAAQK,EAAYplJ,EAAWx6B,IAA6C,IAAnC0hC,EAAQk+I,EAAYplJ,GAGnF0lJ,EAAaA,KAAOH,GAF6B,IAA7Br+I,EAAQm+I,EAAU7/K,IAAgBu/K,EAAQM,EAAUrlJ,EAAWx6B,GAIzF,IAAK,IAAIxE,EAAIgX,EAAO0tC,EAAO1tC,EAAOhX,GAAKiX,IAAOjX,EAC5C4qK,EAAQf,EAAO7pK,EAAIoyC,GAEfw4H,EAAM7hG,OAIVvkE,EAAQw/K,EAAUpZ,EAAMx2H,IAEpB5vC,IAAUw6B,IAIdulJ,EAASR,EAAQv/K,EAAO4/K,EAAYC,GAEnB,OAAbG,GAAqBC,MACvBD,EAA0C,IAA/Bt+I,EAAQ1hC,EAAO4/K,GAAoBpkL,EAAI0kD,GAGnC,OAAb8/H,GAAqBE,MACvBplJ,EAAO/3B,KAAK08K,GAAiB,CAACjtK,MAAOwtK,EAAUvtK,IAAKjX,EAAG0hF,OAAMtvC,QAAO99B,WACpEkwK,EAAW,MAEb9/H,EAAO1kD,EACPg/B,EAAYx6B,IAOd,OAJiB,OAAbggL,GACFllJ,EAAO/3B,KAAK08K,GAAiB,CAACjtK,MAAOwtK,EAAUvtK,MAAKyqE,OAAMtvC,QAAO99B,WAG5DgrB,CACT,CAYO,SAASqlJ,GAAehlH,EAAMkzG,GACnC,MAAMvzI,EAAS,GACTslJ,EAAWjlH,EAAKilH,SAEtB,IAAK,IAAI5kL,EAAI,EAAGA,EAAI4kL,EAAS9kL,OAAQE,IAAK,CACxC,MAAM6kL,EAAMX,GAAcU,EAAS5kL,GAAI2/D,EAAKkqG,OAAQgJ,GAChDgS,EAAI/kL,QACNw/B,EAAO/3B,QAAQs9K,EAEnB,CACA,OAAOvlJ,CACT,CAiHA,SAASwlJ,GAAcnlH,EAAMilH,EAAU/a,EAAQkb,GAC7C,OAAKA,GAAmBA,EAAeh7F,YAAe8/E,EAaxD,SAAyBlqG,EAAMilH,EAAU/a,EAAQkb,GAC/C,MAAMC,EAAerlH,EAAKslH,OAAO7xF,aAC3B8xF,EAAYC,GAAUxlH,EAAKpsD,UAC1B6xK,cAAelhB,EAAc3wJ,SAAS,SAAC62J,IAAazqG,EACrDvtB,EAAQy3H,EAAO/pK,OACfw/B,EAAS,GACf,IAAI+lJ,EAAYH,EACZluK,EAAQ4tK,EAAS,GAAG5tK,MACpBhX,EAAIgX,EAER,SAASsuK,EAAS7oG,EAAGnqE,EAAGoqE,EAAG6oG,GACzB,MAAMC,EAAMpb,GAAY,EAAI,EAC5B,GAAI3tF,IAAMnqE,EAAV,CAKA,IADAmqE,GAAKrqC,EACEy3H,EAAOptF,EAAIrqC,GAAO22B,MACvB0T,GAAK+oG,EAEP,KAAO3b,EAAOv3J,EAAI8/B,GAAO22B,MACvBz2D,GAAKkzK,EAEH/oG,EAAIrqC,IAAU9/B,EAAI8/B,IACpB9S,EAAO/3B,KAAK,CAACyP,MAAOylE,EAAIrqC,EAAOn7B,IAAK3E,EAAI8/B,EAAOsvC,KAAMhF,EAAGpoE,MAAOixK,IAC/DF,EAAYE,EACZvuK,EAAQ1E,EAAI8/B,GAEhB,CAEA,IAAK,MAAM+xI,KAAWS,EAAU,CAC9B5tK,EAAQozJ,EAAWpzJ,EAAQmtK,EAAQntK,MACnC,IACI1C,EADAowC,EAAOmlH,EAAO7yJ,EAAQo7B,GAE1B,IAAKpyC,EAAIgX,EAAQ,EAAGhX,GAAKmkL,EAAQltK,IAAKjX,IAAK,CACzC,MAAM++K,EAAKlV,EAAO7pK,EAAIoyC,GACtB99B,EAAQ6wK,GAAUJ,EAAeh7F,WAAWt0B,GAAcuvH,EAAc,CACtEpjL,KAAM,UACN6jL,GAAI/gI,EACJyxG,GAAI4oB,EACJ2G,aAAc1lL,EAAI,GAAKoyC,EACvBuzI,YAAa3lL,EAAIoyC,EACjB8xH,mBAEE0hB,GAAatxK,EAAO+wK,IACtBC,EAAStuK,EAAOhX,EAAI,EAAGmkL,EAAQziG,KAAM2jG,GAEvC3gI,EAAOq6H,EACPsG,EAAY/wK,CACd,CACI0C,EAAQhX,EAAI,GACdslL,EAAStuK,EAAOhX,EAAI,EAAGmkL,EAAQziG,KAAM2jG,EAEzC,CAEA,OAAO/lJ,CACT,CAlESumJ,CAAgBlmH,EAAMilH,EAAU/a,EAAQkb,GAFtCH,CAGX,CAmEA,SAASO,GAAU5xK,GACjB,MAAO,CACLu8J,gBAAiBv8J,EAAQu8J,gBACzBgW,eAAgBvyK,EAAQuyK,eACxBC,WAAYxyK,EAAQwyK,WACpBC,iBAAkBzyK,EAAQyyK,iBAC1BC,gBAAiB1yK,EAAQ0yK,gBACzB3P,YAAa/iK,EAAQ+iK,YACrBvG,YAAax8J,EAAQw8J,YAEzB,CAEA,SAAS6V,GAAatxK,EAAO+wK,GAC3B,IAAKA,EACH,OAAO,EAET,MAAM3xJ,EAAQ,GACRwyJ,EAAW,SAAS/oK,EAAK3Y,GAC7B,OAAKqpK,GAAoBrpK,IAGpBkvB,EAAM3uB,SAASP,IAClBkvB,EAAMnsB,KAAK/C,GAENkvB,EAAMzwB,QAAQuB,IALZA,CAMX,EACA,OAAO2jF,KAAKC,UAAU9zE,EAAO4xK,KAAc/9F,KAAKC,UAAUi9F,EAAWa,EACvE,CChWO,MAAMC,GACX90K,WAAAA,GACEG,KAAK40K,SAAW,KAChB50K,KAAK60K,QAAU,IAAIr3K,IACnBwC,KAAK80K,UAAW,EAChB90K,KAAK+0K,eAAYxhG,CACnB,CAKAyhG,OAAAA,CAAQ5X,EAAO6X,EAAOtmK,EAAMve,GAC1B,MAAM2rC,EAAYk5I,EAAMvlK,UAAUtf,GAC5B8kL,EAAWD,EAAMtU,SAEvB5kI,EAAU1c,SAAQztB,GAAMA,EAAG,CACzBwrK,QACAviK,QAASo6K,EAAMp6K,QACfq6K,WACAC,YAAa/7K,KAAK8Z,IAAIvE,EAAOsmK,EAAMzvK,MAAO0vK,MAE9C,CAKAE,QAAAA,GACMp1K,KAAK40K,WAGT50K,KAAK80K,UAAW,EAEhB90K,KAAK40K,SAAWld,GAAiBllK,KAAKqJ,QAAQ,KAC5CmE,KAAKq1K,UACLr1K,KAAK40K,SAAW,KAEZ50K,KAAK80K,UACP90K,KAAKo1K,cAGX,CAKAC,OAAAA,GAA2B,IAAnB1mK,EAAAtgB,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAO0Z,KAAKnQ,MACd09K,EAAY,EAEhBt1K,KAAK60K,QAAQx1J,SAAQ,CAAC41J,EAAO7X,KAC3B,IAAK6X,EAAMM,UAAYN,EAAMz0D,MAAMlyH,OACjC,OAEF,MAAMkyH,EAAQy0D,EAAMz0D,MACpB,IAEIj8C,EAFA/1E,EAAIgyH,EAAMlyH,OAAS,EACnBknL,GAAO,EAGX,KAAOhnL,GAAK,IAAKA,EACf+1E,EAAOi8C,EAAMhyH,GAET+1E,EAAKkxG,SACHlxG,EAAKmxG,OAAST,EAAMtU,WAGtBsU,EAAMtU,SAAWp8F,EAAKmxG,QAExBnxG,EAAKs8C,KAAKlyG,GACV6mK,GAAO,IAIPh1D,EAAMhyH,GAAKgyH,EAAMA,EAAMlyH,OAAS,GAChCkyH,EAAM3qH,OAIN2/K,IACFpY,EAAMoY,OACNx1K,KAAKg1K,QAAQ5X,EAAO6X,EAAOtmK,EAAM,aAG9B6xG,EAAMlyH,SACT2mL,EAAMM,SAAU,EAChBv1K,KAAKg1K,QAAQ5X,EAAO6X,EAAOtmK,EAAM,YACjCsmK,EAAMp6K,SAAU,GAGlBy6K,GAAa90D,EAAMlyH,MAAM,IAG3B0R,KAAK+0K,UAAYpmK,EAEC,IAAd2mK,IACFt1K,KAAK80K,UAAW,EAEpB,CAKAa,SAAAA,CAAUvY,GACR,MAAMwY,EAAS51K,KAAK60K,QACpB,IAAII,EAAQW,EAAO71K,IAAIq9J,GAavB,OAZK6X,IACHA,EAAQ,CACNM,SAAS,EACT16K,SAAS,EACT2lH,MAAO,GACP9wG,UAAW,CACTmmK,SAAU,GACVC,SAAU,KAGdF,EAAOvjL,IAAI+qK,EAAO6X,IAEbA,CACT,CAOA/gG,MAAAA,CAAOkpF,EAAOthK,EAAO02C,GACnBxyC,KAAK21K,UAAUvY,GAAO1tJ,UAAU5T,GAAO/F,KAAKy8C,EAC9C,CAOAt0C,GAAAA,CAAIk/J,EAAO58C,GACJA,GAAUA,EAAMlyH,QAGrB0R,KAAK21K,UAAUvY,GAAO58C,MAAMzqH,QAAQyqH,EACtC,CAMAr9G,GAAAA,CAAIi6J,GACF,OAAOp9J,KAAK21K,UAAUvY,GAAO58C,MAAMlyH,OAAS,CAC9C,CAMAkX,KAAAA,CAAM43J,GACJ,MAAM6X,EAAQj1K,KAAK60K,QAAQ90K,IAAIq9J,GAC1B6X,IAGLA,EAAMM,SAAU,EAChBN,EAAMzvK,MAAQuC,KAAKnQ,MACnBq9K,EAAMtU,SAAWsU,EAAMz0D,MAAM3B,QAAO,CAACk3D,EAAKtnH,IAAQr1D,KAAK4sD,IAAI+vH,EAAKtnH,EAAIunH,YAAY,GAChFh2K,KAAKo1K,WACP,CAEAG,OAAAA,CAAQnY,GACN,IAAKp9J,KAAK80K,SACR,OAAO,EAET,MAAMG,EAAQj1K,KAAK60K,QAAQ90K,IAAIq9J,GAC/B,SAAK6X,GAAUA,EAAMM,SAAYN,EAAMz0D,MAAMlyH,OAI/C,CAMA6yH,IAAAA,CAAKi8C,GACH,MAAM6X,EAAQj1K,KAAK60K,QAAQ90K,IAAIq9J,GAC/B,IAAK6X,IAAUA,EAAMz0D,MAAMlyH,OACzB,OAEF,MAAMkyH,EAAQy0D,EAAMz0D,MACpB,IAAIhyH,EAAIgyH,EAAMlyH,OAAS,EAEvB,KAAOE,GAAK,IAAKA,EACfgyH,EAAMhyH,GAAGynL,SAEXhB,EAAMz0D,MAAQ,GACdxgH,KAAKg1K,QAAQ5X,EAAO6X,EAAOltK,KAAKnQ,MAAO,WACzC,CAMAs+K,MAAAA,CAAO9Y,GACL,OAAOp9J,KAAK60K,QAAQz1J,OAAOg+I,EAC7B,EAIF,IAAA+Y,GAA+B,IAAIxB,GCjNnC,MAAMllB,GAAc,cACd2mB,GAAgB,CACpBC,QAAO,CAAChgG,EAAMs5E,EAAI2mB,IACTA,EAAS,GAAM3mB,EAAKt5E,EAO7B3nE,KAAAA,CAAM2nE,EAAMs5E,EAAI2mB,GACd,MAAMC,EAAK7nK,GAAa2nE,GAAQo5E,IAC1BgB,EAAK8lB,EAAGlmB,OAAS3hJ,GAAaihJ,GAAMF,IAC1C,OAAOgB,GAAMA,EAAGJ,MACZI,EAAGD,IAAI+lB,EAAID,GAAQxyB,YACnB6L,CACN,EACA5gJ,OAAM,CAACsnE,EAAMs5E,EAAI2mB,IACRjgG,GAAQs5E,EAAKt5E,GAAQigG,GAIjB,MAAME,GACnB32K,WAAAA,CAAY42K,EAAKzyK,EAAQ66D,EAAM8wF,GAC7B,MAAM7vJ,EAAekE,EAAO66D,GAE5B8wF,EAAK/sI,GAAQ,CAAC6zJ,EAAI9mB,GAAIA,EAAI7vJ,EAAc22K,EAAIpgG,OAC5C,MAAMA,EAAOzzD,GAAQ,CAAC6zJ,EAAIpgG,KAAMv2E,EAAc6vJ,IAE9C3vJ,KAAKy1K,SAAU,EACfz1K,KAAKq3E,IAAMo/F,EAAI7kL,IAAMwkL,GAAcK,EAAIrmL,aAAeimF,GACtDr2E,KAAK02K,QAAUtc,GAAQqc,EAAI7V,SAAWxG,GAAQC,OAC9Cr6J,KAAK22K,OAASv9K,KAAK0/E,MAAM/wE,KAAKnQ,OAAS6+K,EAAIx1D,OAAS,IACpDjhH,KAAKg2K,UAAYh2K,KAAK01K,OAASt8K,KAAK0/E,MAAM29F,EAAI9V,UAC9C3gK,KAAK42K,QAAUH,EAAIvmG,KACnBlwE,KAAK62K,QAAU7yK,EACfhE,KAAK82K,MAAQj4G,EACb7+D,KAAK+2K,MAAQ1gG,EACbr2E,KAAKg3K,IAAMrnB,EACX3vJ,KAAKi3K,eAAY1jG,CACnB,CAEAstF,MAAAA,GACE,OAAO7gK,KAAKy1K,OACd,CAEA9+J,MAAAA,CAAO8/J,EAAK9mB,EAAIhhJ,GACd,GAAI3O,KAAKy1K,QAAS,CAChBz1K,KAAKg1K,SAAQ,GAEb,MAAMl1K,EAAeE,KAAK62K,QAAQ72K,KAAK82K,OACjCI,EAAUvoK,EAAO3O,KAAK22K,OACtB9Y,EAAS79J,KAAKg2K,UAAYkB,EAChCl3K,KAAK22K,OAAShoK,EACd3O,KAAKg2K,UAAY58K,KAAK0/E,MAAM1/E,KAAK4sD,IAAI63G,EAAQ4Y,EAAI9V,WACjD3gK,KAAK01K,QAAUwB,EACfl3K,KAAK42K,QAAUH,EAAIvmG,KACnBlwE,KAAKg3K,IAAMp0J,GAAQ,CAAC6zJ,EAAI9mB,GAAIA,EAAI7vJ,EAAc22K,EAAIpgG,OAClDr2E,KAAK+2K,MAAQn0J,GAAQ,CAAC6zJ,EAAIpgG,KAAMv2E,EAAc6vJ,IAElD,CAEAsmB,MAAAA,GACMj2K,KAAKy1K,UAEPz1K,KAAK6gH,KAAK94G,KAAKnQ,OACfoI,KAAKy1K,SAAU,EACfz1K,KAAKg1K,SAAQ,GAEjB,CAEAn0D,IAAAA,CAAKlyG,GACH,MAAMuoK,EAAUvoK,EAAO3O,KAAK22K,OACtBhW,EAAW3gK,KAAKg2K,UAChBn3G,EAAO7+D,KAAK82K,MACZzgG,EAAOr2E,KAAK+2K,MACZ7mG,EAAOlwE,KAAK42K,MACZjnB,EAAK3vJ,KAAKg3K,IAChB,IAAIV,EAIJ,GAFAt2K,KAAKy1K,QAAUp/F,IAASs5E,IAAOz/E,GAASgnG,EAAUvW,IAE7C3gK,KAAKy1K,QAGR,OAFAz1K,KAAK62K,QAAQh4G,GAAQ8wF,OACrB3vJ,KAAKg1K,SAAQ,GAIXkC,EAAU,EACZl3K,KAAK62K,QAAQh4G,GAAQwX,GAIvBigG,EAAUY,EAAUvW,EAAY,EAChC2V,EAASpmG,GAAQomG,EAAS,EAAI,EAAIA,EAASA,EAC3CA,EAASt2K,KAAK02K,QAAQt9K,KAAK8Z,IAAI,EAAG9Z,KAAK4sD,IAAI,EAAGswH,KAE9Ct2K,KAAK62K,QAAQh4G,GAAQ7+D,KAAKq3E,IAAIhB,EAAMs5E,EAAI2mB,GAC1C,CAEAa,IAAAA,GACE,MAAM52B,EAAWvgJ,KAAKi3K,YAAcj3K,KAAKi3K,UAAY,IACrD,OAAO,IAAIlxI,SAAQ,CAACqxI,EAAKC,KACvB92B,EAASxqJ,KAAK,CAACqhL,MAAKC,OAAK,GAE7B,CAEArC,OAAAA,CAAQsC,GACN,MAAMhiL,EAASgiL,EAAW,MAAQ,MAC5B/2B,EAAWvgJ,KAAKi3K,WAAa,GACnC,IAAK,IAAIzoL,EAAI,EAAGA,EAAI+xJ,EAASjyJ,OAAQE,IACnC+xJ,EAAS/xJ,GAAG8G,IAEhB,EChHa,MAAMiiL,GACnB13K,WAAAA,CAAYu9J,EAAOr5G,GACjB/jD,KAAKyzK,OAASrW,EACdp9J,KAAKw3K,YAAc,IAAIh6K,IACvBwC,KAAKy3K,UAAU1zH,EACjB,CAEA0zH,SAAAA,CAAU1zH,GACR,IAAK6tG,EAAS7tG,GACZ,OAGF,MAAM2zH,EAAmBvmL,OAAOkgB,KAAKgpH,GAAS5kH,WACxCkiK,EAAgB33K,KAAKw3K,YAE3BrmL,OAAO8qH,oBAAoBl4D,GAAQ1kC,SAAQ1T,IACzC,MAAM8qK,EAAM1yH,EAAOp4C,GACnB,IAAKimJ,EAAS6kB,GACZ,OAEF,MAAMa,EAAW,CAAC,EAClB,IAAK,MAAMM,KAAUF,EACnBJ,EAASM,GAAUnB,EAAImB,IAGxB5iL,EAAQyhL,EAAI73G,aAAe63G,EAAI73G,YAAc,CAACjzD,IAAM0T,SAASw/C,IACxDA,IAASlzD,GAAQgsK,EAAcx0K,IAAI07D,IACrC84G,EAActlL,IAAIwsE,EAAMy4G,KAE1B,GAEN,CAMAO,eAAAA,CAAgB7zK,EAAQkvF,GACtB,MAAM4kF,EAAa5kF,EAAOnxF,QACpBA,EAsGV,SAA8BiC,EAAQ8zK,GACpC,IAAKA,EACH,OAEF,IAAI/1K,EAAUiC,EAAOjC,QACrB,IAAKA,EAEH,YADAiC,EAAOjC,QAAU+1K,GAGf/1K,EAAQg2K,UAGV/zK,EAAOjC,QAAUA,EAAU5Q,OAAOD,OAAO,CAAC,EAAG6Q,EAAS,CAACg2K,SAAS,EAAOC,YAAa,CAAC,KAEvF,OAAOj2K,CACT,CArHoBk2K,CAAqBj0K,EAAQ8zK,GAC7C,IAAK/1K,EACH,MAAO,GAGT,MAAMg/J,EAAa/gK,KAAKk4K,kBAAkBn2K,EAAS+1K,GAYnD,OAXIA,EAAWC,SAmFnB,SAAkBhX,EAAYniG,GAC5B,MAAM22G,EAAU,GACVlkK,EAAOlgB,OAAOkgB,KAAKutD,GACzB,IAAK,IAAIpwE,EAAI,EAAGA,EAAI6iB,EAAK/iB,OAAQE,IAAK,CACpC,MAAM2pL,EAAOpX,EAAW1vJ,EAAK7iB,IACzB2pL,GAAQA,EAAKtX,UACf0U,EAAQx/K,KAAKoiL,EAAKhB,OAEtB,CAEA,OAAOpxI,QAAQu6G,IAAIi1B,EACrB,CA1FM6C,CAASp0K,EAAOjC,QAAQi2K,YAAaF,GAAY98J,MAAK,KACpDhX,EAAOjC,QAAU+1K,CAAA,IAChB,SAKE/W,CACT,CAKAmX,iBAAAA,CAAkBl0K,EAAQkvF,GACxB,MAAMykF,EAAgB33K,KAAKw3K,YACrBzW,EAAa,GACbwU,EAAUvxK,EAAOg0K,cAAgBh0K,EAAOg0K,YAAc,CAAC,GACvDzzK,EAAQpT,OAAOkgB,KAAK6hF,GACpBvkF,EAAO5G,KAAKnQ,MAClB,IAAIpJ,EAEJ,IAAKA,EAAI+V,EAAMjW,OAAS,EAAGE,GAAK,IAAKA,EAAG,CACtC,MAAMqwE,EAAOt6D,EAAM/V,GACnB,GAAuB,MAAnBqwE,EAAKlH,OAAO,GACd,SAGF,GAAa,YAATkH,EAAoB,CACtBkiG,EAAWhrK,QAAQiK,KAAK63K,gBAAgB7zK,EAAQkvF,IAChD,SAEF,MAAMlgG,EAAQkgG,EAAOr0B,GACrB,IAAIppD,EAAY8/J,EAAQ12G,GACxB,MAAM43G,EAAMkB,EAAc53K,IAAI8+D,GAE9B,GAAIppD,EAAW,CACb,GAAIghK,GAAOhhK,EAAUorJ,SAAU,CAE7BprJ,EAAUkB,OAAO8/J,EAAKzjL,EAAO2b,GAC7B,SAEA8G,EAAUwgK,SAGTQ,GAAQA,EAAI9V,UAMjB4U,EAAQ12G,GAAQppD,EAAY,IAAI+gK,GAAUC,EAAKzyK,EAAQ66D,EAAM7rE,GAC7D+tK,EAAWhrK,KAAK0f,IALdzR,EAAO66D,GAAQ7rE,CAMnB,CACA,OAAO+tK,CACT,CASApqJ,MAAAA,CAAO3S,EAAQkvF,GACb,GAA8B,IAA1BlzF,KAAKw3K,YAAY3wJ,KAGnB,YADA11B,OAAOD,OAAO8S,EAAQkvF,GAIxB,MAAM6tE,EAAa/gK,KAAKk4K,kBAAkBl0K,EAAQkvF,GAElD,OAAI6tE,EAAWzyK,QACb6nL,GAASj4K,IAAI8B,KAAKyzK,OAAQ1S,IACnB,QAFT,CAIF,ECvHF,SAASsX,GAAU1Y,EAAO2Y,GACxB,MAAMxoH,EAAO6vG,GAASA,EAAM59J,SAAW,CAAC,EAClCgnF,EAAUj5B,EAAKi5B,QACf71E,OAAmBqgE,IAAbzjB,EAAK58C,IAAoBolK,EAAkB,EACjDtyH,OAAmButB,IAAbzjB,EAAK9J,IAAoBsyH,EAAkB,EACvD,MAAO,CACL9yK,MAAOujF,EAAU/iC,EAAM9yC,EACvBzN,IAAKsjF,EAAU71E,EAAM8yC,EAEzB,CAsCA,SAASuyH,GAAwBnb,EAAOob,GACtC,MAAMnnK,EAAO,GACPonK,EAAWrb,EAAMsb,uBAAuBF,GAC9C,IAAIhqL,EAAGgkK,EAEP,IAAKhkK,EAAI,EAAGgkK,EAAOimB,EAASnqL,OAAQE,EAAIgkK,IAAQhkK,EAC9C6iB,EAAKtb,KAAK0iL,EAASjqL,GAAGiH,OAExB,OAAO4b,CACT,CAEA,SAASsnK,GAAWpnL,EAAOyB,EAAO4lL,GAAuB,IAAd72K,EAAA1T,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAU,CAAC,EACpD,MAAMgjB,EAAO9f,EAAM8f,KACbwnK,EAA8B,WAAjB92K,EAAQ+b,KAC3B,IAAItvB,EAAGgkK,EAAME,EAAcomB,EAE3B,GAAc,OAAV9lL,EACF,OAGF,IAAI+lL,GAAQ,EACZ,IAAKvqL,EAAI,EAAGgkK,EAAOnhJ,EAAK/iB,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAE7C,GADAkkK,GAAgBrhJ,EAAK7iB,GACjBkkK,IAAiBkmB,EAAS,CAE5B,GADAG,GAAQ,EACJh3K,EAAQu+I,IACV,SAEF,MAEFw4B,EAAavnL,EAAM2hG,OAAOw/D,GACtBb,EAASinB,KAAgBD,GAAyB,IAAV7lL,GAAewhK,GAAKxhK,KAAWwhK,GAAKskB,MAC9E9lL,GAAS8lL,EAEb,CAEA,OAAKC,GAAUh3K,EAAQu+I,IAIhBttJ,EAHE,CAIX,CAmBA,SAASgmL,GAAUrZ,EAAOl7F,GACxB,MAAMw0G,EAAUtZ,GAASA,EAAM59J,QAAQk3K,QACvC,OAAOA,QAAwB1lG,IAAZ0lG,QAAwC1lG,IAAf9O,EAAKlzE,KACnD,CAcA,SAAS2nL,GAAiBC,EAAQC,EAAUC,GAC1C,MAAMC,EAAWH,EAAOC,KAAcD,EAAOC,GAAY,CAAC,GAC1D,OAAOE,EAASD,KAAgBC,EAASD,GAAc,CAAC,EAC1D,CAEA,SAASE,GAAoBhoL,EAAOmnK,EAAQ8gB,EAAUppL,GACpD,IAAK,MAAMq0E,KAAQi0F,EAAO+gB,wBAAwBrpL,GAAM24F,UAAW,CACjE,MAAM/1F,EAAQzB,EAAMkzE,EAAKhvE,OACzB,GAAI+jL,GAAaxmL,EAAQ,IAAQwmL,GAAYxmL,EAAQ,EACnD,OAAOyxE,EAAKhvE,KAEhB,CAEA,OAAO,IACT,CAEA,SAASikL,GAAa33J,EAAY43J,GAChC,MAAM,MAACvc,EAAOwc,YAAan1G,GAAQ1iD,EAC7Bo3J,EAAS/b,EAAMyc,UAAYzc,EAAMyc,QAAU,CAAC,IAC5C,OAACphB,EAAA,OAAQC,EAAQjjK,MAAOi9J,GAAgBjuF,EACxCq1G,EAAQrhB,EAAOI,KACfkhB,EAAQrhB,EAAOG,KACfltJ,EAlCR,SAAqBquK,EAAYC,EAAYx1G,GAC3C,MAAO,GAAGu1G,EAAWviJ,MAAMwiJ,EAAWxiJ,MAAMgtC,EAAKlzE,OAASkzE,EAAKr0E,MACjE,CAgCc8pL,CAAYzhB,EAAQC,EAAQj0F,GAClC+tF,EAAOmnB,EAAOrrL,OACpB,IAAIiD,EAEJ,IAAK,IAAI/C,EAAI,EAAGA,EAAIgkK,IAAQhkK,EAAG,CAC7B,MAAM+1E,EAAOo1G,EAAOnrL,IACb,CAACsrL,GAAQrkL,EAAO,CAACskL,GAAQ/mL,GAASuxE,EAEzChzE,GADmBgzE,EAAKs1G,UAAYt1G,EAAKs1G,QAAU,CAAC,IACjCE,GAASb,GAAiBC,EAAQxtK,EAAKlW,GAC1DlE,EAAMmhK,GAAgB1/J,EAEtBzB,EAAM4oL,KAAOZ,GAAoBhoL,EAAOmnK,GAAQ,EAAMj0F,EAAKr0E,MAC3DmB,EAAM6oL,QAAUb,GAAoBhoL,EAAOmnK,GAAQ,EAAOj0F,EAAKr0E,OAE1CmB,EAAM8oL,gBAAkB9oL,EAAM8oL,cAAgB,CAAC,IACvD3nB,GAAgB1/J,CAC/B,CACF,CAEA,SAASsnL,GAAgBld,EAAOvE,GAC9B,MAAM+G,EAASxC,EAAMwC,OACrB,OAAOzuK,OAAOkgB,KAAKuuJ,GAAQ18E,QAAOv3E,GAAOi0J,EAAOj0J,GAAKktJ,OAASA,IAAMp6G,OACtE,CA4BA,SAAS87H,GAAY91G,EAAM+7C,GAEzB,MAAMkyC,EAAejuF,EAAK1iD,WAAWtsB,MAC/BojK,EAAOp0F,EAAKi0F,QAAUj0F,EAAKi0F,OAAOG,KACxC,GAAKA,EAAL,CAIAr4C,EAAQA,GAAS/7C,EAAKk0F,QACtB,IAAK,MAAMghB,KAAUn5D,EAAO,CAC1B,MAAM24D,EAASQ,EAAOE,QACtB,IAAKV,QAA2B5lG,IAAjB4lG,EAAOtgB,SAAsDtlF,IAA/B4lG,EAAOtgB,GAAMnG,GACxD,cAEKymB,EAAOtgB,GAAMnG,QACen/E,IAA/B4lG,EAAOtgB,GAAMwhB,oBAA4E9mG,IAA7C4lG,EAAOtgB,GAAMwhB,cAAc3nB,WAClEymB,EAAOtgB,GAAMwhB,cAAc3nB,EAEtC,EACF,CAEA,MAAM8nB,GAAsB18J,GAAkB,UAATA,GAA6B,SAATA,EACnD28J,GAAmBA,CAACC,EAAQ7+I,IAAWA,EAAS6+I,EAASvpL,OAAOD,OAAO,CAAC,EAAGwpL,GAIlE,MAAMC,GAKnBr9G,gBAAkB,GAKlBA,0BAA4B,KAK5BA,uBAAyB,KAMzBz9D,WAAAA,CAAYu9J,EAAO1K,GACjB1yJ,KAAKo9J,MAAQA,EACbp9J,KAAK8hK,KAAO1E,EAAM/4E,IAClBrkF,KAAKvK,MAAQi9J,EACb1yJ,KAAK46K,gBAAkB,CAAC,EACxB56K,KAAK45K,YAAc55K,KAAK66K,UACxB76K,KAAK86K,MAAQ96K,KAAK45K,YAAYxpL,KAC9B4P,KAAK+B,aAAUwxE,EAEfvzE,KAAK+6K,UAAW,EAChB/6K,KAAKg7K,WAAQznG,EACbvzE,KAAKi7K,iBAAc1nG,EACnBvzE,KAAKk7K,oBAAiB3nG,EACtBvzE,KAAKm7K,gBAAa5nG,EAClBvzE,KAAKo7K,gBAAa7nG,EAClBvzE,KAAKq7K,qBAAsB,EAC3Br7K,KAAKs7K,oBAAqB,EAC1Bt7K,KAAKu7K,cAAWhoG,EAChBvzE,KAAKw7K,UAAY,GACjBx7K,KAAKy7K,8BAAgCA,mBACrCz7K,KAAK07K,2BAA6BA,gBAElC17K,KAAKimH,YACP,CAEAA,UAAAA,GACE,MAAMxhD,EAAOzkE,KAAK45K,YAClB55K,KAAKy3K,YACLz3K,KAAK27K,aACLl3G,EAAKm3G,SAAW5C,GAAUv0G,EAAKi0F,OAAQj0F,GACvCzkE,KAAK67K,cAED77K,KAAK+B,QAAQorH,OAASntH,KAAKo9J,MAAM0e,gBAAgB,WACnDlpJ,QAAQ8pE,KAAK,qKAEjB,CAEAq/E,WAAAA,CAAYrpB,GACN1yJ,KAAKvK,QAAUi9J,GACjB6nB,GAAYv6K,KAAK45K,aAEnB55K,KAAKvK,MAAQi9J,CACf,CAEAipB,UAAAA,GACE,MAAMve,EAAQp9J,KAAKo9J,MACb34F,EAAOzkE,KAAK45K,YACZ7hJ,EAAU/3B,KAAKg8K,aAEfC,EAAWA,CAACpjB,EAAMhoK,EAAGmgB,EAAGyoC,IAAe,MAATo/G,EAAehoK,EAAa,MAATgoK,EAAep/G,EAAIzoC,EAEpEkrK,EAAMz3G,EAAK03G,QAAUnqB,EAAej6H,EAAQokJ,QAAS7B,GAAgBld,EAAO,MAC5Egf,EAAM33G,EAAK43G,QAAUrqB,EAAej6H,EAAQskJ,QAAS/B,GAAgBld,EAAO,MAC5Ekf,EAAM73G,EAAK83G,QAAUvqB,EAAej6H,EAAQwkJ,QAASjC,GAAgBld,EAAO,MAC5E+B,EAAY16F,EAAK06F,UACjBqd,EAAM/3G,EAAKg4G,QAAUR,EAAS9c,EAAW+c,EAAKE,EAAKE,GACnDI,EAAMj4G,EAAKk4G,QAAUV,EAAS9c,EAAWid,EAAKF,EAAKI,GACzD73G,EAAK80F,OAASv5J,KAAK48K,cAAcV,GACjCz3G,EAAK+0F,OAASx5J,KAAK48K,cAAcR,GACjC33G,EAAKo4G,OAAS78K,KAAK48K,cAAcN,GACjC73G,EAAKg0F,OAASz4J,KAAK48K,cAAcJ,GACjC/3G,EAAKi0F,OAAS14J,KAAK48K,cAAcF,EACnC,CAEAV,UAAAA,GACE,OAAOh8K,KAAKo9J,MAAM/nK,KAAKmpK,SAASx+J,KAAKvK,MACvC,CAEAolL,OAAAA,GACE,OAAO76K,KAAKo9J,MAAM0f,eAAe98K,KAAKvK,MACxC,CAMAmnL,aAAAA,CAAcG,GACZ,OAAO/8K,KAAKo9J,MAAMwC,OAAOmd,EAC3B,CAKAC,cAAAA,CAAerd,GACb,MAAMl7F,EAAOzkE,KAAK45K,YAClB,OAAOja,IAAUl7F,EAAKg0F,OAClBh0F,EAAKi0F,OACLj0F,EAAKg0F,MACX,CAEA50H,KAAAA,GACE7jC,KAAKq1K,QAAQ,QACf,CAKA4H,QAAAA,GACE,MAAMx4G,EAAOzkE,KAAK45K,YACd55K,KAAKg7K,OACP1jB,GAAoBt3J,KAAKg7K,MAAOh7K,MAE9BykE,EAAKm3G,UACPrB,GAAY91G,EAEhB,CAKAy4G,UAAAA,GACE,MAAMnlJ,EAAU/3B,KAAKg8K,aACf3mL,EAAO0iC,EAAQ1iC,OAAS0iC,EAAQ1iC,KAAO,IACvC2lL,EAAQh7K,KAAKg7K,MAMnB,GAAIppB,EAASv8J,GAAO,CAClB,MAAMovE,EAAOzkE,KAAK45K,YAClB55K,KAAKg7K,MAlRX,SAAkC3lL,EAAMovE,GACtC,MAAM,OAACg0F,EAAA,OAAQC,GAAUj0F,EACnB04G,EAA2B,MAAhB1kB,EAAOI,KAAe,IAAM,IACvCukB,EAA2B,MAAhB1kB,EAAOG,KAAe,IAAM,IACvCxnJ,EAAOlgB,OAAOkgB,KAAKhc,GACnBgoL,EAAQ,IAAItoL,MAAMsc,EAAK/iB,QAC7B,IAAIE,EAAGgkK,EAAM7mJ,EACb,IAAKnd,EAAI,EAAGgkK,EAAOnhJ,EAAK/iB,OAAQE,EAAIgkK,IAAQhkK,EAC1Cmd,EAAM0F,EAAK7iB,GACX6uL,EAAM7uL,GAAK,CACT,CAAC2uL,GAAWxxK,EACZ,CAACyxK,GAAW/nL,EAAKsW,IAGrB,OAAO0xK,CACT,CAmQmBC,CAAyBjoL,EAAMovE,QACvC,GAAIu2G,IAAU3lL,EAAM,CACzB,GAAI2lL,EAAO,CAET1jB,GAAoB0jB,EAAOh7K,MAE3B,MAAMykE,EAAOzkE,KAAK45K,YAClBW,GAAY91G,GACZA,EAAKk0F,QAAU,GAEbtjK,GAAQlE,OAAOosL,aAAaloL,KrB9QGgsB,EqB+QTrhB,MrB/QE+mB,EqB+QR1xB,GrB9QdmiK,SACRzwI,EAAMywI,SAAS9nJ,UAAU3Z,KAAKsrB,IAIhClwB,OAAOgB,eAAe40B,EAAO,WAAY,CACvCh0B,cAAc,EACdkN,YAAY,EACZjN,MAAO,CACL0c,UAAW,CAAC2R,MAIhBg2I,GAAYh4I,SAAS1T,IACnB,MAAMrW,EAAS,UAAYq+J,GAAYhoJ,GACjC42D,EAAOx7C,EAAMpb,GAEnBxa,OAAOgB,eAAe40B,EAAOpb,EAAK,CAChC5Y,cAAc,EACdkN,YAAY,EACZjN,KAAAA,GAAe,QAAAwqL,EAAAnvL,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAyoL,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJxnG,EAAIwnG,GAAApvL,UAAAovL,GACX,MAAMrG,EAAM70G,EAAKl1B,MAAMrtC,KAAMi2E,GAQ7B,OANAlvD,EAAMywI,SAAS9nJ,UAAU2P,SAAS0iC,IACF,oBAAnBA,EAAOzsD,IAChBysD,EAAOzsD,MAAW2gF,MAIfmhG,CACT,GACA,MqBiPAp3K,KAAKw7K,UAAY,GACjBx7K,KAAKg7K,MAAQ3lL,ErBlRZ,IAA2B0xB,EAAO1F,CqBoRvC,CAEAw6J,WAAAA,GACE,MAAMp3G,EAAOzkE,KAAK45K,YAElB55K,KAAKk9K,aAEDl9K,KAAKy7K,qBACPh3G,EAAK1sC,QAAU,IAAI/3B,KAAKy7K,mBAE5B,CAEAiC,qBAAAA,CAAsBC,GACpB,MAAMl5G,EAAOzkE,KAAK45K,YACZ7hJ,EAAU/3B,KAAKg8K,aACrB,IAAI4B,GAAe,EAEnB59K,KAAKk9K,aAGL,MAAMW,EAAap5G,EAAKm3G,SACxBn3G,EAAKm3G,SAAW5C,GAAUv0G,EAAKi0F,OAAQj0F,GAGnCA,EAAKlzE,QAAUwmC,EAAQxmC,QACzBqsL,GAAe,EAEfrD,GAAY91G,GACZA,EAAKlzE,MAAQwmC,EAAQxmC,OAKvByO,KAAK89K,gBAAgBH,IAGjBC,GAAgBC,IAAep5G,EAAKm3G,YACtClC,GAAa15K,KAAMykE,EAAKk0F,SACxBl0F,EAAKm3G,SAAW5C,GAAUv0G,EAAKi0F,OAAQj0F,GAE3C,CAMAgzG,SAAAA,GACE,MAAM1zH,EAAS/jD,KAAKo9J,MAAMr5G,OACpBg6H,EAAYh6H,EAAOi6H,iBAAiBh+K,KAAK86K,OACzCpS,EAAS3kH,EAAOk6H,gBAAgBj+K,KAAKg8K,aAAc+B,GAAW,GACpE/9K,KAAK+B,QAAUgiD,EAAOm6H,eAAexV,EAAQ1oK,KAAK4hF,cAClD5hF,KAAK+6K,SAAW/6K,KAAK+B,QAAQ09J,QAC7Bz/J,KAAK46K,gBAAkB,CAAC,CAC1B,CAMA9mH,KAAAA,CAAMtuD,EAAOo7B,GACX,MAAOg5I,YAAan1G,EAAMu2G,MAAO3lL,GAAQ2K,MACnC,OAACy4J,EAAA,SAAQmjB,GAAYn3G,EACrBq1G,EAAQrhB,EAAOI,KAErB,IAEIrqK,EAAGigE,EAAKkrH,EAFRwE,EAAmB,IAAV34K,GAAeo7B,IAAUvrC,EAAK/G,QAAgBm2E,EAAK+zF,QAC5DtlH,EAAO1tC,EAAQ,GAAKi/D,EAAKk0F,QAAQnzJ,EAAQ,GAG7C,IAAsB,IAAlBxF,KAAK+6K,SACPt2G,EAAKk0F,QAAUtjK,EACfovE,EAAK+zF,SAAU,EACfmhB,EAAStkL,MACJ,CAEHskL,EADE3kL,EAAQK,EAAKmQ,IACNxF,KAAKo+K,eAAe35G,EAAMpvE,EAAMmQ,EAAOo7B,GACvCgxH,EAASv8J,EAAKmQ,IACdxF,KAAKq+K,gBAAgB55G,EAAMpvE,EAAMmQ,EAAOo7B,GAExC5gC,KAAKs+K,mBAAmB75G,EAAMpvE,EAAMmQ,EAAOo7B,GAGtD,MAAM29I,EAA6BA,IAAqB,OAAf9vH,EAAIqrH,IAAoB5mI,GAAQub,EAAIqrH,GAAS5mI,EAAK4mI,GAC3F,IAAKtrL,EAAI,EAAGA,EAAIoyC,IAASpyC,EACvBi2E,EAAKk0F,QAAQnqK,EAAIgX,GAASipD,EAAMkrH,EAAOnrL,GACnC2vL,IACEI,MACFJ,GAAS,GAEXjrI,EAAOub,GAGXgW,EAAK+zF,QAAU2lB,EAGbvC,GACFlC,GAAa15K,KAAM25K,EAEvB,CAaA2E,kBAAAA,CAAmB75G,EAAMpvE,EAAMmQ,EAAOo7B,GACpC,MAAM,OAAC63H,EAAA,OAAQC,GAAUj0F,EACnBq1G,EAAQrhB,EAAOI,KACfkhB,EAAQrhB,EAAOG,KACf5lG,EAASwlG,EAAO+lB,YAChBC,EAAchmB,IAAWC,EACzBihB,EAAS,IAAI5kL,MAAM6rC,GACzB,IAAIpyC,EAAGgkK,EAAM/8J,EAEb,IAAKjH,EAAI,EAAGgkK,EAAO5xH,EAAOpyC,EAAIgkK,IAAQhkK,EACpCiH,EAAQjH,EAAIgX,EACZm0K,EAAOnrL,GAAK,CACV,CAACsrL,GAAQ2E,GAAehmB,EAAO3kG,MAAMb,EAAOx9D,GAAQA,GACpD,CAACskL,GAAQrhB,EAAO5kG,MAAMz+D,EAAKI,GAAQA,IAGvC,OAAOkkL,CACT,CAaAyE,cAAAA,CAAe35G,EAAMpvE,EAAMmQ,EAAOo7B,GAChC,MAAM,OAAC24H,EAAA,OAAQC,GAAU/0F,EACnBk1G,EAAS,IAAI5kL,MAAM6rC,GACzB,IAAIpyC,EAAGgkK,EAAM/8J,EAAO8uE,EAEpB,IAAK/1E,EAAI,EAAGgkK,EAAO5xH,EAAOpyC,EAAIgkK,IAAQhkK,EACpCiH,EAAQjH,EAAIgX,EACZ++D,EAAOlvE,EAAKI,GACZkkL,EAAOnrL,GAAK,CACVqC,EAAG0oK,EAAOzlG,MAAMyQ,EAAK,GAAI9uE,GACzBub,EAAGwoJ,EAAO1lG,MAAMyQ,EAAK,GAAI9uE,IAG7B,OAAOkkL,CACT,CAaA0E,eAAAA,CAAgB55G,EAAMpvE,EAAMmQ,EAAOo7B,GACjC,MAAM,OAAC24H,EAAA,OAAQC,GAAU/0F,GACnB,SAACi6G,EAAW,aAAKC,EAAW,KAAO3+K,KAAK+6K,SACxCpB,EAAS,IAAI5kL,MAAM6rC,GACzB,IAAIpyC,EAAGgkK,EAAM/8J,EAAO8uE,EAEpB,IAAK/1E,EAAI,EAAGgkK,EAAO5xH,EAAOpyC,EAAIgkK,IAAQhkK,EACpCiH,EAAQjH,EAAIgX,EACZ++D,EAAOlvE,EAAKI,GACZkkL,EAAOnrL,GAAK,CACVqC,EAAG0oK,EAAOzlG,MAAMw/F,GAAiB/uF,EAAMm6G,GAAWjpL,GAClDub,EAAGwoJ,EAAO1lG,MAAMw/F,GAAiB/uF,EAAMo6G,GAAWlpL,IAGtD,OAAOkkL,CACT,CAKAiF,SAAAA,CAAUnpL,GACR,OAAOuK,KAAK45K,YAAYjhB,QAAQljK,EAClC,CAKAopL,cAAAA,CAAeppL,GACb,OAAOuK,KAAK45K,YAAYvkL,KAAKI,EAC/B,CAKAkjL,UAAAA,CAAWhZ,EAAOga,EAAQ77J,GACxB,MAAMs/I,EAAQp9J,KAAKo9J,MACb34F,EAAOzkE,KAAK45K,YACZ5mL,EAAQ2mL,EAAOha,EAAM9G,MAK3B,OAAO8f,GAJO,CACZtnK,KAAMknK,GAAwBnb,GAAO,GACrClqE,OAAQymF,EAAOE,QAAQla,EAAM9G,MAAMwhB,eAEZrnL,EAAOyxE,EAAKhvE,MAAO,CAACqoB,QAC/C,CAKAghK,qBAAAA,CAAsB7vK,EAAO0wJ,EAAOga,EAAQpoL,GAC1C,MAAMwtL,EAAcpF,EAAOha,EAAM9G,MACjC,IAAI7lK,EAAwB,OAAhB+rL,EAAuBC,IAAMD,EACzC,MAAM7rF,EAAS3hG,GAASooL,EAAOE,QAAQla,EAAM9G,MACzCtnK,GAAS2hG,IACX3hG,EAAM2hG,OAASA,EACflgG,EAAQ2lL,GAAWpnL,EAAOwtL,EAAa/+K,KAAK45K,YAAYnkL,QAE1DwZ,EAAMiE,IAAM9Z,KAAK8Z,IAAIjE,EAAMiE,IAAKlgB,GAChCic,EAAM+2C,IAAM5sD,KAAK4sD,IAAI/2C,EAAM+2C,IAAKhzD,EAClC,CAKAisL,SAAAA,CAAUtf,EAAOuf,GACf,MAAMz6G,EAAOzkE,KAAK45K,YACZjhB,EAAUl0F,EAAKk0F,QACfwlB,EAAS15G,EAAK+zF,SAAWmH,IAAUl7F,EAAKg0F,OACxCjG,EAAOmG,EAAQrqK,OACf6wL,EAAan/K,KAAKg9K,eAAerd,GACjCpuK,EA7YU6tL,EAACF,EAAUz6G,EAAM24F,IAAU8hB,IAAaz6G,EAAK81E,QAAU91E,EAAKm3G,UAC3E,CAACvqK,KAAMknK,GAAwBnb,GAAO,GAAOlqE,OAAQ,MA4YxCksF,CAAYF,EAAUz6G,EAAMzkE,KAAKo9J,OACzCnuJ,EAAQ,CAACiE,IAAKi5E,OAAO+nE,kBAAmBluG,IAAKmmC,OAAOkzF,oBACnDnsK,IAAKosK,EAAUt5H,IAAKu5H,GAtf/B,SAAuB5f,GACrB,MAAM,IAACzsJ,EAAG,IAAE8yC,EAAG,WAAE8yG,EAAU,WAAEC,GAAc4G,EAAM3G,gBACjD,MAAO,CACL9lJ,IAAK4lJ,EAAa5lJ,EAAMi5E,OAAOkzF,kBAC/Br5H,IAAK+yG,EAAa/yG,EAAMmmC,OAAO+nE,kBAEnC,CAgf2C8E,CAAcmmB,GACrD,IAAI3wL,EAAGmrL,EAEP,SAAS6F,IACP7F,EAAShhB,EAAQnqK,GACjB,MAAMsqL,EAAaa,EAAOwF,EAAWtmB,MACrC,OAAQhH,EAAS8nB,EAAOha,EAAM9G,QAAUymB,EAAWxG,GAAcyG,EAAWzG,CAC9E,CAEA,IAAKtqL,EAAI,EAAGA,EAAIgkK,IACVgtB,MAGJx/K,KAAK8+K,sBAAsB7vK,EAAO0wJ,EAAOga,EAAQpoL,IAC7C4sL,MALkB3vL,GAUxB,GAAI2vL,EAEF,IAAK3vL,EAAIgkK,EAAO,EAAGhkK,GAAK,IAAKA,EAC3B,IAAIgxL,IAAJ,CAGAx/K,KAAK8+K,sBAAsB7vK,EAAO0wJ,EAAOga,EAAQpoL,GACjD,MAGJ,OAAO0d,CACT,CAEAwwK,kBAAAA,CAAmB9f,GACjB,MAAMga,EAAS35K,KAAK45K,YAAYjhB,QAC1BzlE,EAAS,GACf,IAAI1kG,EAAGgkK,EAAMx/J,EAEb,IAAKxE,EAAI,EAAGgkK,EAAOmnB,EAAOrrL,OAAQE,EAAIgkK,IAAQhkK,EAC5CwE,EAAQ2mL,EAAOnrL,GAAGmxK,EAAM9G,MACpBhH,EAAS7+J,IACXkgG,EAAOn9F,KAAK/C,GAGhB,OAAOkgG,CACT,CAMAwsF,cAAAA,GACE,OAAO,CACT,CAKAC,gBAAAA,CAAiBlqL,GACf,MAAMgvE,EAAOzkE,KAAK45K,YACZnhB,EAASh0F,EAAKg0F,OACdC,EAASj0F,EAAKi0F,OACdihB,EAAS35K,KAAK4+K,UAAUnpL,GAC9B,MAAO,CACL2yD,MAAOqwG,EAAS,GAAKA,EAAOmnB,iBAAiBjG,EAAOlhB,EAAOI,OAAS,GACpE7lK,MAAO0lK,EAAS,GAAKA,EAAOknB,iBAAiBjG,EAAOjhB,EAAOG,OAAS,GAExE,CAKAwc,OAAAA,CAAQv3J,GACN,MAAM2mD,EAAOzkE,KAAK45K,YAClB55K,KAAK2W,OAAOmH,GAAQ,WACpB2mD,EAAKo7G,MA1pBT,SAAgB7sL,GACd,IAAI2zD,EAAGlN,EAAG10C,EAAGmmE,EAWb,OATI0mF,EAAS5+J,IACX2zD,EAAI3zD,EAAMkhB,IACVulC,EAAIzmD,EAAMuoE,MACVx2D,EAAI/R,EAAMmuK,OACVj2F,EAAIl4E,EAAMghB,MAEV2yC,EAAIlN,EAAI10C,EAAImmE,EAAIl4E,EAGX,CACLkhB,IAAKyyC,EACL4U,MAAO9hB,EACP0nH,OAAQp8J,EACRiP,KAAMk3D,EACNhpE,UAAoB,IAAVlP,EAEd,CAuoBiB8sL,CAAO9tB,EAAehyJ,KAAK+B,QAAQu/J,KAzqBpD,SAAqB/H,EAAQC,EAAQ8e,GACnC,IAAwB,IAApBA,EACF,OAAO,EAET,MAAMznL,EAAIwnL,GAAU9e,EAAQ+e,GACtBtnK,EAAIqnK,GAAU7e,EAAQ8e,GAE5B,MAAO,CACLpkK,IAAKlD,EAAEvL,IACP81D,MAAO1qE,EAAE4U,IACT07J,OAAQnwJ,EAAExL,MACVwO,KAAMnjB,EAAE2U,MAEZ,CA4pB0Du6K,CAAYt7G,EAAK80F,OAAQ90F,EAAK+0F,OAAQx5J,KAAK0/K,mBACnG,CAKA/oK,MAAAA,CAAOmH,GAAO,CAEd03J,IAAAA,GACE,MAAMnxF,EAAMrkF,KAAK8hK,KACX1E,EAAQp9J,KAAKo9J,MACb34F,EAAOzkE,KAAK45K,YACZlyI,EAAW+8B,EAAKpvE,MAAQ,GACxB4sJ,EAAOmb,EAAM4iB,UACbnf,EAAS,GACTr7J,EAAQxF,KAAKm7K,YAAc,EAC3Bv6I,EAAQ5gC,KAAKo7K,YAAe1zI,EAASp5C,OAASkX,EAC9Cs6J,EAA0B9/J,KAAK+B,QAAQ+9J,wBAC7C,IAAItxK,EAMJ,IAJIi2E,EAAK1sC,SACP0sC,EAAK1sC,QAAQy9I,KAAKnxF,EAAK49D,EAAMz8I,EAAOo7B,GAGjCpyC,EAAIgX,EAAOhX,EAAIgX,EAAQo7B,IAASpyC,EAAG,CACtC,MAAM4S,EAAUsmC,EAASl5C,GACrB4S,EAAQm5I,SAGRn5I,EAAQy/J,QAAUf,EACpBe,EAAO9qK,KAAKqL,GAEZA,EAAQo0K,KAAKnxF,EAAK49D,GAEtB,CAEA,IAAKzzJ,EAAI,EAAGA,EAAIqyK,EAAOvyK,SAAUE,EAC/BqyK,EAAOryK,GAAGgnL,KAAKnxF,EAAK49D,EAExB,CASAgvB,QAAAA,CAASx7K,EAAOorK,GACd,MAAM/iJ,EAAO+iJ,EAAS,SAAW,UACjC,YAAiBttF,IAAV99E,GAAuBuK,KAAK45K,YAAY7hJ,QAC3C/3B,KAAKigL,6BAA6BniK,GAClC9d,KAAKkgL,0BAA0BzqL,GAAS,EAAGqoB,EACjD,CAKA8jE,UAAAA,CAAWnsF,EAAOorK,EAAQ/iJ,GACxB,MAAMia,EAAU/3B,KAAKg8K,aACrB,IAAIllL,EACJ,GAAIrB,GAAS,GAAKA,EAAQuK,KAAK45K,YAAYvkL,KAAK/G,OAAQ,CACtD,MAAM8S,EAAUpB,KAAK45K,YAAYvkL,KAAKI,GACtCqB,EAAUsK,EAAQm6K,WACfn6K,EAAQm6K,SA7jBjB,SAA2BnkK,EAAQ3hB,EAAO2L,GACxC,OAAO6iD,GAAc7sC,EAAQ,CAC3BypJ,QAAQ,EACRvhD,UAAW7pH,EACXkkL,YAAQpmG,EACR7T,SAAK6T,EACLnyE,UACA3L,QACAqoB,KAAM,UACN1tB,KAAM,QAEV,CAkjB4B+vL,CAAkBngL,KAAK4hF,aAAcnsF,EAAO2L,IAClEtK,EAAQ6iL,OAAS35K,KAAK4+K,UAAUnpL,GAChCqB,EAAQ4oE,IAAM3nC,EAAQ1iC,KAAKI,GAC3BqB,EAAQrB,MAAQqB,EAAQwoH,UAAY7pH,OAEpCqB,EAAUkJ,KAAKu7K,WACZv7K,KAAKu7K,SAhlBd,SAA8BnkK,EAAQ3hB,GACpC,OAAOwuD,GAAc7sC,EACnB,CACEypJ,QAAQ,EACR9oI,aAASw7C,EACTm/E,aAAcj9J,EACdA,QACAqoB,KAAM,UACN1tB,KAAM,WAGZ,CAqkByBgwL,CAAqBpgL,KAAKo9J,MAAMx7E,aAAc5hF,KAAKvK,QACtEqB,EAAQihC,QAAUA,EAClBjhC,EAAQrB,MAAQqB,EAAQ47J,aAAe1yJ,KAAKvK,MAK9C,OAFAqB,EAAQ+pK,SAAWA,EACnB/pK,EAAQgnB,KAAOA,EACRhnB,CACT,CAMAmpL,4BAAAA,CAA6BniK,GAC3B,OAAO9d,KAAKqgL,uBAAuBrgL,KAAKy7K,mBAAmBhkJ,GAAI3Z,EACjE,CAOAoiK,yBAAAA,CAA0BzqL,EAAOqoB,GAC/B,OAAO9d,KAAKqgL,uBAAuBrgL,KAAK07K,gBAAgBjkJ,GAAI3Z,EAAMroB,EACpE,CAKA4qL,sBAAAA,CAAuBriK,GAAsC,IAAzBF,EAAAzvB,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAO,UAAWoH,EAAKpH,UAAAC,OAAA,EAAAD,UAAA,QAAAklF,EACzD,MAAMstF,EAAkB,WAAT/iJ,EACToE,EAAQliB,KAAK46K,gBACbje,EAAW3+I,EAAc,IAAMF,EAC/B48J,EAASx4J,EAAMy6I,GACf2jB,EAAUtgL,KAAKq7K,qBAAuBznB,GAAQn+J,GACpD,GAAIilL,EACF,OAAOD,GAAiBC,EAAQ4F,GAElC,MAAMv8H,EAAS/jD,KAAKo9J,MAAMr5G,OACpBg6H,EAAYh6H,EAAOw8H,wBAAwBvgL,KAAK86K,MAAO98J,GACvDnJ,EAAWgsJ,EAAS,CAAC,GAAG7iJ,SAAoB,QAASA,EAAa,IAAM,CAACA,EAAa,IACtF0qJ,EAAS3kH,EAAOk6H,gBAAgBj+K,KAAKg8K,aAAc+B,GACnD7uB,EAAQ/9J,OAAOkgB,KAAKgpH,GAAS3yF,SAAS1pB,IAItCk1E,EAASnvC,EAAOy8H,oBAAoB9X,EAAQxZ,GADlCp4J,IAAMkJ,KAAK4hF,WAAWnsF,EAAOorK,EAAQ/iJ,IACajJ,GAalE,OAXIq+E,EAAO6kF,UAGT7kF,EAAO6kF,QAAUuI,EAKjBp+J,EAAMy6I,GAAYxrK,OAAOwvF,OAAO85F,GAAiBvnF,EAAQotF,KAGpDptF,CACT,CAMAutF,kBAAAA,CAAmBhrL,EAAOigB,EAAYmrJ,GACpC,MAAMzD,EAAQp9J,KAAKo9J,MACbl7I,EAAQliB,KAAK46K,gBACbje,EAAW,aAAajnJ,IACxBglK,EAASx4J,EAAMy6I,GACrB,GAAI+d,EACF,OAAOA,EAET,IAAI34K,EACJ,IAAgC,IAA5Bq7J,EAAMr7J,QAAQ0T,UAAqB,CACrC,MAAMsuC,EAAS/jD,KAAKo9J,MAAMr5G,OACpBg6H,EAAYh6H,EAAO28H,0BAA0B1gL,KAAK86K,MAAOplK,GACzDgzJ,EAAS3kH,EAAOk6H,gBAAgBj+K,KAAKg8K,aAAc+B,GACzDh8K,EAAUgiD,EAAOm6H,eAAexV,EAAQ1oK,KAAK4hF,WAAWnsF,EAAOorK,EAAQnrJ,IAEzE,MAAMqrJ,EAAa,IAAIwW,GAAWna,EAAOr7J,GAAWA,EAAQg/J,YAI5D,OAHIh/J,GAAWA,EAAQ+mK,aACrB5mJ,EAAMy6I,GAAYxrK,OAAOwvF,OAAOogF,IAE3BA,CACT,CAMA4f,gBAAAA,CAAiB5+K,GACf,GAAKA,EAAQg2K,QAGb,OAAO/3K,KAAKk7K,iBAAmBl7K,KAAKk7K,eAAiB/pL,OAAOD,OAAO,CAAC,EAAG6Q,GACzE,CAMA6+K,cAAAA,CAAe9iK,EAAM+iK,GACnB,OAAQA,GAAiBrG,GAAmB18J,IAAS9d,KAAKo9J,MAAM0jB,mBAClE,CAKAC,iBAAAA,CAAkBv7K,EAAOsY,GACvB,MAAMkjK,EAAYhhL,KAAKkgL,0BAA0B16K,EAAOsY,GAClDmjK,EAA0BjhL,KAAKk7K,eAC/B2F,EAAgB7gL,KAAK2gL,iBAAiBK,GACtCJ,EAAiB5gL,KAAK4gL,eAAe9iK,EAAM+iK,IAAmBA,IAAkBI,EAEtF,OADAjhL,KAAKkhL,oBAAoBL,EAAe/iK,EAAMkjK,GACvC,CAACH,gBAAeD,iBACzB,CAMA7iK,aAAAA,CAAc3c,EAAS3L,EAAOmpE,EAAY9gD,GACpC08J,GAAmB18J,GACrB3sB,OAAOD,OAAOkQ,EAASw9D,GAEvB5+D,KAAKygL,mBAAmBhrL,EAAOqoB,GAAMnH,OAAOvV,EAASw9D,EAEzD,CAMAsiH,mBAAAA,CAAoBL,EAAe/iK,EAAMg6J,GACnC+I,IAAkBrG,GAAmB18J,IACvC9d,KAAKygL,wBAAmBltG,EAAWz1D,GAAMnH,OAAOkqK,EAAe/I,EAEnE,CAKAqJ,SAAAA,CAAU//K,EAAS3L,EAAOqoB,EAAM+iJ,GAC9Bz/J,EAAQy/J,OAASA,EACjB,MAAM9+J,EAAU/B,KAAKixK,SAASx7K,EAAOorK,GACrC7gK,KAAKygL,mBAAmBhrL,EAAOqoB,EAAM+iJ,GAAQlqJ,OAAOvV,EAAS,CAG3DW,SAAW8+J,GAAU7gK,KAAK2gL,iBAAiB5+K,IAAaA,GAE5D,CAEAq/K,gBAAAA,CAAiBhgL,EAASsxJ,EAAcj9J,GACtCuK,KAAKmhL,UAAU//K,EAAS3L,EAAO,UAAU,EAC3C,CAEA4rL,aAAAA,CAAcjgL,EAASsxJ,EAAcj9J,GACnCuK,KAAKmhL,UAAU//K,EAAS3L,EAAO,UAAU,EAC3C,CAKA6rL,wBAAAA,GACE,MAAMlgL,EAAUpB,KAAK45K,YAAY7hJ,QAE7B32B,GACFpB,KAAKmhL,UAAU//K,OAASmyE,EAAW,UAAU,EAEjD,CAKAguG,qBAAAA,GACE,MAAMngL,EAAUpB,KAAK45K,YAAY7hJ,QAE7B32B,GACFpB,KAAKmhL,UAAU//K,OAASmyE,EAAW,UAAU,EAEjD,CAKAuqG,eAAAA,CAAgBH,GACd,MAAMtoL,EAAO2K,KAAKg7K,MACZtzI,EAAW1nC,KAAK45K,YAAYvkL,KAGlC,IAAK,MAAOC,EAAQksL,EAAMC,KAASzhL,KAAKw7K,UACtCx7K,KAAK1K,GAAQksL,EAAMC,GAErBzhL,KAAKw7K,UAAY,GAEjB,MAAMkG,EAAUh6I,EAASp5C,OACnBqzL,EAAUtsL,EAAK/G,OACfsyC,EAAQxnC,KAAK8Z,IAAIyuK,EAASD,GAE5B9gJ,GAKF5gC,KAAK8zD,MAAM,EAAGlzB,GAGZ+gJ,EAAUD,EACZ1hL,KAAK4hL,gBAAgBF,EAASC,EAAUD,EAAS/D,GACxCgE,EAAUD,GACnB1hL,KAAK6hL,gBAAgBF,EAASD,EAAUC,EAE5C,CAKAC,eAAAA,CAAgBp8K,EAAOo7B,GAAgC,IAAzB+8I,IAAAtvL,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,KAAAA,UAAA,GAC5B,MAAMo2E,EAAOzkE,KAAK45K,YACZvkL,EAAOovE,EAAKpvE,KACZoQ,EAAMD,EAAQo7B,EACpB,IAAIpyC,EAEJ,MAAMszL,EAAQvX,IAEZ,IADAA,EAAIj8K,QAAUsyC,EACTpyC,EAAI+7K,EAAIj8K,OAAS,EAAGE,GAAKiX,EAAKjX,IACjC+7K,EAAI/7K,GAAK+7K,EAAI/7K,EAAIoyC,EACnB,EAIF,IAFAkhJ,EAAKzsL,GAEA7G,EAAIgX,EAAOhX,EAAIiX,IAAOjX,EACzB6G,EAAK7G,GAAK,IAAIwR,KAAK07K,gBAGjB17K,KAAK+6K,UACP+G,EAAKr9G,EAAKk0F,SAEZ34J,KAAK8zD,MAAMtuD,EAAOo7B,GAEd+8I,GACF39K,KAAK+hL,eAAe1sL,EAAMmQ,EAAOo7B,EAAO,QAE5C,CAEAmhJ,cAAAA,CAAe3gL,EAASoE,EAAOo7B,EAAO9iB,GAAO,CAK7C+jK,eAAAA,CAAgBr8K,EAAOo7B,GACrB,MAAM6jC,EAAOzkE,KAAK45K,YAClB,GAAI55K,KAAK+6K,SAAU,CACjB,MAAMiH,EAAUv9G,EAAKk0F,QAAQj2H,OAAOl9B,EAAOo7B,GACvC6jC,EAAKm3G,UACPrB,GAAY91G,EAAMu9G,GAGtBv9G,EAAKpvE,KAAKqtC,OAAOl9B,EAAOo7B,EAC1B,CAKAqhJ,KAAAA,CAAMhsG,GACJ,GAAIj2E,KAAK+6K,SACP/6K,KAAKw7K,UAAUzlL,KAAKkgF,OACf,CACL,MAAO3gF,EAAQksL,EAAMC,GAAQxrG,EAC7Bj2E,KAAK1K,GAAQksL,EAAMC,GAErBzhL,KAAKo9J,MAAM8kB,aAAansL,KAAK,CAACiK,KAAKvK,SAAUwgF,GAC/C,CAEAksG,WAAAA,GACE,MAAMvhJ,EAAQvyC,UAAUC,OACxB0R,KAAKiiL,MAAM,CAAC,kBAAmBjiL,KAAKg8K,aAAa3mL,KAAK/G,OAASsyC,EAAOA,GACxE,CAEAwhJ,UAAAA,GACEpiL,KAAKiiL,MAAM,CAAC,kBAAmBjiL,KAAK45K,YAAYvkL,KAAK/G,OAAS,EAAG,GACnE,CAEA+zL,YAAAA,GACEriL,KAAKiiL,MAAM,CAAC,kBAAmB,EAAG,GACpC,CAEAK,aAAAA,CAAc98K,EAAOo7B,GACfA,GACF5gC,KAAKiiL,MAAM,CAAC,kBAAmBz8K,EAAOo7B,IAExC,MAAM2hJ,EAAWl0L,UAAUC,OAAS,EAChCi0L,GACFviL,KAAKiiL,MAAM,CAAC,kBAAmBz8K,EAAO+8K,GAE1C,CAEAC,cAAAA,GACExiL,KAAKiiL,MAAM,CAAC,kBAAmB,EAAG5zL,UAAUC,QAC9C,EC9iCa,MAAMm0L,WAAuB9H,GAE1Cr9G,UAAY,OAKZA,gBAAkB,CAChBm+G,mBAAoB,OACpBC,gBAAiB,QAEjB7b,UAAU,EACVjH,UAAU,GAMZt7F,iBAAmB,CACjBsiG,OAAQ,CACN8iB,QAAS,CACPtyL,KAAM,YAERuyL,QAAS,CACPvyL,KAAM,YAKZ61H,UAAAA,GACEjmH,KAAKq7K,qBAAsB,EAC3Br7K,KAAKs7K,oBAAqB,EAC1Bj6F,MAAM4kC,YACR,CAEAtvG,MAAAA,CAAOmH,GACL,MAAM2mD,EAAOzkE,KAAK45K,aACX7hJ,QAASo2B,EAAM94D,KAAMgjK,EAAS,GAAE,SAAEuqB,GAAYn+G,EAE/C6zF,EAAqBt4J,KAAKo9J,MAAM0jB,oBACtC,IAAI,MAACt7K,EAAA,MAAOo7B,GAASw3H,GAAiC3zF,EAAM4zF,EAAQC,GAEpEt4J,KAAKm7K,WAAa31K,EAClBxF,KAAKo7K,WAAax6I,EAEd04H,GAAoB70F,KACtBj/D,EAAQ,EACRo7B,EAAQy3H,EAAO/pK,QAIjB6/D,EAAKslH,OAASzzK,KAAKo9J,MACnBjvG,EAAKylH,cAAgB5zK,KAAKvK,MAC1B04D,EAAK00H,aAAeD,EAASC,WAC7B10H,EAAKkqG,OAASA,EAEd,MAAMt2J,EAAU/B,KAAKigL,6BAA6BniK,GAC7C9d,KAAK+B,QAAQ89J,WAChB99J,EAAQ+iK,YAAc,GAExB/iK,EAAQ4wK,QAAU3yK,KAAK+B,QAAQ4wK,QAC/B3yK,KAAK+d,cAAcowC,OAAMolB,EAAW,CAClCuvG,UAAWxqB,EACXv2J,WACC+b,GAGH9d,KAAK+hL,eAAe1pB,EAAQ7yJ,EAAOo7B,EAAO9iB,EAC5C,CAEAikK,cAAAA,CAAe1pB,EAAQ7yJ,EAAOo7B,EAAO9iB,GACnC,MAAM+lB,EAAiB,UAAT/lB,GACR,OAAC26I,EAAA,OAAQC,EAAA,SAAQkjB,EAAA,SAAUgH,GAAY5iL,KAAK45K,aAC5C,cAACiH,EAAa,eAAED,GAAkB5gL,KAAK+gL,kBAAkBv7K,EAAOsY,GAChEg8J,EAAQrhB,EAAOI,KACfkhB,EAAQrhB,EAAOG,MACf,SAACD,EAAA,QAAU+Z,GAAW3yK,KAAK+B,QAC3BghL,EAAejuB,GAAS8D,GAAYA,EAAWzsE,OAAO+nE,kBACtD8uB,EAAehjL,KAAKo9J,MAAM0jB,qBAAuBj9I,GAAkB,SAAT/lB,EAC1DrY,EAAMD,EAAQo7B,EACdqiJ,EAAc5qB,EAAO/pK,OAC3B,IAAI40L,EAAa19K,EAAQ,GAAKxF,KAAK4+K,UAAUp5K,EAAQ,GAErD,IAAK,IAAIhX,EAAI,EAAGA,EAAIy0L,IAAez0L,EAAG,CACpC,MAAM4qK,EAAQf,EAAO7pK,GACfowE,EAAaokH,EAAe5pB,EAAQ,GAE1C,GAAI5qK,EAAIgX,GAAShX,GAAKiX,EAAK,CACzBm5D,EAAWrH,MAAO,EAClB,SAGF,MAAMoiH,EAAS35K,KAAK4+K,UAAUpwL,GACxB20L,EAAWxxB,EAAcgoB,EAAOI,IAChC5M,EAASvuG,EAAWk7G,GAASrhB,EAAOQ,iBAAiB0gB,EAAOG,GAAQtrL,GACpE4+K,EAASxuG,EAAWm7G,GAASl2I,GAASs/I,EAAWzqB,EAAO0qB,eAAiB1qB,EAAOO,iBAAiB2iB,EAAW57K,KAAK24K,WAAWjgB,EAAQihB,EAAQiC,GAAYjC,EAAOI,GAAQvrL,GAE7KowE,EAAWrH,KAAOrf,MAAMi1H,IAAWj1H,MAAMk1H,IAAW+V,EACpDvkH,EAAWuiD,KAAO3yH,EAAI,GAAK4K,KAAMy3H,IAAI8oD,EAAOG,GAASoJ,EAAWpJ,IAAWiJ,EACvEpQ,IACF/zG,EAAW+6G,OAASA,EACpB/6G,EAAWc,IAAMkjH,EAASvtL,KAAK7G,IAG7BoyL,IACFhiH,EAAW78D,QAAU8+K,GAAiB7gL,KAAKkgL,0BAA0B1xL,EAAG4qK,EAAMyH,OAAS,SAAW/iJ,IAG/FklK,GACHhjL,KAAK+d,cAAcq7I,EAAO5qK,EAAGowE,EAAY9gD,GAG3ColK,EAAavJ,CACf,CACF,CAKA+F,cAAAA,GACE,MAAMj7G,EAAOzkE,KAAK45K,YACZ7hJ,EAAU0sC,EAAK1sC,QACfiqI,EAASjqI,EAAQh2B,SAAWg2B,EAAQh2B,QAAQ+iK,aAAe,EAC3DzvK,EAAOovE,EAAKpvE,MAAQ,GAC1B,IAAKA,EAAK/G,OACR,OAAO0zK,EAET,MAAM4J,EAAav2K,EAAK,GAAGwxB,KAAK7mB,KAAKkgL,0BAA0B,IACzDmD,EAAYhuL,EAAKA,EAAK/G,OAAS,GAAGu4B,KAAK7mB,KAAKkgL,0BAA0B7qL,EAAK/G,OAAS,IAC1F,OAAO8K,KAAK4sD,IAAIg8G,EAAQ4J,EAAYyX,GAAa,CACnD,CAEA7N,IAAAA,GACE,MAAM/wG,EAAOzkE,KAAK45K,YAClBn1G,EAAK1sC,QAAQurJ,oBAAoBtjL,KAAKo9J,MAAM4iB,UAAWv7G,EAAKg0F,OAAOI,MACnEx3E,MAAMm0F,MACR,EC7EF,SAAS+N,KACP,MAAM,IAAIlyL,MAAM,kFAClB,CAQA,MAAMmyL,GAYJ,eAAOx8G,CACLy8G,GAEAtyL,OAAOD,OAAOsyL,GAAgBpxL,UAAWqxL,EAC3C,CAES1hL,QAETlC,WAAAA,CAAYkC,GACV/B,KAAK+B,QAAUA,GAAW,CAAC,CAC7B,CAGA2a,IAAAA,GAAQ,CAERgnK,OAAAA,GACE,OAAOH,IACT,CAEAzvH,KAAAA,GACE,OAAOyvH,IACT,CAEAhzE,MAAAA,GACE,OAAOgzE,IACT,CAEArlL,GAAAA,GACE,OAAOqlL,IACT,CAEA7mC,IAAAA,GACE,OAAO6mC,IACT,CAEAI,OAAAA,GACE,OAAOJ,IACT,CAEAK,KAAAA,GACE,OAAOL,IACT,EAGF,IAAAM,GACSL,GC9GT,SAASM,GAAaC,EAASlrB,EAAM7lK,EAAOqsK,GAC1C,MAAM,WAACt9I,EAAU,KAAE1sB,EAAA,QAAMmjK,GAAWurB,EAC9BtrB,EAAS12I,EAAW63J,YAAYnhB,OAChCG,EAAWmrB,EAAQhsJ,SAAUgsJ,EAAQhsJ,QAAQh2B,QAAUgiL,EAAQhsJ,QAAQh2B,QAAQ62J,SAAkB,KAEvG,GAAIH,GAAUI,IAASJ,EAAOI,MAAiB,MAATA,GAAgBL,GAAWnjK,EAAK/G,OAAQ,CAC5E,MAAM01L,EAAevrB,EAAOwrB,eAAiB7sB,GAAgBF,GAC7D,IAAKmI,EAAW,CACd,MAAMvxI,EAASk2J,EAAa3uL,EAAMwjK,EAAM7lK,GACxC,GAAI4lK,EAAU,CACZ,MAAM,OAACF,GAAU32I,EAAW63J,aACtB,QAACjhB,GAAWorB,EAEZ7qB,EAAuBP,EAC1Bx8J,MAAM,EAAG2xB,EAAOmpI,GAAK,GACrBluE,UACAowE,WACCC,IAAUzH,EAAcyH,EAAMV,EAAOG,SACzC/qI,EAAOmpI,IAAM79J,KAAK4sD,IAAI,EAAGkzG,GAEzB,MAAMG,EAAuBV,EAC1Bx8J,MAAM2xB,EAAOkpI,IACbmC,WACCC,IAAUzH,EAAcyH,EAAMV,EAAOG,SACzC/qI,EAAOkpI,IAAM59J,KAAK4sD,IAAI,EAAGqzG,GAE3B,OAAOvrI,EACF,GAAI/L,EAAWm5J,eAAgB,CAIpC,MAAMnK,EAAK17K,EAAK,GACV4Z,EAA+B,oBAAhB8hK,EAAGmT,UAA2BnT,EAAGmT,SAASrrB,GAC/D,GAAI5pJ,EAAO,CACT,MAAMzJ,EAAQw+K,EAAa3uL,EAAMwjK,EAAM7lK,EAAQic,GACzCxJ,EAAMu+K,EAAa3uL,EAAMwjK,EAAM7lK,EAAQic,GAC7C,MAAO,CAACgoJ,GAAIzxJ,EAAMyxJ,GAAID,GAAIvxJ,EAAIuxJ,MAKpC,MAAO,CAACC,GAAI,EAAGD,GAAI3hK,EAAK/G,OAAS,EACnC,CAUA,SAAS61L,GAAyB/mB,EAAOvE,EAAMlmF,EAAUnyD,EAAS6+I,GAChE,MAAMoZ,EAAWrb,EAAMgnB,+BACjBpxL,EAAQ2/E,EAASkmF,GACvB,IAAK,IAAIrqK,EAAI,EAAGgkK,EAAOimB,EAASnqL,OAAQE,EAAIgkK,IAAQhkK,EAAG,CACrD,MAAM,MAACiH,EAAA,KAAOJ,GAAQojL,EAASjqL,IACzB,GAACyoK,EAAA,GAAID,GAAM8sB,GAAarL,EAASjqL,GAAIqqK,EAAM7lK,EAAOqsK,GACxD,IAAK,IAAI11E,EAAIstE,EAAIttE,GAAKqtE,IAAMrtE,EAAG,CAC7B,MAAMvoF,EAAU/L,EAAKs0F,GAChBvoF,EAAQm2D,MACX/2C,EAAQpf,EAAS3L,EAAOk0F,EAE5B,CACF,CACF,CA2BA,SAAS06F,GAAkBjnB,EAAOzqF,EAAUkmF,EAAMyrB,EAAkBhlB,GAClE,MAAM9+C,EAAQ,GAEd,IAAK8+C,IAAqBlC,EAAMmnB,cAAc5xG,GAC5C,OAAO6tC,EAaT,OADA2jE,GAAyB/mB,EAAOvE,EAAMlmF,GATf,SAASvxE,EAASsxJ,EAAcj9J,IAChD6pK,GAAqB0F,GAAe5jK,EAASg8J,EAAM4iB,UAAW,KAG/D5+K,EAAQojL,QAAQ7xG,EAAS9hF,EAAG8hF,EAAS3hE,EAAGszK,IAC1C9jE,EAAMzqH,KAAK,CAACqL,UAASsxJ,eAAcj9J,SAEvC,IAEgE,GACzD+qH,CACT,CAoCA,SAASikE,GAAyBrnB,EAAOzqF,EAAUkmF,EAAMwG,EAAWilB,EAAkBhlB,GACpF,IAAI9+C,EAAQ,GACZ,MAAMkkE,EA5ER,SAAkC7rB,GAChC,MAAM8rB,GAA8B,IAAvB9rB,EAAKpnK,QAAQ,KACpBmzL,GAA8B,IAAvB/rB,EAAKpnK,QAAQ,KAE1B,OAAO,SAASwkK,EAAKC,GACnB,MAAM9oJ,EAASu3K,EAAOvrL,KAAKy3H,IAAIolC,EAAIplK,EAAIqlK,EAAIrlK,GAAK,EAC1Cyc,EAASs3K,EAAOxrL,KAAKy3H,IAAIolC,EAAIjlJ,EAAIklJ,EAAIllJ,GAAK,EAChD,OAAO5X,KAAKsiH,KAAKtiH,KAAKoxH,IAAIp9G,EAAQ,GAAKhU,KAAKoxH,IAAIl9G,EAAQ,GAC1D,CACF,CAmEyBu3K,CAAyBhsB,GAChD,IAAIisB,EAAc34F,OAAO+nE,kBAyBzB,OADAiwB,GAAyB/mB,EAAOvE,EAAMlmF,GAtBtC,SAAwBvxE,EAASsxJ,EAAcj9J,GAC7C,MAAM+uL,EAAUpjL,EAAQojL,QAAQ7xG,EAAS9hF,EAAG8hF,EAAS3hE,EAAGszK,GACxD,GAAIjlB,IAAcmlB,EAChB,OAGF,MAAMO,EAAS3jL,EAAQ4jL,eAAeV,GAEtC,OADsBhlB,GAAoBlC,EAAMmnB,cAAcQ,MACzCP,EACnB,OAGF,MAAMzuB,EAAW2uB,EAAe/xG,EAAUoyG,GACtChvB,EAAW+uB,GACbtkE,EAAQ,CAAC,CAACp/G,UAASsxJ,eAAcj9J,UACjCqvL,EAAc/uB,GACLA,IAAa+uB,GAEtBtkE,EAAMzqH,KAAK,CAACqL,UAASsxJ,eAAcj9J,SAEvC,IAGO+qH,CACT,CAYA,SAASykE,GAAgB7nB,EAAOzqF,EAAUkmF,EAAMwG,EAAWilB,EAAkBhlB,GAC3E,OAAKA,GAAqBlC,EAAMmnB,cAAc5xG,GAI9B,MAATkmF,GAAiBwG,EAEpBolB,GAAyBrnB,EAAOzqF,EAAUkmF,EAAMwG,EAAWilB,EAAkBhlB,GA1EnF,SAA+BlC,EAAOzqF,EAAUkmF,EAAMyrB,GACpD,IAAI9jE,EAAQ,GAYZ,OADA2jE,GAAyB/mB,EAAOvE,EAAMlmF,GATtC,SAAwBvxE,EAASsxJ,EAAcj9J,GAC7C,MAAM,WAACyvL,EAAA,SAAYC,GAAY/jL,EAAQgkL,SAAS,CAAC,aAAc,YAAad,IACtE,MAACzuB,GAASN,GAAkBn0J,EAAS,CAACvQ,EAAG8hF,EAAS9hF,EAAGmgB,EAAG2hE,EAAS3hE,IAEnEqlJ,GAAcR,EAAOqvB,EAAYC,IACnC3kE,EAAMzqH,KAAK,CAACqL,UAASsxJ,eAAcj9J,SAEvC,IAGO+qH,CACT,CA2DM6kE,CAAsBjoB,EAAOzqF,EAAUkmF,EAAMyrB,GAJxC,EAMX,CAWA,SAASgB,GAAaloB,EAAOzqF,EAAUkmF,EAAMwG,EAAWilB,GACtD,MAAM9jE,EAAQ,GACR+kE,EAAuB,MAAT1sB,EAAe,WAAa,WAChD,IAAI2sB,GAAiB,EAWrB,OATArB,GAAyB/mB,EAAOvE,EAAMlmF,GAAU,CAACvxE,EAASsxJ,EAAcj9J,KAClE2L,EAAQmkL,IAAgBnkL,EAAQmkL,GAAa5yG,EAASkmF,GAAOyrB,KAC/D9jE,EAAMzqH,KAAK,CAACqL,UAASsxJ,eAAcj9J,UACnC+vL,EAAiBA,GAAkBpkL,EAAQojL,QAAQ7xG,EAAS9hF,EAAG8hF,EAAS3hE,EAAGszK,OAM3EjlB,IAAcmmB,EACT,GAEFhlE,CACT,CAMA,IAAAilE,GAAe,CAEbtB,4BAGAuB,MAAO,CAYLjwL,KAAAA,CAAM2nK,EAAOt8J,EAAGiB,EAASuiL,GACvB,MAAM3xG,EAAWg8F,GAAoB7tK,EAAGs8J,GAElCvE,EAAO92J,EAAQ82J,MAAQ,IACvByG,EAAmBv9J,EAAQu9J,mBAAoB,EAC/C9+C,EAAQz+G,EAAQs9J,UAClBglB,GAAkBjnB,EAAOzqF,EAAUkmF,EAAMyrB,EAAkBhlB,GAC3D2lB,GAAgB7nB,EAAOzqF,EAAUkmF,GAAM,EAAOyrB,EAAkBhlB,GAC9D53H,EAAW,GAEjB,OAAK84E,EAAMlyH,QAIX8uK,EAAMgnB,+BAA+B/kK,SAASolD,IAC5C,MAAMhvE,EAAQ+qH,EAAM,GAAG/qH,MACjB2L,EAAUqjE,EAAKpvE,KAAKI,GAGtB2L,IAAYA,EAAQm2D,MACtB7vB,EAAS3xC,KAAK,CAACqL,UAASsxJ,aAAcjuF,EAAKhvE,MAAOA,aAI/CiyC,GAbE,EAcX,EAYA3P,OAAAA,CAAQqlI,EAAOt8J,EAAGiB,EAASuiL,GACzB,MAAM3xG,EAAWg8F,GAAoB7tK,EAAGs8J,GAClCvE,EAAO92J,EAAQ82J,MAAQ,KACvByG,EAAmBv9J,EAAQu9J,mBAAoB,EACrD,IAAI9+C,EAAQz+G,EAAQs9J,UAChBglB,GAAkBjnB,EAAOzqF,EAAUkmF,EAAMyrB,EAAkBhlB,GAC7D2lB,GAAgB7nB,EAAOzqF,EAAUkmF,GAAM,EAAOyrB,EAAkBhlB,GAElE,GAAI9+C,EAAMlyH,OAAS,EAAG,CACpB,MAAMokK,EAAelyC,EAAM,GAAGkyC,aACxBr9J,EAAO+nK,EAAM0f,eAAepqB,GAAcr9J,KAChDmrH,EAAQ,GACR,IAAK,IAAIhyH,EAAI,EAAGA,EAAI6G,EAAK/G,SAAUE,EACjCgyH,EAAMzqH,KAAK,CAACqL,QAAS/L,EAAK7G,GAAIkkK,eAAcj9J,MAAOjH,IAIvD,OAAOgyH,CACT,EAYA44C,MAAK,CAACgE,EAAOt8J,EAAGiB,EAASuiL,IAIhBD,GAAkBjnB,EAHRuR,GAAoB7tK,EAAGs8J,GAC3Br7J,EAAQ82J,MAAQ,KAEmByrB,EADvBviL,EAAQu9J,mBAAoB,GAavDqmB,OAAAA,CAAQvoB,EAAOt8J,EAAGiB,EAASuiL,GACzB,MAAM3xG,EAAWg8F,GAAoB7tK,EAAGs8J,GAClCvE,EAAO92J,EAAQ82J,MAAQ,KACvByG,EAAmBv9J,EAAQu9J,mBAAoB,EACrD,OAAO2lB,GAAgB7nB,EAAOzqF,EAAUkmF,EAAM92J,EAAQs9J,UAAWilB,EAAkBhlB,EACrF,EAWAzuK,EAAC,CAACusK,EAAOt8J,EAAGiB,EAASuiL,IAEZgB,GAAaloB,EADHuR,GAAoB7tK,EAAGs8J,GACH,IAAKr7J,EAAQs9J,UAAWilB,GAY/DtzK,EAAC,CAACosJ,EAAOt8J,EAAGiB,EAASuiL,IAEZgB,GAAaloB,EADHuR,GAAoB7tK,EAAGs8J,GACH,IAAKr7J,EAAQs9J,UAAWilB,KCxXnE,MAAMsB,GAAmB,CAAC,OAAQ,MAAO,QAAS,UAElD,SAASC,GAAiB9+J,EAAO4rD,GAC/B,OAAO5rD,EAAMm8D,QAAOtxB,GAAKA,EAAE7J,MAAQ4qB,GACrC,CAEA,SAASmzG,GAA4B/+J,EAAO8xI,GAC1C,OAAO9xI,EAAMm8D,QAAOtxB,IAA0C,IAArCg0H,GAAiBn0L,QAAQmgE,EAAE7J,MAAe6J,EAAEo9G,IAAInW,OAASA,GACpF,CAEA,SAASktB,GAAah/J,EAAOgiE,GAC3B,OAAOhiE,EAAMi/J,MAAK,CAACxhL,EAAGO,KACpB,MAAM0tJ,EAAK1pE,EAAUhkF,EAAIP,EACnBywF,EAAKlM,EAAUvkF,EAAIO,EACzB,OAAO0tJ,EAAG1sG,SAAWkvC,EAAGlvC,OACtB0sG,EAAGh9J,MAAQw/F,EAAGx/F,MACdg9J,EAAG1sG,OAASkvC,EAAGlvC,MAAM,GAE3B,CAuCA,SAASkgI,GAAcC,EAAS7pH,GAC9B,MAAM88G,EAlBR,SAAqB+M,GACnB,MAAM/M,EAAS,CAAC,EAChB,IAAK,MAAMgN,KAAQD,EAAS,CAC1B,MAAM,MAAC30L,EAAK,IAAEw2D,EAAA,YAAKq+H,GAAeD,EAClC,IAAK50L,IAAUq0L,GAAiBryL,SAASw0D,GACvC,SAEF,MAAMmiH,EAASiP,EAAO5nL,KAAW4nL,EAAO5nL,GAAS,CAACqvC,MAAO,EAAGylJ,OAAQ,EAAGtgI,OAAQ,EAAGl/B,KAAM,IACxFqjJ,EAAOtpI,QACPspI,EAAOnkH,QAAUqgI,CACnB,CACA,OAAOjN,CACT,CAMiBmN,CAAYJ,IACrB,aAACK,EAAA,cAAcC,GAAiBnqH,EACtC,IAAI7tE,EAAGgkK,EAAMi0B,EACb,IAAKj4L,EAAI,EAAGgkK,EAAO0zB,EAAQ53L,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAChDi4L,EAASP,EAAQ13L,GACjB,MAAM,SAACk4L,GAAYD,EAAOzX,IACpBz9K,EAAQ4nL,EAAOsN,EAAOl1L,OACtB+kL,EAAS/kL,GAASk1L,EAAOL,YAAc70L,EAAMw0D,OAC/C0gI,EAAOE,YACTF,EAAOr6K,MAAQkqK,EAASA,EAASiQ,EAAeG,GAAYrqH,EAAOuqH,eACnEH,EAAOp6K,OAASm6K,IAEhBC,EAAOr6K,MAAQm6K,EACfE,EAAOp6K,OAASiqK,EAASA,EAASkQ,EAAgBE,GAAYrqH,EAAOwqH,gBAEzE,CACA,OAAO1N,CACT,CAsBA,SAAS2N,GAAeC,EAAY/G,EAAWx7K,EAAGO,GAChD,OAAO3L,KAAK4sD,IAAI+gI,EAAWviL,GAAIw7K,EAAUx7K,IAAMpL,KAAK4sD,IAAI+gI,EAAWhiL,GAAIi7K,EAAUj7K,GACnF,CAEA,SAASiiL,GAAiBD,EAAYE,GACpCF,EAAW7yK,IAAM9a,KAAK4sD,IAAI+gI,EAAW7yK,IAAK+yK,EAAW/yK,KACrD6yK,EAAW/yK,KAAO5a,KAAK4sD,IAAI+gI,EAAW/yK,KAAMizK,EAAWjzK,MACvD+yK,EAAW5lB,OAAS/nK,KAAK4sD,IAAI+gI,EAAW5lB,OAAQ8lB,EAAW9lB,QAC3D4lB,EAAWxrH,MAAQniE,KAAK4sD,IAAI+gI,EAAWxrH,MAAO0rH,EAAW1rH,MAC3D,CAEA,SAAS2rH,GAAWlH,EAAW3jH,EAAQoqH,EAAQtN,GAC7C,MAAM,IAACpxH,EAAA,IAAKinH,GAAOyX,EACbM,EAAa/G,EAAU+G,WAG7B,IAAKn1B,EAAS7pG,GAAM,CACd0+H,EAAO5/J,OAETm5J,EAAUj4H,IAAQ0+H,EAAO5/J,MAE3B,MAAMt1B,EAAQ4nL,EAAOsN,EAAOl1L,QAAU,CAACs1B,KAAM,EAAG+Z,MAAO,GACvDrvC,EAAMs1B,KAAOztB,KAAK4sD,IAAIz0D,EAAMs1B,KAAM4/J,EAAOE,WAAa3X,EAAI3iK,OAAS2iK,EAAI5iK,OACvEq6K,EAAO5/J,KAAOt1B,EAAMs1B,KAAOt1B,EAAMqvC,MACjCo/I,EAAUj4H,IAAQ0+H,EAAO5/J,KAGvBmoJ,EAAIv0C,YACNusD,GAAiBD,EAAY/X,EAAIv0C,cAGnC,MAAM0sD,EAAW/tL,KAAK4sD,IAAI,EAAGqW,EAAO+qH,WAAaN,GAAeC,EAAY/G,EAAW,OAAQ,UACzFqH,EAAYjuL,KAAK4sD,IAAI,EAAGqW,EAAOirH,YAAcR,GAAeC,EAAY/G,EAAW,MAAO,WAC1FuH,EAAeJ,IAAanH,EAAUpoF,EACtC4vF,EAAgBH,IAAcrH,EAAUnoF,EAK9C,OAJAmoF,EAAUpoF,EAAIuvF,EACdnH,EAAUnoF,EAAIwvF,EAGPZ,EAAOE,WACV,CAACc,KAAMF,EAAcrmH,MAAOsmH,GAC5B,CAACC,KAAMD,EAAetmH,MAAOqmH,EACnC,CAgBA,SAASG,GAAWf,EAAY3G,GAC9B,MAAM+G,EAAa/G,EAAU+G,WAE7B,SAASY,EAAmBlZ,GAC1B,MAAMxJ,EAAS,CAACjxJ,KAAM,EAAGE,IAAK,EAAGqnD,MAAO,EAAG4lG,OAAQ,GAInD,OAHAsN,EAAUpvJ,SAAS0oC,IACjBk9G,EAAOl9G,GAAO3uD,KAAK4sD,IAAIg6H,EAAUj4H,GAAMg/H,EAAWh/H,GAAI,IAEjDk9G,CACT,CAEA,OACI0iB,EADGhB,EACgB,CAAC,OAAQ,SACT,CAAC,MAAO,UACjC,CAEA,SAASiB,GAASC,EAAO7H,EAAW3jH,EAAQ88G,GAC1C,MAAM2O,EAAa,GACnB,IAAIt5L,EAAGgkK,EAAMi0B,EAAQzX,EAAK+Y,EAAOhuB,EAEjC,IAAKvrK,EAAI,EAAGgkK,EAAOq1B,EAAMv5L,OAAQy5L,EAAQ,EAAGv5L,EAAIgkK,IAAQhkK,EAAG,CACzDi4L,EAASoB,EAAMr5L,GACfwgL,EAAMyX,EAAOzX,IAEbA,EAAIr4J,OACF8vK,EAAOr6K,OAAS4zK,EAAUpoF,EAC1B6uF,EAAOp6K,QAAU2zK,EAAUnoF,EAC3B6vF,GAAWjB,EAAOE,WAAY3G,IAEhC,MAAM,KAACyH,EAAA,MAAMvmH,GAASgmH,GAAWlH,EAAW3jH,EAAQoqH,EAAQtN,GAI5D4O,GAASN,GAAQK,EAAWx5L,OAG5ByrK,EAAUA,GAAW74F,EAEhB8tG,EAAI0X,UACPoB,EAAW/xL,KAAK0wL,EAEpB,CAEA,OAAOsB,GAASH,GAASE,EAAY9H,EAAW3jH,EAAQ88G,IAAWpf,CACrE,CAEA,SAASiuB,GAAWhZ,EAAKh7J,EAAME,EAAK9H,EAAOC,GACzC2iK,EAAI96J,IAAMA,EACV86J,EAAIh7J,KAAOA,EACXg7J,EAAIzzG,MAAQvnD,EAAO5H,EACnB4iK,EAAI7N,OAASjtJ,EAAM7H,EACnB2iK,EAAI5iK,MAAQA,EACZ4iK,EAAI3iK,OAASA,CACf,CAEA,SAAS47K,GAAWJ,EAAO7H,EAAW3jH,EAAQ88G,GAC5C,MAAM+O,EAAc7rH,EAAOq+D,QAC3B,IAAI,EAAC7pI,EAAA,EAAGmgB,GAAKgvK,EAEb,IAAK,MAAMyG,KAAUoB,EAAO,CAC1B,MAAM7Y,EAAMyX,EAAOzX,IACbz9K,EAAQ4nL,EAAOsN,EAAOl1L,QAAU,CAACqvC,MAAO,EAAGylJ,OAAQ,EAAGtgI,OAAQ,GAC9DA,EAAS0gI,EAAQL,YAAc70L,EAAMw0D,QAAW,EACtD,GAAI0gI,EAAOE,WAAY,CACrB,MAAMv6K,EAAQ4zK,EAAUpoF,EAAI7xC,EACtB15C,EAAS9a,EAAMs1B,MAAQmoJ,EAAI3iK,OAC7BunJ,GAAQriK,EAAMiU,SAChBwL,EAAIzf,EAAMiU,OAERwpK,EAAI0X,SACNsB,GAAWhZ,EAAKkZ,EAAYl0K,KAAMhD,EAAGqrD,EAAO+qH,WAAac,EAAY3sH,MAAQ2sH,EAAYl0K,KAAM3H,GAE/F27K,GAAWhZ,EAAKgR,EAAUhsK,KAAOziB,EAAM80L,OAAQr1K,EAAG5E,EAAOC,GAE3D9a,EAAMiU,MAAQwL,EACdzf,EAAM80L,QAAUj6K,EAChB4E,EAAIg+J,EAAI7N,WACH,CACL,MAAM90J,EAAS2zK,EAAUnoF,EAAI9xC,EACvB35C,EAAQ7a,EAAMs1B,MAAQmoJ,EAAI5iK,MAC5BwnJ,GAAQriK,EAAMiU,SAChB3U,EAAIU,EAAMiU,OAERwpK,EAAI0X,SACNsB,GAAWhZ,EAAKn+K,EAAGq3L,EAAYh0K,IAAK9H,EAAOiwD,EAAOirH,YAAcY,EAAY/mB,OAAS+mB,EAAYh0K,KAEjG8zK,GAAWhZ,EAAKn+K,EAAGmvL,EAAU9rK,IAAM3iB,EAAM80L,OAAQj6K,EAAOC,GAE1D9a,EAAMiU,MAAQ3U,EACdU,EAAM80L,QAAUh6K,EAChBxb,EAAIm+K,EAAIzzG,MAEZ,CAEAykH,EAAUnvL,EAAIA,EACdmvL,EAAUhvK,EAAIA,CAChB,CAwBA,IAAAk1K,GAAe,CAQbiC,MAAAA,CAAO/qB,EAAO74F,GACP64F,EAAMyqB,QACTzqB,EAAMyqB,MAAQ,IAIhBtjH,EAAKmiH,SAAWniH,EAAKmiH,WAAY,EACjCniH,EAAKoO,SAAWpO,EAAKoO,UAAY,MACjCpO,EAAKxe,OAASwe,EAAKxe,QAAU,EAE7Bwe,EAAK6jH,QAAU7jH,EAAK6jH,SAAW,WAC7B,MAAO,CAAC,CACNhxG,EAAG,EACHo+F,IAAAA,CAAKwK,GACHz7G,EAAKixG,KAAKwK,EACZ,GAEJ,EAEA5iB,EAAMyqB,MAAM9xL,KAAKwuE,EACnB,EAOA8jH,SAAAA,CAAUjrB,EAAOkrB,GACf,MAAM7yL,EAAQ2nK,EAAMyqB,MAAQzqB,EAAMyqB,MAAMp2L,QAAQ62L,IAAe,GAChD,IAAX7yL,GACF2nK,EAAMyqB,MAAMnlJ,OAAOjtC,EAAO,EAE9B,EAQAgiL,SAAAA,CAAUra,EAAO74F,EAAMxiE,GACrBwiE,EAAKmiH,SAAW3kL,EAAQ2kL,SACxBniH,EAAKoO,SAAW5wE,EAAQ4wE,SACxBpO,EAAKxe,OAAShkD,EAAQgkD,MACxB,EAUApvC,MAAAA,CAAOymJ,EAAOhxJ,EAAOC,EAAQk8K,GAC3B,IAAKnrB,EACH,OAGF,MAAM1iC,EAAU0tC,GAAUhL,EAAMr7J,QAAQ0kL,OAAO/rD,SACzCksD,EAAiBxtL,KAAK4sD,IAAI55C,EAAQsuH,EAAQtuH,MAAO,GACjDy6K,EAAkBztL,KAAK4sD,IAAI35C,EAASquH,EAAQruH,OAAQ,GACpDw7K,EA5QV,SAA0BA,GACxB,MAAMW,EA1DR,SAAmBX,GACjB,MAAMW,EAAc,GACpB,IAAIh6L,EAAGgkK,EAAMwc,EAAKjnH,EAAKx2D,EAAO60L,EAE9B,IAAK53L,EAAI,EAAGgkK,GAAQq1B,GAAS,IAAIv5L,OAAQE,EAAIgkK,IAAQhkK,EACnDwgL,EAAM6Y,EAAMr5L,KACVmkF,SAAU5qB,EAAKhmD,SAAUxQ,QAAO60L,cAAc,IAAMpX,GACtDwZ,EAAYzyL,KAAK,CACfN,MAAOjH,EACPwgL,MACAjnH,MACA4+H,WAAY3X,EAAIyZ,eAChB1iI,OAAQipH,EAAIjpH,OACZx0D,MAAOA,GAAUw2D,EAAMx2D,EACvB60L,gBAGJ,OAAOoC,CACT,CAwCsBE,CAAUb,GACxBnB,EAAWX,GAAayC,EAAYtlG,QAAOijG,GAAQA,EAAKnX,IAAI0X,YAAW,GACvE1yK,EAAO+xK,GAAaF,GAAiB2C,EAAa,SAAS,GAC3DjtH,EAAQwqH,GAAaF,GAAiB2C,EAAa,UACnDt0K,EAAM6xK,GAAaF,GAAiB2C,EAAa,QAAQ,GACzDrnB,EAAS4kB,GAAaF,GAAiB2C,EAAa,WACpDG,EAAmB7C,GAA4B0C,EAAa,KAC5DI,EAAiB9C,GAA4B0C,EAAa,KAEhE,MAAO,CACL9B,WACAmC,WAAY70K,EAAK8Y,OAAO5Y,GACxB40K,eAAgBvtH,EAAMzuC,OAAO87J,GAAgB97J,OAAOq0I,GAAQr0I,OAAO67J,GACnE3I,UAAW6F,GAAiB2C,EAAa,aACzCO,SAAU/0K,EAAK8Y,OAAOyuC,GAAOzuC,OAAO87J,GACpCjC,WAAYzyK,EAAI4Y,OAAOq0I,GAAQr0I,OAAO67J,GAE1C,CA0PkBK,CAAiB5rB,EAAMyqB,OAC/BoB,EAAgBpB,EAAMkB,SACtBG,EAAkBrB,EAAMlB,WAI9BhmE,EAAKy8C,EAAMyqB,OAAO7Y,IACgB,oBAArBA,EAAIma,cACbna,EAAIma,kBA+BR,MAAMC,EAA0BH,EAAcpqE,QAAO,CAACrtC,EAAO20G,IAC3DA,EAAKnX,IAAIjtK,UAAwC,IAA7BokL,EAAKnX,IAAIjtK,QAAQyhC,QAAoBguC,EAAQA,EAAQ,GAAG,IAAM,EAE9EnV,EAASlrE,OAAOwvF,OAAO,CAC3BymG,WAAYh7K,EACZk7K,YAAaj7K,EACbquH,UACAksD,iBACAC,kBACAN,aAAcK,EAAiB,EAAIwC,EACnC5C,cAAeK,EAAkB,IAE7BE,EAAa51L,OAAOD,OAAO,CAAC,EAAGwpI,GACrCssD,GAAiBD,EAAY3e,GAAUmgB,IACvC,MAAMvI,EAAY7uL,OAAOD,OAAO,CAC9B61L,aACAnvF,EAAGgvF,EACH/uF,EAAGgvF,EACHh2L,EAAG6pI,EAAQ1mH,KACXhD,EAAG0pH,EAAQxmH,KACVwmH,GAEGy+C,EAAS8M,GAAcgD,EAAcn8J,OAAOo8J,GAAkB7sH,GAGpEurH,GAASC,EAAMnB,SAAU1G,EAAW3jH,EAAQ88G,GAG5CyO,GAASqB,EAAejJ,EAAW3jH,EAAQ88G,GAGvCyO,GAASsB,EAAiBlJ,EAAW3jH,EAAQ88G,IAE/CyO,GAASqB,EAAejJ,EAAW3jH,EAAQ88G,GApRjD,SAA0B6G,GACxB,MAAM+G,EAAa/G,EAAU+G,WAE7B,SAASsC,EAAUthI,GACjB,MAAM6hE,EAASxwH,KAAK4sD,IAAI+gI,EAAWh/H,GAAOi4H,EAAUj4H,GAAM,GAE1D,OADAi4H,EAAUj4H,IAAQ6hE,EACXA,CACT,CACAo2D,EAAUhvK,GAAKq4K,EAAU,OACzBrJ,EAAUnvL,GAAKw4L,EAAU,QACzBA,EAAU,SACVA,EAAU,SACZ,CA2QIC,CAAiBtJ,GAGjBiI,GAAWJ,EAAMgB,WAAY7I,EAAW3jH,EAAQ88G,GAGhD6G,EAAUnvL,GAAKmvL,EAAUpoF,EACzBooF,EAAUhvK,GAAKgvK,EAAUnoF,EAEzBowF,GAAWJ,EAAMiB,eAAgB9I,EAAW3jH,EAAQ88G,GAEpD/b,EAAM4iB,UAAY,CAChBhsK,KAAMgsK,EAAUhsK,KAChBE,IAAK8rK,EAAU9rK,IACfqnD,MAAOykH,EAAUhsK,KAAOgsK,EAAUpoF,EAClCupE,OAAQ6e,EAAU9rK,IAAM8rK,EAAUnoF,EAClCxrF,OAAQ2zK,EAAUnoF,EAClBzrF,MAAO4zK,EAAUpoF,GAInB+oB,EAAKknE,EAAM7H,WAAYyG,IACrB,MAAMzX,EAAMyX,EAAOzX,IACnB79K,OAAOD,OAAO89K,EAAK5R,EAAM4iB,WACzBhR,EAAIr4J,OAAOqpK,EAAUpoF,EAAGooF,EAAUnoF,EAAG,CAAC7jF,KAAM,EAAGE,IAAK,EAAGqnD,MAAO,EAAG4lG,OAAQ,GAAG,GAEhF,GC7ba,MAAMooB,GAOnBC,cAAAA,CAAelxG,EAAQq3F,GAAc,CAQrC8Z,cAAAA,CAAe3yL,GACb,OAAO,CACT,CASAqO,gBAAAA,CAAiBi4J,EAAOhtK,EAAMixB,GAAW,CAQzCjc,mBAAAA,CAAoBg4J,EAAOhtK,EAAMixB,GAAW,CAK5Cs9I,mBAAAA,GACE,OAAO,CACT,CASA6Q,cAAAA,CAAepuK,EAASgL,EAAOC,EAAQsjK,GAGrC,OAFAvjK,EAAQhT,KAAK4sD,IAAI,EAAG55C,GAAShL,EAAQgL,OACrCC,EAASA,GAAUjL,EAAQiL,OACpB,CACLD,QACAC,OAAQjT,KAAK4sD,IAAI,EAAG2pH,EAAcv2K,KAAK0/E,MAAM1sE,EAAQujK,GAAetjK,GAExE,CAMAq9K,UAAAA,CAAWpxG,GACT,OAAO,CACT,CAMAqxG,YAAAA,CAAa5lI,GAEb,ECrEa,MAAM6lI,WAAsBL,GACzCC,cAAAA,CAAejlH,GAIb,OAAOA,GAAQA,EAAKqd,YAAcrd,EAAKqd,WAAW,OAAS,IAC7D,CACA+nG,YAAAA,CAAa5lI,GACXA,EAAOhiD,QAAQ0T,WAAY,CAC7B,ECRF,MAAMo0K,GAAc,WAOdC,GAAc,CAClBC,WAAY,YACZC,UAAW,YACXC,SAAU,UACVC,aAAc,aACdC,YAAa,YACbC,YAAa,YACbC,UAAW,UACXC,aAAc,WACdC,WAAY,YAGRC,GAAgBx3L,GAAmB,OAAVA,GAA4B,KAAVA,EA8DjD,MAAMy3L,KAAuB7Z,IAA+B,CAACv7H,SAAS,GAQtE,SAASq1I,GAAettB,EAAOhtK,EAAMixB,GAC/B+7I,GAASA,EAAM9kF,QACjB8kF,EAAM9kF,OAAOlzE,oBAAoBhV,EAAMixB,EAAUopK,GAErD,CAcA,SAASE,GAAiBC,EAAUtyG,GAClC,IAAK,MAAM5pF,KAAQk8L,EACjB,GAAIl8L,IAAS4pF,GAAU5pF,EAAKsjB,SAASsmE,GACnC,OAAO,CAGb,CAEA,SAASuyG,GAAqBztB,EAAOhtK,EAAMixB,GACzC,MAAMi3D,EAAS8kF,EAAM9kF,OACfwyG,EAAW,IAAIC,kBAAiBlhD,IACpC,IAAImhD,GAAU,EACd,IAAK,MAAMC,KAASphD,EAClBmhD,EAAUA,GAAWL,GAAiBM,EAAMC,WAAY5yG,GACxD0yG,EAAUA,IAAYL,GAAiBM,EAAME,aAAc7yG,GAEzD0yG,GACF3pK,OAIJ,OADAypK,EAAS55C,QAAQ9yI,SAAU,CAACgtL,WAAW,EAAMC,SAAS,IAC/CP,CACT,CAEA,SAASQ,GAAqBluB,EAAOhtK,EAAMixB,GACzC,MAAMi3D,EAAS8kF,EAAM9kF,OACfwyG,EAAW,IAAIC,kBAAiBlhD,IACpC,IAAImhD,GAAU,EACd,IAAK,MAAMC,KAASphD,EAClBmhD,EAAUA,GAAWL,GAAiBM,EAAME,aAAc7yG,GAC1D0yG,EAAUA,IAAYL,GAAiBM,EAAMC,WAAY5yG,GAEvD0yG,GACF3pK,OAIJ,OADAypK,EAAS55C,QAAQ9yI,SAAU,CAACgtL,WAAW,EAAMC,SAAS,IAC/CP,CACT,CAEA,MAAMS,GAAqB,IAAI/tL,IAC/B,IAAIguL,GAAsB,EAE1B,SAASC,KACP,MAAMC,EAAM7vL,OAAO4iK,iBACfitB,IAAQF,KAGZA,GAAsBE,EACtBH,GAAmBlsK,SAAQ,CAACqiF,EAAQ07D,KAC9BA,EAAMkG,0BAA4BooB,GACpChqF,OAGN,CAgBA,SAASiqF,GAAqBvuB,EAAOhtK,EAAMixB,GACzC,MAAMi3D,EAAS8kF,EAAM9kF,OACf5iC,EAAY4iC,GAAU21F,GAAe31F,GAC3C,IAAK5iC,EACH,OAEF,MAAMgsD,EAASk2D,IAAU,CAACxrJ,EAAOC,KAC/B,MAAMurF,EAAIliD,EAAUw6H,YACpB7uJ,EAASjV,EAAOC,GACZurF,EAAIliD,EAAUw6H,aAQhB7uJ,MAEDxlB,QAGGivL,EAAW,IAAIc,gBAAe/hD,IAClC,MAAMohD,EAAQphD,EAAQ,GAChBz9H,EAAQ6+K,EAAMY,YAAYz/K,MAC1BC,EAAS4+K,EAAMY,YAAYx/K,OAInB,IAAVD,GAA0B,IAAXC,GAGnBq1F,EAAOt1F,EAAOC,EAAA,IAKhB,OAHAy+K,EAAS55C,QAAQx7F,GAhDnB,SAAuC0nH,EAAO17D,GACvC6pF,GAAmB1kK,MACtBhrB,OAAOsJ,iBAAiB,SAAUsmL,IAEpCF,GAAmBl5L,IAAI+qK,EAAO17D,EAChC,CA4CEoqF,CAA8B1uB,EAAO17D,GAE9BopF,CACT,CAEA,SAASiB,GAAgB3uB,EAAOhtK,EAAM06L,GAChCA,GACFA,EAASkB,aAEE,WAAT57L,GAnDN,SAAyCgtK,GACvCmuB,GAAmBnsK,OAAOg+I,GACrBmuB,GAAmB1kK,MACtBhrB,OAAOuJ,oBAAoB,SAAUqmL,GAEzC,CA+CIQ,CAAgC7uB,EAEpC,CAEA,SAAS8uB,GAAqB9uB,EAAOhtK,EAAMixB,GACzC,MAAMi3D,EAAS8kF,EAAM9kF,OACftE,EAAQ4jF,IAAW97J,IAIL,OAAdshK,EAAM/4E,KACRhjE,EA1IN,SAAyBvlB,EAAOshK,GAC9B,MAAMhtK,EAAO05L,GAAYhuL,EAAM1L,OAAS0L,EAAM1L,MACxC,EAACS,EAAC,EAAEmgB,GAAK29J,GAAoB7yK,EAAOshK,GAC1C,MAAO,CACLhtK,OACAgtK,QACA+uB,OAAQrwL,EACRjL,OAAS0iF,IAAN1iF,EAAkBA,EAAI,KACzBmgB,OAASuiE,IAANviE,EAAkBA,EAAI,KAE7B,CAgIeo7K,CAAgBtwL,EAAOshK,MAEjCA,GAIH,OA5JF,SAAqB1uK,EAAM0B,EAAMixB,GAC3B3yB,GACFA,EAAKyW,iBAAiB/U,EAAMixB,EAAUopK,GAE1C,CAsJE4B,CAAY/zG,EAAQloF,EAAM4jF,GAEnBA,CACT,CAMe,MAAMs4G,WAAoB/C,GAOvCC,cAAAA,CAAelxG,EAAQq3F,GAIrB,MAAM74K,EAAUwhF,GAAUA,EAAOsJ,YAActJ,EAAOsJ,WAAW,MASjE,OAAI9qF,GAAWA,EAAQwhF,SAAWA,GA/OtC,SAAoBA,EAAQq3F,GAC1B,MAAM7sK,EAAQw1E,EAAOx1E,MAIfypL,EAAej0G,EAAOp+C,aAAa,UACnCsyJ,EAAcl0G,EAAOp+C,aAAa,SAsBxC,GAnBAo+C,EAAOuxG,IAAe,CACpBhvL,QAAS,CACPwR,OAAQkgL,EACRngL,MAAOogL,EACP1pL,MAAO,CACL0gC,QAAS1gC,EAAM0gC,QACfn3B,OAAQvJ,EAAMuJ,OACdD,MAAOtJ,EAAMsJ,SAQnBtJ,EAAM0gC,QAAU1gC,EAAM0gC,SAAW,QAEjC1gC,EAAM+rK,UAAY/rK,EAAM+rK,WAAa,aAEjC2b,GAAcgC,GAAc,CAC9B,MAAMC,EAAe3b,GAAax4F,EAAQ,cACrB/E,IAAjBk5G,IACFn0G,EAAOlsE,MAAQqgL,GAInB,GAAIjC,GAAc+B,GAChB,GAA4B,KAAxBj0G,EAAOx1E,MAAMuJ,OAIfisE,EAAOjsE,OAASisE,EAAOlsE,OAASujK,GAAe,OAC1C,CACL,MAAM+c,EAAgB5b,GAAax4F,EAAQ,eACrB/E,IAAlBm5G,IACFp0G,EAAOjsE,OAASqgL,GAMxB,CAgMMjrG,CAAWnJ,EAAQq3F,GACZ74K,GAGF,IACT,CAKA2yL,cAAAA,CAAe3yL,GACb,MAAMwhF,EAASxhF,EAAQwhF,OACvB,IAAKA,EAAOuxG,IACV,OAAO,EAGT,MAAMhvL,EAAUy9E,EAAOuxG,IAAahvL,QACpC,CAAC,SAAU,SAASwkB,SAASw/C,IAC3B,MAAM7rE,EAAQ6H,EAAQgkE,GAClB8yF,EAAc3+J,GAChBslF,EAAOz5E,gBAAgBggE,GAEvByZ,EAAOt5E,aAAa6/D,EAAM7rE,MAI9B,MAAM8P,EAAQjI,EAAQiI,OAAS,CAAC,EAahC,OAZA3R,OAAOkgB,KAAKvO,GAAOuc,SAAS1T,IAC1B2sE,EAAOx1E,MAAM6I,GAAO7I,EAAM6I,EAAI,IAQhC2sE,EAAOlsE,MAAQksE,EAAOlsE,aAEfksE,EAAOuxG,KACP,CACT,CAQA1kL,gBAAAA,CAAiBi4J,EAAOhtK,EAAMixB,GAE5BrhB,KAAKoF,oBAAoBg4J,EAAOhtK,GAEhC,MAAMu8L,EAAUvvB,EAAMwvB,WAAaxvB,EAAMwvB,SAAW,CAAC,GAM/CpsK,EALW,CACfunB,OAAQ8iJ,GACR/iJ,OAAQwjJ,GACR5pF,OAAQiqF,IAEev7L,IAAS87L,GAClCS,EAAQv8L,GAAQowB,EAAQ48I,EAAOhtK,EAAMixB,EACvC,CAOAjc,mBAAAA,CAAoBg4J,EAAOhtK,GACzB,MAAMu8L,EAAUvvB,EAAMwvB,WAAaxvB,EAAMwvB,SAAW,CAAC,GAC/C54G,EAAQ24G,EAAQv8L,GAEtB,IAAK4jF,EACH,QAGe,CACfjsC,OAAQgkJ,GACRjkJ,OAAQikJ,GACRrqF,OAAQqqF,IAEe37L,IAASs6L,IAC1BttB,EAAOhtK,EAAM4jF,GACrB24G,EAAQv8L,QAAQmjF,CAClB,CAEAorF,mBAAAA,GACE,OAAO9iK,OAAO4iK,gBAChB,CAQA+Q,cAAAA,CAAel3F,EAAQlsE,EAAOC,EAAQsjK,GACpC,OAAOH,GAAel3F,EAAQlsE,EAAOC,EAAQsjK,EAC/C,CAKA+Z,UAAAA,CAAWpxG,GACT,MAAM5iC,EAAY4iC,GAAU21F,GAAe31F,GAC3C,SAAU5iC,IAAaA,EAAUm3I,YACnC,EC9Xa,MAAMC,GAEnBxvH,gBAAkB,CAAC,EACnBA,0BAAO,EAEPzsE,EACAmgB,EACA6vJ,QAAS,EACT9+J,QACAi2K,YAEA+U,eAAAA,CAAgBzI,GACd,MAAM,EAACzzL,EAAA,EAAGmgB,GAAKhR,KAAKolL,SAAS,CAAC,IAAK,KAAMd,GACzC,MAAO,CAACzzL,IAAGmgB,IACb,CAEAg8K,QAAAA,GACE,OAAOl4B,GAAS90J,KAAKnP,IAAMikK,GAAS90J,KAAKgR,EAC3C,CASAo0K,QAAAA,CAAS7gL,EAAiB0oL,GACxB,MAAMhY,EAAQj1K,KAAKg4K,YACnB,IAAKiV,IAAUhY,EAEb,OAAOj1K,KAET,MAAMkpF,EAA+B,CAAC,EAItC,OAHA3kF,EAAM8a,SAASw/C,IACbqqB,EAAIrqB,GAAQo2G,EAAMp2G,IAASo2G,EAAMp2G,GAAMgiG,SAAWoU,EAAMp2G,GAAMm4G,IAAMh3K,KAAK6+D,EAAe,IAEnFqqB,CACT,EC3BK,SAASs5E,GAAS7C,EAAOxC,GAC9B,MAAM+vB,EAAWvtB,EAAM59J,QAAQo7J,MACzBgwB,EA8BR,SAA2BxtB,GACzB,MAAMjuJ,EAASiuJ,EAAM59J,QAAQ2P,OACvBkwJ,EAAajC,EAAMytB,YACnBC,EAAW1tB,EAAM2tB,QAAU1rB,GAAclwJ,EAAS,EAAI,GACtD67K,EAAW5tB,EAAM6tB,WAAa5rB,EACpC,OAAOxoK,KAAK0/E,MAAM1/E,KAAK8Z,IAAIm6K,EAAUE,GACvC,CApC6BE,CAAkB9tB,GACvC+tB,EAAat0L,KAAK8Z,IAAIg6K,EAASS,eAAiBR,EAAoBA,GACpES,EAAeV,EAAStqB,MAAMirB,QAgEtC,SAAyB1wB,GACvB,MAAMrvI,EAAS,GACf,IAAIt/B,EAAGgkK,EACP,IAAKhkK,EAAI,EAAGgkK,EAAO2K,EAAM7uK,OAAQE,EAAIgkK,EAAMhkK,IACrC2uK,EAAM3uK,GAAGo0K,OACX90I,EAAO/3B,KAAKvH,GAGhB,OAAOs/B,CACT,CAzEgDggK,CAAgB3wB,GAAS,GACjE4wB,EAAkBH,EAAat/L,OAC/B2wE,EAAQ2uH,EAAa,GACrB5iK,EAAO4iK,EAAaG,EAAkB,GACtCC,EAAW,GAGjB,GAAID,EAAkBL,EAEpB,OAwEJ,SAAoBvwB,EAAO6wB,EAAUJ,EAAcK,GACjD,IAEIz/L,EAFAoyC,EAAQ,EACRhqB,EAAOg3K,EAAa,GAIxB,IADAK,EAAU70L,KAAK0+F,KAAKm2F,GACfz/L,EAAI,EAAGA,EAAI2uK,EAAM7uK,OAAQE,IACxBA,IAAMooB,IACRo3K,EAASj4L,KAAKonK,EAAM3uK,IACpBoyC,IACAhqB,EAAOg3K,EAAahtJ,EAAQqtJ,GAGlC,CAtFIC,CAAW/wB,EAAO6wB,EAAUJ,EAAcG,EAAkBL,GACrDM,EAGT,MAAMC,EA6BR,SAA0BL,EAAczwB,EAAOuwB,GAC7C,MAAMS,EA6FR,SAAwB5jB,GACtB,MAAM/1G,EAAM+1G,EAAIj8K,OAChB,IAAIE,EAAGkuJ,EAEP,GAAIloF,EAAM,EACR,OAAO,EAGT,IAAKkoF,EAAO6tB,EAAI,GAAI/7K,EAAI,EAAGA,EAAIgmE,IAAOhmE,EACpC,GAAI+7K,EAAI/7K,GAAK+7K,EAAI/7K,EAAI,KAAOkuJ,EAC1B,OAAO,EAGX,OAAOA,CACT,CA3G2B0xC,CAAeR,GAClCK,EAAU9wB,EAAM7uK,OAASo/L,EAI/B,IAAKS,EACH,OAAO/0L,KAAK4sD,IAAIioI,EAAS,GAG3B,MAAMI,E/B/BD,SAAoBr7L,GACzB,MAAM86B,EAAmB,GACnB4tF,EAAOtiH,KAAKsiH,KAAK1oH,GACvB,IAAIxE,EAEJ,IAAKA,EAAI,EAAGA,EAAIktH,EAAMltH,IAChBwE,EAAQxE,IAAM,IAChBs/B,EAAO/3B,KAAKvH,GACZs/B,EAAO/3B,KAAK/C,EAAQxE,IAQxB,OALIktH,KAAiB,EAAPA,IACZ5tF,EAAO/3B,KAAK2lH,GAGd5tF,EAAOk4J,MAAK,CAACxhL,EAAGO,IAAMP,EAAIO,IAAGlP,MACtBi4B,CACT,C+BckBwgK,CAAWH,GAC3B,IAAK,IAAI3/L,EAAI,EAAGgkK,EAAO67B,EAAQ//L,OAAS,EAAGE,EAAIgkK,EAAMhkK,IAAK,CACxD,MAAM8nL,EAAS+X,EAAQ7/L,GACvB,GAAI8nL,EAAS2X,EACX,OAAO3X,CAEX,CACA,OAAOl9K,KAAK4sD,IAAIioI,EAAS,EAC3B,CA/CkBM,CAAiBX,EAAczwB,EAAOuwB,GAEtD,GAAIK,EAAkB,EAAG,CACvB,IAAIv/L,EAAGgkK,EACP,MAAMg8B,EAAkBT,EAAkB,EAAI30L,KAAKg8F,OAAOpqE,EAAOi0C,IAAU8uH,EAAkB,IAAM,KAEnG,IADAx2H,GAAK4lG,EAAO6wB,EAAUC,EAASt8B,EAAc68B,GAAmB,EAAIvvH,EAAQuvH,EAAiBvvH,GACxFzwE,EAAI,EAAGgkK,EAAOu7B,EAAkB,EAAGv/L,EAAIgkK,EAAMhkK,IAChD+oE,GAAK4lG,EAAO6wB,EAAUC,EAASL,EAAap/L,GAAIo/L,EAAap/L,EAAI,IAGnE,OADA+oE,GAAK4lG,EAAO6wB,EAAUC,EAASjjK,EAAM2mI,EAAc68B,GAAmBrxB,EAAM7uK,OAAS08B,EAAOwjK,GACrFR,EAGT,OADAz2H,GAAK4lG,EAAO6wB,EAAUC,GACfD,CACT,CA6EA,SAASz2H,GAAK4lG,EAAO6wB,EAAUC,EAASQ,EAAYC,GAClD,MAAMlpL,EAAQwsJ,EAAey8B,EAAY,GACnChpL,EAAMrM,KAAK8Z,IAAI8+I,EAAe08B,EAAUvxB,EAAM7uK,QAAS6uK,EAAM7uK,QACnE,IACIA,EAAQE,EAAGooB,EADXgqB,EAAQ,EAWZ,IARAqtJ,EAAU70L,KAAK0+F,KAAKm2F,GAChBS,IACFpgM,EAASogM,EAAWD,EACpBR,EAAU3/L,EAAS8K,KAAK0/E,MAAMxqF,EAAS2/L,IAGzCr3K,EAAOpR,EAEAoR,EAAO,GACZgqB,IACAhqB,EAAOxd,KAAKg8F,MAAM5vF,EAAQo7B,EAAQqtJ,GAGpC,IAAKz/L,EAAI4K,KAAK4sD,IAAIxgD,EAAO,GAAIhX,EAAIiX,EAAKjX,IAChCA,IAAMooB,IACRo3K,EAASj4L,KAAKonK,EAAM3uK,IACpBoyC,IACAhqB,EAAOxd,KAAKg8F,MAAM5vF,EAAQo7B,EAAQqtJ,GAGxC,CC7IA,MACMU,GAAiBA,CAAChvB,EAAOivB,EAAMl9K,IAAoB,QAATk9K,GAA2B,SAATA,EAAkBjvB,EAAMivB,GAAQl9K,EAASiuJ,EAAMivB,GAAQl9K,EACnHm9K,GAAgBA,CAACC,EAAanB,IAAkBv0L,KAAK8Z,IAAIy6K,GAAiBmB,EAAaA,GAY7F,SAASl8L,GAAO23K,EAAKwkB,GACnB,MAAMjhK,EAAS,GACTkhK,EAAYzkB,EAAIj8K,OAASygM,EACzBv6H,EAAM+1G,EAAIj8K,OAChB,IAAIE,EAAI,EAER,KAAOA,EAAIgmE,EAAKhmE,GAAKwgM,EACnBlhK,EAAO/3B,KAAKw0K,EAAInxK,KAAK0/E,MAAMtqF,KAE7B,OAAOs/B,CACT,CAOA,SAASmhK,GAAoBtvB,EAAOlqK,EAAOy5L,GACzC,MAAM5gM,EAASqxK,EAAMxC,MAAM7uK,OACrB6gM,EAAa/1L,KAAK8Z,IAAIzd,EAAOnH,EAAS,GACtCkX,EAAQm6J,EAAMyvB,YACd3pL,EAAMk6J,EAAM0vB,UACZ9qE,EAAU,KAChB,IACI7yG,EADA49K,EAAY3vB,EAAM4vB,gBAAgBJ,GAGtC,KAAID,IAEAx9K,EADa,IAAXpjB,EACO8K,KAAK4sD,IAAIspI,EAAY9pL,EAAOC,EAAM6pL,GACxB,IAAV75L,GACCkqK,EAAM4vB,gBAAgB,GAAKD,GAAa,GAExCA,EAAY3vB,EAAM4vB,gBAAgBJ,EAAa,IAAM,EAEjEG,GAAaH,EAAa15L,EAAQic,GAAUA,EAGxC49K,EAAY9pL,EAAQ++G,GAAW+qE,EAAY7pL,EAAM8+G,IAIvD,OAAO+qE,CACT,CAuBA,SAASE,GAAkBztL,GACzB,OAAOA,EAAQ4/J,UAAY5/J,EAAQ6/J,WAAa,CAClD,CAKA,SAAS6tB,GAAe1tL,EAAS41B,GAC/B,IAAK51B,EAAQyhC,QACX,OAAO,EAGT,MAAMo7H,EAAOyJ,GAAOtmK,EAAQ68J,KAAMjnI,GAC5B+iG,EAAU0tC,GAAUrmK,EAAQ24H,SAGlC,OAFc1lI,EAAQ+M,EAAQS,MAAQT,EAAQS,KAAKlU,OAAS,GAE5CswK,EAAKE,WAAcpkC,EAAQruH,MAC7C,CAiBA,SAASqjL,GAAWx3B,EAAOvlF,EAAUoW,GAEnC,IAAIG,EAAM+uE,GAAmBC,GAI7B,OAHInvE,GAAyB,UAAbpW,IAA2BoW,GAAwB,UAAbpW,KACpDuW,EArHkBgvE,IAAoB,SAAVA,EAAmB,QAAoB,UAAVA,EAAoB,OAASA,EAqHhFy3B,CAAazmG,IAEdA,CACT,CAuCe,MAAM0mG,WAAc9C,GAGjCjtL,WAAAA,CAAY42K,GACVp1F,QAGArhF,KAAKy3B,GAAKg/I,EAAIh/I,GAEdz3B,KAAK5P,KAAOqmL,EAAIrmL,KAEhB4P,KAAK+B,aAAUwxE,EAEfvzE,KAAKqkF,IAAMoyF,EAAIpyF,IAEfrkF,KAAKo9J,MAAQqZ,EAAIrZ,MAIjBp9J,KAAKkU,SAAMq/D,EAEXvzE,KAAKmhK,YAAS5tF,EAEdvzE,KAAKgU,UAAOu/D,EAEZvzE,KAAKu7D,WAAQgY,EAEbvzE,KAAKoM,WAAQmnE,EAEbvzE,KAAKqM,YAASknE,EACdvzE,KAAK6vL,SAAW,CACd77K,KAAM,EACNunD,MAAO,EACPrnD,IAAK,EACLitJ,OAAQ,GAGVnhK,KAAKqnK,cAAW9zF,EAEhBvzE,KAAK6vK,eAAYt8F,EAEjBvzE,KAAK8vL,gBAAav8G,EAElBvzE,KAAK+vL,mBAAgBx8G,EAErBvzE,KAAKgwL,iBAAcz8G,EAEnBvzE,KAAKiwL,kBAAe18G,EAIpBvzE,KAAK64J,UAAOtlF,EAEZvzE,KAAKkwL,mBAAgB38G,EACrBvzE,KAAKkT,SAAMqgE,EACXvzE,KAAKgmD,SAAMutB,EACXvzE,KAAKmwL,YAAS58G,EAEdvzE,KAAKm9J,MAAQ,GAEbn9J,KAAKowL,eAAiB,KAEtBpwL,KAAKqwL,YAAc,KAEnBrwL,KAAKswL,YAAc,KACnBtwL,KAAKstL,QAAU,EACfttL,KAAKwtL,WAAa,EAClBxtL,KAAKuwL,kBAAoB,CAAC,EAE1BvwL,KAAKovL,iBAAc77G,EAEnBvzE,KAAKqvL,eAAY97G,EACjBvzE,KAAKikL,gBAAiB,EACtBjkL,KAAKwwL,cAAWj9G,EAChBvzE,KAAKywL,cAAWl9G,EAChBvzE,KAAK0wL,mBAAgBn9G,EACrBvzE,KAAK2wL,mBAAgBp9G,EACrBvzE,KAAK4wL,aAAe,EACpB5wL,KAAK6wL,aAAe,EACpB7wL,KAAK8wL,OAAS,CAAC,EACf9wL,KAAK+wL,mBAAoB,EACzB/wL,KAAKu7K,cAAWhoG,CAClB,CAMA72D,IAAAA,CAAK3a,GACH/B,KAAK+B,QAAUA,EAAQw2E,WAAWv4E,KAAK4hF,cAEvC5hF,KAAK64J,KAAO92J,EAAQ82J,KAGpB74J,KAAKywL,SAAWzwL,KAAK8zD,MAAM/xD,EAAQmR,KACnClT,KAAKwwL,SAAWxwL,KAAK8zD,MAAM/xD,EAAQikD,KACnChmD,KAAK2wL,cAAgB3wL,KAAK8zD,MAAM/xD,EAAQivL,cACxChxL,KAAK0wL,cAAgB1wL,KAAK8zD,MAAM/xD,EAAQkvL,aAC1C,CAQAn9H,KAAAA,CAAM4L,EAAKjqE,GACT,OAAOiqE,CACT,CAOAs5F,aAAAA,GACE,IAAI,SAACy3B,EAAQ,SAAED,EAAQ,cAAEG,EAAA,cAAeD,GAAiB1wL,KAKzD,OAJAywL,EAAW1+B,EAAgB0+B,EAAUtkG,OAAO+nE,mBAC5Cs8B,EAAWz+B,EAAgBy+B,EAAUrkG,OAAOkzF,mBAC5CsR,EAAgB5+B,EAAgB4+B,EAAexkG,OAAO+nE,mBACtDw8B,EAAgB3+B,EAAgB2+B,EAAevkG,OAAOkzF,mBAC/C,CACLnsK,IAAK6+I,EAAgB0+B,EAAUE,GAC/B3qI,IAAK+rG,EAAgBy+B,EAAUE,GAC/B53B,WAAYjH,EAAS4+B,GACrB13B,WAAYlH,EAAS2+B,GAEzB,CAQAvR,SAAAA,CAAUC,GACR,IACIjwK,GADA,IAACiE,EAAA,IAAK8yC,EAAA,WAAK8yG,EAAA,WAAYC,GAAc/4J,KAAKg5J,gBAG9C,GAAIF,GAAcC,EAChB,MAAO,CAAC7lJ,MAAK8yC,OAGf,MAAMkrI,EAAQlxL,KAAKy5K,0BACnB,IAAK,IAAIjrL,EAAI,EAAGgkK,EAAO0+B,EAAM5iM,OAAQE,EAAIgkK,IAAQhkK,EAC/CygB,EAAQiiL,EAAM1iM,GAAGuzB,WAAWk9J,UAAUj/K,KAAMk/K,GACvCpmB,IACH5lJ,EAAM9Z,KAAK8Z,IAAIA,EAAKjE,EAAMiE,MAEvB6lJ,IACH/yG,EAAM5sD,KAAK4sD,IAAIA,EAAK/2C,EAAM+2C,MAQ9B,OAHA9yC,EAAM6lJ,GAAc7lJ,EAAM8yC,EAAMA,EAAM9yC,EACtC8yC,EAAM8yG,GAAc5lJ,EAAM8yC,EAAM9yC,EAAM8yC,EAE/B,CACL9yC,IAAK6+I,EAAgB7+I,EAAK6+I,EAAgB/rG,EAAK9yC,IAC/C8yC,IAAK+rG,EAAgB/rG,EAAK+rG,EAAgB7+I,EAAK8yC,IAEnD,CAOAy0E,UAAAA,GACE,MAAO,CACLzmH,KAAMhU,KAAKgwL,aAAe,EAC1B97K,IAAKlU,KAAK8vL,YAAc,EACxBv0H,MAAOv7D,KAAKiwL,cAAgB,EAC5B9uB,OAAQnhK,KAAK+vL,eAAiB,EAElC,CAOAoB,QAAAA,GACE,OAAOnxL,KAAKm9J,KACd,CAKAqhB,SAAAA,GACE,MAAMnpL,EAAO2K,KAAKo9J,MAAM/nK,KACxB,OAAO2K,KAAK+B,QAAQkxD,SAAWjzD,KAAKyoL,eAAiBpzL,EAAK+7L,QAAU/7L,EAAKg8L,UAAYh8L,EAAK49D,QAAU,EACtG,CAKAq+H,aAAAA,GAAgD,IAAlCtR,EAAY3xL,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAA2R,KAAKo9J,MAAM4iB,UAEnC,OADchgL,KAAKqwL,cAAgBrwL,KAAKqwL,YAAcrwL,KAAKuxL,mBAAmBvR,GAEhF,CAGAmJ,YAAAA,GACEnpL,KAAK8wL,OAAS,CAAC,EACf9wL,KAAK+wL,mBAAoB,CAC3B,CAMAS,YAAAA,GACEvkK,EAAKjtB,KAAK+B,QAAQyvL,aAAc,CAACxxL,MACnC,CAUA2W,MAAAA,CAAO0wJ,EAAUwI,EAAWD,GAC1B,MAAM,YAACxO,EAAW,MAAEG,EAAOpE,MAAO+vB,GAAYltL,KAAK+B,QAC7C0vL,EAAavE,EAASuE,WAG5BzxL,KAAKwxL,eAGLxxL,KAAKqnK,SAAWA,EAChBrnK,KAAK6vK,UAAYA,EACjB7vK,KAAK6vL,SAAWjgB,EAAUz+K,OAAOD,OAAO,CACtC8iB,KAAM,EACNunD,MAAO,EACPrnD,IAAK,EACLitJ,OAAQ,GACPyO,GAEH5vK,KAAKm9J,MAAQ,KACbn9J,KAAKswL,YAAc,KACnBtwL,KAAKowL,eAAiB,KACtBpwL,KAAKqwL,YAAc,KAGnBrwL,KAAK0xL,sBACL1xL,KAAKujG,gBACLvjG,KAAK2xL,qBAEL3xL,KAAKwtL,WAAaxtL,KAAKyoL,eACnBzoL,KAAKoM,MAAQwjK,EAAQ57J,KAAO47J,EAAQr0G,MACpCv7D,KAAKqM,OAASujK,EAAQ17J,IAAM07J,EAAQzO,OAGnCnhK,KAAK+wL,oBACR/wL,KAAK4xL,mBACL5xL,KAAK6xL,sBACL7xL,KAAK8xL,kBACL9xL,KAAKmwL,OpBnPJ,SAAmB4B,EAAuCxwB,EAAwBH,GACvF,MAAM,IAACluJ,EAAA,IAAK8yC,GAAO+rI,EACbnoE,EAASqoC,EAAYsP,GAAQv7G,EAAM9yC,GAAO,GAC1C8+K,EAAWA,CAACh/L,EAAekL,IAAgBkjK,GAAyB,IAAVpuK,EAAc,EAAIA,EAAQkL,EAC1F,MAAO,CACLgV,IAAK8+K,EAAS9+K,GAAM9Z,KAAKy3H,IAAIjH,IAC7B5jE,IAAKgsI,EAAShsI,EAAK4jE,GAEvB,CoB2OoBqoE,CAAUjyL,KAAMuhK,EAAOH,GACrCphK,KAAK+wL,mBAAoB,GAG3B/wL,KAAKkyL,mBAELlyL,KAAKm9J,MAAQn9J,KAAKmyL,cAAgB,GAGlCnyL,KAAKoyL,kBAIL,MAAMC,EAAkBZ,EAAazxL,KAAKm9J,MAAM7uK,OAChD0R,KAAKsyL,sBAAsBD,EAAkBz/L,GAAOoN,KAAKm9J,MAAOs0B,GAAczxL,KAAKm9J,OAMnFn9J,KAAKy3K,YAGLz3K,KAAKuyL,+BACLvyL,KAAKwyL,yBACLxyL,KAAKyyL,8BAGDvF,EAAS1pJ,UAAY0pJ,EAAS1qB,UAAgC,SAApB0qB,EAASp1K,UACrD9X,KAAKm9J,MAAQqF,GAASxiK,KAAMA,KAAKm9J,OACjCn9J,KAAKswL,YAAc,KACnBtwL,KAAK0yL,iBAGHL,GAEFryL,KAAKsyL,sBAAsBtyL,KAAKm9J,OAGlCn9J,KAAK2yL,YACL3yL,KAAK4yL,MACL5yL,KAAK6yL,WAIL7yL,KAAK8yL,aACP,CAKArb,SAAAA,GACE,IACIsb,EAAYC,EADZC,EAAgBjzL,KAAK+B,QAAQgnF,QAG7B/oF,KAAKyoL,gBACPsK,EAAa/yL,KAAKgU,KAClBg/K,EAAWhzL,KAAKu7D,QAEhBw3H,EAAa/yL,KAAKkU,IAClB8+K,EAAWhzL,KAAKmhK,OAEhB8xB,GAAiBA,GAEnBjzL,KAAKovL,YAAc2D,EACnB/yL,KAAKqvL,UAAY2D,EACjBhzL,KAAKikL,eAAiBgP,EACtBjzL,KAAKstL,QAAU0F,EAAWD,EAC1B/yL,KAAKkzL,eAAiBlzL,KAAK+B,QAAQoxL,aACrC,CAEAL,WAAAA,GACE7lK,EAAKjtB,KAAK+B,QAAQ+wL,YAAa,CAAC9yL,MAClC,CAIA0xL,mBAAAA,GACEzkK,EAAKjtB,KAAK+B,QAAQ2vL,oBAAqB,CAAC1xL,MAC1C,CACAujG,aAAAA,GAEMvjG,KAAKyoL,gBAEPzoL,KAAKoM,MAAQpM,KAAKqnK,SAClBrnK,KAAKgU,KAAO,EACZhU,KAAKu7D,MAAQv7D,KAAKoM,QAElBpM,KAAKqM,OAASrM,KAAK6vK,UAGnB7vK,KAAKkU,IAAM,EACXlU,KAAKmhK,OAASnhK,KAAKqM,QAIrBrM,KAAKgwL,YAAc,EACnBhwL,KAAK8vL,WAAa,EAClB9vL,KAAKiwL,aAAe,EACpBjwL,KAAK+vL,cAAgB,CACvB,CACA4B,kBAAAA,GACE1kK,EAAKjtB,KAAK+B,QAAQ4vL,mBAAoB,CAAC3xL,MACzC,CAEAozL,UAAAA,CAAW7iM,GACTyP,KAAKo9J,MAAMi2B,cAAc9iM,EAAMyP,KAAK4hF,cACpC30D,EAAKjtB,KAAK+B,QAAQxR,GAAO,CAACyP,MAC5B,CAGA4xL,gBAAAA,GACE5xL,KAAKozL,WAAW,mBAClB,CACAvB,mBAAAA,GAAuB,CACvBC,eAAAA,GACE9xL,KAAKozL,WAAW,kBAClB,CAGAlB,gBAAAA,GACElyL,KAAKozL,WAAW,mBAClB,CAIAjB,UAAAA,GACE,MAAO,EACT,CACAC,eAAAA,GACEpyL,KAAKozL,WAAW,kBAClB,CAEAE,2BAAAA,GACErmK,EAAKjtB,KAAK+B,QAAQuxL,4BAA6B,CAACtzL,MAClD,CAKAuzL,kBAAAA,CAAmBp2B,GACjB,MAAM+vB,EAAWltL,KAAK+B,QAAQo7J,MAC9B,IAAI3uK,EAAGgkK,EAAM3xC,EACb,IAAKryH,EAAI,EAAGgkK,EAAO2K,EAAM7uK,OAAQE,EAAIgkK,EAAMhkK,IACzCqyH,EAAOs8C,EAAM3uK,GACbqyH,EAAKz4D,MAAQn7B,EAAKigK,EAASjgK,SAAU,CAAC4zF,EAAK7tH,MAAOxE,EAAG2uK,GAAQn9J,KAEjE,CACAwzL,0BAAAA,GACEvmK,EAAKjtB,KAAK+B,QAAQyxL,2BAA4B,CAACxzL,MACjD,CAIAuyL,4BAAAA,GACEtlK,EAAKjtB,KAAK+B,QAAQwwL,6BAA8B,CAACvyL,MACnD,CACAwyL,sBAAAA,GACE,MAAMzwL,EAAU/B,KAAK+B,QACfmrL,EAAWnrL,EAAQo7J,MACnBs2B,EAAW5E,GAAc7uL,KAAKm9J,MAAM7uK,OAAQyT,EAAQo7J,MAAMwwB,eAC1DxrB,EAAc+qB,EAAS/qB,aAAe,EACtCC,EAAc8qB,EAAS9qB,YAC7B,IACIP,EAAWgO,EAAW6jB,EADtBxD,EAAgB/tB,EAGpB,IAAKniK,KAAK2zL,eAAiBzG,EAAS1pJ,SAAW2+H,GAAeC,GAAeqxB,GAAY,IAAMzzL,KAAKyoL,eAElG,YADAzoL,KAAKkwL,cAAgB/tB,GAIvB,MAAMyxB,EAAa5zL,KAAK6zL,iBAClBC,EAAgBF,EAAWG,OAAO3nL,MAClC4nL,EAAiBJ,EAAWK,QAAQ5nL,OAIpCg7J,EAAW1Q,GAAY32J,KAAKo9J,MAAMhxJ,MAAQ0nL,EAAe,EAAG9zL,KAAKqnK,UACvExF,EAAY9/J,EAAQ2P,OAAS1R,KAAKqnK,SAAWosB,EAAWpsB,GAAYosB,EAAW,GAG3EK,EAAgB,EAAIjyB,IACtBA,EAAYwF,GAAYosB,GAAY1xL,EAAQ2P,OAAS,GAAM,IAC3Dm+J,EAAY7vK,KAAK6vK,UAAY2f,GAAkBztL,EAAQy/J,MACvD0rB,EAASxyD,QAAU+0D,GAAe1tL,EAAQs4B,MAAOr6B,KAAKo9J,MAAMr7J,QAAQ68J,MACpE80B,EAAmBt6L,KAAKsiH,KAAKo4E,EAAgBA,EAAgBE,EAAiBA,GAC9E9D,EAAgB96B,GAAUh8J,KAAK8Z,IAC7B9Z,KAAK86L,KAAKv9B,IAAai9B,EAAWK,QAAQ5nL,OAAS,GAAKw1J,GAAY,EAAG,IACvEzoK,KAAK86L,KAAKv9B,GAAYkZ,EAAY6jB,GAAmB,EAAG,IAAMt6L,KAAK86L,KAAKv9B,GAAYq9B,EAAiBN,GAAmB,EAAG,MAE7HxD,EAAgB92L,KAAK4sD,IAAIm8G,EAAa/oK,KAAK8Z,IAAIkvJ,EAAa8tB,KAG9DlwL,KAAKkwL,cAAgBA,CACvB,CACAuC,2BAAAA,GACExlK,EAAKjtB,KAAK+B,QAAQ0wL,4BAA6B,CAACzyL,MAClD,CACA0yL,aAAAA,GAAiB,CAIjBC,SAAAA,GACE1lK,EAAKjtB,KAAK+B,QAAQ4wL,UAAW,CAAC3yL,MAChC,CACA4yL,GAAAA,GAEE,MAAMuB,EAAU,CACd/nL,MAAO,EACPC,OAAQ,IAGJ,MAAC+wJ,EAAOr7J,SAAUo7J,MAAO+vB,EAAU7yJ,MAAO+5J,EAAW5yB,KAAM6yB,IAAar0L,KACxEwjC,EAAUxjC,KAAK2zL,aACflL,EAAezoL,KAAKyoL,eAE1B,GAAIjlJ,EAAS,CACX,MAAM8wJ,EAAc7E,GAAe2E,EAAWh3B,EAAMr7J,QAAQ68J,MAU5D,GATI6pB,GACF0L,EAAQ/nL,MAAQpM,KAAKqnK,SACrB8sB,EAAQ9nL,OAASmjL,GAAkB6E,GAAYC,IAE/CH,EAAQ9nL,OAASrM,KAAK6vK,UACtBskB,EAAQ/nL,MAAQojL,GAAkB6E,GAAYC,GAI5CpH,EAAS1pJ,SAAWxjC,KAAKm9J,MAAM7uK,OAAQ,CACzC,MAAM,MAAC2wE,EAAA,KAAOj0C,EAAA,OAAM+oK,EAAA,QAAQE,GAAWj0L,KAAK6zL,iBACtCU,EAAiC,EAAnBrH,EAASxyD,QACvB85D,EAAet/B,GAAUl1J,KAAKkwL,eAC9B/0B,EAAM/hK,KAAK+hK,IAAIq5B,GACft6B,EAAM9gK,KAAK8gK,IAAIs6B,GAErB,GAAI/L,EAAc,CAEhB,MAAMgM,EAAcvH,EAAS7qB,OAAS,EAAInI,EAAM65B,EAAO3nL,MAAQ+uJ,EAAM84B,EAAQ5nL,OAC7E8nL,EAAQ9nL,OAASjT,KAAK8Z,IAAIlT,KAAK6vK,UAAWskB,EAAQ9nL,OAASooL,EAAcF,OACpE,CAGL,MAAMG,EAAaxH,EAAS7qB,OAAS,EAAIlH,EAAM44B,EAAO3nL,MAAQ8tJ,EAAM+5B,EAAQ5nL,OAE5E8nL,EAAQ/nL,MAAQhT,KAAK8Z,IAAIlT,KAAKqnK,SAAU8sB,EAAQ/nL,MAAQsoL,EAAaH,GAEvEv0L,KAAK20L,kBAAkB11H,EAAOj0C,EAAMkvI,EAAKiB,IAI7Cn7J,KAAK40L,iBAEDnM,GACFzoL,KAAKoM,MAAQpM,KAAKstL,QAAUlwB,EAAMhxJ,MAAQpM,KAAK6vL,SAAS77K,KAAOhU,KAAK6vL,SAASt0H,MAC7Ev7D,KAAKqM,OAAS8nL,EAAQ9nL,SAEtBrM,KAAKoM,MAAQ+nL,EAAQ/nL,MACrBpM,KAAKqM,OAASrM,KAAKstL,QAAUlwB,EAAM/wJ,OAASrM,KAAK6vL,SAAS37K,IAAMlU,KAAK6vL,SAAS1uB,OAElF,CAEAwzB,iBAAAA,CAAkB11H,EAAOj0C,EAAMkvI,EAAKiB,GAClC,MAAOgC,OAAO,MAACjF,EAAA,QAAOx9B,GAAQ,SAAE/nD,GAAY3yE,KAAK+B,QAC3C8yL,EAAmC,IAAvB70L,KAAKkwL,cACjB4E,EAAgC,QAAbniH,GAAoC,MAAd3yE,KAAK64J,KAEpD,GAAI74J,KAAKyoL,eAAgB,CACvB,MAAMsM,EAAa/0L,KAAKuvL,gBAAgB,GAAKvvL,KAAKgU,KAC5CghL,EAAch1L,KAAKu7D,MAAQv7D,KAAKuvL,gBAAgBvvL,KAAKm9J,MAAM7uK,OAAS,GAC1E,IAAI0hM,EAAc,EACdC,EAAe,EAIf4E,EACEC,GACF9E,EAAc70B,EAAMl8F,EAAM7yD,MAC1B6jL,EAAe/1B,EAAMlvI,EAAK3e,SAE1B2jL,EAAc91B,EAAMj7F,EAAM5yD,OAC1B4jL,EAAe90B,EAAMnwI,EAAK5e,OAET,UAAV8rJ,EACT+3B,EAAejlK,EAAK5e,MACD,QAAV8rJ,EACT83B,EAAc/wH,EAAM7yD,MACD,UAAV8rJ,IACT83B,EAAc/wH,EAAM7yD,MAAQ,EAC5B6jL,EAAejlK,EAAK5e,MAAQ,GAI9BpM,KAAKgwL,YAAc52L,KAAK4sD,KAAKgqI,EAAc+E,EAAar6D,GAAW16H,KAAKoM,OAASpM,KAAKoM,MAAQ2oL,GAAa,GAC3G/0L,KAAKiwL,aAAe72L,KAAK4sD,KAAKiqI,EAAe+E,EAAct6D,GAAW16H,KAAKoM,OAASpM,KAAKoM,MAAQ4oL,GAAc,OAC1G,CACL,IAAIlF,EAAa9kK,EAAK3e,OAAS,EAC3B0jL,EAAgB9wH,EAAM5yD,OAAS,EAErB,UAAV6rJ,GACF43B,EAAa,EACbC,EAAgB9wH,EAAM5yD,QACH,QAAV6rJ,IACT43B,EAAa9kK,EAAK3e,OAClB0jL,EAAgB,GAGlB/vL,KAAK8vL,WAAaA,EAAap1D,EAC/B16H,KAAK+vL,cAAgBA,EAAgBr1D,EAEzC,CAMAk6D,cAAAA,GACM50L,KAAK6vL,WACP7vL,KAAK6vL,SAAS77K,KAAO5a,KAAK4sD,IAAIhmD,KAAKgwL,YAAahwL,KAAK6vL,SAAS77K,MAC9DhU,KAAK6vL,SAAS37K,IAAM9a,KAAK4sD,IAAIhmD,KAAK8vL,WAAY9vL,KAAK6vL,SAAS37K,KAC5DlU,KAAK6vL,SAASt0H,MAAQniE,KAAK4sD,IAAIhmD,KAAKiwL,aAAcjwL,KAAK6vL,SAASt0H,OAChEv7D,KAAK6vL,SAAS1uB,OAAS/nK,KAAK4sD,IAAIhmD,KAAK+vL,cAAe/vL,KAAK6vL,SAAS1uB,QAEtE,CAEA0xB,QAAAA,GACE5lK,EAAKjtB,KAAK+B,QAAQ8wL,SAAU,CAAC7yL,MAC/B,CAMAyoL,YAAAA,GACE,MAAM,KAAC5vB,EAAA,SAAMlmF,GAAY3yE,KAAK+B,QAC9B,MAAoB,QAAb4wE,GAAmC,WAAbA,GAAkC,MAATkmF,CACxD,CAIAo8B,UAAAA,GACE,OAAOj1L,KAAK+B,QAAQ2kL,QACtB,CAMA4L,qBAAAA,CAAsBn1B,GAMpB,IAAI3uK,EAAGgkK,EACP,IANAxyJ,KAAKszL,8BAELtzL,KAAKuzL,mBAAmBp2B,GAInB3uK,EAAI,EAAGgkK,EAAO2K,EAAM7uK,OAAQE,EAAIgkK,EAAMhkK,IACrCmjK,EAAcwL,EAAM3uK,GAAG45D,SACzB+0G,EAAMz6H,OAAOl0C,EAAG,GAChBgkK,IACAhkK,KAIJwR,KAAKwzL,4BACP,CAMAK,cAAAA,GACE,IAAID,EAAa5zL,KAAKswL,YAEtB,IAAKsD,EAAY,CACf,MAAMnC,EAAazxL,KAAK+B,QAAQo7J,MAAMs0B,WACtC,IAAIt0B,EAAQn9J,KAAKm9J,MACbs0B,EAAat0B,EAAM7uK,SACrB6uK,EAAQvqK,GAAOuqK,EAAOs0B,IAGxBzxL,KAAKswL,YAAcsD,EAAa5zL,KAAKk1L,mBAAmB/3B,EAAOA,EAAM7uK,OAAQ0R,KAAK+B,QAAQo7J,MAAMwwB,eAGlG,OAAOiG,CACT,CAQAsB,kBAAAA,CAAmB/3B,EAAO7uK,EAAQq/L,GAChC,MAAM,IAACtpG,EAAKksG,kBAAmB10I,GAAU77C,KACnCm1L,EAAS,GACTC,EAAU,GACVpG,EAAY51L,KAAK0/E,MAAMxqF,EAASugM,GAAcvgM,EAAQq/L,IAC5D,IAEIn/L,EAAGm7F,EAAG0rG,EAAMjtI,EAAOktI,EAAUC,EAAYrzK,EAAO48I,EAAY1yJ,EAAOC,EAAQmpL,EAF3EC,EAAkB,EAClBC,EAAmB,EAGvB,IAAKlnM,EAAI,EAAGA,EAAIF,EAAQE,GAAKwgM,EAAW,CAQtC,GAPA5mI,EAAQ+0G,EAAM3uK,GAAG45D,MACjBktI,EAAWt1L,KAAK21L,wBAAwBnnM,GACxC61F,EAAIu6E,KAAO22B,EAAaD,EAASlsI,OACjClnC,EAAQ25B,EAAO05I,GAAc15I,EAAO05I,IAAe,CAAClgM,KAAM,CAAC,EAAG6zE,GAAI,IAClE41F,EAAaw2B,EAASx2B,WACtB1yJ,EAAQC,EAAS,EAEZslJ,EAAcvpG,IAAWpzD,EAAQozD,IAG/B,GAAIpzD,EAAQozD,GAEjB,IAAKuhC,EAAI,EAAG0rG,EAAOjtI,EAAM95D,OAAQq7F,EAAI0rG,IAAQ1rG,EAC3C6rG,EAAqCptI,EAAMuhC,GAEtCgoE,EAAc6jC,IAAiBxgM,EAAQwgM,KAC1CppL,EAAQ62J,GAAa5+E,EAAKniE,EAAM7sB,KAAM6sB,EAAMgnD,GAAI98D,EAAOopL,GACvDnpL,GAAUyyJ,QATd1yJ,EAAQ62J,GAAa5+E,EAAKniE,EAAM7sB,KAAM6sB,EAAMgnD,GAAI98D,EAAOg8C,GACvD/7C,EAASyyJ,EAYXq2B,EAAOp/L,KAAKqW,GACZgpL,EAAQr/L,KAAKsW,GACbopL,EAAkBr8L,KAAK4sD,IAAI55C,EAAOqpL,GAClCC,EAAmBt8L,KAAK4sD,IAAI35C,EAAQqpL,EACtC,EA/wBJ,SAAwB75I,EAAQvtD,GAC9BqyH,EAAK9kE,GAAS35B,IACZ,MAAMgnD,EAAKhnD,EAAMgnD,GACX0sH,EAAQ1sH,EAAG56E,OAAS,EAC1B,IAAIE,EACJ,GAAIonM,EAAQtnM,EAAQ,CAClB,IAAKE,EAAI,EAAGA,EAAIonM,IAASpnM,SAChB0zB,EAAM7sB,KAAK6zE,EAAG16E,IAEvB06E,EAAGxmC,OAAO,EAAGkzJ,MAGnB,CAowBIC,CAAeh6I,EAAQvtD,GAEvB,MAAMylM,EAASoB,EAAO1jM,QAAQgkM,GACxBxB,EAAUmB,EAAQ3jM,QAAQikM,GAE1BI,EAAW/hF,IAAA,CAAU3nG,MAAO+oL,EAAOphF,IAAQ,EAAG1nG,OAAQ+oL,EAAQrhF,IAAQ,IAE5E,MAAO,CACL90C,MAAO62H,EAAQ,GACf9qK,KAAM8qK,EAAQxnM,EAAS,GACvBylM,OAAQ+B,EAAQ/B,GAChBE,QAAS6B,EAAQ7B,GACjBkB,SACAC,UAEJ,CAOAxV,gBAAAA,CAAiB5sL,GACf,OAAOA,CACT,CASAimK,gBAAAA,CAAiBjmK,EAAOyC,GACtB,OAAOupL,GACT,CAQA+W,gBAAAA,CAAiBpxG,GAAQ,CAQzB4qG,eAAAA,CAAgB95L,GACd,MAAM0nK,EAAQn9J,KAAKm9J,MACnB,OAAI1nK,EAAQ,GAAKA,EAAQ0nK,EAAM7uK,OAAS,EAC/B,KAEF0R,KAAKi5J,iBAAiBkE,EAAM1nK,GAAOzC,MAC5C,CAQAgjM,kBAAAA,CAAmBC,GACbj2L,KAAKikL,iBACPgS,EAAU,EAAIA,GAGhB,MAAMtxG,EAAQ3kF,KAAKovL,YAAc6G,EAAUj2L,KAAKstL,QAChD,OhC5tBG,SAAqBt6L,GAC1B,OAAO2jK,GAAY3jK,GAAQ,MAAO,MACpC,CgC0tBWkjM,CAAYl2L,KAAKkzL,eAAiB7vB,GAAYrjK,KAAKo9J,MAAOz4E,EAAO,GAAKA,EAC/E,CAMAwxG,kBAAAA,CAAmBxxG,GACjB,MAAMsxG,GAAWtxG,EAAQ3kF,KAAKovL,aAAepvL,KAAKstL,QAClD,OAAOttL,KAAKikL,eAAiB,EAAIgS,EAAUA,CAC7C,CAOA7S,YAAAA,GACE,OAAOpjL,KAAKi5J,iBAAiBj5J,KAAKo2L,eACpC,CAKAA,YAAAA,GACE,MAAM,IAACljL,EAAG,IAAE8yC,GAAOhmD,KAEnB,OAAOkT,EAAM,GAAK8yC,EAAM,EAAIA,EAC1B9yC,EAAM,GAAK8yC,EAAM,EAAI9yC,EACrB,CACJ,CAKA0uE,UAAAA,CAAWnsF,GACT,MAAM0nK,EAAQn9J,KAAKm9J,OAAS,GAE5B,GAAI1nK,GAAS,GAAKA,EAAQ0nK,EAAM7uK,OAAQ,CACtC,MAAMuyH,EAAOs8C,EAAM1nK,GACnB,OAAOorH,EAAK06D,WACb16D,EAAK06D,SAr1BV,SAA2BnkK,EAAQ3hB,EAAOorH,GACxC,OAAO58D,GAAc7sC,EAAQ,CAC3BypG,OACAprH,QACArF,KAAM,QAEV,CA+0BqBimM,CAAkBr2L,KAAK4hF,aAAcnsF,EAAOorH,IAE7D,OAAO7gH,KAAKu7K,WACZv7K,KAAKu7K,SA91BAt3H,GA81B8BjkD,KAAKo9J,MAAMx7E,aA91BnB,CAC3B+9E,MA61B4D3/J,KA51B5D5P,KAAM,UA61BR,CAMAg9L,SAAAA,GACE,MAAMkJ,EAAct2L,KAAK+B,QAAQo7J,MAG3Bo5B,EAAMrhC,GAAUl1J,KAAKkwL,eACrB/0B,EAAM/hK,KAAKy3H,IAAIz3H,KAAK+hK,IAAIo7B,IACxBr8B,EAAM9gK,KAAKy3H,IAAIz3H,KAAK8gK,IAAIq8B,IAExB3C,EAAa5zL,KAAK6zL,iBAClBn5D,EAAU47D,EAAY7zB,iBAAmB,EACzC7qE,EAAIg8F,EAAaA,EAAWG,OAAO3nL,MAAQsuH,EAAU,EACrD7iC,EAAI+7F,EAAaA,EAAWK,QAAQ5nL,OAASquH,EAAU,EAG7D,OAAO16H,KAAKyoL,eACR5wF,EAAIsjE,EAAMvjE,EAAIsiE,EAAMtiE,EAAIujE,EAAMtjE,EAAIqiE,EAClCriE,EAAIqiE,EAAMtiE,EAAIujE,EAAMtjE,EAAIsjE,EAAMvjE,EAAIsiE,CACxC,CAMAy5B,UAAAA,GACE,MAAMnwJ,EAAUxjC,KAAK+B,QAAQyhC,QAE7B,MAAgB,SAAZA,IACOA,EAGJxjC,KAAKy5K,0BAA0BnrL,OAAS,CACjD,CAKAkoM,qBAAAA,CAAsBxW,GACpB,MAAMnnB,EAAO74J,KAAK64J,KACZuE,EAAQp9J,KAAKo9J,MACbr7J,EAAU/B,KAAK+B,SACf,KAACy/J,EAAI,SAAE7uF,EAAA,OAAUqvF,GAAUjgK,EAC3B2P,EAAS8vJ,EAAK9vJ,OACd+2K,EAAezoL,KAAKyoL,eAEpBqG,EADQ9uL,KAAKm9J,MACO7uK,QAAUojB,EAAS,EAAI,GAC3C+kL,EAAKjH,GAAkBhuB,GACvBhhD,EAAQ,GAERk2E,EAAa10B,EAAOzpF,WAAWv4E,KAAK4hF,cACpC+0G,EAAYD,EAAWlzJ,QAAUkzJ,EAAWtqL,MAAQ,EACpDwqL,EAAgBD,EAAY,EAC5BE,EAAmB,SAASlyG,GAChC,OAAO0+E,GAAYjG,EAAOz4E,EAAOgyG,EACnC,EACA,IAAIG,EAAatoM,EAAG8gM,EAAWyH,EAC3BC,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,EAAIC,EAAIC,EAEpC,GAAiB,QAAb5kH,EACFmkH,EAAcD,EAAiB72L,KAAKmhK,QACpC81B,EAAMj3L,KAAKmhK,OAASs1B,EACpBU,EAAML,EAAcF,EACpBS,EAAKR,EAAiB7W,EAAU9rK,KAAO0iL,EACvCW,EAAKvX,EAAU7e,YACV,GAAiB,WAAbxuF,EACTmkH,EAAcD,EAAiB72L,KAAKkU,KACpCmjL,EAAKrX,EAAU9rK,IACfqjL,EAAKV,EAAiB7W,EAAU7e,QAAUy1B,EAC1CK,EAAMH,EAAcF,EACpBO,EAAMn3L,KAAKkU,IAAMuiL,OACZ,GAAiB,SAAb9jH,EACTmkH,EAAcD,EAAiB72L,KAAKu7D,OACpCy7H,EAAMh3L,KAAKu7D,MAAQk7H,EACnBS,EAAMJ,EAAcF,EACpBQ,EAAKP,EAAiB7W,EAAUhsK,MAAQ4iL,EACxCU,EAAKtX,EAAUzkH,WACV,GAAiB,UAAboX,EACTmkH,EAAcD,EAAiB72L,KAAKgU,MACpCojL,EAAKpX,EAAUhsK,KACfsjL,EAAKT,EAAiB7W,EAAUzkH,OAASq7H,EACzCI,EAAMF,EAAcF,EACpBM,EAAMl3L,KAAKgU,KAAOyiL,OACb,GAAa,MAAT59B,EAAc,CACvB,GAAiB,WAAblmF,EACFmkH,EAAcD,GAAkB7W,EAAU9rK,IAAM8rK,EAAU7e,QAAU,EAAI,SACnE,GAAIvP,EAASj/E,GAAW,CAC7B,MAAM6kH,EAAiBrmM,OAAOkgB,KAAKshE,GAAU,GACvC3/E,EAAQ2/E,EAAS6kH,GACvBV,EAAcD,EAAiB72L,KAAKo9J,MAAMwC,OAAO43B,GAAgBv+B,iBAAiBjmK,IAGpFqkM,EAAKrX,EAAU9rK,IACfqjL,EAAKvX,EAAU7e,OACf81B,EAAMH,EAAcF,EACpBO,EAAMF,EAAMR,OACP,GAAa,MAAT59B,EAAc,CACvB,GAAiB,WAAblmF,EACFmkH,EAAcD,GAAkB7W,EAAUhsK,KAAOgsK,EAAUzkH,OAAS,QAC/D,GAAIq2F,EAASj/E,GAAW,CAC7B,MAAM6kH,EAAiBrmM,OAAOkgB,KAAKshE,GAAU,GACvC3/E,EAAQ2/E,EAAS6kH,GACvBV,EAAcD,EAAiB72L,KAAKo9J,MAAMwC,OAAO43B,GAAgBv+B,iBAAiBjmK,IAGpFgkM,EAAMF,EAAcF,EACpBM,EAAMF,EAAMP,EACZW,EAAKpX,EAAUhsK,KACfsjL,EAAKtX,EAAUzkH,MAGjB,MAAMskD,EAAQmyC,EAAejwJ,EAAQo7J,MAAMwwB,cAAemB,GACpDvvK,EAAOnmB,KAAK4sD,IAAI,EAAG5sD,KAAK0+F,KAAKg3F,EAAcjvE,IACjD,IAAKrxH,EAAI,EAAGA,EAAIsgM,EAAatgM,GAAK+wB,EAAM,CACtC,MAAMzoB,EAAUkJ,KAAK4hF,WAAWpzF,GAC1BipM,EAAcj2B,EAAKjpF,WAAWzhF,GAC9B4gM,EAAoB11B,EAAOzpF,WAAWzhF,GAEtC2qK,EAAYg2B,EAAYh2B,UACxBk2B,EAAYF,EAAY/oL,MACxB6lK,EAAamjB,EAAkBz1B,MAAQ,GACvCuS,EAAmBkjB,EAAkBx1B,WAErCL,EAAY41B,EAAY51B,UACxBE,EAAY01B,EAAY11B,UACxB61B,EAAiBH,EAAYG,gBAAkB,GAC/CC,EAAuBJ,EAAYI,qBAEzCvI,EAAYL,GAAoBjvL,KAAMxR,EAAGkjB,QAGvB6hE,IAAd+7G,IAIJyH,EAAmB1zB,GAAYjG,EAAOkyB,EAAW7tB,GAE7CgnB,EACFuO,EAAME,EAAME,EAAKE,EAAKP,EAEtBE,EAAME,EAAME,EAAKE,EAAKR,EAGxBv2E,EAAMzqH,KAAK,CACTihM,MACAC,MACAC,MACAC,MACAC,KACAC,KACAC,KACAC,KACAnrL,MAAOq1J,EACP/yJ,MAAOipL,EACPpjB,aACAC,mBACA3S,YACAE,YACA61B,iBACAC,yBAEJ,CAKA,OAHA73L,KAAK4wL,aAAe9B,EACpB9uL,KAAK6wL,aAAeiG,EAEbt2E,CACT,CAKA+wE,kBAAAA,CAAmBvR,GACjB,MAAMnnB,EAAO74J,KAAK64J,KACZ92J,EAAU/B,KAAK+B,SACf,SAAC4wE,EAAUwqF,MAAOm5B,GAAev0L,EACjC0mL,EAAezoL,KAAKyoL,eACpBtrB,EAAQn9J,KAAKm9J,OACb,MAACjF,EAAA,WAAO2K,EAAA,QAAYnoC,EAAO,OAAE2nC,GAAUi0B,EACvCG,EAAKjH,GAAkBztL,EAAQy/J,MAC/Bs2B,EAAiBrB,EAAK/7D,EACtBq9D,EAAkB11B,GAAU3nC,EAAUo9D,EACtC3zB,GAAYjP,GAAUl1J,KAAKkwL,eAC3B1vE,EAAQ,GACd,IAAIhyH,EAAGgkK,EAAM3xC,EAAMz4D,EAAOv3D,EAAGmgB,EAAGg2J,EAAWriF,EAAOi6E,EAAME,EAAYk5B,EAAWC,EAC3EhxB,EAAe,SAEnB,GAAiB,QAAbt0F,EACF3hE,EAAIhR,KAAKmhK,OAAS42B,EAClB/wB,EAAYhnK,KAAKk4L,+BACZ,GAAiB,WAAbvlH,EACT3hE,EAAIhR,KAAKkU,IAAM6jL,EACf/wB,EAAYhnK,KAAKk4L,+BACZ,GAAiB,SAAbvlH,EAAqB,CAC9B,MAAMuW,EAAMlpF,KAAKm4L,wBAAwB1B,GACzCzvB,EAAY99E,EAAI89E,UAChBn2K,EAAIq4F,EAAIr4F,OACH,GAAiB,UAAb8hF,EAAsB,CAC/B,MAAMuW,EAAMlpF,KAAKm4L,wBAAwB1B,GACzCzvB,EAAY99E,EAAI89E,UAChBn2K,EAAIq4F,EAAIr4F,OACH,GAAa,MAATgoK,EAAc,CACvB,GAAiB,WAAblmF,EACF3hE,GAAMgvK,EAAU9rK,IAAM8rK,EAAU7e,QAAU,EAAK22B,OAC1C,GAAIlmC,EAASj/E,GAAW,CAC7B,MAAM6kH,EAAiBrmM,OAAOkgB,KAAKshE,GAAU,GACvC3/E,EAAQ2/E,EAAS6kH,GACvBxmL,EAAIhR,KAAKo9J,MAAMwC,OAAO43B,GAAgBv+B,iBAAiBjmK,GAAS8kM,EAElE9wB,EAAYhnK,KAAKk4L,+BACZ,GAAa,MAATr/B,EAAc,CACvB,GAAiB,WAAblmF,EACF9hF,GAAMmvL,EAAUhsK,KAAOgsK,EAAUzkH,OAAS,EAAKu8H,OAC1C,GAAIlmC,EAASj/E,GAAW,CAC7B,MAAM6kH,EAAiBrmM,OAAOkgB,KAAKshE,GAAU,GACvC3/E,EAAQ2/E,EAAS6kH,GACvB3mM,EAAImP,KAAKo9J,MAAMwC,OAAO43B,GAAgBv+B,iBAAiBjmK,GAEzDg0K,EAAYhnK,KAAKm4L,wBAAwB1B,GAAIzvB,UAGlC,MAATnO,IACY,UAAVX,EACF+O,EAAe,MACI,QAAV/O,IACT+O,EAAe,WAInB,MAAM2sB,EAAa5zL,KAAK6zL,iBACxB,IAAKrlM,EAAI,EAAGgkK,EAAO2K,EAAM7uK,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAC9CqyH,EAAOs8C,EAAM3uK,GACb45D,EAAQy4D,EAAKz4D,MAEb,MAAMqvI,EAAcnB,EAAY/9G,WAAWv4E,KAAK4hF,WAAWpzF,IAC3Dm2F,EAAQ3kF,KAAKuvL,gBAAgB/gM,GAAK8nM,EAAY5zB,YAC9C9D,EAAO5+J,KAAK21L,wBAAwBnnM,GACpCswK,EAAaF,EAAKE,WAClBk5B,EAAYhjM,EAAQozD,GAASA,EAAM95D,OAAS,EAC5C,MAAM8pM,EAAYJ,EAAY,EACxBtpL,EAAQ+oL,EAAY/oL,MACpBo4J,EAAc2wB,EAAYl1B,gBAC1BsE,EAAc4wB,EAAYn1B,gBAChC,IA4CI6E,EA5CAkxB,EAAgBrxB,EA8CpB,GA5CIyhB,GACF53L,EAAI8zF,EAEc,UAAdqiF,IAEAqxB,EADE7pM,IAAMgkK,EAAO,EACExyJ,KAAK+B,QAAQgnF,QAAoB,OAAV,QACzB,IAANv6F,EACQwR,KAAK+B,QAAQgnF,QAAmB,QAAT,OAExB,UAMhBkvG,EAFa,QAAbtlH,EACiB,SAAfkwF,GAAsC,IAAbsB,GACb6zB,EAAYl5B,EAAaA,EAAa,EAC5B,WAAf+D,GACK+wB,EAAWK,QAAQ5nL,OAAS,EAAI+rL,EAAYt5B,EAAaA,GAEzD80B,EAAWK,QAAQ5nL,OAASyyJ,EAAa,EAItC,SAAf+D,GAAsC,IAAbsB,EACdrF,EAAa,EACF,WAAf+D,EACI+wB,EAAWK,QAAQ5nL,OAAS,EAAI+rL,EAAYt5B,EAE5C80B,EAAWK,QAAQ5nL,OAAS2rL,EAAYl5B,EAGrDuD,IACF41B,IAAe,GAEA,IAAb9zB,GAAmBszB,EAAY30B,oBACjCjyK,GAAKiuK,EAAc,EAAK1lK,KAAK8gK,IAAIiK,MAGnCnzJ,EAAI2zE,EACJszG,GAAc,EAAID,GAAal5B,EAAa,GAK1C24B,EAAY30B,kBAAmB,CACjC,MAAMw1B,EAAelwB,GAAUqvB,EAAYz0B,iBACrC32J,EAASunL,EAAWwB,QAAQ5mM,GAC5B4d,EAAQwnL,EAAWuB,OAAO3mM,GAEhC,IAAI0lB,EAAM+jL,EAAaK,EAAapkL,IAChCF,EAAO,EAAIskL,EAAatkL,KAE5B,OAAQizJ,GACR,IAAK,SACH/yJ,GAAO7H,EAAS,EAChB,MACF,IAAK,SACH6H,GAAO7H,EAMT,OAAQ26J,GACR,IAAK,SACHhzJ,GAAQ5H,EAAQ,EAChB,MACF,IAAK,QACH4H,GAAQ5H,EACR,MACF,IAAK,QACC5d,IAAMgkK,EAAO,EACfx+I,GAAQ5H,EACC5d,EAAI,IACbwlB,GAAQ5H,EAAQ,GAOpB+6J,EAAW,CACTnzJ,OACAE,MACA9H,MAAOA,EAAQksL,EAAalsL,MAC5BC,OAAQA,EAASisL,EAAajsL,OAE9BqC,MAAO+oL,EAAY10B,eAIvBviD,EAAMzqH,KAAK,CACTqyD,QACAw2G,OACAq5B,aACAl2L,QAAS,CACPoiK,WACAz1J,QACAo4J,cACAD,cACAG,UAAWqxB,EACXpxB,eACAF,YAAa,CAACl2K,EAAGmgB,GACjBm2J,aAGN,CAEA,OAAO3mD,CACT,CAEA03E,uBAAAA,GACE,MAAM,SAACvlH,EAAA,MAAUwqF,GAASn9J,KAAK+B,QAG/B,IAFkBmzJ,GAAUl1J,KAAKkwL,eAG/B,MAAoB,QAAbv9G,EAAqB,OAAS,QAGvC,IAAIulF,EAAQ,SAUZ,MARoB,UAAhBiF,EAAMjF,MACRA,EAAQ,OACiB,QAAhBiF,EAAMjF,MACfA,EAAQ,QACiB,UAAhBiF,EAAMjF,QACfA,EAAQ,SAGHA,CACT,CAEAigC,uBAAAA,CAAwB1B,GACtB,MAAM,SAAC9jH,EAAUwqF,OAAO,WAAC0F,EAAA,OAAYR,EAAA,QAAQ3nC,IAAY16H,KAAK+B,QAExD+1L,EAAiBrB,EAAK/7D,EACtBq5D,EAFa/zL,KAAK6zL,iBAEEE,OAAO3nL,MAEjC,IAAI46J,EACAn2K,EA0DJ,MAxDiB,SAAb8hF,EACE0vF,GACFxxK,EAAImP,KAAKu7D,MAAQm/D,EAEE,SAAfmoC,EACFmE,EAAY,OACY,WAAfnE,GACTmE,EAAY,SACZn2K,GAAMkjM,EAAS,IAEf/sB,EAAY,QACZn2K,GAAKkjM,KAGPljM,EAAImP,KAAKu7D,MAAQu8H,EAEE,SAAfj1B,EACFmE,EAAY,QACY,WAAfnE,GACTmE,EAAY,SACZn2K,GAAMkjM,EAAS,IAEf/sB,EAAY,OACZn2K,EAAImP,KAAKgU,OAGS,UAAb2+D,EACL0vF,GACFxxK,EAAImP,KAAKgU,KAAO0mH,EAEG,SAAfmoC,EACFmE,EAAY,QACY,WAAfnE,GACTmE,EAAY,SACZn2K,GAAMkjM,EAAS,IAEf/sB,EAAY,OACZn2K,GAAKkjM,KAGPljM,EAAImP,KAAKgU,KAAO8jL,EAEG,SAAfj1B,EACFmE,EAAY,OACY,WAAfnE,GACTmE,EAAY,SACZn2K,GAAKkjM,EAAS,IAEd/sB,EAAY,QACZn2K,EAAImP,KAAKu7D,QAIbyrG,EAAY,QAGP,CAACA,YAAWn2K,IACrB,CAKA0nM,iBAAAA,GACE,GAAIv4L,KAAK+B,QAAQo7J,MAAMkF,OACrB,OAGF,MAAMjF,EAAQp9J,KAAKo9J,MACbzqF,EAAW3yE,KAAK+B,QAAQ4wE,SAE9B,MAAiB,SAAbA,GAAoC,UAAbA,EAClB,CAACz+D,IAAK,EAAGF,KAAMhU,KAAKgU,KAAMmtJ,OAAQ/D,EAAM/wJ,OAAQkvD,MAAOv7D,KAAKu7D,OAClD,QAAboX,GAAmC,WAAbA,EACnB,CAACz+D,IAAKlU,KAAKkU,IAAKF,KAAM,EAAGmtJ,OAAQnhK,KAAKmhK,OAAQ5lG,MAAO6hG,EAAMhxJ,YADlE,CAGJ,CAKAosL,cAAAA,GACE,MAAM,IAACn0G,EAAKtiF,SAAS,gBAACu8J,GAAgB,KAAEtqJ,EAAI,IAAEE,EAAA,MAAK9H,EAAA,OAAOC,GAAUrM,KAChEs+J,IACFj6E,EAAIo/E,OACJp/E,EAAIkiF,UAAYjI,EAChBj6E,EAAIsiF,SAAS3yJ,EAAME,EAAK9H,EAAOC,GAC/Bg4E,EAAIu/E,UAER,CAEA60B,oBAAAA,CAAqBzlM,GACnB,MAAMwuK,EAAOxhK,KAAK+B,QAAQy/J,KAC1B,IAAKxhK,KAAK2zL,eAAiBnyB,EAAKh+H,QAC9B,OAAO,EAET,MACM/tC,EADQuK,KAAKm9J,MACChE,WAAUxyG,GAAKA,EAAE3zD,QAAUA,IAC/C,GAAIyC,GAAS,EAAG,CAEd,OADa+rK,EAAKjpF,WAAWv4E,KAAK4hF,WAAWnsF,IACjCgsK,UAEd,OAAO,CACT,CAKAi3B,QAAAA,CAAS1Y,GACP,MAAMxe,EAAOxhK,KAAK+B,QAAQy/J,KACpBn9E,EAAMrkF,KAAKqkF,IACXm8B,EAAQxgH,KAAKowL,iBAAmBpwL,KAAKowL,eAAiBpwL,KAAKw2L,sBAAsBxW,IACvF,IAAIxxL,EAAGgkK,EAEP,MAAMmmC,EAAWA,CAACh0C,EAAIC,EAAI9hJ,KACnBA,EAAMsJ,OAAUtJ,EAAM4L,QAG3B21E,EAAIo/E,OACJp/E,EAAIo9E,UAAY3+J,EAAMsJ,MACtBi4E,EAAIiiF,YAAcxjK,EAAM4L,MACxB21E,EAAIu0G,YAAY91L,EAAMyxK,YAAc,IACpClwF,EAAIw0G,eAAiB/1L,EAAM0xK,iBAE3BnwF,EAAIigF,YACJjgF,EAAIqgF,OAAO/f,EAAG9zJ,EAAG8zJ,EAAG3zI,GACpBqzE,EAAIsgF,OAAO/f,EAAG/zJ,EAAG+zJ,EAAG5zI,GACpBqzE,EAAI0gF,SACJ1gF,EAAIu/E,UAAS,EAGf,GAAIpC,EAAKh+H,QACP,IAAKh1C,EAAI,EAAGgkK,EAAOhyC,EAAMlyH,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAC9C,MAAM+1E,EAAOi8C,EAAMhyH,GAEfgzK,EAAKE,iBACPi3B,EACE,CAAC9nM,EAAG0zE,EAAK6yH,GAAIpmL,EAAGuzD,EAAK8yH,IACrB,CAACxmM,EAAG0zE,EAAK+yH,GAAItmL,EAAGuzD,EAAKgzH,IACrBhzH,GAIAi9F,EAAKG,WACPg3B,EACE,CAAC9nM,EAAG0zE,EAAKyyH,IAAKhmL,EAAGuzD,EAAK0yH,KACtB,CAACpmM,EAAG0zE,EAAK2yH,IAAKlmL,EAAGuzD,EAAK4yH,KACtB,CACEzoL,MAAO61D,EAAKw9F,UACZ31J,MAAOm4D,EAAKs9F,UACZ0S,WAAYhwG,EAAKqzH,eACjBpjB,iBAAkBjwG,EAAKszH,sBAI/B,CAEJ,CAKAiB,UAAAA,GACE,MAAM,MAAC17B,EAAA,IAAO/4E,EAAKtiF,SAAS,OAACigK,EAAM,KAAER,IAASxhK,KACxC02L,EAAa10B,EAAOzpF,WAAWv4E,KAAK4hF,cACpC+0G,EAAY30B,EAAOx+H,QAAUkzJ,EAAWtqL,MAAQ,EACtD,IAAKuqL,EACH,OAEF,MAAMoC,EAAgBv3B,EAAKjpF,WAAWv4E,KAAK4hF,WAAW,IAAI6/E,UACpDq1B,EAAc92L,KAAK6wL,aACzB,IAAIuG,EAAIE,EAAID,EAAIE,EAEZv3L,KAAKyoL,gBACP2O,EAAK/zB,GAAYjG,EAAOp9J,KAAKgU,KAAM2iL,GAAaA,EAAY,EAC5DW,EAAKj0B,GAAYjG,EAAOp9J,KAAKu7D,MAAOw9H,GAAiBA,EAAgB,EACrE1B,EAAKE,EAAKT,IAEVO,EAAKh0B,GAAYjG,EAAOp9J,KAAKkU,IAAKyiL,GAAaA,EAAY,EAC3DY,EAAKl0B,GAAYjG,EAAOp9J,KAAKmhK,OAAQ43B,GAAiBA,EAAgB,EACtE3B,EAAKE,EAAKR,GAEZzyG,EAAIo/E,OACJp/E,EAAIo9E,UAAYi1B,EAAWtqL,MAC3Bi4E,EAAIiiF,YAAcowB,EAAWhoL,MAE7B21E,EAAIigF,YACJjgF,EAAIqgF,OAAO0yB,EAAIC,GACfhzG,EAAIsgF,OAAO2yB,EAAIC,GACflzG,EAAI0gF,SAEJ1gF,EAAIu/E,SACN,CAKAo1B,UAAAA,CAAWhZ,GAGT,IAFoBhgL,KAAK+B,QAAQo7J,MAEhB35H,QACf,OAGF,MAAM6gD,EAAMrkF,KAAKqkF,IAEX49D,EAAOjiJ,KAAKu4L,oBACdt2C,GACFijB,GAAS7gF,EAAK49D,GAGhB,MAAMzhC,EAAQxgH,KAAKsxL,cAActR,GACjC,IAAK,MAAMz7G,KAAQi8C,EAAO,CACxB,MAAMy4E,EAAoB10H,EAAKxiE,QACzBuzL,EAAW/wH,EAAKq6F,KAGtBgI,GAAWviF,EAFG9f,EAAKnc,MAEI,EADbmc,EAAK0zH,WACc3C,EAAU2D,EACzC,CAEIh3C,GACFkjB,GAAW9gF,EAEf,CAKA60G,SAAAA,GACE,MAAM,IAAC70G,EAAKtiF,SAAS,SAAC4wE,EAAQ,MAAEt4C,EAAK,QAAE0uD,IAAY/oF,KAEnD,IAAKq6B,EAAMmJ,QACT,OAGF,MAAMo7H,EAAOyJ,GAAOhuI,EAAMukI,MACpBlkC,EAAU0tC,GAAU/tI,EAAMqgG,SAC1Bw9B,EAAQ79H,EAAM69H,MACpB,IAAIxmJ,EAASktJ,EAAKE,WAAa,EAEd,WAAbnsF,GAAsC,WAAbA,GAAyBi/E,EAASj/E,IAC7DjhE,GAAUgpH,EAAQymC,OACdnsK,EAAQqlC,EAAM73B,QAChBkP,GAAUktJ,EAAKE,YAAczkI,EAAM73B,KAAKlU,OAAS,KAGnDojB,GAAUgpH,EAAQxmH,IAGpB,MAAM,OAACilL,EAAA,OAAQC,EAAA,SAAQ/xB,EAAQ,SAAElD,GAt8CrC,SAAmBxE,EAAOjuJ,EAAQihE,EAAUulF,GAC1C,MAAM,IAAChkJ,EAAG,KAAEF,EAAI,OAAEmtJ,EAAM,MAAE5lG,EAAK,MAAE6hG,GAASuC,GACpC,UAACqgB,EAAA,OAAWpgB,GAAUxC,EAC5B,IACIiK,EAAU8xB,EAAQC,EADlBj1B,EAAW,EAEf,MAAM93J,EAAS80J,EAASjtJ,EAClB9H,EAAQmvD,EAAQvnD,EAEtB,GAAI2rJ,EAAM8oB,eAAgB,CAGxB,GAFA0Q,EAAShhC,GAAeD,EAAOlkJ,EAAMunD,GAEjCq2F,EAASj/E,GAAW,CACtB,MAAM6kH,EAAiBrmM,OAAOkgB,KAAKshE,GAAU,GACvC3/E,EAAQ2/E,EAAS6kH,GACvB4B,EAASx5B,EAAO43B,GAAgBv+B,iBAAiBjmK,GAASqZ,EAASqF,OAEnE0nL,EADsB,WAAbzmH,GACCqtG,EAAU7e,OAAS6e,EAAU9rK,KAAO,EAAI7H,EAASqF,EAElDi9K,GAAehvB,EAAOhtF,EAAUjhE,GAE3C21J,EAAW9rG,EAAQvnD,MACd,CACL,GAAI49I,EAASj/E,GAAW,CACtB,MAAM6kH,EAAiBrmM,OAAOkgB,KAAKshE,GAAU,GACvC3/E,EAAQ2/E,EAAS6kH,GACvB2B,EAASv5B,EAAO43B,GAAgBv+B,iBAAiBjmK,GAASoZ,EAAQsF,OAElEynL,EADsB,WAAbxmH,GACCqtG,EAAUhsK,KAAOgsK,EAAUzkH,OAAS,EAAInvD,EAAQsF,EAEjDi9K,GAAehvB,EAAOhtF,EAAUjhE,GAE3C0nL,EAASjhC,GAAeD,EAAOiJ,EAAQjtJ,GACvCiwJ,EAAwB,SAAbxxF,GAAuByhF,GAAUA,GAE9C,MAAO,CAAC+kC,SAAQC,SAAQ/xB,WAAUlD,WACpC,CAm6CiDk1B,CAAUr5L,KAAM0R,EAAQihE,EAAUulF,GAE/E0O,GAAWviF,EAAKhqD,EAAM73B,KAAM,EAAG,EAAGo8J,EAAM,CACtClwJ,MAAO2rB,EAAM3rB,MACb24J,WACAlD,WACA6C,UAAW0oB,GAAWx3B,EAAOvlF,EAAUoW,GACvCk+E,aAAc,SACdF,YAAa,CAACoyB,EAAQC,IAE1B,CAEA5jB,IAAAA,CAAKwK,GACEhgL,KAAK2zL,eAIV3zL,KAAKw4L,iBACLx4L,KAAK04L,SAAS1Y,GACdhgL,KAAK84L,aACL94L,KAAKk5L,YACLl5L,KAAKg5L,WAAWhZ,GAClB,CAMAoI,OAAAA,GACE,MAAMt4H,EAAO9vD,KAAK+B,QACZu3L,EAAKxpI,EAAKqtG,OAASrtG,EAAKqtG,MAAM/lF,GAAK,EACnCmiH,EAAKvnC,EAAeliG,EAAK0xG,MAAQ1xG,EAAK0xG,KAAKpqF,GAAI,GAC/CoiH,EAAKxnC,EAAeliG,EAAKkyG,QAAUlyG,EAAKkyG,OAAO5qF,EAAG,GAExD,OAAKp3E,KAAK2zL,cAAgB3zL,KAAKw1K,OAASoa,GAAMx9L,UAAUojL,KAUjD,CAAC,CACNp+F,EAAGmiH,EACH/jB,KAAOwK,IACLhgL,KAAKw4L,iBACLx4L,KAAK04L,SAAS1Y,GACdhgL,KAAKk5L,WAAW,GAEjB,CACD9hH,EAAGoiH,EACHhkB,KAAMA,KACJx1K,KAAK84L,YAAY,GAElB,CACD1hH,EAAGkiH,EACH9jB,KAAOwK,IACLhgL,KAAKg5L,WAAWhZ,EAAA,IAvBX,CAAC,CACN5oG,EAAGkiH,EACH9jB,KAAOwK,IACLhgL,KAAKw1K,KAAKwK,EAAA,GAuBlB,CAOAvG,uBAAAA,CAAwBrpL,GACtB,MAAM8gM,EAAQlxL,KAAKo9J,MAAMgnB,+BACnBqV,EAASz5L,KAAK64J,KAAO,SACrB/qI,EAAS,GACf,IAAIt/B,EAAGgkK,EAEP,IAAKhkK,EAAI,EAAGgkK,EAAO0+B,EAAM5iM,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAC9C,MAAMi2E,EAAOysH,EAAM1iM,GACfi2E,EAAKg1H,KAAYz5L,KAAKy3B,IAAQrnC,GAAQq0E,EAAKr0E,OAASA,GACtD09B,EAAO/3B,KAAK0uE,EAEhB,CACA,OAAO32C,CACT,CAOA6nK,uBAAAA,CAAwBlgM,GAEtB,OAAO4yK,GADMroK,KAAK+B,QAAQo7J,MAAM5kF,WAAWv4E,KAAK4hF,WAAWnsF,IACxCmpK,KACrB,CAKA86B,UAAAA,GACE,MAAMz/C,EAAWj6I,KAAK21L,wBAAwB,GAAG72B,WACjD,OAAQ9+J,KAAKyoL,eAAiBzoL,KAAKoM,MAAQpM,KAAKqM,QAAU4tI,CAC5D,ECrqDa,MAAM0/C,GACnB95L,WAAAA,CAAYzP,EAAMm0D,EAAOyiB,GACvBhnE,KAAK5P,KAAOA,EACZ4P,KAAKukD,MAAQA,EACbvkD,KAAKgnE,SAAWA,EAChBhnE,KAAKwgH,MAAQrvH,OAAO86B,OAAO,KAC7B,CAEA2tK,SAAAA,CAAUxpM,GACR,OAAOe,OAAOiB,UAAUynM,cAAcrnM,KAAKwN,KAAK5P,KAAKgC,UAAWhC,EAAKgC,UACvE,CAMA0nM,QAAAA,CAASv1H,GACP,MAAMtD,EAAQ9vE,OAAO+qH,eAAe33C,GACpC,IAAIw1H,GAyFR,SAA2B94H,GACzB,MAAO,OAAQA,GAAS,aAAcA,CACxC,EAzFQ+4H,CAAkB/4H,KAEpB84H,EAAc/5L,KAAK85L,SAAS74H,IAG9B,MAAMu/C,EAAQxgH,KAAKwgH,MACb/oF,EAAK8sC,EAAK9sC,GACV8sB,EAAQvkD,KAAKukD,MAAQ,IAAM9sB,EAEjC,IAAKA,EACH,MAAM,IAAIpmC,MAAM,2BAA6BkzE,GAG/C,OAAI9sC,KAAM+oF,IAKVA,EAAM/oF,GAAM8sC,EAsChB,SAA0BA,EAAMhgB,EAAOw1I,GAErC,MAAME,EAAejnC,GAAM7hK,OAAO86B,OAAO,MAAO,CAC9C8tK,EAAc1/D,GAASt6H,IAAIg6L,GAAe,CAAC,EAC3C1/D,GAASt6H,IAAIwkD,GACbggB,EAAK81D,WAGPA,GAAShoI,IAAIkyD,EAAO01I,GAEhB11H,EAAK21H,eASX,SAAuB31I,EAAO41I,GAC5BhpM,OAAOkgB,KAAK8oL,GAAQ96K,SAAQujB,IAC1B,MAAMw3J,EAAgBx3J,EAASvvC,MAAM,KAC/BgnM,EAAaD,EAAcvkM,MAC3BykM,EAAc,CAAC/1I,GAAOz3B,OAAOstK,GAAe79K,KAAK,KACjDi3I,EAAQ2mC,EAAOv3J,GAAUvvC,MAAM,KAC/B09F,EAAayiE,EAAM39J,MACnBoqK,EAAczM,EAAMj3I,KAAK,KAC/B89G,GAAS2lC,MAAMs6B,EAAaD,EAAYp6B,EAAalvE,EAAA,GAEzD,CAlBIwpG,CAAch2I,EAAOggB,EAAK21H,eAGxB31H,EAAK05F,aACP5jC,GAAS0lC,SAASx7G,EAAOggB,EAAK05F,YAElC,CAtDIu8B,CAAiBj2H,EAAMhgB,EAAOw1I,GAC1B/5L,KAAKgnE,UACPqzD,GAASrzD,SAASzC,EAAK9sC,GAAI8sC,EAAKy5F,YANzBz5G,CAUX,CAMAxkD,GAAAA,CAAI03B,GACF,OAAOz3B,KAAKwgH,MAAM/oF,EACpB,CAKAgjK,UAAAA,CAAWl2H,GACT,MAAMi8C,EAAQxgH,KAAKwgH,MACb/oF,EAAK8sC,EAAK9sC,GACV8sB,EAAQvkD,KAAKukD,MAEf9sB,KAAM+oF,UACDA,EAAM/oF,GAGX8sB,GAAS9sB,KAAM4iG,GAAS91E,YACnB81E,GAAS91E,GAAO9sB,GACnBz3B,KAAKgnE,iBACAg3F,GAAUvmI,GAGvB,ECtEK,MAAMijK,GACX76L,WAAAA,GACEG,KAAK26L,YAAc,IAAIhB,GAAchf,GAAmB,YAAY,GACpE36K,KAAK0nC,SAAW,IAAIiyJ,GAAc7M,GAAS,YAC3C9sL,KAAKu0D,QAAU,IAAIolI,GAAcxoM,OAAQ,WACzC6O,KAAK4/J,OAAS,IAAI+5B,GAAc/J,GAAO,UAGvC5vL,KAAK46L,iBAAmB,CAAC56L,KAAK26L,YAAa36L,KAAK4/J,OAAQ5/J,KAAK0nC,SAC/D,CAKAxpC,GAAAA,GAAa,QAAAs/K,EAAAnvL,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAyoL,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJxnG,EAAIwnG,GAAApvL,UAAAovL,GACTz9K,KAAK66L,MAAM,WAAY5kH,EACzB,CAEAigG,MAAAA,GAAgB,QAAAne,EAAA1pK,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAgjK,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ/hF,EAAI+hF,GAAA3pK,UAAA2pK,GACZh4J,KAAK66L,MAAM,aAAc5kH,EAC3B,CAKA6kH,cAAAA,GAAwB,QAAAC,EAAA1sM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAgmM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ/kH,EAAI+kH,GAAA3sM,UAAA2sM,GACpBh7L,KAAK66L,MAAM,WAAY5kH,EAAMj2E,KAAK26L,YACpC,CAKA9e,WAAAA,GAAqB,QAAAof,EAAA5sM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAkmM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJjlH,EAAIilH,GAAA7sM,UAAA6sM,GACjBl7L,KAAK66L,MAAM,WAAY5kH,EAAMj2E,KAAK0nC,SACpC,CAKAyzJ,UAAAA,GAAoB,QAAAC,EAAA/sM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAqmM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJplH,EAAIolH,GAAAhtM,UAAAgtM,GAChBr7L,KAAK66L,MAAM,WAAY5kH,EAAMj2E,KAAKu0D,QACpC,CAKA+mI,SAAAA,GAAmB,QAAAC,EAAAltM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAwmM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJvlH,EAAIulH,GAAAntM,UAAAmtM,GACfx7L,KAAK66L,MAAM,WAAY5kH,EAAMj2E,KAAK4/J,OACpC,CAMA67B,aAAAA,CAAchkK,GACZ,OAAOz3B,KAAK07L,KAAKjkK,EAAIz3B,KAAK26L,YAAa,aACzC,CAMAgB,UAAAA,CAAWlkK,GACT,OAAOz3B,KAAK07L,KAAKjkK,EAAIz3B,KAAK0nC,SAAU,UACtC,CAMAk0J,SAAAA,CAAUnkK,GACR,OAAOz3B,KAAK07L,KAAKjkK,EAAIz3B,KAAKu0D,QAAS,SACrC,CAMAsnI,QAAAA,CAASpkK,GACP,OAAOz3B,KAAK07L,KAAKjkK,EAAIz3B,KAAK4/J,OAAQ,QACpC,CAKAk8B,iBAAAA,GAA2B,QAAAC,EAAA1tM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAgnM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ/lH,EAAI+lH,GAAA3tM,UAAA2tM,GACvBh8L,KAAK66L,MAAM,aAAc5kH,EAAMj2E,KAAK26L,YACtC,CAKAsB,cAAAA,GAAwB,QAAAC,EAAA7tM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAmnM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJlmH,EAAIkmH,GAAA9tM,UAAA8tM,GACpBn8L,KAAK66L,MAAM,aAAc5kH,EAAMj2E,KAAK0nC,SACtC,CAKA00J,aAAAA,GAAuB,QAAAC,EAAAhuM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAsnM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJrmH,EAAIqmH,GAAAjuM,UAAAiuM,GACnBt8L,KAAK66L,MAAM,aAAc5kH,EAAMj2E,KAAKu0D,QACtC,CAKAgoI,YAAAA,GAAsB,QAAAC,EAAAnuM,UAAAC,OAAN2nF,EAAI,IAAAlhF,MAAAynM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJxmH,EAAIwmH,GAAApuM,UAAAouM,GAClBz8L,KAAK66L,MAAM,aAAc5kH,EAAMj2E,KAAK4/J,OACtC,CAKAi7B,KAAAA,CAAMvlM,EAAQ2gF,EAAMymH,GAClB,IAAIzmH,GAAM52D,SAAQi3D,IAChB,MAAMqmH,EAAMD,GAAiB18L,KAAK48L,oBAAoBtmH,GAClDomH,GAAiBC,EAAI/C,UAAUtjH,IAASqmH,IAAQ38L,KAAKu0D,SAAW+hB,EAAI7+C,GACtEz3B,KAAK68L,MAAMvnM,EAAQqnM,EAAKrmH,GAMxBqqC,EAAKrqC,GAAK/R,IAOR,MAAMu4H,EAAUJ,GAAiB18L,KAAK48L,oBAAoBr4H,GAC1DvkE,KAAK68L,MAAMvnM,EAAQwnM,EAASv4H,EAAA,MAIpC,CAKAs4H,KAAAA,CAAMvnM,EAAQynM,EAAU3rK,GACtB,MAAM4rK,EAAcrpC,GAAYr+J,GAChC23B,EAAKmE,EAAU,SAAW4rK,GAAc,GAAI5rK,GAC5C2rK,EAASznM,GAAQ87B,GACjBnE,EAAKmE,EAAU,QAAU4rK,GAAc,GAAI5rK,EAC7C,CAKAwrK,mBAAAA,CAAoBxsM,GAClB,IAAK,IAAI5B,EAAI,EAAGA,EAAIwR,KAAK46L,iBAAiBtsM,OAAQE,IAAK,CACrD,MAAMmuM,EAAM38L,KAAK46L,iBAAiBpsM,GAClC,GAAImuM,EAAI/C,UAAUxpM,GAChB,OAAOusM,CAEX,CAEA,OAAO38L,KAAKu0D,OACd,CAKAmnI,IAAAA,CAAKjkK,EAAIilK,EAAetsM,GACtB,MAAMm0E,EAAOm4H,EAAc38L,IAAI03B,GAC/B,QAAa87C,IAAThP,EACF,MAAM,IAAIlzE,MAAM,IAAMomC,EAAK,yBAA2BrnC,EAAO,KAE/D,OAAOm0E,CACT,EAKF,IAAAw4H,GAA+B,IAAIrC,GCtKpB,MAAMuC,GACnBp9L,WAAAA,GACEG,KAAKpP,MAAQ,EACf,CAYAssM,MAAAA,CAAO9/B,EAAOj3I,EAAM8vD,EAAMiN,GACX,eAAT/8D,IACFnmB,KAAKpP,MAAQoP,KAAKm9L,mBAAmB//B,GAAO,GAC5Cp9J,KAAKg1K,QAAQh1K,KAAKpP,MAAOwsK,EAAO,YAGlC,MAAMa,EAAc/6E,EAASljF,KAAKo+J,aAAahB,GAAOl6E,OAAOA,GAAUljF,KAAKo+J,aAAahB,GACnFtvI,EAAS9tB,KAAKg1K,QAAQ/W,EAAab,EAAOj3I,EAAM8vD,GAMtD,MAJa,iBAAT9vD,IACFnmB,KAAKg1K,QAAQ/W,EAAab,EAAO,QACjCp9J,KAAKg1K,QAAQh1K,KAAKpP,MAAOwsK,EAAO,cAE3BtvI,CACT,CAKAknJ,OAAAA,CAAQ/W,EAAab,EAAOj3I,EAAM8vD,GAChCA,EAAOA,GAAQ,CAAC,EAChB,IAAK,MAAMr2E,KAAcq+J,EAAa,CACpC,MAAMt5D,EAAS/kG,EAAW+kG,OAG1B,IAA6C,IAAzC13E,EAFW03E,EAAOx+E,GACP,CAACi3I,EAAOnnF,EAAMr2E,EAAWmC,SACP4iG,IAAqB1uB,EAAKpuE,WACzD,OAAO,CAEX,CAEA,OAAO,CACT,CAEAu1L,UAAAA,GAMOzrC,EAAc3xJ,KAAK8wL,UACtB9wL,KAAKq9L,UAAYr9L,KAAK8wL,OACtB9wL,KAAK8wL,YAASv9G,EAElB,CAMA6qF,YAAAA,CAAahB,GACX,GAAIp9J,KAAK8wL,OACP,OAAO9wL,KAAK8wL,OAGd,MAAM7yB,EAAcj+J,KAAK8wL,OAAS9wL,KAAKm9L,mBAAmB//B,GAI1D,OAFAp9J,KAAKs9L,oBAAoBlgC,GAElBa,CACT,CAEAk/B,kBAAAA,CAAmB//B,EAAO9c,GACxB,MAAMv8F,EAASq5G,GAASA,EAAMr5G,OACxBhiD,EAAUiwJ,EAAejuG,EAAOhiD,SAAWgiD,EAAOhiD,QAAQwyD,QAAS,CAAC,GACpEA,EAqBV,SAAoBxQ,GAClB,MAAMw5I,EAAW,CAAC,EACZhpI,EAAU,GACVljD,EAAOlgB,OAAOkgB,KAAK0rL,GAASxoI,QAAQisD,OAC1C,IAAK,IAAIhyH,EAAI,EAAGA,EAAI6iB,EAAK/iB,OAAQE,IAC/B+lE,EAAQx+D,KAAKgnM,GAASnB,UAAUvqL,EAAK7iB,KAGvC,MAAMgwE,EAAQza,EAAOwQ,SAAW,GAChC,IAAK,IAAI/lE,EAAI,EAAGA,EAAIgwE,EAAMlwE,OAAQE,IAAK,CACrC,MAAMm2G,EAASnmC,EAAMhwE,IAEY,IAA7B+lE,EAAQ9iE,QAAQkzG,KAClBpwC,EAAQx+D,KAAK4uG,GACb44F,EAAS54F,EAAOltE,KAAM,EAE1B,CAEA,MAAO,CAAC88B,UAASgpI,WACnB,CAxCoBC,CAAWz5I,GAE3B,OAAmB,IAAZhiD,GAAsBu+I,EAkDjC,SAA2B8c,EAAKtzB,EAAuB/nI,EAASu+I,GAAK,IAAnC,QAAC/rF,EAAO,SAAEgpI,GAASzzD,EACnD,MAAMh8G,EAAS,GACTh3B,EAAUsmK,EAAMx7E,aAEtB,IAAK,MAAM+iB,KAAUpwC,EAAS,CAC5B,MAAM98B,EAAKktE,EAAOltE,GACZq4B,EAAO2tI,GAAQ17L,EAAQ01B,GAAK6oH,GACrB,OAATxwF,GAGJhiC,EAAO/3B,KAAK,CACV4uG,SACA5iG,QAAS27L,GAAWtgC,EAAMr5G,OAAQ,CAAC4gD,SAAQnmC,MAAO++H,EAAS9lK,IAAMq4B,EAAMh5D,IAE3E,CAEA,OAAOg3B,CACT,CAnE4C6vK,CAAkBvgC,EAAO7oG,EAASxyD,EAASu+I,GAAhD,EACrC,CAMAg9C,mBAAAA,CAAoBlgC,GAClB,MAAMwgC,EAAsB59L,KAAKq9L,WAAa,GACxCp/B,EAAcj+J,KAAK8wL,OACnBp0C,EAAOA,CAACl4I,EAAGO,IAAMP,EAAE0+E,QAAOryF,IAAMkU,EAAEqoG,MAAKp8F,GAAKngB,EAAE8zG,OAAOltE,KAAOzmB,EAAE2zF,OAAOltE,OAC3Ez3B,KAAKg1K,QAAQt4B,EAAKkhD,EAAqB3/B,GAAcb,EAAO,QAC5Dp9J,KAAKg1K,QAAQt4B,EAAKuhB,EAAa2/B,GAAsBxgC,EAAO,QAC9D,EA2BF,SAASqgC,GAAQ17L,EAASu+I,GACxB,OAAKA,IAAmB,IAAZv+I,GAGI,IAAZA,EACK,CAAC,EAEHA,EALE,IAMX,CAqBA,SAAS27L,GAAW35I,EAAM81F,EAAmB/pF,EAAMh5D,GAAS,IAAhC,OAAC6tG,EAAM,MAAEnmC,GAAMq7E,EACzC,MAAMxoI,EAAO0yC,EAAO85I,gBAAgBl5F,GAC9B+jE,EAAS3kH,EAAOk6H,gBAAgBnuH,EAAMz+C,GAK5C,OAJImtD,GAASmmC,EAAO01B,UAElBquC,EAAO3yK,KAAK4uG,EAAO01B,UAEdt2E,EAAOm6H,eAAexV,EAAQ5xK,EAAS,CAAC,IAAK,CAElD6zK,YAAY,EACZC,WAAW,EACXF,SAAS,GAEb,CClLO,SAASozB,GAAa1tM,EAAM2R,GACjC,MAAMg8L,EAAkB1jE,GAASmkC,SAASpuK,IAAS,CAAC,EAEpD,QADwB2R,EAAQy8J,UAAY,CAAC,GAAGpuK,IAAS,CAAC,GACpC+uK,WAAap9J,EAAQo9J,WAAa4+B,EAAgB5+B,WAAa,GACvF,CAgBA,SAAS6+B,GAAcvmK,GACrB,GAAW,MAAPA,GAAqB,MAAPA,GAAqB,MAAPA,EAC9B,OAAOA,CAEX,CAWO,SAASwmK,GAAcxmK,GAC5B,GAAIumK,GAAcvmK,GAChB,OAAOA,EACR,QAAAymK,EAAA7vM,UAAAC,OAHkC6vM,EAAY,IAAAppM,MAAAmpM,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAZD,EAAYC,EAAA,GAAA/vM,UAAA+vM,GAI/C,IAAK,MAAMtuI,KAAQquI,EAAc,CAC/B,MAAMtlC,EAAO/oG,EAAK+oG,OAbH,SADOlmF,EAeA7iB,EAAK6iB,WAdU,WAAbA,EACjB,IAEQ,SAAbA,GAAoC,UAAbA,EAClB,SADT,IAYOl7C,EAAGnpC,OAAS,GAAK0vM,GAAcvmK,EAAG,GAAG14B,eAC1C,GAAI85J,EACF,OAAOA,CAEX,CApBF,IAA0BlmF,EAqBxB,MAAM,IAAIthF,MAAM,6BAA6BomC,uDAC/C,CAEA,SAAS4mK,GAAmB5mK,EAAIohI,EAAM9gI,GACpC,GAAIA,EAAQ8gI,EAAO,YAAcphI,EAC/B,MAAO,CAACohI,OAEZ,CAYA,SAASylC,GAAiBv6I,EAAQhiD,GAChC,MAAMw8L,EAAgBvgC,GAAUj6G,EAAO3zD,OAAS,CAACwvK,OAAQ,CAAC,GACpD4+B,EAAez8L,EAAQ69J,QAAU,CAAC,EAClC6+B,EAAiBX,GAAa/5I,EAAO3zD,KAAM2R,GAC3C69J,EAASzuK,OAAO86B,OAAO,MAqC7B,OAlCA96B,OAAOkgB,KAAKmtL,GAAcn/K,SAAQoY,IAChC,MAAMinK,EAAYF,EAAa/mK,GAC/B,IAAKm6H,EAAS8sC,GACZ,OAAO9rK,QAAQhY,MAAM,0CAA0C6c,KAEjE,GAAIinK,EAAU10B,OACZ,OAAOp3I,QAAQ8pE,KAAK,kDAAkDjlE,KAExE,MAAMohI,EAAOolC,GAAcxmK,EAAIinK,EAzBnC,SAAkCjnK,EAAIssB,GACpC,GAAIA,EAAO1uD,MAAQ0uD,EAAO1uD,KAAKmpK,SAAU,CACvC,MAAMmgC,EAAU56I,EAAO1uD,KAAKmpK,SAASt7E,QAAQ7pC,GAAMA,EAAE8iI,UAAY1kJ,GAAM4hB,EAAEgjI,UAAY5kJ,IACrF,GAAIknK,EAAQrwM,OACV,OAAO+vM,GAAmB5mK,EAAI,IAAKknK,EAAQ,KAAON,GAAmB5mK,EAAI,IAAKknK,EAAQ,IAG1F,MAAO,CAAC,CACV,CAiB8CC,CAAyBnnK,EAAIssB,GAASs2E,GAASulC,OAAO8+B,EAAUtuM,OACpGyuM,EAlEV,SAAmChmC,EAAMsG,GACvC,OAAOtG,IAASsG,EAAY,UAAY,SAC1C,CAgEsB2/B,CAA0BjmC,EAAM4lC,GAC5CM,EAAsBR,EAAc3+B,QAAU,CAAC,EACrDA,EAAOnoI,GAAM07H,GAAQhiK,OAAO86B,OAAO,MAAO,CAAC,CAAC4sI,QAAO6lC,EAAWK,EAAoBlmC,GAAOkmC,EAAoBF,IAAY,IAI3H96I,EAAO1uD,KAAKmpK,SAASn/I,SAAQ0Y,IAC3B,MAAM3nC,EAAO2nC,EAAQ3nC,MAAQ2zD,EAAO3zD,KAC9B+uK,EAAYpnI,EAAQonI,WAAa2+B,GAAa1tM,EAAM2R,GAEpDg9L,GADkB/gC,GAAU5tK,IAAS,CAAC,GACAwvK,QAAU,CAAC,EACvDzuK,OAAOkgB,KAAK0tL,GAAqB1/K,SAAQ2/K,IACvC,MAAMnmC,EAxFZ,SAAmCphI,EAAI0nI,GACrC,IAAItG,EAAOphI,EAMX,MALW,YAAPA,EACFohI,EAAOsG,EACS,YAAP1nI,IACTohI,EAAqB,MAAdsG,EAAoB,IAAM,KAE5BtG,CACT,CAgFmBomC,CAA0BD,EAAW7/B,GAC5C1nI,EAAKM,EAAQ8gI,EAAO,WAAaA,EACvC+G,EAAOnoI,GAAMmoI,EAAOnoI,IAAOtmC,OAAO86B,OAAO,MACzCknI,GAAQyM,EAAOnoI,GAAK,CAAC,CAACohI,QAAO2lC,EAAa/mK,GAAKsnK,EAAoBC,IAAY,GAC/E,IAIJ7tM,OAAOkgB,KAAKuuJ,GAAQvgJ,SAAQ1T,IAC1B,MAAMg0J,EAAQC,EAAOj0J,GACrBwnJ,GAAQwM,EAAO,CAACtlC,GAASulC,OAAOD,EAAMvvK,MAAOiqI,GAASslC,OAAO,IAGxDC,CACT,CAEA,SAASs/B,GAAYn7I,GACnB,MAAMhiD,EAAUgiD,EAAOhiD,UAAYgiD,EAAOhiD,QAAU,CAAC,GAErDA,EAAQwyD,QAAUy9F,EAAejwJ,EAAQwyD,QAAS,CAAC,GACnDxyD,EAAQ69J,OAAS0+B,GAAiBv6I,EAAQhiD,EAC5C,CAEA,SAASo9L,GAAS9pM,GAIhB,OAHAA,EAAOA,GAAQ,CAAC,GACXmpK,SAAWnpK,EAAKmpK,UAAY,GACjCnpK,EAAK49D,OAAS59D,EAAK49D,QAAU,GACtB59D,CACT,CAWA,MAAM+pM,GAAW,IAAI5hM,IACf6hM,GAAa,IAAIzhM,IAEvB,SAAS0hM,GAAW3iC,EAAU4iC,GAC5B,IAAIluL,EAAO+tL,GAASr/L,IAAI48J,GAMxB,OALKtrJ,IACHA,EAAOkuL,IACPH,GAAS/sM,IAAIsqK,EAAUtrJ,GACvBguL,GAAWnhM,IAAImT,IAEVA,CACT,CAEA,MAAMmuL,GAAaA,CAACntM,EAAK07D,EAAKpiD,KAC5B,MAAMmkD,EAAOwjG,GAAiBvlG,EAAKpiD,QACtB4nE,IAATzjB,GACFz9D,EAAI6L,IAAI4xD,IAIG,MAAM2vI,GACnB5/L,WAAAA,CAAYkkD,GACV/jD,KAAK0/L,QA/BT,SAAoB37I,GAMlB,OALAA,EAASA,GAAU,CAAC,GACb1uD,KAAO8pM,GAASp7I,EAAO1uD,MAE9B6pM,GAAYn7I,GAELA,CACT,CAwBmB47I,CAAW57I,GAC1B/jD,KAAK4/L,YAAc,IAAIpiM,IACvBwC,KAAK6/L,eAAiB,IAAIriM,GAC5B,CAEA,YAAIkhK,GACF,OAAO1+J,KAAK0/L,QAAQhhC,QACtB,CAEA,QAAItuK,GACF,OAAO4P,KAAK0/L,QAAQtvM,IACtB,CAEA,QAAIA,CAAKA,GACP4P,KAAK0/L,QAAQtvM,KAAOA,CACtB,CAEA,QAAIiF,GACF,OAAO2K,KAAK0/L,QAAQrqM,IACtB,CAEA,QAAIA,CAAKA,GACP2K,KAAK0/L,QAAQrqM,KAAO8pM,GAAS9pM,EAC/B,CAEA,WAAI0M,GACF,OAAO/B,KAAK0/L,QAAQ39L,OACtB,CAEA,WAAIA,CAAQA,GACV/B,KAAK0/L,QAAQ39L,QAAUA,CACzB,CAEA,WAAIwyD,GACF,OAAOv0D,KAAK0/L,QAAQnrI,OACtB,CAEA59C,MAAAA,GACE,MAAMotC,EAAS/jD,KAAK0/L,QACpB1/L,KAAK8/L,aACLZ,GAAYn7I,EACd,CAEA+7I,UAAAA,GACE9/L,KAAK4/L,YAAYrgG,QACjBv/F,KAAK6/L,eAAetgG,OACtB,CAQAy+E,gBAAAA,CAAiB+hB,GACf,OAAOT,GAAWS,GAChB,IAAM,CAAC,CACL,YAAYA,IACZ,MAEN,CASArf,yBAAAA,CAA0Bqf,EAAarqL,GACrC,OAAO4pL,GAAW,GAAGS,gBAA0BrqL,KAC7C,IAAM,CACJ,CACE,YAAYqqL,iBAA2BrqL,IACvC,eAAeA,KAGjB,CACE,YAAYqqL,IACZ,MAGR,CAUAxf,uBAAAA,CAAwBwf,EAAa/hL,GACnC,OAAOshL,GAAW,GAAGS,KAAe/hL,KAClC,IAAM,CAAC,CACL,YAAY+hL,cAAwB/hL,IACpC,YAAY+hL,IACZ,YAAY/hL,IACZ,MAEN,CAOA6/K,eAAAA,CAAgBl5F,GACd,MAAMltE,EAAKktE,EAAOltE,GAElB,OAAO6nK,GAAW,GADLt/L,KAAK5P,eACkBqnC,KAClC,IAAM,CAAC,CACL,WAAWA,OACRktE,EAAOq7F,wBAA0B,MAE1C,CAKAC,aAAAA,CAAcC,EAAWC,GACvB,MAAMP,EAAc5/L,KAAK4/L,YACzB,IAAI19K,EAAQ09K,EAAY7/L,IAAImgM,GAK5B,OAJKh+K,IAASi+K,IACZj+K,EAAQ,IAAI1kB,IACZoiM,EAAYvtM,IAAI6tM,EAAWh+K,IAEtBA,CACT,CAQA+7J,eAAAA,CAAgBiiB,EAAWE,EAAUD,GACnC,MAAM,QAACp+L,EAAO,KAAE3R,GAAQ4P,KAClBkiB,EAAQliB,KAAKigM,cAAcC,EAAWC,GACtCzlB,EAASx4J,EAAMniB,IAAIqgM,GACzB,GAAI1lB,EACF,OAAOA,EAGT,MAAMhS,EAAS,IAAI9qK,IAEnBwiM,EAAS/gL,SAAQhO,IACX6uL,IACFx3B,EAAOxqK,IAAIgiM,GACX7uL,EAAKgO,SAAQ1T,GAAO6zL,GAAW92B,EAAQw3B,EAAWv0L,MAEpD0F,EAAKgO,SAAQ1T,GAAO6zL,GAAW92B,EAAQ3mK,EAAS4J,KAChD0F,EAAKgO,SAAQ1T,GAAO6zL,GAAW92B,EAAQ1K,GAAU5tK,IAAS,CAAC,EAAGub,KAC9D0F,EAAKgO,SAAQ1T,GAAO6zL,GAAW92B,EAAQruC,GAAU1uH,KACjD0F,EAAKgO,SAAQ1T,GAAO6zL,GAAW92B,EAAQzK,GAAatyJ,IAAA,IAGtD,MAAMob,EAAQhyB,MAAMshF,KAAKqyF,GAOzB,OANqB,IAAjB3hJ,EAAMz4B,QACRy4B,EAAMhxB,KAAK5E,OAAO86B,OAAO,OAEvBozK,GAAWl8L,IAAIi9L,IACjBl+K,EAAM7vB,IAAI+tM,EAAUr5K,GAEfA,CACT,CAMAs5K,iBAAAA,GACE,MAAM,QAACt+L,EAAO,KAAE3R,GAAQ4P,KAExB,MAAO,CACL+B,EACAi8J,GAAU5tK,IAAS,CAAC,EACpBiqI,GAASmkC,SAASpuK,IAAS,CAAC,EAC5B,CAACA,QACDiqI,GACA4jC,GAEJ,CASAuiB,mBAAAA,CAAoB9X,EAAQxZ,EAAOp4J,GAA0B,IAAjB+d,EAAWxmB,UAAAC,OAAA,QAAAilF,IAAAllF,UAAC,GAADA,UAAC,GAAD,CAAC,IACtD,MAAMy/B,EAAS,CAACiqJ,SAAS,IACnB,SAACxkB,EAAQ,YAAE+sC,GAAeC,GAAYvgM,KAAK6/L,eAAgBn3B,EAAQ7zJ,GACzE,IAAI9S,EAAUwxJ,EACd,GAkDJ,SAAqBv/E,EAAOk7E,GAC1B,MAAM,aAACkb,EAAY,YAAEE,GAAelM,GAAapqF,GAEjD,IAAK,MAAMnV,KAAQqwF,EAAO,CACxB,MAAMyb,EAAaP,EAAavrG,GAC1B+rG,EAAYN,EAAYzrG,GACxB7rE,GAAS43K,GAAaD,IAAe32F,EAAMnV,GACjD,GAAK8rG,IAAehyD,GAAW3lH,IAAUwtM,GAAYxtM,KAC/C43K,GAAa51K,EAAQhC,GACzB,OAAO,CAEX,CACA,OAAO,CACT,CA/DQytM,CAAYltC,EAAUrE,GAAQ,CAChCphI,EAAOiqJ,SAAU,EAIjBh2K,EAAU8nK,GAAetW,EAHzBz8J,EAAU6hH,GAAW7hH,GAAWA,IAAYA,EAExBkJ,KAAKk+K,eAAexV,EAAQ5xK,EAASwpM,IAI3D,IAAK,MAAMzhI,KAAQqwF,EACjBphI,EAAO+wC,GAAQ98D,EAAQ88D,GAEzB,OAAO/wC,CACT,CAQAowJ,cAAAA,CAAexV,EAAQ5xK,GAA8C,IAArC+d,EAAWxmB,UAAAC,OAAA,QAAAilF,IAAAllF,UAAC,GAADA,UAAC,GAAD,CAAC,IAAK07K,EAAkB17K,UAAAC,OAAA,EAAAD,UAAA,QAAAklF,EACjE,MAAM,SAACggF,GAAYgtC,GAAYvgM,KAAK6/L,eAAgBn3B,EAAQ7zJ,GAC5D,OAAO+8I,EAAS96J,GACZ+yK,GAAetW,EAAUz8J,OAASy8E,EAAWw2F,GAC7CxW,CACN,EAGF,SAASgtC,GAAYG,EAAeh4B,EAAQ7zJ,GAC1C,IAAIqN,EAAQw+K,EAAc3gM,IAAI2oK,GACzBxmJ,IACHA,EAAQ,IAAI1kB,IACZkjM,EAAcruM,IAAIq2K,EAAQxmJ,IAE5B,MAAMy6I,EAAW9nJ,EAAS0H,OAC1B,IAAIm+J,EAASx4J,EAAMniB,IAAI48J,GACvB,IAAK+d,EAAQ,CAEXA,EAAS,CACPnnB,SAFekV,GAAgBC,EAAQ7zJ,GAGvCyrL,YAAazrL,EAASquE,QAAOtnF,IAAMA,EAAEmD,cAAcxL,SAAS,YAE9D2uB,EAAM7vB,IAAIsqK,EAAU+d,GAEtB,OAAOA,CACT,CAEA,MAAM8lB,GAAcxtM,GAAS4+J,EAAS5+J,IACjC7B,OAAO8qH,oBAAoBjpH,GAAOo6G,MAAMzhG,GAAQgtG,GAAW3lH,EAAM2Y,MC9XtE,MAAMg1L,GAAkB,CAAC,MAAO,SAAU,OAAQ,QAAS,aAC3D,SAASC,GAAqBjuH,EAAUkmF,GACtC,MAAoB,QAAblmF,GAAmC,WAAbA,IAAiE,IAAvCguH,GAAgBlvM,QAAQkhF,IAA6B,MAATkmF,CACrG,CAEA,SAASgoC,GAAcC,EAAIC,GACzB,OAAO,SAASv8L,EAAGO,GACjB,OAAOP,EAAEs8L,KAAQ/7L,EAAE+7L,GACft8L,EAAEu8L,GAAMh8L,EAAEg8L,GACVv8L,EAAEs8L,GAAM/7L,EAAE+7L,EAChB,CACF,CAEA,SAASE,GAAqBlqM,GAC5B,MAAMsmK,EAAQtmK,EAAQsmK,MAChBsa,EAAmBta,EAAMr7J,QAAQ0T,UAEvC2nJ,EAAMi2B,cAAc,eACpBpmK,EAAayqJ,GAAoBA,EAAiBupB,WAAY,CAACnqM,GAAUsmK,EAC3E,CAEA,SAAS8jC,GAAoBpqM,GAC3B,MAAMsmK,EAAQtmK,EAAQsmK,MAChBsa,EAAmBta,EAAMr7J,QAAQ0T,UACvCwX,EAAayqJ,GAAoBA,EAAiBypB,WAAY,CAACrqM,GAAUsmK,EAC3E,CAMA,SAASp5D,GAAUz/B,GAYjB,OAXIypG,MAAqC,kBAATzpG,EAC9BA,EAAOnmE,SAASgjM,eAAe78H,GACtBA,GAAQA,EAAKj2E,SAEtBi2E,EAAOA,EAAK,IAGVA,GAAQA,EAAK+T,SAEf/T,EAAOA,EAAK+T,QAEP/T,CACT,CAEA,MAAM88H,GAAY,CAAC,EACbC,GAAY31L,IAChB,MAAM2sE,EAAS0rB,GAAUr4F,GACzB,OAAOxa,OAAO+hG,OAAOmuG,IAAWn+G,QAAQ1rD,GAAMA,EAAE8gD,SAAWA,IAAQziF,KAAK,EAG1E,SAAS0rM,GAAgBxzI,EAAKvoD,EAAOs8K,GACnC,MAAMzwK,EAAOlgB,OAAOkgB,KAAK08C,GACzB,IAAK,MAAMpiD,KAAO0F,EAAM,CACtB,MAAMmwL,GAAU71L,EAChB,GAAI61L,GAAUh8L,EAAO,CACnB,MAAMxS,EAAQ+6D,EAAIpiD,UACXoiD,EAAIpiD,IACPm2K,EAAO,GAAK0f,EAASh8L,KACvBuoD,EAAIyzI,EAAS1f,GAAQ9uL,GAG3B,CACF,CAmBA,SAASyuM,GAAe9hC,EAAOqgB,EAAWx9B,GACxC,OAAOmd,EAAM59J,QAAQu/J,KAAO3B,EAAMnd,GAASw9B,EAAUx9B,EACvD,CAeA,MAAMk/C,GAEJpkI,gBAAO,KAAW+8D,GAAX,GACP/8D,iBAAO,KAAY+jI,GAAZ,GACP/jI,iBAAO,KAAY0gG,GAAZ,GACP1gG,gBAAO,KAAWy/H,GAAX,GACPz/H,uBACAA,gBAAO,KAAWgkI,GAAX,GAEP,eAAOxH,GACLiD,GAAS7+L,OAAO7P,WAChBszM,IACF,CAEA,iBAAOlH,GACLsC,GAAS7mB,UAAU7nL,WACnBszM,IACF,CAGA9hM,WAAAA,CAAY0kE,EAAMq9H,GAChB,MAAM79I,EAAS/jD,KAAK+jD,OAAS,IAAI07I,GAAOmC,GAClCC,EAAgB79F,GAAUz/B,GAC1Bu9H,EAAgBR,GAASO,GAC/B,GAAIC,EACF,MAAM,IAAIzwM,MACR,4CAA+CywM,EAAcrqK,GAA7D,kDACgDqqK,EAAcxpH,OAAO7gD,GAAK,oBAI9E,MAAM11B,EAAUgiD,EAAOm6H,eAAen6H,EAAOs8I,oBAAqBrgM,KAAK4hF,cAEvE5hF,KAAK0+J,SAAW,IAAK36G,EAAO26G,UCpJzB,SAAyBpmF,GAC9B,OAAK01F,MAAiD,qBAApBtsF,iBAAmCpJ,aAAkBoJ,gBAC9EkoG,GAEF0C,EACT,CD+I4CyV,CAAgBF,IACxD7hM,KAAK0+J,SAASirB,aAAa5lI,GAE3B,MAAMjtD,EAAUkJ,KAAK0+J,SAAS8qB,eAAeqY,EAAe9/L,EAAQ4tK,aAC9Dr3F,EAASxhF,GAAWA,EAAQwhF,OAC5BjsE,EAASisE,GAAUA,EAAOjsE,OAC1BD,EAAQksE,GAAUA,EAAOlsE,MAE/BpM,KAAKy3B,GAAKi6H,IACV1xJ,KAAKqkF,IAAMvtF,EACXkJ,KAAKs4E,OAASA,EACdt4E,KAAKoM,MAAQA,EACbpM,KAAKqM,OAASA,EACdrM,KAAKgiM,SAAWjgM,EAIhB/B,KAAKiiM,aAAejiM,KAAK2vK,YACzB3vK,KAAKooL,QAAU,GACfpoL,KAAKkiM,UAAY,GACjBliM,KAAK65K,aAAUtmG,EACfvzE,KAAK6nL,MAAQ,GACb7nL,KAAKsjK,6BAA0B/vF,EAC/BvzE,KAAKggL,eAAYzsG,EACjBvzE,KAAKy1K,QAAU,GACfz1K,KAAKmiM,gBAAa5uH,EAClBvzE,KAAKoiM,WAAa,CAAC,EAEnBpiM,KAAKqiM,0BAAuB9uH,EAC5BvzE,KAAKsiM,gBAAkB,GACvBtiM,KAAK4/J,OAAS,CAAC,EACf5/J,KAAKuiM,SAAW,IAAItF,GACpBj9L,KAAK4sL,SAAW,CAAC,EACjB5sL,KAAKwiM,eAAiB,CAAC,EACvBxiM,KAAKyiM,UAAW,EAChBziM,KAAK8gL,yBAAsBvtG,EAC3BvzE,KAAKu7K,cAAWhoG,EAChBvzE,KAAK0iM,UnC7IF,SAA4C9wM,EAA8BqvH,GAC/E,IAAIH,EACJ,OAAO,WAAyB,QAAAi6E,EAAA1sM,UAAAC,OAAb2nF,EAAW,IAAAlhF,MAAAgmM,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAX/kH,EAAW+kH,GAAA3sM,UAAA2sM,GAO5B,OANI/5E,GACF7yE,aAAa0yE,GACbA,EAAUztF,WAAWzhC,EAAIqvH,EAAOhrC,IAEhCrkF,EAAGy7C,MAAMrtC,KAAMi2E,GAEVgrC,CACT,CACF,CmCkIqB0hF,EAAS7kL,GAAQ9d,KAAK2W,OAAOmH,IAAO/b,EAAQ6gM,aAAe,GAC5E5iM,KAAKkiL,aAAe,GAGpBmf,GAAUrhM,KAAKy3B,IAAMz3B,KAEhBlJ,GAAYwhF,GASjB69F,GAASjiG,OAAOl0E,KAAM,WAAYghM,IAClC7qB,GAASjiG,OAAOl0E,KAAM,WAAYkhM,IAElClhM,KAAK6iM,cACD7iM,KAAKyiM,UACPziM,KAAK2W,UATLic,QAAQhY,MAAM,oEAWlB,CAEA,eAAI+0J,GACF,MAAO5tK,SAAS,YAAC4tK,EAAW,oBAAEpQ,GAAoB,MAAEnzJ,EAAA,OAAOC,EAAM,aAAE41L,GAAgBjiM,KACnF,OAAK2xJ,EAAcge,GAKfpQ,GAAuB0iC,EAElBA,EAIF51L,EAASD,EAAQC,EAAS,KATxBsjK,CAUX,CAEA,QAAIt6K,GACF,OAAO2K,KAAK+jD,OAAO1uD,IACrB,CAEA,QAAIA,CAAKA,GACP2K,KAAK+jD,OAAO1uD,KAAOA,CACrB,CAEA,WAAI0M,GACF,OAAO/B,KAAKgiM,QACd,CAEA,WAAIjgM,CAAQA,GACV/B,KAAK+jD,OAAOhiD,QAAUA,CACxB,CAEA,YAAIg7L,GACF,OAAOA,EACT,CAKA8F,WAAAA,GAeE,OAbA7iM,KAAKqzL,cAAc,cAEfrzL,KAAK+B,QAAQ29J,WACf1/J,KAAK0hG,SAEL2uE,GAAYrwK,KAAMA,KAAK+B,QAAQ08J,kBAGjCz+J,KAAK8iM,aAGL9iM,KAAKqzL,cAAc,aAEZrzL,IACT,CAEAu/F,KAAAA,GAEE,OADAikE,GAAYxjK,KAAKs4E,OAAQt4E,KAAKqkF,KACvBrkF,IACT,CAEAmhH,IAAAA,GAEE,OADAg1D,GAASh1D,KAAKnhH,MACPA,IACT,CAOA0hG,MAAAA,CAAOt1F,EAAOC,GACP8pK,GAASZ,QAAQv1K,MAGpBA,KAAK+iM,kBAAoB,CAAC32L,QAAOC,UAFjCrM,KAAKgjM,QAAQ52L,EAAOC,EAIxB,CAEA22L,OAAAA,CAAQ52L,EAAOC,GACb,MAAMtK,EAAU/B,KAAK+B,QACfu2E,EAASt4E,KAAKs4E,OACdq3F,EAAc5tK,EAAQw9J,qBAAuBv/J,KAAK2vK,YAClDszB,EAAUjjM,KAAK0+J,SAAS8Q,eAAel3F,EAAQlsE,EAAOC,EAAQsjK,GAC9DuzB,EAAWnhM,EAAQ08J,kBAAoBz+J,KAAK0+J,SAASC,sBACrD7gJ,EAAO9d,KAAKoM,MAAQ,SAAW,SAErCpM,KAAKoM,MAAQ62L,EAAQ72L,MACrBpM,KAAKqM,OAAS42L,EAAQ52L,OACtBrM,KAAKiiM,aAAejiM,KAAK2vK,YACpBU,GAAYrwK,KAAMkjM,GAAU,KAIjCljM,KAAKqzL,cAAc,SAAU,CAACxsK,KAAMo8K,IAEpCh2K,EAAalrB,EAAQohM,SAAU,CAACnjM,KAAMijM,GAAUjjM,MAE5CA,KAAKyiM,UACHziM,KAAK0iM,UAAU5kL,IAEjB9d,KAAKtP,SAGX,CAEA0yM,mBAAAA,GAIEziF,EAHgB3gH,KAAK+B,QACS69J,QAAU,CAAC,GAErB,CAACyjC,EAAa5J,KAChC4J,EAAY5rK,GAAKgiK,CAAA,GAErB,CAKA6J,mBAAAA,GACE,MAAMvhM,EAAU/B,KAAK+B,QACfwhM,EAAYxhM,EAAQ69J,OACpBA,EAAS5/J,KAAK4/J,OACd4jC,EAAUryM,OAAOkgB,KAAKuuJ,GAAQ/gD,QAAO,CAAC9wD,EAAKt2B,KAC/Cs2B,EAAIt2B,IAAM,EACHs2B,IACN,CAAC,GACJ,IAAIyyD,EAAQ,GAER+iF,IACF/iF,EAAQA,EAAM1zF,OACZ37B,OAAOkgB,KAAKkyL,GAAWz8K,KAAK2Q,IAC1B,MAAM0mK,EAAeoF,EAAU9rK,GACzBohI,EAAOolC,GAAcxmK,EAAI0mK,GACzBsF,EAAoB,MAAT5qC,EACX4vB,EAAwB,MAAT5vB,EACrB,MAAO,CACL92J,QAASo8L,EACTuF,UAAWD,EAAW,YAAchb,EAAe,SAAW,OAC9Dkb,MAAOF,EAAW,eAAiBhb,EAAe,WAAa,SAChE,MAKP9nE,EAAKH,GAAQj8C,IACX,MAAM45H,EAAe55H,EAAKxiE,QACpB01B,EAAK0mK,EAAa1mK,GAClBohI,EAAOolC,GAAcxmK,EAAI0mK,GACzByF,EAAY5xC,EAAemsC,EAAa/tM,KAAMm0E,EAAKo/H,YAE3BpwH,IAA1B4qH,EAAaxrH,UAA0BiuH,GAAqBzC,EAAaxrH,SAAUkmF,KAAU+nC,GAAqBr8H,EAAKm/H,aACzHvF,EAAaxrH,SAAWpO,EAAKm/H,WAG/BF,EAAQ/rK,IAAM,EACd,IAAIkoI,EAAQ,KACZ,GAAIloI,KAAMmoI,GAAUA,EAAOnoI,GAAIrnC,OAASwzM,EACtCjkC,EAAQC,EAAOnoI,OACV,CAELkoI,EAAQ,IADWo9B,GAASlB,SAAS+H,GAC7B,CAAe,CACrBnsK,KACArnC,KAAMwzM,EACNv/G,IAAKrkF,KAAKqkF,IACV+4E,MAAOp9J,OAET4/J,EAAOD,EAAMloI,IAAMkoI,EAGrBA,EAAMjjJ,KAAKyhL,EAAcp8L,EAAA,IAG3B4+G,EAAK6iF,GAAS,CAACK,EAAYpsK,KACpBosK,UACIjkC,EAAOnoI,MAIlBkpF,EAAKi/C,GAASD,IACZumB,GAAQzO,UAAUz3K,KAAM2/J,EAAOA,EAAM59J,SACrCmkL,GAAQiC,OAAOnoL,KAAM2/J,EAAA,GAEzB,CAKAmkC,eAAAA,GACE,MAAMrrB,EAAWz4K,KAAKkiM,UAChBvgB,EAAU3hL,KAAK3K,KAAKmpK,SAASlwK,OAC7BozL,EAAUjJ,EAASnqL,OAGzB,GADAmqL,EAASuN,MAAK,CAACxhL,EAAGO,IAAMP,EAAE/O,MAAQsP,EAAEtP,QAChCisL,EAAUC,EAAS,CACrB,IAAK,IAAInzL,EAAImzL,EAASnzL,EAAIkzL,IAAWlzL,EACnCwR,KAAK+jM,oBAAoBv1M,GAE3BiqL,EAAS/1I,OAAOi/I,EAASD,EAAUC,GAErC3hL,KAAKsiM,gBAAkB7pB,EAASt8K,MAAM,GAAG6pL,KAAK6a,GAAc,QAAS,SACvE,CAKAmD,2BAAAA,GACE,MAAO9B,UAAWzpB,EAAUpjL,MAAM,SAACmpK,IAAax+J,KAC5Cy4K,EAASnqL,OAASkwK,EAASlwK,eACtB0R,KAAK65K,QAEdpB,EAASp5J,SAAQ,CAAColD,EAAMhvE,KACmC,IAArD+oK,EAASt7E,QAAOryF,GAAKA,IAAM4zE,EAAKm+G,WAAUt0L,QAC5C0R,KAAK+jM,oBAAoBtuM,KAG/B,CAEAwuM,wBAAAA,GACE,MAAMC,EAAiB,GACjB1lC,EAAWx+J,KAAK3K,KAAKmpK,SAC3B,IAAIhwK,EAAGgkK,EAIP,IAFAxyJ,KAAKgkM,8BAEAx1M,EAAI,EAAGgkK,EAAOgM,EAASlwK,OAAQE,EAAIgkK,EAAMhkK,IAAK,CACjD,MAAMupC,EAAUymI,EAAShwK,GACzB,IAAIi2E,EAAOzkE,KAAK88K,eAAetuL,GAC/B,MAAM4B,EAAO2nC,EAAQ3nC,MAAQ4P,KAAK+jD,OAAO3zD,KAazC,GAXIq0E,EAAKr0E,MAAQq0E,EAAKr0E,OAASA,IAC7B4P,KAAK+jM,oBAAoBv1M,GACzBi2E,EAAOzkE,KAAK88K,eAAetuL,IAE7Bi2E,EAAKr0E,KAAOA,EACZq0E,EAAK06F,UAAYpnI,EAAQonI,WAAa2+B,GAAa1tM,EAAM4P,KAAK+B,SAC9D0iE,EAAK0/H,MAAQpsK,EAAQosK,OAAS,EAC9B1/H,EAAKhvE,MAAQjH,EACbi2E,EAAKrc,MAAQ,GAAKrwB,EAAQqwB,MAC1Bqc,EAAKu8F,QAAUhhK,KAAKokM,iBAAiB51M,GAEjCi2E,EAAK1iD,WACP0iD,EAAK1iD,WAAWg6J,YAAYvtL,GAC5Bi2E,EAAK1iD,WAAW45J,iBACX,CACL,MAAM0oB,EAAkBtH,GAAStB,cAAcrrM,IACzC,mBAACqrL,EAAA,gBAAoBC,GAAmBrhD,GAASmkC,SAASpuK,GAChEe,OAAOD,OAAOmzM,EAAiB,CAC7B3oB,gBAAiBqhB,GAASpB,WAAWjgB,GACrCD,mBAAoBA,GAAsBshB,GAASpB,WAAWlgB,KAEhEh3G,EAAK1iD,WAAa,IAAIsiL,EAAgBrkM,KAAMxR,GAC5C01M,EAAenuM,KAAK0uE,EAAK1iD,YAE7B,CAGA,OADA/hB,KAAK8jM,kBACEI,CACT,CAMAI,cAAAA,GACE3jF,EAAK3gH,KAAK3K,KAAKmpK,UAAU,CAACzmI,EAAS26H,KACjC1yJ,KAAK88K,eAAepqB,GAAc3wI,WAAW8hB,OAAO,GACnD7jC,KACL,CAKA6jC,KAAAA,GACE7jC,KAAKskM,iBACLtkM,KAAKqzL,cAAc,QACrB,CAEA18K,MAAAA,CAAOmH,GACL,MAAMimC,EAAS/jD,KAAK+jD,OAEpBA,EAAOptC,SACP,MAAM5U,EAAU/B,KAAKgiM,SAAWj+I,EAAOm6H,eAAen6H,EAAOs8I,oBAAqBrgM,KAAK4hF,cACjF2iH,EAAgBvkM,KAAK8gL,qBAAuB/+K,EAAQ0T,UAU1D,GARAzV,KAAKwkM,gBACLxkM,KAAKykM,sBACLzkM,KAAK0kM,uBAIL1kM,KAAKuiM,SAASnF,cAEuD,IAAjEp9L,KAAKqzL,cAAc,eAAgB,CAACv1K,OAAMjW,YAAY,IACxD,OAIF,MAAMq8L,EAAiBlkM,KAAKikM,2BAE5BjkM,KAAKqzL,cAAc,wBAGnB,IAAI9K,EAAa,EACjB,IAAK,IAAI/5L,EAAI,EAAGgkK,EAAOxyJ,KAAK3K,KAAKmpK,SAASlwK,OAAQE,EAAIgkK,EAAMhkK,IAAK,CAC/D,MAAM,WAACuzB,GAAc/hB,KAAK88K,eAAetuL,GACnCq1C,GAAS0gK,IAAyD,IAAxCL,EAAezyM,QAAQswB,GAGvDA,EAAW27J,sBAAsB75I,GACjC0kJ,EAAanvL,KAAK4sD,KAAKjkC,EAAW29J,iBAAkB6I,EACtD,CACAA,EAAavoL,KAAK2kM,YAAc5iM,EAAQ0kL,OAAOvlB,YAAcqnB,EAAa,EAC1EvoL,KAAK4kM,cAAcrc,GAGdgc,GAGH5jF,EAAKujF,GAAiBniL,IACpBA,EAAW8hB,OAAO,IAItB7jC,KAAK6kM,gBAAgB/mL,GAGrB9d,KAAKqzL,cAAc,cAAe,CAACv1K,SAEnC9d,KAAKooL,QAAQpC,KAAK6a,GAAc,IAAK,SAGrC,MAAM,QAACprB,EAAO,WAAE0sB,GAAcniM,KAC1BmiM,EACFniM,KAAK8kM,cAAc3C,GAAY,GACtB1sB,EAAQnnL,QACjB0R,KAAK+kM,mBAAmBtvB,EAASA,GAAS,GAG5Cz1K,KAAKtP,QACP,CAKA8zM,aAAAA,GACE7jF,EAAK3gH,KAAK4/J,QAASD,IACjBumB,GAAQmC,UAAUroL,KAAM2/J,EAAA,IAG1B3/J,KAAKojM,sBACLpjM,KAAKsjM,qBACP,CAKAmB,mBAAAA,GACE,MAAM1iM,EAAU/B,KAAK+B,QACfijM,EAAiB,IAAIpnM,IAAIzM,OAAOkgB,KAAKrR,KAAKoiM,aAC1C6C,EAAY,IAAIrnM,IAAImE,EAAQsjB,QAE7BwuI,GAAUmxC,EAAgBC,MAAgBjlM,KAAKqiM,uBAAyBtgM,EAAQ29J,aAEnF1/J,KAAKklM,eACLllM,KAAK8iM,aAET,CAKA4B,oBAAAA,GACE,MAAM,eAAClC,GAAkBxiM,KACnBglH,EAAUhlH,KAAKmlM,0BAA4B,GACjD,IAAK,MAAM,OAAC7vM,EAAM,MAAEkQ,EAAA,MAAOo7B,KAAUokF,EAAS,CAE5Cu8E,GAAgBiB,EAAgBh9L,EADR,oBAAXlQ,GAAgCsrC,EAAQA,EAEvD,CACF,CAKAukK,sBAAAA,GACE,MAAMjjB,EAAeliL,KAAKkiL,aAC1B,IAAKA,IAAiBA,EAAa5zL,OACjC,OAGF0R,KAAKkiL,aAAe,GACpB,MAAMkjB,EAAeplM,KAAK3K,KAAKmpK,SAASlwK,OAClC+2M,EAAWtxF,GAAQ,IAAIn2G,IAC3BskL,EACGh/F,QAAO1rD,GAAKA,EAAE,KAAOu8E,IACrBjtF,KAAI,CAAC0Q,EAAGhpC,IAAMA,EAAI,IAAMgpC,EAAEkL,OAAO,GAAGnmB,KAAK,QAGxC+oL,EAAYD,EAAQ,GAC1B,IAAK,IAAI72M,EAAI,EAAGA,EAAI42M,EAAc52M,IAChC,IAAKqlK,GAAUyxC,EAAWD,EAAQ72M,IAChC,OAGJ,OAAOuG,MAAMshF,KAAKivH,GACfx+K,KAAI0Q,GAAKA,EAAEnkC,MAAM,OACjByzB,KAAItiB,IAAA,CAAOlP,OAAQkP,EAAE,GAAIgB,OAAQhB,EAAE,GAAIo8B,OAAQp8B,EAAE,MACtD,CAOAogM,aAAAA,CAAcrc,GACZ,IAA+D,IAA3DvoL,KAAKqzL,cAAc,eAAgB,CAACxrL,YAAY,IAClD,OAGFq+K,GAAQvvK,OAAO3W,KAAMA,KAAKoM,MAAOpM,KAAKqM,OAAQk8K,GAE9C,MAAMtmC,EAAOjiJ,KAAKggL,UACZulB,EAAStjD,EAAK71I,OAAS,GAAK61I,EAAK51I,QAAU,EAEjDrM,KAAKooL,QAAU,GACfznE,EAAK3gH,KAAK6nL,OAAQ7Y,IACZu2B,GAA2B,cAAjBv2B,EAAIr8F,WAOdq8F,EAAIyI,WACNzI,EAAIyI,YAENz3K,KAAKooL,QAAQryL,QAAQi5K,EAAIoZ,WAAU,GAClCpoL,MAEHA,KAAKooL,QAAQ/oK,SAAQ,CAACklD,EAAM9uE,KAC1B8uE,EAAKihI,KAAO/vM,CAAA,IAGduK,KAAKqzL,cAAc,cACrB,CAOAwR,eAAAA,CAAgB/mL,GACd,IAA6E,IAAzE9d,KAAKqzL,cAAc,uBAAwB,CAACv1K,OAAMjW,YAAY,IAAlE,CAIA,IAAK,IAAIrZ,EAAI,EAAGgkK,EAAOxyJ,KAAK3K,KAAKmpK,SAASlwK,OAAQE,EAAIgkK,IAAQhkK,EAC5DwR,KAAK88K,eAAetuL,GAAGuzB,WAAW01J,YAGpC,IAAK,IAAIjpL,EAAI,EAAGgkK,EAAOxyJ,KAAK3K,KAAKmpK,SAASlwK,OAAQE,EAAIgkK,IAAQhkK,EAC5DwR,KAAKylM,eAAej3M,EAAGmqH,GAAW76F,GAAQA,EAAK,CAAC40I,aAAclkK,IAAMsvB,GAGtE9d,KAAKqzL,cAAc,sBAAuB,CAACv1K,SAC7C,CAOA2nL,cAAAA,CAAehwM,EAAOqoB,GACpB,MAAM2mD,EAAOzkE,KAAK88K,eAAernL,GAC3BwgF,EAAO,CAACxR,OAAMhvE,QAAOqoB,OAAMjW,YAAY,IAEW,IAApD7H,KAAKqzL,cAAc,sBAAuBp9G,KAI9CxR,EAAK1iD,WAAWszJ,QAAQv3J,GAExBm4D,EAAKpuE,YAAa,EAClB7H,KAAKqzL,cAAc,qBAAsBp9G,GAC3C,CAEAvlF,MAAAA,IACiE,IAA3DsP,KAAKqzL,cAAc,eAAgB,CAACxrL,YAAY,MAIhDsuK,GAAShzK,IAAInD,MACXA,KAAKyiM,WAAatsB,GAASZ,QAAQv1K,OACrCm2K,GAAS3wK,MAAMxF,OAGjBA,KAAKw1K,OACLwrB,GAAqB,CAAC5jC,MAAOp9J,QAEjC,CAEAw1K,IAAAA,GACE,IAAIhnL,EACJ,GAAIwR,KAAK+iM,kBAAmB,CAC1B,MAAM,MAAC32L,EAAA,OAAOC,GAAUrM,KAAK+iM,kBAE7B/iM,KAAK+iM,kBAAoB,KACzB/iM,KAAKgjM,QAAQ52L,EAAOC,GAItB,GAFArM,KAAKu/F,QAEDv/F,KAAKoM,OAAS,GAAKpM,KAAKqM,QAAU,EACpC,OAGF,IAA6D,IAAzDrM,KAAKqzL,cAAc,aAAc,CAACxrL,YAAY,IAChD,OAMF,MAAMokH,EAASjsH,KAAKooL,QACpB,IAAK55L,EAAI,EAAGA,EAAIy9H,EAAO39H,QAAU29H,EAAOz9H,GAAG4oF,GAAK,IAAK5oF,EACnDy9H,EAAOz9H,GAAGgnL,KAAKx1K,KAAKggL,WAMtB,IAHAhgL,KAAK0lM,gBAGEl3M,EAAIy9H,EAAO39H,SAAUE,EAC1By9H,EAAOz9H,GAAGgnL,KAAKx1K,KAAKggL,WAGtBhgL,KAAKqzL,cAAc,YACrB,CAKA3a,sBAAAA,CAAuBF,GACrB,MAAMC,EAAWz4K,KAAKsiM,gBAChBx0K,EAAS,GACf,IAAIt/B,EAAGgkK,EAEP,IAAKhkK,EAAI,EAAGgkK,EAAOimB,EAASnqL,OAAQE,EAAIgkK,IAAQhkK,EAAG,CACjD,MAAMi2E,EAAOg0G,EAASjqL,GACjBgqL,IAAiB/zG,EAAKu8F,SACzBlzI,EAAO/3B,KAAK0uE,EAEhB,CAEA,OAAO32C,CACT,CAMAs2J,4BAAAA,GACE,OAAOpkL,KAAK04K,wBAAuB,EACrC,CAOAgtB,aAAAA,GACE,IAAqE,IAAjE1lM,KAAKqzL,cAAc,qBAAsB,CAACxrL,YAAY,IACxD,OAGF,MAAM4wK,EAAWz4K,KAAKokL,+BACtB,IAAK,IAAI51L,EAAIiqL,EAASnqL,OAAS,EAAGE,GAAK,IAAKA,EAC1CwR,KAAK2lM,aAAaltB,EAASjqL,IAG7BwR,KAAKqzL,cAAc,oBACrB,CAOAsS,YAAAA,CAAalhI,GACX,MAAM4f,EAAMrkF,KAAKqkF,IACXi9E,EAAO78F,EAAKo7G,MACZ+lB,GAAWtkC,EAAKp/J,SAChB+/I,EAzrBV,SAAwBx9E,EAAMu7G,GAC5B,MAAM,OAACzmB,EAAA,OAAQC,GAAU/0F,EACzB,OAAI80F,GAAUC,EACL,CACLxlJ,KAAMytL,GAAeloC,EAAQymB,EAAW,QACxCzkH,MAAOkmI,GAAeloC,EAAQymB,EAAW,SACzC9rK,IAAKutL,GAAejoC,EAAQwmB,EAAW,OACvC7e,OAAQsgC,GAAejoC,EAAQwmB,EAAW,WAGvCA,CACT,CA8qBiB6lB,CAAephI,EAAMzkE,KAAKggL,WACjC/pG,EAAO,CACXxR,OACAhvE,MAAOgvE,EAAKhvE,MACZoS,YAAY,IAGwC,IAAlD7H,KAAKqzL,cAAc,oBAAqBp9G,KAIxC2vH,GACF1gC,GAAS7gF,EAAK,CACZrwE,MAAoB,IAAdstJ,EAAKttJ,KAAiB,EAAIiuI,EAAKjuI,KAAOstJ,EAAKttJ,KACjDunD,OAAsB,IAAf+lG,EAAK/lG,MAAkBv7D,KAAKoM,MAAQ61I,EAAK1mF,MAAQ+lG,EAAK/lG,MAC7DrnD,KAAkB,IAAbotJ,EAAKptJ,IAAgB,EAAI+tI,EAAK/tI,IAAMotJ,EAAKptJ,IAC9CitJ,QAAwB,IAAhBG,EAAKH,OAAmBnhK,KAAKqM,OAAS41I,EAAKkf,OAASG,EAAKH,SAIrE18F,EAAK1iD,WAAWyzJ,OAEZowB,GACFzgC,GAAW9gF,GAGbpO,EAAKpuE,YAAa,EAClB7H,KAAKqzL,cAAc,mBAAoBp9G,GACzC,CAOAsuG,aAAAA,CAAcnrB,GACZ,OAAO4L,GAAe5L,EAAOp5J,KAAKggL,UAAWhgL,KAAK2kM,YACpD,CAEAmB,yBAAAA,CAA0BhlM,EAAGgd,EAAM/b,EAASuiL,GAC1C,MAAMhvL,EAASmwL,GAAYC,MAAM5nK,GACjC,MAAsB,oBAAXxoB,EACFA,EAAO0K,KAAMc,EAAGiB,EAASuiL,GAG3B,EACT,CAEAxH,cAAAA,CAAepqB,GACb,MAAM36H,EAAU/3B,KAAK3K,KAAKmpK,SAAS9L,GAC7B+lB,EAAWz4K,KAAKkiM,UACtB,IAAIz9H,EAAOg0G,EAASv1F,QAAOryF,GAAKA,GAAKA,EAAE+xL,WAAa7qJ,IAASliC,MAoB7D,OAlBK4uE,IACHA,EAAO,CACLr0E,KAAM,KACNiF,KAAM,GACN0iC,QAAS,KACThW,WAAY,KACZw4H,OAAQ,KACR4hC,QAAS,KACTE,QAAS,KACT8nB,MAAOpsK,GAAWA,EAAQosK,OAAS,EACnC1uM,MAAOi9J,EACPkwB,SAAU7qJ,EACV4gI,QAAS,GACTH,SAAS,GAEXigB,EAAS1iL,KAAK0uE,IAGTA,CACT,CAEAmd,UAAAA,GACE,OAAO5hF,KAAKu7K,WAAav7K,KAAKu7K,SAAWt3H,GAAc,KAAM,CAACm5G,MAAOp9J,KAAM5P,KAAM,UACnF,CAEA21M,sBAAAA,GACE,OAAO/lM,KAAKokL,+BAA+B91L,MAC7C,CAEA81M,gBAAAA,CAAiB1xC,GACf,MAAM36H,EAAU/3B,KAAK3K,KAAKmpK,SAAS9L,GACnC,IAAK36H,EACH,OAAO,EAGT,MAAM0sC,EAAOzkE,KAAK88K,eAAepqB,GAIjC,MAA8B,mBAAhBjuF,EAAK81E,QAAwB91E,EAAK81E,QAAUxiH,EAAQwiH,MACpE,CAEAyrD,oBAAAA,CAAqBtzC,EAAcsO,GACpBhhK,KAAK88K,eAAepqB,GAC5BnY,QAAUymB,CACjB,CAEAilC,oBAAAA,CAAqBxwM,GACnBuK,KAAKwiM,eAAe/sM,IAAUuK,KAAKwiM,eAAe/sM,EACpD,CAEAywM,iBAAAA,CAAkBzwM,GAChB,OAAQuK,KAAKwiM,eAAe/sM,EAC9B,CAKA0wM,iBAAAA,CAAkBzzC,EAAcpzC,EAAW0hD,GACzC,MAAMljJ,EAAOkjJ,EAAU,OAAS,OAC1Bv8F,EAAOzkE,KAAK88K,eAAepqB,GAC3BuiB,EAAQxwG,EAAK1iD,WAAW0+J,wBAAmBltG,EAAWz1D,GAExD81I,GAAQt0C,IACV76C,EAAKpvE,KAAKiqH,GAAWi7B,QAAUymB,EAC/BhhK,KAAK2W,WAEL3W,KAAKgmM,qBAAqBtzC,EAAcsO,GAExCiU,EAAMt+J,OAAO8tD,EAAM,CAACu8F,YACpBhhK,KAAK2W,QAAQ0tE,GAAQA,EAAIquE,eAAiBA,EAAe50I,OAAOy1D,IAEpE,CAEA0tF,IAAAA,CAAKvO,EAAcpzC,GACjBt/G,KAAKmmM,kBAAkBzzC,EAAcpzC,GAAW,EAClD,CAEAwhD,IAAAA,CAAKpO,EAAcpzC,GACjBt/G,KAAKmmM,kBAAkBzzC,EAAcpzC,GAAW,EAClD,CAKAykF,mBAAAA,CAAoBrxC,GAClB,MAAMjuF,EAAOzkE,KAAKkiM,UAAUxvC,GACxBjuF,GAAQA,EAAK1iD,YACf0iD,EAAK1iD,WAAWk7J,kBAEXj9K,KAAKkiM,UAAUxvC,EACxB,CAEA0zC,KAAAA,GACE,IAAI53M,EAAGgkK,EAIP,IAHAxyJ,KAAKmhH,OACLg1D,GAASD,OAAOl2K,MAEXxR,EAAI,EAAGgkK,EAAOxyJ,KAAK3K,KAAKmpK,SAASlwK,OAAQE,EAAIgkK,IAAQhkK,EACxDwR,KAAK+jM,oBAAoBv1M,EAE7B,CAEAs6B,OAAAA,GACE9oB,KAAKqzL,cAAc,iBACnB,MAAM,OAAC/6G,EAAM,IAAE+L,GAAOrkF,KAEtBA,KAAKomM,QACLpmM,KAAK+jD,OAAO+7I,aAERxnH,IACFt4E,KAAKklM,eACL1hC,GAAYlrF,EAAQ+L,GACpBrkF,KAAK0+J,SAAS+qB,eAAeplG,GAC7BrkF,KAAKs4E,OAAS,KACdt4E,KAAKqkF,IAAM,aAGNg9G,GAAUrhM,KAAKy3B,IAEtBz3B,KAAKqzL,cAAc,eACrB,CAEAgT,aAAAA,GACE,OAAOrmM,KAAKs4E,OAAOguH,aAAaj4M,UAClC,CAKAy0M,UAAAA,GACE9iM,KAAKumM,iBACDvmM,KAAK+B,QAAQ29J,WACf1/J,KAAKwmM,uBAELxmM,KAAKyiM,UAAW,CAEpB,CAKA8D,cAAAA,GACE,MAAM72L,EAAY1P,KAAKoiM,WACjB1jC,EAAW1+J,KAAK0+J,SAEhB+nC,EAAOA,CAACr2M,EAAMixB,KAClBq9I,EAASv5J,iBAAiBnF,KAAM5P,EAAMixB,GACtC3R,EAAUtf,GAAQixB,CAAA,EAGdA,EAAWA,CAACvgB,EAAGjQ,EAAGmgB,KACtBlQ,EAAEmuK,QAAUp+K,EACZiQ,EAAEouK,QAAUl+J,EACZhR,KAAK8kM,cAAchkM,EAAA,EAGrB6/G,EAAK3gH,KAAK+B,QAAQsjB,QAASj1B,GAASq2M,EAAKr2M,EAAMixB,IACjD,CAKAmlL,oBAAAA,GACOxmM,KAAKqiM,uBACRriM,KAAKqiM,qBAAuB,CAAC,GAE/B,MAAM3yL,EAAY1P,KAAKqiM,qBACjB3jC,EAAW1+J,KAAK0+J,SAEhB+nC,EAAOA,CAACr2M,EAAMixB,KAClBq9I,EAASv5J,iBAAiBnF,KAAM5P,EAAMixB,GACtC3R,EAAUtf,GAAQixB,CAAA,EAEdqlL,EAAUA,CAACt2M,EAAMixB,KACjB3R,EAAUtf,KACZsuK,EAASt5J,oBAAoBpF,KAAM5P,EAAMixB,UAClC3R,EAAUtf,KAIfixB,EAAWA,CAACjV,EAAOC,KACnBrM,KAAKs4E,QACPt4E,KAAK0hG,OAAOt1F,EAAOC,IAIvB,IAAIs6L,EACJ,MAAMlE,EAAWA,KACfiE,EAAQ,SAAUjE,GAElBziM,KAAKyiM,UAAW,EAChBziM,KAAK0hG,SAEL+kG,EAAK,SAAUplL,GACfolL,EAAK,SAAUE,EAAA,EAGjBA,EAAWA,KACT3mM,KAAKyiM,UAAW,EAEhBiE,EAAQ,SAAUrlL,GAGlBrhB,KAAKomM,QACLpmM,KAAKgjM,QAAQ,EAAG,GAEhByD,EAAK,SAAUhE,EAAA,EAGb/jC,EAASgrB,WAAW1pL,KAAKs4E,QAC3BmqH,IAEAkE,GAEJ,CAKAzB,YAAAA,GACEvkF,EAAK3gH,KAAKoiM,YAAY,CAAC/gL,EAAUjxB,KAC/B4P,KAAK0+J,SAASt5J,oBAAoBpF,KAAM5P,EAAMixB,EAAA,IAEhDrhB,KAAKoiM,WAAa,CAAC,EAEnBzhF,EAAK3gH,KAAKqiM,sBAAsB,CAAChhL,EAAUjxB,KACzC4P,KAAK0+J,SAASt5J,oBAAoBpF,KAAM5P,EAAMixB,EAAA,IAEhDrhB,KAAKqiM,0BAAuB9uH,CAC9B,CAEAqzH,gBAAAA,CAAiBpmF,EAAO1iG,EAAM+vK,GAC5B,MAAM/8L,EAAS+8L,EAAU,MAAQ,SACjC,IAAIppH,EAAMF,EAAM/1E,EAAGgkK,EAOnB,IALa,YAAT10I,IACF2mD,EAAOzkE,KAAK88K,eAAet8D,EAAM,GAAGkyC,cACpCjuF,EAAK1iD,WAAW,IAAMjxB,EAAS,wBAG5BtC,EAAI,EAAGgkK,EAAOhyC,EAAMlyH,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAC9C+1E,EAAOi8C,EAAMhyH,GACb,MAAMuzB,EAAawiD,GAAQvkE,KAAK88K,eAAev4G,EAAKmuF,cAAc3wI,WAC9DA,GACFA,EAAWjxB,EAAS,cAAcyzE,EAAKnjE,QAASmjE,EAAKmuF,aAAcnuF,EAAK9uE,MAE5E,CACF,CAMAoxM,iBAAAA,GACE,OAAO7mM,KAAKy1K,SAAW,EACzB,CAMAqxB,iBAAAA,CAAkBC,GAChB,MAAMC,EAAahnM,KAAKy1K,SAAW,GAC7B5U,EAASkmC,EAAejgL,KAAIwzH,IAA2B,IAA1B,aAACoY,EAAY,MAAEj9J,GAAM6kJ,EACtD,MAAM71E,EAAOzkE,KAAK88K,eAAepqB,GACjC,IAAKjuF,EACH,MAAM,IAAIpzE,MAAM,6BAA+BqhK,GAGjD,MAAO,CACLA,eACAtxJ,QAASqjE,EAAKpvE,KAAKI,GACnBA,QACD,KAEc48J,EAAewO,EAAQmmC,KAGtChnM,KAAKy1K,QAAU5U,EAEf7gK,KAAKmiM,WAAa,KAClBniM,KAAK+kM,mBAAmBlkC,EAAQmmC,GAEpC,CAWA3T,aAAAA,CAAcltK,EAAM8vD,EAAMiN,GACxB,OAAOljF,KAAKuiM,SAASrF,OAAOl9L,KAAMmmB,EAAM8vD,EAAMiN,EAChD,CAOA44F,eAAAA,CAAgBmrB,GACd,OAA6E,IAAtEjnM,KAAKuiM,SAASzR,OAAO5tG,QAAOtnF,GAAKA,EAAE+oG,OAAOltE,KAAOwvK,IAAU34M,MACpE,CAKAy2M,kBAAAA,CAAmBlkC,EAAQmmC,EAAYE,GACrC,MAAMC,EAAennM,KAAK+B,QAAQg9J,MAC5BriB,EAAOA,CAACl4I,EAAGO,IAAMP,EAAE0+E,QAAOryF,IAAMkU,EAAEqoG,MAAKp8F,GAAKngB,EAAE6hK,eAAiB1hJ,EAAE0hJ,cAAgB7hK,EAAE4E,QAAUub,EAAEvb,UAC/F2xM,EAAc1qD,EAAKsqD,EAAYnmC,GAC/BwmC,EAAYH,EAASrmC,EAASnkB,EAAKmkB,EAAQmmC,GAE7CI,EAAY94M,QACd0R,KAAK4mM,iBAAiBQ,EAAaD,EAAarpL,MAAM,GAGpDupL,EAAU/4M,QAAU64M,EAAarpL,MACnC9d,KAAK4mM,iBAAiBS,EAAWF,EAAarpL,MAAM,EAExD,CAKAgnL,aAAAA,CAAchkM,EAAGomM,GACf,MAAMjxH,EAAO,CACXn6E,MAAOgF,EACPomM,SACAr/L,YAAY,EACZy/L,YAAatnM,KAAKukL,cAAczjL,IAE5BymM,EAAe5iG,IAAYA,EAAO5iG,QAAQsjB,QAAUrlB,KAAK+B,QAAQsjB,QAAQ9xB,SAASuN,EAAEqrL,OAAO/7L,MAEjG,IAA6D,IAAzD4P,KAAKqzL,cAAc,cAAep9G,EAAMsxH,GAC1C,OAGF,MAAMxtC,EAAU/5J,KAAKwnM,aAAa1mM,EAAGomM,EAAQjxH,EAAKqxH,aASlD,OAPArxH,EAAKpuE,YAAa,EAClB7H,KAAKqzL,cAAc,aAAcp9G,EAAMsxH,IAEnCxtC,GAAW9jF,EAAK8jF,UAClB/5J,KAAKtP,SAGAsP,IACT,CAUAwnM,YAAAA,CAAa1mM,EAAGomM,EAAQI,GACtB,MAAO7xB,QAASuxB,EAAa,GAAE,QAAEjlM,GAAW/B,KAetCskL,EAAmB4iB,EACnBrmC,EAAS7gK,KAAKynM,mBAAmB3mM,EAAGkmM,EAAYM,EAAahjB,GAC7DojB,EtCxzBH,SAAuB5mM,GAC5B,MAAkB,YAAXA,EAAE1Q,MAAiC,UAAX0Q,EAAE1Q,MAA+B,gBAAX0Q,EAAE1Q,IACzD,CsCszBoBu3M,CAAc7mM,GACxB8mM,EAznCV,SAA4B9mM,EAAG8mM,EAAWN,EAAaI,GACrD,OAAKJ,GAA0B,aAAXxmM,EAAE1Q,KAGlBs3M,EACKE,EAEF9mM,EALE,IAMX,CAinCsB+mM,CAAmB/mM,EAAGd,KAAKmiM,WAAYmF,EAAaI,GAElEJ,IAGFtnM,KAAKmiM,WAAa,KAGlBl1K,EAAalrB,EAAQy9J,QAAS,CAAC1+J,EAAG+/J,EAAQ7gK,MAAOA,MAE7C0nM,GACFz6K,EAAalrB,EAAQmY,QAAS,CAACpZ,EAAG+/J,EAAQ7gK,MAAOA,OAIrD,MAAM+5J,GAAW1H,EAAewO,EAAQmmC,GAQxC,OAPIjtC,GAAWmtC,KACblnM,KAAKy1K,QAAU5U,EACf7gK,KAAK+kM,mBAAmBlkC,EAAQmmC,EAAYE,IAG9ClnM,KAAKmiM,WAAayF,EAEX7tC,CACT,CAUA0tC,kBAAAA,CAAmB3mM,EAAGkmM,EAAYM,EAAahjB,GAC7C,GAAe,aAAXxjL,EAAE1Q,KACJ,MAAO,GAGT,IAAKk3M,EAEH,OAAON,EAGT,MAAMG,EAAennM,KAAK+B,QAAQg9J,MAClC,OAAO/+J,KAAK8lM,0BAA0BhlM,EAAGqmM,EAAarpL,KAAMqpL,EAAc7iB,EAC5E,EAIF,SAASqd,KACP,OAAOhhF,EAAK+gF,GAAML,WAAYjkC,GAAUA,EAAMmlC,SAASnF,cACzD,CE/vCA,SAAS0K,GAASzjH,EAAKtiF,GAA0B,IAAjBe,EAAAzU,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,GAAQ0T,EACtCsiF,EAAI0jH,QAAU/1C,EAAelvJ,EAAMwxK,eAAgBvyK,EAAQuyK,gBAC3DjwF,EAAIu0G,YAAY5mC,EAAelvJ,EAAMyxK,WAAYxyK,EAAQwyK,aACzDlwF,EAAIw0G,eAAiB7mC,EAAelvJ,EAAM0xK,iBAAkBzyK,EAAQyyK,kBACpEnwF,EAAI2jH,SAAWh2C,EAAelvJ,EAAM2xK,gBAAiB1yK,EAAQ0yK,iBAC7DpwF,EAAIo9E,UAAYzP,EAAelvJ,EAAMgiK,YAAa/iK,EAAQ+iK,aAC1DzgF,EAAIiiF,YAActU,EAAelvJ,EAAMy7J,YAAax8J,EAAQw8J,YAC9D,CAEA,SAASoG,GAAOtgF,EAAKghF,EAAUrhK,GAC7BqgF,EAAIsgF,OAAO3gK,EAAOnT,EAAGmT,EAAOgN,EAC9B,CAiBA,SAASi3L,GAAS5vC,EAAQsa,GAAsB,IAAbt2G,EAAShuE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,MAC1C,MAAMuyC,EAAQy3H,EAAO/pK,QACdkX,MAAO0iM,EAAc,EAAGziM,IAAK0iM,EAAYvnK,EAAQ,GAAKy7B,GACtD72D,MAAO4iM,EAAc3iM,IAAK4iM,GAAc11B,EACzCntK,EAAQpM,KAAK4sD,IAAIkiJ,EAAaE,GAC9B3iM,EAAMrM,KAAK8Z,IAAIi1L,EAAWE,GAC1BC,EAAUJ,EAAcE,GAAgBD,EAAYC,GAAgBF,EAAcG,GAAcF,EAAYE,EAElH,MAAO,CACLznK,QACAp7B,QACA0qE,KAAMyiG,EAAQziG,KACdsiF,KAAM/sJ,EAAMD,IAAU8iM,EAAU1nK,EAAQn7B,EAAMD,EAAQC,EAAMD,EAEhE,CAiBA,SAAS+iM,GAAYlkH,EAAKl2B,EAAMwkH,EAASt2G,GACvC,MAAM,OAACg8F,EAAA,QAAQt2J,GAAWosD,GACpB,MAACvtB,EAAA,MAAOp7B,EAAA,KAAO0qE,EAAA,KAAMsiF,GAAQy1C,GAAS5vC,EAAQsa,EAASt2G,GACvDmsI,EA9CR,SAAuBzmM,GACrB,OAAIA,EAAQ0mM,QACHrjC,GAGLrjK,EAAQ4rK,SAA8C,aAAnC5rK,EAAQ2rK,uBACtBnI,GAGFZ,EACT,CAoCqB+jC,CAAc3mM,GAEjC,IACIvT,EAAG4qK,EAAOlmH,GADV,KAAC4uI,GAAO,EAAI,QAAE/4F,GAAW1sB,GAAU,CAAC,EAGxC,IAAK7tE,EAAI,EAAGA,GAAKgkK,IAAQhkK,EACvB4qK,EAAQf,GAAQ7yJ,GAASujF,EAAUypE,EAAOhkK,EAAIA,IAAMoyC,GAEhDw4H,EAAM7hG,OAGCuqH,GACTz9F,EAAIqgF,OAAOtL,EAAMvoK,EAAGuoK,EAAMpoJ,GAC1B8wK,GAAO,GAEP0mB,EAAWnkH,EAAKnxC,EAAMkmH,EAAOrwE,EAAShnF,EAAQ0mM,SAGhDv1J,EAAOkmH,GAQT,OALIlpF,IACFkpF,EAAQf,GAAQ7yJ,GAASujF,EAAUypE,EAAO,IAAM5xH,GAChD4nK,EAAWnkH,EAAKnxC,EAAMkmH,EAAOrwE,EAAShnF,EAAQ0mM,YAGvCv4H,CACX,CAiBA,SAASy4H,GAAgBtkH,EAAKl2B,EAAMwkH,EAASt2G,GAC3C,MAAMg8F,EAASlqG,EAAKkqG,QACd,MAACz3H,EAAK,MAAEp7B,EAAK,KAAEgtJ,GAAQy1C,GAAS5vC,EAAQsa,EAASt2G,IACjD,KAACylH,GAAO,EAAI,QAAE/4F,GAAW1sB,GAAU,CAAC,EAC1C,IAEI7tE,EAAG4qK,EAAOwvC,EAAOC,EAAMC,EAAMC,EAF7BC,EAAO,EACPC,EAAS,EAGb,MAAMC,EAAczzM,IAAW+P,GAASujF,EAAUypE,EAAO/8J,EAAQA,IAAUmrC,EACrEuoK,EAAQA,KACRN,IAASC,IAEXzkH,EAAIsgF,OAAOqkC,EAAMF,GACjBzkH,EAAIsgF,OAAOqkC,EAAMH,GAGjBxkH,EAAIsgF,OAAOqkC,EAAMD,KASrB,IALIjnB,IACF1oB,EAAQf,EAAO6wC,EAAW,IAC1B7kH,EAAIqgF,OAAOtL,EAAMvoK,EAAGuoK,EAAMpoJ,IAGvBxiB,EAAI,EAAGA,GAAKgkK,IAAQhkK,EAAG,CAG1B,GAFA4qK,EAAQf,EAAO6wC,EAAW16M,IAEtB4qK,EAAM7hG,KAER,SAGF,MAAM1mE,EAAIuoK,EAAMvoK,EACVmgB,EAAIooJ,EAAMpoJ,EACVo4L,EAAa,EAAJv4M,EAEXu4M,IAAWR,GAET53L,EAAI63L,EACNA,EAAO73L,EACEA,EAAI83L,IACbA,EAAO93L,GAGTg4L,GAAQC,EAASD,EAAOn4M,KAAOo4M,IAE/BE,IAGA9kH,EAAIsgF,OAAO9zK,EAAGmgB,GAEd43L,EAAQQ,EACRH,EAAS,EACTJ,EAAOC,EAAO93L,GAGhB+3L,EAAQ/3L,CACV,CACAm4L,GACF,CAOA,SAASE,GAAkBl7I,GACzB,MAAM2B,EAAO3B,EAAKpsD,QACZwyK,EAAazkH,EAAKykH,YAAczkH,EAAKykH,WAAWjmL,OAEtD,OADqB6/D,EAAK00H,aAAe10H,EAAKyoH,QAAU9mH,EAAK69G,SAA2C,aAAhC79G,EAAK49G,yBAA0C59G,EAAK24I,UAAYl0B,EACnHo0B,GAAkBJ,EACzC,CA2CA,MAAMe,GAA8B,oBAAXC,OAEzB,SAAS/zB,GAAKnxF,EAAKl2B,EAAM3oD,EAAOo7B,GAC1B0oK,KAAcn7I,EAAKpsD,QAAQ4wK,QA7BjC,SAA6BtuF,EAAKl2B,EAAM3oD,EAAOo7B,GAC7C,IAAI4oK,EAAOr7I,EAAKs7I,MACXD,IACHA,EAAOr7I,EAAKs7I,MAAQ,IAAIF,OACpBp7I,EAAKq7I,KAAKA,EAAMhkM,EAAOo7B,IACzB4oK,EAAK/kC,aAGTqjC,GAASzjH,EAAKl2B,EAAKpsD,SACnBsiF,EAAI0gF,OAAOykC,EACb,CAoBIE,CAAoBrlH,EAAKl2B,EAAM3oD,EAAOo7B,GAlB1C,SAA0ByjD,EAAKl2B,EAAM3oD,EAAOo7B,GAC1C,MAAM,SAACwyI,EAAA,QAAUrxK,GAAWosD,EACtBw7I,EAAgBN,GAAkBl7I,GAExC,IAAK,MAAMwkH,KAAWS,EACpB00B,GAASzjH,EAAKtiF,EAAS4wK,EAAQ7vK,OAC/BuhF,EAAIigF,YACAqlC,EAActlH,EAAKl2B,EAAMwkH,EAAS,CAACntK,QAAOC,IAAKD,EAAQo7B,EAAQ,KACjEyjD,EAAIogF,YAENpgF,EAAI0gF,QAER,CAQI6kC,CAAiBvlH,EAAKl2B,EAAM3oD,EAAOo7B,EAEvC,CAEe,MAAMipK,WAAoB/c,GAEvCxvH,UAAY,OAKZA,gBAAkB,CAChBg3G,eAAgB,OAChBC,WAAY,GACZC,iBAAkB,EAClBC,gBAAiB,QACjB3P,YAAa,EACb8I,iBAAiB,EACjBF,uBAAwB,UACxBvgD,MAAM,EACNyrC,UAAU,EACV6vC,SAAS,EACT96B,QAAS,GAMXrwG,qBAAuB,CACrBghG,gBAAiB,kBACjBC,YAAa,eAIfjhG,mBAAqB,CACnBijG,aAAa,EACbE,WAAalwK,GAAkB,eAATA,GAAkC,SAATA,GAIjDsP,WAAAA,CAAY42K,GACVp1F,QAEArhF,KAAK8iL,UAAW,EAChB9iL,KAAK+B,aAAUwxE,EACfvzE,KAAKyzK,YAASlgG,EACdvzE,KAAK42K,WAAQrjG,EACbvzE,KAAK8pM,eAAYv2H,EACjBvzE,KAAKypM,WAAQl2H,EACbvzE,KAAK+pM,aAAUx2H,EACfvzE,KAAKgqM,eAAYz2H,EACjBvzE,KAAK6iL,YAAa,EAClB7iL,KAAKiqM,gBAAiB,EACtBjqM,KAAK4zK,mBAAgBrgG,EAEjBkjG,GACFtlL,OAAOD,OAAO8O,KAAMy2K,EAExB,CAEA6M,mBAAAA,CAAoBtD,EAAW7gB,GAC7B,MAAMp9J,EAAU/B,KAAK+B,QACrB,IAAKA,EAAQ4rK,SAA8C,aAAnC5rK,EAAQ2rK,0BAA2C3rK,EAAQ0mM,UAAYzoM,KAAKiqM,eAAgB,CAClH,MAAM/5H,EAAOnuE,EAAQ62J,SAAW54J,KAAK42K,MAAQ52K,KAAK8pM,UAClDt8B,GAA2BxtK,KAAK+pM,QAAShoM,EAASi+K,EAAW9vG,EAAMivF,GACnEn/J,KAAKiqM,gBAAiB,EAE1B,CAEA,UAAI5xC,CAAOA,GACTr4J,KAAK+pM,QAAU1xC,SACRr4J,KAAKgqM,iBACLhqM,KAAKypM,MACZzpM,KAAKiqM,gBAAiB,CACxB,CAEA,UAAI5xC,GACF,OAAOr4J,KAAK+pM,OACd,CAEA,YAAI32B,GACF,OAAOpzK,KAAKgqM,YAAchqM,KAAKgqM,UrBlF5B,SAA0B77I,EAAMolH,GACrC,MAAMlb,EAASlqG,EAAKkqG,OACdO,EAAWzqG,EAAKpsD,QAAQ62J,SACxBh4H,EAAQy3H,EAAO/pK,OAErB,IAAKsyC,EACH,MAAO,GAGT,MAAMsvC,IAAS/hB,EAAKyoH,OACd,MAACpxK,EAAA,IAAOC,GA3FhB,SAAyB4yJ,EAAQz3H,EAAOsvC,EAAM0oF,GAC5C,IAAIpzJ,EAAQ,EACRC,EAAMm7B,EAAQ,EAElB,GAAIsvC,IAAS0oF,EAEX,KAAOpzJ,EAAQo7B,IAAUy3H,EAAO7yJ,GAAO+xD,MACrC/xD,IAKJ,KAAOA,EAAQo7B,GAASy3H,EAAO7yJ,GAAO+xD,MACpC/xD,IAWF,IAPAA,GAASo7B,EAELsvC,IAEFzqE,GAAOD,GAGFC,EAAMD,GAAS6yJ,EAAO5yJ,EAAMm7B,GAAO22B,MACxC9xD,IAMF,OAFAA,GAAOm7B,EAEA,CAACp7B,QAAOC,MACjB,CA2DuBykM,CAAgB7xC,EAAQz3H,EAAOsvC,EAAM0oF,GAE1D,OACS0a,GAAcnlH,GADN,IAAbyqG,EACyB,CAAC,CAACpzJ,QAAOC,MAAKyqE,SArD7C,SAAuBmoF,EAAQ7yJ,EAAOwgD,EAAKkqB,GACzC,MAAMtvC,EAAQy3H,EAAO/pK,OACfw/B,EAAS,GACf,IAEIroB,EAFAulB,EAAOxlB,EACP0tC,EAAOmlH,EAAO7yJ,GAGlB,IAAKC,EAAMD,EAAQ,EAAGC,GAAOugD,IAAOvgD,EAAK,CACvC,MAAMgpD,EAAM4pG,EAAO5yJ,EAAMm7B,GACrB6tB,EAAI8I,MAAQ9I,EAAI0yD,KACbjuE,EAAKqkB,OACR2Y,GAAO,EACPpiD,EAAO/3B,KAAK,CAACyP,MAAOA,EAAQo7B,EAAOn7B,KAAMA,EAAM,GAAKm7B,EAAOsvC,SAE3D1qE,EAAQwlB,EAAOyjC,EAAI0yD,KAAO17G,EAAM,OAGlCulB,EAAOvlB,EACHytC,EAAKqkB,OACP/xD,EAAQC,IAGZytC,EAAOub,CACT,CAMA,OAJa,OAATzjC,GACF8C,EAAO/3B,KAAK,CAACyP,MAAOA,EAAQo7B,EAAOn7B,IAAKulB,EAAO4V,EAAOsvC,SAGjDpiD,CACT,CA4B6Bq8K,CAAc9xC,EAAQ7yJ,EAFrCC,EAAMD,EAAQC,EAAMm7B,EAAQn7B,IACjB0oD,EAAK27I,WAAuB,IAAVtkM,GAAeC,IAAQm7B,EAAQ,GAJrBy3H,EAAQkb,EAM7D,CqB+D+C62B,CAAiBpqM,KAAMA,KAAK+B,QAAQ4wK,SACjF,CAMA1zG,KAAAA,GACE,MAAMm0G,EAAWpzK,KAAKozK,SAChB/a,EAASr4J,KAAKq4J,OACpB,OAAO+a,EAAS9kL,QAAU+pK,EAAO+a,EAAS,GAAG5tK,MAC/C,CAMAwlB,IAAAA,GACE,MAAMooJ,EAAWpzK,KAAKozK,SAChB/a,EAASr4J,KAAKq4J,OACdz3H,EAAQwyI,EAAS9kL,OACvB,OAAOsyC,GAASy3H,EAAO+a,EAASxyI,EAAQ,GAAGn7B,IAC7C,CASAorJ,WAAAA,CAAYuI,EAAOx2H,GACjB,MAAM7gC,EAAU/B,KAAK+B,QACf/O,EAAQomK,EAAMx2H,GACdy1H,EAASr4J,KAAKq4J,OACd+a,EAAWD,GAAenzK,KAAM,CAAC4iC,WAAUp9B,MAAOxS,EAAOyS,IAAKzS,IAEpE,IAAKogL,EAAS9kL,OACZ,OAGF,MAAMw/B,EAAS,GACTu8K,EAvKV,SAAiCtoM,GAC/B,OAAIA,EAAQ0mM,QACHt3B,GAGLpvK,EAAQ4rK,SAA8C,aAAnC5rK,EAAQ2rK,uBACtB0D,GAGFF,EACT,CA6JyBo5B,CAAwBvoM,GAC7C,IAAIvT,EAAGgkK,EACP,IAAKhkK,EAAI,EAAGgkK,EAAO4gB,EAAS9kL,OAAQE,EAAIgkK,IAAQhkK,EAAG,CACjD,MAAM,MAACgX,EAAA,IAAOC,GAAO2tK,EAAS5kL,GACxBm2J,EAAK0T,EAAO7yJ,GACZo/I,EAAKyT,EAAO5yJ,GAClB,GAAIk/I,IAAOC,EAAI,CACb92H,EAAO/3B,KAAK4uJ,GACZ,SAEF,MACM4lD,EAAeF,EAAa1lD,EAAIC,EAD5BxrJ,KAAKy3H,KAAK79H,EAAQ2xJ,EAAG/hH,KAAcgiH,EAAGhiH,GAAY+hH,EAAG/hH,KAClB7gC,EAAQ0mM,SACrD8B,EAAa3nK,GAAYw2H,EAAMx2H,GAC/B9U,EAAO/3B,KAAKw0M,EACd,CACA,OAAyB,IAAlBz8K,EAAOx/B,OAAew/B,EAAO,GAAKA,CAC3C,CAgBAy6K,WAAAA,CAAYlkH,EAAKsuF,EAASt2G,GAExB,OADsBgtI,GAAkBrpM,KACjC2pM,CAActlH,EAAKrkF,KAAM2yK,EAASt2G,EAC3C,CASAmtI,IAAAA,CAAKnlH,EAAK7+E,EAAOo7B,GACf,MAAMwyI,EAAWpzK,KAAKozK,SAChBu2B,EAAgBN,GAAkBrpM,MACxC,IAAIkwE,EAAOlwE,KAAK42K,MAEhBpxK,EAAQA,GAAS,EACjBo7B,EAAQA,GAAU5gC,KAAKq4J,OAAO/pK,OAASkX,EAEvC,IAAK,MAAMmtK,KAAWS,EACpBljG,GAAQy5H,EAActlH,EAAKrkF,KAAM2yK,EAAS,CAACntK,QAAOC,IAAKD,EAAQo7B,EAAQ,IAEzE,QAASsvC,CACX,CASAslG,IAAAA,CAAKnxF,EAAK27F,EAAWx6K,EAAOo7B,GAC1B,MAAM7+B,EAAU/B,KAAK+B,SAAW,CAAC,GAClB/B,KAAKq4J,QAAU,IAEnB/pK,QAAUyT,EAAQ+iK,cAC3BzgF,EAAIo/E,OAEJ+R,GAAKnxF,EAAKrkF,KAAMwF,EAAOo7B,GAEvByjD,EAAIu/E,WAGF5jK,KAAK8iL,WAEP9iL,KAAKiqM,gBAAiB,EACtBjqM,KAAKypM,WAAQl2H,EAEjB,ECjbF,SAASi3H,GAAQz5B,EAAkBhpH,EAAa8wG,EAAiByrB,GAC/D,MAAMviL,EAAUgvK,EAAGhvK,SACZ,CAAC82J,GAAO7lK,GAAS+9K,EAAGqU,SAAS,CAACvsB,GAAOyrB,GAE5C,OAAQlrL,KAAKy3H,IAAI9oE,EAAM/0D,GAAS+O,EAAQi4I,OAASj4I,EAAQ0oM,SAC3D,CAIe,MAAMC,WAAqB5d,GAExCxvH,UAAY,QAEZq8G,OACApiH,KACA4pD,KAKA7jD,gBAAkB,CAChBwnG,YAAa,EACb2lC,UAAW,EACXE,iBAAkB,EAClBC,YAAa,EACb1mC,WAAY,SACZlqB,OAAQ,EACRmqB,SAAU,GAMZ7mG,qBAAuB,CACrBghG,gBAAiB,kBACjBC,YAAa,eAGf1+J,WAAAA,CAAY42K,GACVp1F,QAEArhF,KAAK+B,aAAUwxE,EACfvzE,KAAK25K,YAASpmG,EACdvzE,KAAKu3D,UAAOgc,EACZvzE,KAAKmhH,UAAO5tC,EAERkjG,GACFtlL,OAAOD,OAAO8O,KAAMy2K,EAExB,CAEA+N,OAAAA,CAAQqmB,EAAgBC,EAAgBxmB,GACtC,MAAMviL,EAAU/B,KAAK+B,SACf,EAAClR,EAAA,EAAGmgB,GAAKhR,KAAKolL,SAAS,CAAC,IAAK,KAAMd,GACzC,OAASlrL,KAAKoxH,IAAIqgF,EAASh6M,EAAG,GAAKuI,KAAKoxH,IAAIsgF,EAAS95L,EAAG,GAAM5X,KAAKoxH,IAAIzoH,EAAQ0oM,UAAY1oM,EAAQi4I,OAAQ,EAC7G,CAEA+wD,QAAAA,CAASF,EAAgBvmB,GACvB,OAAOkmB,GAAQxqM,KAAM6qM,EAAQ,IAAKvmB,EACpC,CAEA0mB,QAAAA,CAASF,EAAgBxmB,GACvB,OAAOkmB,GAAQxqM,KAAM8qM,EAAQ,IAAKxmB,EACpC,CAEAU,cAAAA,CAAeV,GACb,MAAM,EAACzzL,EAAA,EAAGmgB,GAAKhR,KAAKolL,SAAS,CAAC,IAAK,KAAMd,GACzC,MAAO,CAACzzL,IAAGmgB,IACb,CAEA6V,IAAAA,CAAK9kB,GAEH,IAAIi4I,GADJj4I,EAAUA,GAAW/B,KAAK+B,SAAW,CAAC,GACjBi4I,QAAU,EAC/BA,EAAS5gJ,KAAK4sD,IAAIg0F,EAAQA,GAAUj4I,EAAQ6oM,aAAe,GAE3D,OAAgC,GAAxB5wD,GADYA,GAAUj4I,EAAQ+iK,aAAe,GAEvD,CAEA0Q,IAAAA,CAAKnxF,EAA+B49D,GAClC,MAAMlgJ,EAAU/B,KAAK+B,QAEjB/B,KAAKu3D,MAAQx1D,EAAQi4I,OAAS,KAAQgrB,GAAehlK,KAAMiiJ,EAAMjiJ,KAAK6mB,KAAK9kB,GAAW,KAI1FsiF,EAAIiiF,YAAcvkK,EAAQw8J,YAC1Bl6E,EAAIo9E,UAAY1/J,EAAQ+iK,YACxBzgF,EAAIkiF,UAAYxkK,EAAQu8J,gBACxBuF,GAAUx/E,EAAKtiF,EAAS/B,KAAKnP,EAAGmP,KAAKgR,GACvC,CAEAkzK,QAAAA,GACE,MAAMniL,EAAU/B,KAAK+B,SAAW,CAAC,EAEjC,OAAOA,EAAQi4I,OAASj4I,EAAQ0oM,SAClC,EClFF,MAAMQ,GAAaA,CAACC,EAAWjxD,KAC7B,IAAI,UAACkxD,EAAYlxD,EAAA,SAAUmxD,EAAWnxD,GAAYixD,EAOlD,OALIA,EAAUG,gBACZF,EAAY/xM,KAAK8Z,IAAIi4L,EAAWlxD,GAChCmxD,EAAWF,EAAUI,iBAAmBlyM,KAAK8Z,IAAIk4L,EAAUnxD,IAGtD,CACLmxD,WACAD,YACAI,WAAYnyM,KAAK4sD,IAAIi0F,EAAUkxD,GAChC,EAKI,MAAMK,WAAe1e,GAK1BjtL,WAAAA,CAAYkkD,GACVs9B,QAEArhF,KAAKyrM,QAAS,EAGdzrM,KAAK0rM,eAAiB,GAKtB1rM,KAAK2rM,aAAe,KAGpB3rM,KAAK4rM,cAAe,EAEpB5rM,KAAKo9J,MAAQr5G,EAAOq5G,MACpBp9J,KAAK+B,QAAUgiD,EAAOhiD,QACtB/B,KAAKqkF,IAAMtgC,EAAOsgC,IAClBrkF,KAAK6rM,iBAAct4H,EACnBvzE,KAAK8rM,iBAAcv4H,EACnBvzE,KAAK+rM,gBAAax4H,EAClBvzE,KAAK6vK,eAAYt8F,EACjBvzE,KAAKqnK,cAAW9zF,EAChBvzE,KAAKkU,SAAMq/D,EACXvzE,KAAKmhK,YAAS5tF,EACdvzE,KAAKgU,UAAOu/D,EACZvzE,KAAKu7D,WAAQgY,EACbvzE,KAAKqM,YAASknE,EACdvzE,KAAKoM,WAAQmnE,EACbvzE,KAAK6vL,cAAWt8G,EAChBvzE,KAAK2yE,cAAWY,EAChBvzE,KAAK+lD,YAASwtB,EACdvzE,KAAK0mL,cAAWnzG,CAClB,CAEA58D,MAAAA,CAAO0wJ,EAAUwI,EAAWD,GAC1B5vK,KAAKqnK,SAAWA,EAChBrnK,KAAK6vK,UAAYA,EACjB7vK,KAAK6vL,SAAWjgB,EAEhB5vK,KAAKujG,gBACLvjG,KAAKgsM,cACLhsM,KAAK4yL,KACP,CAEArvF,aAAAA,GACMvjG,KAAKyoL,gBACPzoL,KAAKoM,MAAQpM,KAAKqnK,SAClBrnK,KAAKgU,KAAOhU,KAAK6vL,SAAS77K,KAC1BhU,KAAKu7D,MAAQv7D,KAAKoM,QAElBpM,KAAKqM,OAASrM,KAAK6vK,UACnB7vK,KAAKkU,IAAMlU,KAAK6vL,SAAS37K,IACzBlU,KAAKmhK,OAASnhK,KAAKqM,OAEvB,CAEA2/L,WAAAA,GACE,MAAMd,EAAYlrM,KAAK+B,QAAQkxD,QAAU,CAAC,EAC1C,IAAI44I,EAAc5+K,EAAKi+K,EAAUe,eAAgB,CAACjsM,KAAKo9J,OAAQp9J,OAAS,GAEpEkrM,EAAUhoH,SACZ2oH,EAAcA,EAAY3oH,QAAQ3e,GAAS2mI,EAAUhoH,OAAO3e,EAAMvkE,KAAKo9J,MAAM/nK,SAG3E61M,EAAUllB,OACZ6lB,EAAcA,EAAY7lB,MAAK,CAACxhL,EAAGO,IAAMmmM,EAAUllB,KAAKxhL,EAAGO,EAAG/E,KAAKo9J,MAAM/nK,SAGvE2K,KAAK+B,QAAQgnF,SACf8iH,EAAY9iH,UAGd/oF,KAAK6rM,YAAcA,CACrB,CAEAjZ,GAAAA,GACE,MAAM,QAAC7wL,EAAO,IAAEsiF,GAAOrkF,KAMvB,IAAK+B,EAAQyhC,QAEX,YADAxjC,KAAKoM,MAAQpM,KAAKqM,OAAS,GAI7B,MAAM6+L,EAAYnpM,EAAQkxD,OACpBi5I,EAAY7jC,GAAO6iC,EAAUtsC,MAC7B3kB,EAAWiyD,EAAUrlL,KACrBytK,EAAct0L,KAAKmsM,uBACnB,SAACf,EAAQ,WAAEG,GAAcN,GAAWC,EAAWjxD,GAErD,IAAI7tI,EAAOC,EAEXg4E,EAAIu6E,KAAOstC,EAAU9iJ,OAEjBppD,KAAKyoL,gBACPr8K,EAAQpM,KAAKqnK,SACbh7J,EAASrM,KAAKosM,SAAS9X,EAAar6C,EAAUmxD,EAAUG,GAAc,KAEtEl/L,EAASrM,KAAK6vK,UACdzjK,EAAQpM,KAAKqsM,SAAS/X,EAAa4X,EAAWd,EAAUG,GAAc,IAGxEvrM,KAAKoM,MAAQhT,KAAK8Z,IAAI9G,EAAOrK,EAAQslK,UAAYrnK,KAAKqnK,UACtDrnK,KAAKqM,OAASjT,KAAK8Z,IAAI7G,EAAQtK,EAAQ8tK,WAAa7vK,KAAK6vK,UAC3D,CAKAu8B,QAAAA,CAAS9X,EAAar6C,EAAUmxD,EAAUG,GACxC,MAAM,IAAClnH,EAAG,SAAEgjF,EAAUtlK,SAAUkxD,QAAQ,QAACynE,KAAa16H,KAChDssM,EAAWtsM,KAAK0rM,eAAiB,GAEjCK,EAAa/rM,KAAK+rM,WAAa,CAAC,GAChCjtC,EAAaysC,EAAa7wE,EAChC,IAAI6xE,EAAcjY,EAElBjwG,EAAI2iF,UAAY,OAChB3iF,EAAI4iF,aAAe,SAEnB,IAAInmJ,GAAO,EACP5M,GAAO4qJ,EAgBX,OAfA9+J,KAAK6rM,YAAYxsL,SAAQ,CAACmtL,EAAYh+M,KACpC,MAAMqjL,EAAYu5B,EAAYnxD,EAAW,EAAK51D,EAAI++E,YAAYopC,EAAWhqM,MAAM4J,OAErE,IAAN5d,GAAWu9M,EAAWA,EAAWz9M,OAAS,GAAKujL,EAAY,EAAIn3C,EAAU2sC,KAC3EklC,GAAeztC,EACfitC,EAAWA,EAAWz9M,QAAUE,EAAI,EAAI,EAAI,IAAM,EAClD0lB,GAAO4qJ,EACPh+I,KAGFwrL,EAAS99M,GAAK,CAACwlB,KAAM,EAAGE,MAAK4M,MAAK1U,MAAOylK,EAAWxlK,OAAQk/L,GAE5DQ,EAAWA,EAAWz9M,OAAS,IAAMujL,EAAYn3C,CAAA,IAG5C6xE,CACT,CAEAF,QAAAA,CAAS/X,EAAa4X,EAAWd,EAAUqB,GACzC,MAAM,IAACpoH,EAAG,UAAEwrF,EAAW9tK,SAAUkxD,QAAQ,QAACynE,KAAa16H,KACjDssM,EAAWtsM,KAAK0rM,eAAiB,GACjCI,EAAc9rM,KAAK8rM,YAAc,GACjCY,EAAc78B,EAAYykB,EAEhC,IAAIqY,EAAajyE,EACbkyE,EAAkB,EAClBC,EAAmB,EAEnB74L,EAAO,EACPo6C,EAAM,EAyBV,OAvBApuD,KAAK6rM,YAAYxsL,SAAQ,CAACmtL,EAAYh+M,KACpC,MAAM,UAACqjL,EAAS,WAAE05B,GA8VxB,SAA2BH,EAAUc,EAAW7nH,EAAKmoH,EAAYC,GAC/D,MAAM56B,EAKR,SAA4B26B,EAAYpB,EAAUc,EAAW7nH,GAC3D,IAAIyoH,EAAiBN,EAAWhqM,KAC5BsqM,GAA4C,kBAAnBA,IAC3BA,EAAiBA,EAAejuF,QAAO,CAACr6G,EAAGO,IAAMP,EAAElW,OAASyW,EAAEzW,OAASkW,EAAIO,KAE7E,OAAOqmM,EAAYc,EAAUrlL,KAAO,EAAKw9D,EAAI++E,YAAY0pC,GAAgB1gM,KAC3E,CAXoB2gM,CAAmBP,EAAYpB,EAAUc,EAAW7nH,GAChEknH,EAYR,SAA6BkB,EAAaD,EAAYQ,GACpD,IAAIzB,EAAakB,EACc,kBAApBD,EAAWhqM,OACpB+oM,EAAa0B,GAA0BT,EAAYQ,IAErD,OAAOzB,CACT,CAlBqB2B,CAAoBT,EAAaD,EAAYN,EAAUptC,YAC1E,MAAO,CAAC+S,YAAW05B,aACrB,CAlWsC4B,CAAkB/B,EAAUc,EAAW7nH,EAAKmoH,EAAYC,GAGpFj+M,EAAI,GAAKq+M,EAAmBtB,EAAa,EAAI7wE,EAAUgyE,IACzDC,GAAcC,EAAkBlyE,EAChCoxE,EAAY/1M,KAAK,CAACqW,MAAOwgM,EAAiBvgM,OAAQwgM,IAClD74L,GAAQ44L,EAAkBlyE,EAC1BtsE,IACAw+I,EAAkBC,EAAmB,GAIvCP,EAAS99M,GAAK,CAACwlB,OAAME,IAAK24L,EAAkBz+I,MAAKhiD,MAAOylK,EAAWxlK,OAAQk/L,GAG3EqB,EAAkBxzM,KAAK4sD,IAAI4mJ,EAAiB/6B,GAC5Cg7B,GAAoBtB,EAAa7wE,CAAA,IAGnCiyE,GAAcC,EACdd,EAAY/1M,KAAK,CAACqW,MAAOwgM,EAAiBvgM,OAAQwgM,IAE3CF,CACT,CAEAS,cAAAA,GACE,IAAKptM,KAAK+B,QAAQyhC,QAChB,OAEF,MAAM8wJ,EAAct0L,KAAKmsM,uBAClBT,eAAgBY,EAAUvqM,SAAS,MAACm2J,EAAOjlG,QAAQ,QAACynE,GAAQ,IAAE82C,IAAQxxK,KACvEqtM,EAAY97B,GAAcC,EAAKxxK,KAAKgU,KAAMhU,KAAKoM,OACrD,GAAIpM,KAAKyoL,eAAgB,CACvB,IAAI3nK,EAAM,EACN9M,EAAOmkJ,GAAeD,EAAOl4J,KAAKgU,KAAO0mH,EAAS16H,KAAKu7D,MAAQv7D,KAAK+rM,WAAWjrL,IACnF,IAAK,MAAMwsL,KAAUhB,EACfxrL,IAAQwsL,EAAOxsL,MACjBA,EAAMwsL,EAAOxsL,IACb9M,EAAOmkJ,GAAeD,EAAOl4J,KAAKgU,KAAO0mH,EAAS16H,KAAKu7D,MAAQv7D,KAAK+rM,WAAWjrL,KAEjFwsL,EAAOp5L,KAAOlU,KAAKkU,IAAMogL,EAAc55D,EACvC4yE,EAAOt5L,KAAOq5L,EAAUz7B,WAAWy7B,EAAUx8M,EAAEmjB,GAAOs5L,EAAOlhM,OAC7D4H,GAAQs5L,EAAOlhM,MAAQsuH,MAEpB,CACL,IAAItsE,EAAM,EACNl6C,EAAMikJ,GAAeD,EAAOl4J,KAAKkU,IAAMogL,EAAc55D,EAAS16H,KAAKmhK,OAASnhK,KAAK8rM,YAAY19I,GAAK/hD,QACtG,IAAK,MAAMihM,KAAUhB,EACfgB,EAAOl/I,MAAQA,IACjBA,EAAMk/I,EAAOl/I,IACbl6C,EAAMikJ,GAAeD,EAAOl4J,KAAKkU,IAAMogL,EAAc55D,EAAS16H,KAAKmhK,OAASnhK,KAAK8rM,YAAY19I,GAAK/hD,SAEpGihM,EAAOp5L,IAAMA,EACbo5L,EAAOt5L,MAAQhU,KAAKgU,KAAO0mH,EAC3B4yE,EAAOt5L,KAAOq5L,EAAUz7B,WAAWy7B,EAAUx8M,EAAEy8M,EAAOt5L,MAAOs5L,EAAOlhM,OACpE8H,GAAOo5L,EAAOjhM,OAASquH,EAG7B,CAEA+tD,YAAAA,GACE,MAAiC,QAA1BzoL,KAAK+B,QAAQ4wE,UAAgD,WAA1B3yE,KAAK+B,QAAQ4wE,QACzD,CAEA6iG,IAAAA,GACE,GAAIx1K,KAAK+B,QAAQyhC,QAAS,CACxB,MAAM6gD,EAAMrkF,KAAKqkF,IACjB6gF,GAAS7gF,EAAKrkF,MAEdA,KAAKutM,QAELpoC,GAAW9gF,GAEf,CAKAkpH,KAAAA,GACE,MAAOxrM,QAAS+tD,EAAA,YAAMg8I,EAAA,WAAaC,EAAA,IAAY1nH,GAAOrkF,MAChD,MAACk4J,EAAOjlG,OAAQi4I,GAAap7I,EAC7B09I,EAAenzE,GAAS3rH,MACxB2+L,EAAY97B,GAAczhH,EAAK0hH,IAAKxxK,KAAKgU,KAAMhU,KAAKoM,OACpD8/L,EAAY7jC,GAAO6iC,EAAUtsC,OAC7B,QAAClkC,GAAWwwE,EACZjxD,EAAWiyD,EAAUrlL,KACrB4mL,EAAexzD,EAAW,EAChC,IAAInkJ,EAEJkK,KAAKk5L,YAGL70G,EAAI2iF,UAAYqmC,EAAUrmC,UAAU,QACpC3iF,EAAI4iF,aAAe,SACnB5iF,EAAIo9E,UAAY,GAChBp9E,EAAIu6E,KAAOstC,EAAU9iJ,OAErB,MAAM,SAACgiJ,EAAA,UAAUD,EAAA,WAAWI,GAAcN,GAAWC,EAAWjxD,GAyE1DwuC,EAAezoL,KAAKyoL,eACpB6L,EAAct0L,KAAKmsM,sBAEvBr2M,EADE2yL,EACO,CACP53L,EAAGsnK,GAAeD,EAAOl4J,KAAKgU,KAAO0mH,EAAS16H,KAAKu7D,MAAQwwI,EAAW,IACtE/6L,EAAGhR,KAAKkU,IAAMwmH,EAAU45D,EACxBnmI,KAAM,GAGC,CACPt9D,EAAGmP,KAAKgU,KAAO0mH,EACf1pH,EAAGmnJ,GAAeD,EAAOl4J,KAAKkU,IAAMogL,EAAc55D,EAAS16H,KAAKmhK,OAAS2qC,EAAY,GAAGz/L,QACxF8hD,KAAM,GAIV6jH,GAAsBhyK,KAAKqkF,IAAKv0B,EAAK49I,eAErC,MAAM5uC,EAAaysC,EAAa7wE,EAChC16H,KAAK6rM,YAAYxsL,SAAQ,CAACmtL,EAAYh+M,KACpC61F,EAAIiiF,YAAckmC,EAAWmB,UAC7BtpH,EAAIkiF,UAAYimC,EAAWmB,UAE3B,MAAMxqC,EAAY9+E,EAAI++E,YAAYopC,EAAWhqM,MAAM4J,MAC7C46J,EAAYqmC,EAAUrmC,UAAUwlC,EAAWxlC,YAAcwlC,EAAWxlC,UAAYkkC,EAAUlkC,YAC1F56J,EAAQg/L,EAAWqC,EAAetqC,EACxC,IAAItyK,EAAIiF,EAAOjF,EACXmgB,EAAIlb,EAAOkb,EAEfq8L,EAAU37B,SAAS1xK,KAAKoM,OAEpBq8K,EACEj6L,EAAI,GAAKqC,EAAIub,EAAQsuH,EAAU16H,KAAKu7D,QACtCvqD,EAAIlb,EAAOkb,GAAK8tJ,EAChBhpK,EAAOq4D,OACPt9D,EAAIiF,EAAOjF,EAAIsnK,GAAeD,EAAOl4J,KAAKgU,KAAO0mH,EAAS16H,KAAKu7D,MAAQwwI,EAAWj2M,EAAOq4D,QAElF3/D,EAAI,GAAKwiB,EAAI8tJ,EAAa9+J,KAAKmhK,SACxCtwK,EAAIiF,EAAOjF,EAAIA,EAAIi7M,EAAYh2M,EAAOq4D,MAAM/hD,MAAQsuH,EACpD5kI,EAAOq4D,OACPn9C,EAAIlb,EAAOkb,EAAImnJ,GAAeD,EAAOl4J,KAAKkU,IAAMogL,EAAc55D,EAAS16H,KAAKmhK,OAAS2qC,EAAYh2M,EAAOq4D,MAAM9hD,SAYhH,GA1HoB,SAASxb,EAAGmgB,EAAGw7L,GACnC,GAAIt0J,MAAMkzJ,IAAaA,GAAY,GAAKlzJ,MAAMizJ,IAAcA,EAAY,EACtE,OAIF9mH,EAAIo/E,OAEJ,MAAMhC,EAAYzP,EAAew6C,EAAW/qC,UAAW,GAUvD,GATAp9E,EAAIkiF,UAAYvU,EAAew6C,EAAWjmC,UAAWinC,GACrDnpH,EAAI0jH,QAAU/1C,EAAew6C,EAAWzE,QAAS,QACjD1jH,EAAIw0G,eAAiB7mC,EAAew6C,EAAW3T,eAAgB,GAC/Dx0G,EAAI2jH,SAAWh2C,EAAew6C,EAAWxE,SAAU,SACnD3jH,EAAIo9E,UAAYA,EAChBp9E,EAAIiiF,YAActU,EAAew6C,EAAWlmC,YAAaknC,GAEzDnpH,EAAIu0G,YAAY5mC,EAAew6C,EAAWoB,SAAU,KAEhD1C,EAAUG,cAAe,CAG3B,MAAMwC,EAAc,CAClB7zD,OAAQmxD,EAAY/xM,KAAK00M,MAAQ,EACjC5pC,WAAYsoC,EAAWtoC,WACvBC,SAAUqoC,EAAWroC,SACrBW,YAAarD,GAETssC,EAAUV,EAAU17B,MAAM9gL,EAAGu6M,EAAW,GAI9CtnC,GAAgBz/E,EAAKwpH,EAAaE,EAHlB/8L,EAAIy8L,EAGgCvC,EAAUI,iBAAmBF,OAC5E,CAGL,MAAM4C,EAAUh9L,EAAI5X,KAAK4sD,KAAKi0F,EAAWkxD,GAAa,EAAG,GACnD8C,EAAWZ,EAAUz7B,WAAW/gL,EAAGu6M,GACnC8C,EAAe/lC,GAAcqkC,EAAW0B,cAE9C7pH,EAAIigF,YAEAnzK,OAAO+hG,OAAOg7G,GAAc9gG,MAAKx7C,GAAW,IAANA,IACxC21G,GAAmBljF,EAAK,CACtBxzF,EAAGo9M,EACHj9L,EAAGg9L,EACHp2G,EAAGwzG,EACHvzG,EAAGszG,EACHnxD,OAAQk0D,IAGV7pH,EAAIwgF,KAAKopC,EAAUD,EAAS5C,EAAUD,GAGxC9mH,EAAI8oC,OACc,IAAds0C,GACFp9E,EAAI0gF,SAIR1gF,EAAIu/E,SACN,CAuDEuqC,CAFcd,EAAUx8M,EAAEA,GAELmgB,EAAGw7L,GAExB37M,EvCvVgBu9M,EAACl2C,EAAoClkJ,EAAcunD,EAAei2G,IAE/EtZ,KADOsZ,EAAM,OAAS,SACJj2G,EAAkB,WAAV28F,GAAsBlkJ,EAAOunD,GAAS,EAAIvnD,EuCqVnEo6L,CAAOpnC,EAAWn2K,EAAIu6M,EAAWqC,EAAchlB,EAAe53L,EAAIub,EAAQpM,KAAKu7D,MAAOzL,EAAK0hH,KAvDhF,SAAS3gL,EAAGmgB,EAAGw7L,GAC9B5lC,GAAWviF,EAAKmoH,EAAWhqM,KAAM3R,EAAGmgB,EAAKu6L,EAAa,EAAIW,EAAW,CACnEpmC,cAAe0mC,EAAWjyD,OAC1BysB,UAAWqmC,EAAUrmC,UAAUwlC,EAAWxlC,YAE9C,CAqDEM,CAAS+lC,EAAUx8M,EAAEA,GAAImgB,EAAGw7L,GAExB/jB,EACF3yL,EAAOjF,GAAKub,EAAQsuH,OACf,GAA+B,kBAApB8xE,EAAWhqM,KAAmB,CAC9C,MAAMwqM,EAAiBd,EAAUptC,WACjChpK,EAAOkb,GAAKi8L,GAA0BT,EAAYQ,GAAkBtyE,OAEpE5kI,EAAOkb,GAAK8tJ,KAIhBuT,GAAqBryK,KAAKqkF,IAAKv0B,EAAK49I,cACtC,CAKAxU,SAAAA,GACE,MAAMppI,EAAO9vD,KAAK+B,QACZqyL,EAAYtkI,EAAKz1B,MACjBg0K,EAAYhmC,GAAO+rB,EAAUx1B,MAC7B0vC,EAAelmC,GAAUgsB,EAAU15D,SAEzC,IAAK05D,EAAU5wJ,QACb,OAGF,MAAM6pK,EAAY97B,GAAczhH,EAAK0hH,IAAKxxK,KAAKgU,KAAMhU,KAAKoM,OACpDi4E,EAAMrkF,KAAKqkF,IACX1R,EAAWyhH,EAAUzhH,SACrB86H,EAAeY,EAAUxnL,KAAO,EAChC0nL,EAA6BD,EAAap6L,IAAMu5L,EACtD,IAAIz8L,EAIAgD,EAAOhU,KAAKgU,KACZqzJ,EAAWrnK,KAAKoM,MAEpB,GAAIpM,KAAKyoL,eAEPphB,EAAWjuK,KAAK4sD,OAAOhmD,KAAK+rM,YAC5B/6L,EAAIhR,KAAKkU,IAAMq6L,EACfv6L,EAAOmkJ,GAAeroG,EAAKooG,MAAOlkJ,EAAMhU,KAAKu7D,MAAQ8rG,OAChD,CAEL,MAAMwI,EAAY7vK,KAAK8rM,YAAYjtF,QAAO,CAACk3D,EAAKlvJ,IAASztB,KAAK4sD,IAAI+vH,EAAKlvJ,EAAKxa,SAAS,GACrF2E,EAAIu9L,EAA6Bp2C,GAAeroG,EAAKooG,MAAOl4J,KAAKkU,IAAKlU,KAAKmhK,OAAS0O,EAAY//G,EAAKmD,OAAOynE,QAAU16H,KAAKmsM,uBAK7H,MAAMt7M,EAAIsnK,GAAexlF,EAAU3+D,EAAMA,EAAOqzJ,GAGhDhjF,EAAI2iF,UAAYqmC,EAAUrmC,UAAU/O,GAAmBtlF,IACvD0R,EAAI4iF,aAAe,SACnB5iF,EAAIiiF,YAAc8tB,EAAU1lL,MAC5B21E,EAAIkiF,UAAY6tB,EAAU1lL,MAC1B21E,EAAIu6E,KAAOyvC,EAAUjlJ,OAErBw9G,GAAWviF,EAAK+vG,EAAU5xL,KAAM3R,EAAGmgB,EAAGq9L,EACxC,CAKAlC,mBAAAA,GACE,MAAM/X,EAAYp0L,KAAK+B,QAAQs4B,MACzBg0K,EAAYhmC,GAAO+rB,EAAUx1B,MAC7B0vC,EAAelmC,GAAUgsB,EAAU15D,SACzC,OAAO05D,EAAU5wJ,QAAU6qK,EAAUvvC,WAAawvC,EAAajiM,OAAS,CAC1E,CAKAmiM,gBAAAA,CAAiB39M,EAAGmgB,GAClB,IAAIxiB,EAAGigN,EAAQC,EAEf,GAAI93C,GAAW/lK,EAAGmP,KAAKgU,KAAMhU,KAAKu7D,QAC7Bq7F,GAAW5lJ,EAAGhR,KAAKkU,IAAKlU,KAAKmhK,QAGhC,IADAutC,EAAK1uM,KAAK0rM,eACLl9M,EAAI,EAAGA,EAAIkgN,EAAGpgN,SAAUE,EAG3B,GAFAigN,EAASC,EAAGlgN,GAERooK,GAAW/lK,EAAG49M,EAAOz6L,KAAMy6L,EAAOz6L,KAAOy6L,EAAOriM,QAC/CwqJ,GAAW5lJ,EAAGy9L,EAAOv6L,IAAKu6L,EAAOv6L,IAAMu6L,EAAOpiM,QAEjD,OAAOrM,KAAK6rM,YAAYr9M,GAK9B,OAAO,IACT,CAMAmgN,WAAAA,CAAY7tM,GACV,MAAMgvD,EAAO9vD,KAAK+B,QAClB,IAoDJ,SAAoB3R,EAAM0/D,GACxB,IAAc,cAAT1/D,GAAiC,aAATA,KAAyB0/D,EAAK0vG,SAAW1vG,EAAK8+I,SACzE,OAAO,EAET,GAAI9+I,EAAK51C,UAAqB,UAAT9pB,GAA6B,YAATA,GACvC,OAAO,EAET,OAAO,CACT,CA5DSy+M,CAAW/tM,EAAE1Q,KAAM0/D,GACtB,OAIF,MAAMg/I,EAAc9uM,KAAKwuM,iBAAiB1tM,EAAEjQ,EAAGiQ,EAAEkQ,GAEjD,GAAe,cAAXlQ,EAAE1Q,MAAmC,aAAX0Q,EAAE1Q,KAAqB,CACnD,MAAMi1K,EAAWrlK,KAAK2rM,aAChBoD,GApfWhqM,EAofqB+pM,EApfT,QAAftqM,EAofc6gK,IApfe,OAANtgK,GAAcP,EAAEkuJ,eAAiB3tJ,EAAE2tJ,cAAgBluJ,EAAE/O,QAAUsP,EAAEtP,OAqflG4vK,IAAa0pC,GACf9hL,EAAK6iC,EAAK8+I,QAAS,CAAC9tM,EAAGukK,EAAUrlK,MAAOA,MAG1CA,KAAK2rM,aAAemD,EAEhBA,IAAgBC,GAClB9hL,EAAK6iC,EAAK0vG,QAAS,CAAC1+J,EAAGguM,EAAa9uM,MAAOA,KAE/C,MAAW8uM,GACT7hL,EAAK6iC,EAAK51C,QAAS,CAACpZ,EAAGguM,EAAa9uM,MAAOA,MA/f9BgvM,IAACxqM,EAAGO,CAigBrB,EAyBF,SAASkoM,GAA0BT,EAAYQ,GAE7C,OAAOA,GADaR,EAAWhqM,KAAOgqM,EAAWhqM,KAAKlU,OAAS,EAEjE,CAYA,IAAA2gN,GAAe,CACbx3K,GAAI,SAMJy3K,SAAU1D,GAEVhmM,KAAAA,CAAM43J,EAAO+xC,EAAOptM,GAClB,MAAMqtM,EAAShyC,EAAMgyC,OAAS,IAAI5D,GAAO,CAACnnH,IAAK+4E,EAAM/4E,IAAKtiF,UAASq7J,UACnE8oB,GAAQzO,UAAUra,EAAOgyC,EAAQrtM,GACjCmkL,GAAQiC,OAAO/qB,EAAOgyC,EACxB,EAEAjuF,IAAAA,CAAKi8C,GACH8oB,GAAQmC,UAAUjrB,EAAOA,EAAMgyC,eACxBhyC,EAAMgyC,MACf,EAKA5d,YAAAA,CAAap0B,EAAO+xC,EAAOptM,GACzB,MAAMqtM,EAAShyC,EAAMgyC,OACrBlpB,GAAQzO,UAAUra,EAAOgyC,EAAQrtM,GACjCqtM,EAAOrtM,QAAUA,CACnB,EAIA+wL,WAAAA,CAAY11B,GACV,MAAMgyC,EAAShyC,EAAMgyC,OACrBA,EAAOpD,cACPoD,EAAOhC,gBACT,EAGAiC,UAAAA,CAAWjyC,EAAOnnF,GACXA,EAAKixH,QACR9pC,EAAMgyC,OAAOT,YAAY14H,EAAKn6E,MAElC,EAEAu+H,SAAU,CACR72F,SAAS,EACTmvC,SAAU,MACVulF,MAAO,SACPwuB,UAAU,EACV39F,SAAS,EACThjC,OAAQ,IAGR7rC,OAAAA,CAAQpZ,EAAG0rM,EAAY4C,GACrB,MAAM35M,EAAQ+2M,EAAW95C,aACnB48C,EAAKF,EAAOhyC,MACdkyC,EAAGlL,iBAAiB3uM,IACtB65M,EAAGruC,KAAKxrK,GACR+2M,EAAWjyD,QAAS,IAEpB+0D,EAAGxuC,KAAKrrK,GACR+2M,EAAWjyD,QAAS,EAExB,EAEAilB,QAAS,KACTovC,QAAS,KAET37I,OAAQ,CACNvkD,MAAQ21E,GAAQA,EAAI+4E,MAAMr7J,QAAQ2M,MAClC08L,SAAU,GACV1wE,QAAS,GAYTuxE,cAAAA,CAAe7uC,GACb,MAAMoB,EAAWpB,EAAM/nK,KAAKmpK,UACrBvrG,QAAQ,cAACo4I,EAAA,WAAennC,EAAU,UAAE8C,EAAA,MAAWt4J,EAAA,gBAAO6gM,EAAe,aAAErB,IAAiB9wC,EAAMgyC,OAAOrtM,QAE5G,OAAOq7J,EAAMsb,yBAAyB5xJ,KAAK29C,IACzC,MAAM3hE,EAAQ2hE,EAAK1iD,WAAWkvJ,SAASo6B,EAAgB,OAAI93H,GACrDuxF,EAAcsD,GAAUtlK,EAAMgiK,aAEpC,MAAO,CACLtiK,KAAMg8J,EAAS/5F,EAAKhvE,OAAO2yD,MAC3Bm+G,UAAWzjK,EAAMw7J,gBACjBqvC,UAAWj/L,EACX6rI,QAAS91E,EAAKu8F,QACd+mC,QAASjlM,EAAMwxK,eACfs5B,SAAU9qM,EAAMyxK,WAChBskB,eAAgB/1L,EAAM0xK,iBACtBwzB,SAAUllM,EAAM2xK,gBAChBhT,WAAYqD,EAAY14J,MAAQ04J,EAAYz4J,QAAU,EACtDi6J,YAAaxjK,EAAMy7J,YACnB2F,WAAYA,GAAcphK,EAAMohK,WAChCC,SAAUrhK,EAAMqhK,SAChB6C,UAAWA,GAAalkK,EAAMkkK,UAC9BknC,aAAcqB,IAAoBrB,GAAgBprM,EAAMorM,cAGxDx7C,aAAcjuF,EAAKhvE,MACpB,GACAuK,KACL,GAGFq6B,MAAO,CACL3rB,MAAQ21E,GAAQA,EAAI+4E,MAAMr7J,QAAQ2M,MAClC80B,SAAS,EACTmvC,SAAU,SACVnwE,KAAM,KAIVy7J,YAAa,CACXsC,YAAchwK,IAAUA,EAAKiwK,WAAW,MACxCvtG,OAAQ,CACNstG,YAAchwK,IAAU,CAAC,iBAAkB,SAAU,QAAQgD,SAAShD,MCzsBhE,IAAIqnB,QCahB,MAAM43L,GAAc,CAIlBC,OAAAA,CAAQjvF,GACN,IAAKA,EAAMlyH,OACT,OAAO,EAGT,IAAIE,EAAGgmE,EACHk7I,EAAO,IAAI9xM,IACXoT,EAAI,EACJ4vB,EAAQ,EAEZ,IAAKpyC,EAAI,EAAGgmE,EAAMgsD,EAAMlyH,OAAQE,EAAIgmE,IAAOhmE,EAAG,CAC5C,MAAMuiL,EAAKvwD,EAAMhyH,GAAG4S,QACpB,GAAI2vK,GAAMA,EAAGic,WAAY,CACvB,MAAMjlI,EAAMgpH,EAAGgc,kBACf2iB,EAAKxxM,IAAI6pD,EAAIl3D,GACbmgB,GAAK+2C,EAAI/2C,IACP4vB,EAEN,CAGA,GAAc,IAAVA,GAA6B,IAAd8uK,EAAK7oL,KACtB,OAAO,EAKT,MAAO,CACLh2B,EAHe,IAAI6+M,GAAM7wF,QAAO,CAACr6G,EAAGO,IAAMP,EAAIO,IAAK2qM,EAAK7oL,KAIxD7V,EAAGA,EAAI4vB,EAEX,EAKA+kJ,OAAAA,CAAQnlE,EAAOmvF,GACb,IAAKnvF,EAAMlyH,OACT,OAAO,EAGT,IAGIE,EAAGgmE,EAAKo7I,EAHR/+M,EAAI8+M,EAAc9+M,EAClBmgB,EAAI2+L,EAAc3+L,EAClB8zK,EAAc34F,OAAO+nE,kBAGzB,IAAK1lK,EAAI,EAAGgmE,EAAMgsD,EAAMlyH,OAAQE,EAAIgmE,IAAOhmE,EAAG,CAC5C,MAAMuiL,EAAKvwD,EAAMhyH,GAAG4S,QACpB,GAAI2vK,GAAMA,EAAGic,WAAY,CACvB,MACM3zI,EAAI28G,GAAsB25C,EADjB5+B,EAAGiU,kBAGd3rI,EAAIyrI,IACNA,EAAczrI,EACdu2J,EAAiB7+B,GAGvB,CAEA,GAAI6+B,EAAgB,CAClB,MAAMC,EAAKD,EAAe7iB,kBAC1Bl8L,EAAIg/M,EAAGh/M,EACPmgB,EAAI6+L,EAAG7+L,EAGT,MAAO,CACLngB,IACAmgB,IAEJ,GAIF,SAAS8+L,GAAavtI,EAAMwtI,GAU1B,OATIA,IACE/6M,EAAQ+6M,GAEVh7M,MAAM3C,UAAU2D,KAAKs3C,MAAMk1B,EAAMwtI,GAEjCxtI,EAAKxsE,KAAKg6M,IAIPxtI,CACT,CAQA,SAASytI,GAAc/+H,GACrB,OAAoB,kBAARA,GAAoBA,aAAerlE,SAAWqlE,EAAIx/E,QAAQ,OAAS,EACtEw/E,EAAI59E,MAAM,MAEZ49E,CACT,CASA,SAASg/H,GAAkB7yC,EAAO74F,GAChC,MAAM,QAACnjE,EAAO,aAAEsxJ,EAAA,MAAcj9J,GAAS8uE,EACjCxiD,EAAaq7I,EAAM0f,eAAepqB,GAAc3wI,YAChD,MAACqmC,EAAA,MAAOp1D,GAAS+uB,EAAW49J,iBAAiBlqL,GAEnD,MAAO,CACL2nK,QACAh1G,QACAuxH,OAAQ53J,EAAW68J,UAAUnpL,GAC7BiqE,IAAK09F,EAAM/nK,KAAKmpK,SAAS9L,GAAcr9J,KAAKI,GAC5Cy6M,eAAgBl9M,EAChB+kC,QAAShW,EAAWi6J,aACpB18D,UAAW7pH,EACXi9J,eACAtxJ,UAEJ,CAKA,SAAS+uM,GAAeC,EAASruM,GAC/B,MAAMsiF,EAAM+rH,EAAQhzC,MAAM/4E,KACpB,KAACxjF,EAAI,OAAEwvM,EAAA,MAAQh2K,GAAS+1K,GACxB,SAAChF,EAAA,UAAUD,GAAappM,EACxBuuM,EAAWjoC,GAAOtmK,EAAQuuM,UAC1BjC,EAAYhmC,GAAOtmK,EAAQssM,WAC3BkC,EAAaloC,GAAOtmK,EAAQwuM,YAC5BC,EAAiBn2K,EAAM/rC,OACvBmiN,EAAkBJ,EAAO/hN,OACzBoiN,EAAoB7vM,EAAKvS,OAEzBosI,EAAU0tC,GAAUrmK,EAAQ24H,SAClC,IAAIruH,EAASquH,EAAQruH,OACjBD,EAAQ,EAGRukM,EAAqB9vM,EAAKg+G,QAAO,CAACj+E,EAAOgwK,IAAahwK,EAAQgwK,EAAS5xK,OAAO1wC,OAASsiN,EAAS50F,MAAM1tH,OAASsiN,EAASpvF,MAAMlzH,QAAQ,GAQ1I,GAPAqiN,GAAsBP,EAAQS,WAAWviN,OAAS8hN,EAAQU,UAAUxiN,OAEhEkiN,IACFnkM,GAAUmkM,EAAiBnC,EAAUvvC,YACnC0xC,EAAiB,GAAKzuM,EAAQgvM,aAC/BhvM,EAAQivM,mBAEPL,EAAoB,CAGtBtkM,GAAUqkM,GADa3uM,EAAQkvM,cAAgB73M,KAAK4sD,IAAImlJ,EAAWmF,EAASxxC,YAAcwxC,EAASxxC,aAEjG6xC,EAAqBD,GAAqBJ,EAASxxC,YACnD6xC,EAAqB,GAAK5uM,EAAQmvM,YAElCT,IACFpkM,GAAUtK,EAAQovM,gBACjBV,EAAkBF,EAAWzxC,YAC5B2xC,EAAkB,GAAK1uM,EAAQqvM,eAInC,IAAIC,EAAe,EACnB,MAAMC,EAAe,SAASnjJ,GAC5B/hD,EAAQhT,KAAK4sD,IAAI55C,EAAOi4E,EAAI++E,YAAYj1G,GAAM/hD,MAAQilM,EACxD,EA+BA,OA7BAhtH,EAAIo/E,OAEJp/E,EAAIu6E,KAAOyvC,EAAUjlJ,OACrBu3D,EAAKyvF,EAAQ/1K,MAAOi3K,GAGpBjtH,EAAIu6E,KAAO0xC,EAASlnJ,OACpBu3D,EAAKyvF,EAAQS,WAAW/jL,OAAOsjL,EAAQU,WAAYQ,GAGnDD,EAAetvM,EAAQkvM,cAAiB7F,EAAW,EAAIrpM,EAAQklL,WAAc,EAC7EtmE,EAAK9/G,GAAO+vM,IACVjwF,EAAKiwF,EAAS5xK,OAAQsyK,GACtB3wF,EAAKiwF,EAAS50F,MAAOs1F,GACrB3wF,EAAKiwF,EAASpvF,MAAO8vF,EAAA,IAIvBD,EAAe,EAGfhtH,EAAIu6E,KAAO2xC,EAAWnnJ,OACtBu3D,EAAKyvF,EAAQC,OAAQiB,GAErBjtH,EAAIu/E,UAGJx3J,GAASsuH,EAAQtuH,MAEV,CAACA,QAAOC,SACjB,CAyBA,SAASklM,GAAgBn0C,EAAOr7J,EAAS8kB,EAAM2qL,GAC7C,MAAM,EAAC3gN,EAAA,MAAGub,GAASya,GACZza,MAAOqlM,EAAYzxB,WAAW,KAAChsK,EAAI,MAAEunD,IAAU6hG,EACtD,IAAIs0C,EAAS,SAcb,MAZe,WAAXF,EACFE,EAAS7gN,IAAMmjB,EAAOunD,GAAS,EAAI,OAAS,QACnC1qE,GAAKub,EAAQ,EACtBslM,EAAS,OACA7gN,GAAK4gN,EAAarlM,EAAQ,IACnCslM,EAAS,SAtBb,SAA6BA,EAAQt0C,EAAOr7J,EAAS8kB,GACnD,MAAM,EAACh2B,EAAA,MAAGub,GAASya,EACb8qL,EAAQ5vM,EAAQ6vM,UAAY7vM,EAAQ8vM,aAC1C,MAAe,SAAXH,GAAqB7gN,EAAIub,EAAQulM,EAAQv0C,EAAMhxJ,OAIpC,UAAXslM,GAAsB7gN,EAAIub,EAAQulM,EAAQ,QAA9C,CAGF,CAeMG,CAAoBJ,EAAQt0C,EAAOr7J,EAAS8kB,KAC9C6qL,EAAS,UAGJA,CACT,CAKA,SAASK,GAAmB30C,EAAOr7J,EAAS8kB,GAC1C,MAAM2qL,EAAS3qL,EAAK2qL,QAAUzvM,EAAQyvM,QA/CxC,SAAyBp0C,EAAOv2I,GAC9B,MAAM,EAAC7V,EAAA,OAAG3E,GAAUwa,EAEpB,OAAI7V,EAAI3E,EAAS,EACR,MACE2E,EAAKosJ,EAAM/wJ,OAASA,EAAS,EAC/B,SAEF,QACT,CAsCkD2lM,CAAgB50C,EAAOv2I,GAEvE,MAAO,CACL6qL,OAAQ7qL,EAAK6qL,QAAU3vM,EAAQ2vM,QAAUH,GAAgBn0C,EAAOr7J,EAAS8kB,EAAM2qL,GAC/EA,SAEJ,CA4BA,SAASS,GAAmBlwM,EAAS8kB,EAAMqrL,EAAW90C,GACpD,MAAM,UAACw0C,EAAS,aAAEC,EAAA,aAAc9tC,GAAgBhiK,GAC1C,OAAC2vM,EAAA,OAAQF,GAAUU,EACnBC,EAAiBP,EAAYC,GAC7B,QAACrqC,EAAO,SAAEG,EAAQ,WAAEF,EAAA,YAAYC,GAAeS,GAAcpE,GAEnE,IAAIlzK,EAhCN,SAAgBg2B,EAAM6qL,GACpB,IAAI,EAAC7gN,EAAA,MAAGub,GAASya,EAMjB,MALe,UAAX6qL,EACF7gN,GAAKub,EACe,WAAXslM,IACT7gN,GAAMub,EAAQ,GAETvb,CACT,CAwBUuhN,CAAOvrL,EAAM6qL,GACrB,MAAM1gM,EAvBR,SAAgB6V,EAAM2qL,EAAQW,GAE5B,IAAI,EAACnhM,EAAA,OAAG3E,GAAUwa,EAQlB,MAPe,QAAX2qL,EACFxgM,GAAKmhM,EAELnhM,GADoB,WAAXwgM,EACJnlM,EAAS8lM,EAER9lM,EAAS,EAEV2E,CACT,CAYYqhM,CAAOxrL,EAAM2qL,EAAQW,GAc/B,MAZe,WAAXX,EACa,SAAXE,EACF7gN,GAAKshN,EACe,UAAXT,IACT7gN,GAAKshN,GAEa,SAAXT,EACT7gN,GAAKuI,KAAK4sD,IAAIwhH,EAASC,GAAcmqC,EACjB,UAAXF,IACT7gN,GAAKuI,KAAK4sD,IAAI2hH,EAAUD,GAAekqC,GAGlC,CACL/gN,EAAG8lK,GAAY9lK,EAAG,EAAGusK,EAAMhxJ,MAAQya,EAAKza,OACxC4E,EAAG2lJ,GAAY3lJ,EAAG,EAAGosJ,EAAM/wJ,OAASwa,EAAKxa,QAE7C,CAEA,SAASimM,GAAYlC,EAASl4C,EAAOn2J,GACnC,MAAM24H,EAAU0tC,GAAUrmK,EAAQ24H,SAElC,MAAiB,WAAVw9B,EACHk4C,EAAQv/M,EAAIu/M,EAAQhkM,MAAQ,EAClB,UAAV8rJ,EACEk4C,EAAQv/M,EAAIu/M,EAAQhkM,MAAQsuH,EAAQn/D,MACpC60I,EAAQv/M,EAAI6pI,EAAQ1mH,IAC5B,CAKA,SAASu+L,GAAwBtlL,GAC/B,OAAO6iL,GAAa,GAAIE,GAAc/iL,GACxC,CAUA,SAASulL,GAAkBz2K,EAAWjlC,GACpC,MAAMkwE,EAAWlwE,GAAWA,EAAQihC,SAAWjhC,EAAQihC,QAAQq4K,SAAWt5M,EAAQihC,QAAQq4K,QAAQr0K,UAClG,OAAOirC,EAAWjrC,EAAUirC,SAASA,GAAYjrC,CACnD,CAEA,MAAM02K,GAAmB,CAEvBC,YAAa1kK,EACb3T,KAAAA,CAAMs4K,GACJ,GAAIA,EAAarkN,OAAS,EAAG,CAC3B,MAAMi2E,EAAOouI,EAAa,GACpB1/I,EAASsR,EAAK64F,MAAM/nK,KAAK49D,OACzB2/I,EAAa3/I,EAASA,EAAO3kE,OAAS,EAE5C,GAAI0R,MAAQA,KAAK+B,SAAiC,YAAtB/B,KAAK+B,QAAQ+b,KACvC,OAAOymD,EAAKxsC,QAAQqwB,OAAS,GACxB,GAAImc,EAAKnc,MACd,OAAOmc,EAAKnc,MACP,GAAIwqJ,EAAa,GAAKruI,EAAK+6C,UAAYszF,EAC5C,OAAO3/I,EAAOsR,EAAK+6C,WAIvB,MAAO,EACT,EACAuzF,WAAY7kK,EAGZ6iK,WAAY7iK,EAGZ8kK,YAAa9kK,EACboa,KAAAA,CAAM2qJ,GACJ,GAAI/yM,MAAQA,KAAK+B,SAAiC,YAAtB/B,KAAK+B,QAAQ+b,KACvC,OAAOi1L,EAAY3qJ,MAAQ,KAAO2qJ,EAAY7C,gBAAkB6C,EAAY7C,eAG9E,IAAI9nJ,EAAQ2qJ,EAAYh7K,QAAQqwB,OAAS,GAErCA,IACFA,GAAS,MAEX,MAAMp1D,EAAQ+/M,EAAY7C,eAI1B,OAHKv+C,EAAc3+J,KACjBo1D,GAASp1D,GAEJo1D,CACT,EACA4qJ,UAAAA,CAAWD,GACT,MACMhxM,EADOgxM,EAAY31C,MAAM0f,eAAei2B,EAAYrgD,cACrC3wI,WAAWkvJ,SAAS8hC,EAAYzzF,WACrD,MAAO,CACLi/C,YAAax8J,EAAQw8J,YACrBD,gBAAiBv8J,EAAQu8J,gBACzBwG,YAAa/iK,EAAQ+iK,YACrByP,WAAYxyK,EAAQwyK,WACpBC,iBAAkBzyK,EAAQyyK,iBAC1B05B,aAAc,EAElB,EACA+E,cAAAA,GACE,OAAOjzM,KAAK+B,QAAQmxM,SACtB,EACAC,eAAAA,CAAgBJ,GACd,MACMhxM,EADOgxM,EAAY31C,MAAM0f,eAAei2B,EAAYrgD,cACrC3wI,WAAWkvJ,SAAS8hC,EAAYzzF,WACrD,MAAO,CACL4kD,WAAYniK,EAAQmiK,WACpBC,SAAUpiK,EAAQoiK,SAEtB,EACAivC,WAAYplK,EAGZ8iK,UAAW9iK,EAGXqlK,aAAcrlK,EACdqiK,OAAQriK,EACRslK,YAAatlK,GAYf,SAASulK,GAA2Bx3K,EAAWxrC,EAAM8zF,EAAK/N,GACxD,MAAMxoD,EAASiO,EAAUxrC,GAAMiC,KAAK6xF,EAAK/N,GAEzC,MAAsB,qBAAXxoD,EACF2kL,GAAiBliN,GAAMiC,KAAK6xF,EAAK/N,GAGnCxoD,CACT,CAEO,MAAM0lL,WAAgB1mB,GAK3BxvH,mBAAO,KAAckyI,GAAd,GAEP3vM,WAAAA,CAAYkkD,GACVs9B,QAEArhF,KAAKyzM,QAAU,EACfzzM,KAAKy1K,QAAU,GACfz1K,KAAK0zM,oBAAiBngI,EACtBvzE,KAAK2zM,WAAQpgI,EACbvzE,KAAK4zM,uBAAoBrgI,EACzBvzE,KAAK6zM,cAAgB,GACrB7zM,KAAKg4K,iBAAczkG,EACnBvzE,KAAKu7K,cAAWhoG,EAChBvzE,KAAKo9J,MAAQr5G,EAAOq5G,MACpBp9J,KAAK+B,QAAUgiD,EAAOhiD,QACtB/B,KAAK8zM,gBAAavgI,EAClBvzE,KAAKq6B,WAAQk5C,EACbvzE,KAAK6wM,gBAAat9H,EAClBvzE,KAAKa,UAAO0yE,EACZvzE,KAAK8wM,eAAYv9H,EACjBvzE,KAAKqwM,YAAS98H,EACdvzE,KAAK0xM,YAASn+H,EACdvzE,KAAKwxM,YAASj+H,EACdvzE,KAAKnP,OAAI0iF,EACTvzE,KAAKgR,OAAIuiE,EACTvzE,KAAKqM,YAASknE,EACdvzE,KAAKoM,WAAQmnE,EACbvzE,KAAK+zM,YAASxgI,EACdvzE,KAAKg0M,YAASzgI,EAGdvzE,KAAKi0M,iBAAc1gI,EACnBvzE,KAAKk0M,sBAAmB3gI,EACxBvzE,KAAKm0M,qBAAkB5gI,CACzB,CAEA0yC,UAAAA,CAAWlkH,GACT/B,KAAK+B,QAAUA,EACf/B,KAAK4zM,uBAAoBrgI,EACzBvzE,KAAKu7K,cAAWhoG,CAClB,CAKAktG,kBAAAA,GACE,MAAM/F,EAAS16K,KAAK4zM,kBAEpB,GAAIl5B,EACF,OAAOA,EAGT,MAAMtd,EAAQp9J,KAAKo9J,MACbr7J,EAAU/B,KAAK+B,QAAQw2E,WAAWv4E,KAAK4hF,cACvC9xB,EAAO/tD,EAAQ8rL,SAAWzwB,EAAMr7J,QAAQ0T,WAAa1T,EAAQg/J,WAC7DA,EAAa,IAAIwW,GAAWv3K,KAAKo9J,MAAOttG,GAK9C,OAJIA,EAAKg5G,aACP9oK,KAAK4zM,kBAAoBziN,OAAOwvF,OAAOogF,IAGlCA,CACT,CAKAn/E,UAAAA,GACE,OAAO5hF,KAAKu7K,WACZv7K,KAAKu7K,UAtLqBnkK,EAsLWpX,KAAKo9J,MAAMx7E,aAtLdwuH,EAsL4BpwM,KAtLnB2yM,EAsLyB3yM,KAAK6zM,cArLpE5vJ,GAAc7sC,EAAQ,CAC3Bg5L,UACAuC,eACAviN,KAAM,cAJV,IAA8BgnB,EAAQg5L,EAASuC,CAuL7C,CAEAyB,QAAAA,CAASt9M,EAASiL,GAChB,MAAM,UAACg6B,GAAah6B,EAEd2wM,EAAca,GAA2Bx3K,EAAW,cAAe/7B,KAAMlJ,GACzEujC,EAAQk5K,GAA2Bx3K,EAAW,QAAS/7B,KAAMlJ,GAC7D+7M,EAAaU,GAA2Bx3K,EAAW,aAAc/7B,KAAMlJ,GAE7E,IAAIklH,EAAQ,GAKZ,OAJAA,EAAQ8zF,GAAa9zF,EAAOg0F,GAAc0C,IAC1C12F,EAAQ8zF,GAAa9zF,EAAOg0F,GAAc31K,IAC1C2hF,EAAQ8zF,GAAa9zF,EAAOg0F,GAAc6C,IAEnC72F,CACT,CAEAq4F,aAAAA,CAAc1B,EAAc5wM,GAC1B,OAAOwwM,GACLgB,GAA2BxxM,EAAQg6B,UAAW,aAAc/7B,KAAM2yM,GAEtE,CAEA2B,OAAAA,CAAQ3B,EAAc5wM,GACpB,MAAM,UAACg6B,GAAah6B,EACdwyM,EAAY,GAgBlB,OAdA5zF,EAAKgyF,GAAe77M,IAClB,MAAM85M,EAAW,CACf5xK,OAAQ,GACRg9E,MAAO,GACPwF,MAAO,IAEHgzF,EAAShC,GAAkBz2K,EAAWjlC,GAC5Cg5M,GAAac,EAAS5xK,OAAQgxK,GAAcuD,GAA2BiB,EAAQ,cAAex0M,KAAMlJ,KACpGg5M,GAAac,EAAS50F,MAAOu3F,GAA2BiB,EAAQ,QAASx0M,KAAMlJ,IAC/Eg5M,GAAac,EAASpvF,MAAOwuF,GAAcuD,GAA2BiB,EAAQ,aAAcx0M,KAAMlJ,KAElGy9M,EAAUx+M,KAAK66M,EAAA,IAGV2D,CACT,CAEAE,YAAAA,CAAa9B,EAAc5wM,GACzB,OAAOwwM,GACLgB,GAA2BxxM,EAAQg6B,UAAW,YAAa/7B,KAAM2yM,GAErE,CAGA+B,SAAAA,CAAU/B,EAAc5wM,GACtB,MAAM,UAACg6B,GAAah6B,EAEdsxM,EAAeE,GAA2Bx3K,EAAW,eAAgB/7B,KAAM2yM,GAC3EtC,EAASkD,GAA2Bx3K,EAAW,SAAU/7B,KAAM2yM,GAC/DW,EAAcC,GAA2Bx3K,EAAW,cAAe/7B,KAAM2yM,GAE/E,IAAI32F,EAAQ,GAKZ,OAJAA,EAAQ8zF,GAAa9zF,EAAOg0F,GAAcqD,IAC1Cr3F,EAAQ8zF,GAAa9zF,EAAOg0F,GAAcK,IAC1Cr0F,EAAQ8zF,GAAa9zF,EAAOg0F,GAAcsD,IAEnCt3F,CACT,CAKA24F,YAAAA,CAAa5yM,GACX,MAAM8+J,EAAS7gK,KAAKy1K,QACdpgL,EAAO2K,KAAKo9J,MAAM/nK,KAClB4+M,EAAc,GACdC,EAAmB,GACnBC,EAAkB,GACxB,IACI3lN,EAAGgmE,EADHm+I,EAAe,GAGnB,IAAKnkN,EAAI,EAAGgmE,EAAMqsG,EAAOvyK,OAAQE,EAAIgmE,IAAOhmE,EAC1CmkN,EAAa58M,KAAKk6M,GAAkBjwM,KAAKo9J,MAAOyD,EAAOryK,KAyBzD,OArBIuT,EAAQmhF,SACVyvH,EAAeA,EAAazvH,QAAO,CAAC9hF,EAAS3L,EAAOsxB,IAAUhlB,EAAQmhF,OAAO9hF,EAAS3L,EAAOsxB,EAAO1xB,MAIlG0M,EAAQ6yM,WACVjC,EAAeA,EAAa3sB,MAAK,CAACxhL,EAAGO,IAAMhD,EAAQ6yM,SAASpwM,EAAGO,EAAG1P,MAIpEsrH,EAAKgyF,GAAe77M,IAClB,MAAM09M,EAAShC,GAAkBzwM,EAAQg6B,UAAWjlC,GACpDm9M,EAAYl+M,KAAKw9M,GAA2BiB,EAAQ,aAAcx0M,KAAMlJ,IACxEo9M,EAAiBn+M,KAAKw9M,GAA2BiB,EAAQ,kBAAmBx0M,KAAMlJ,IAClFq9M,EAAgBp+M,KAAKw9M,GAA2BiB,EAAQ,iBAAkBx0M,KAAMlJ,GAAA,IAGlFkJ,KAAKi0M,YAAcA,EACnBj0M,KAAKk0M,iBAAmBA,EACxBl0M,KAAKm0M,gBAAkBA,EACvBn0M,KAAK8zM,WAAanB,EACXA,CACT,CAEAh8L,MAAAA,CAAOojJ,EAASmtC,GACd,MAAMnlM,EAAU/B,KAAK+B,QAAQw2E,WAAWv4E,KAAK4hF,cACvCi/E,EAAS7gK,KAAKy1K,QACpB,IAAI72G,EACA+zI,EAAe,GAEnB,GAAK9xC,EAAOvyK,OAML,CACL,MAAMqkF,EAAW68H,GAAYztM,EAAQ4wE,UAAUngF,KAAKwN,KAAM6gK,EAAQ7gK,KAAK0zM,gBACvEf,EAAe3yM,KAAK20M,aAAa5yM,GAEjC/B,KAAKq6B,MAAQr6B,KAAKo0M,SAASzB,EAAc5wM,GACzC/B,KAAK6wM,WAAa7wM,KAAKq0M,cAAc1B,EAAc5wM,GACnD/B,KAAKa,KAAOb,KAAKs0M,QAAQ3B,EAAc5wM,GACvC/B,KAAK8wM,UAAY9wM,KAAKy0M,aAAa9B,EAAc5wM,GACjD/B,KAAKqwM,OAASrwM,KAAK00M,UAAU/B,EAAc5wM,GAE3C,MAAM8kB,EAAO7mB,KAAK2zM,MAAQxD,GAAenwM,KAAM+B,GACzC8yM,EAAkB1jN,OAAOD,OAAO,CAAC,EAAGyhF,EAAU9rD,GAC9CqrL,EAAYH,GAAmB/xM,KAAKo9J,MAAOr7J,EAAS8yM,GACpDC,EAAkB7C,GAAmBlwM,EAAS8yM,EAAiB3C,EAAWlyM,KAAKo9J,OAErFp9J,KAAK0xM,OAASQ,EAAUR,OACxB1xM,KAAKwxM,OAASU,EAAUV,OAExB5yI,EAAa,CACX60I,QAAS,EACT5iN,EAAGikN,EAAgBjkN,EACnBmgB,EAAG8jM,EAAgB9jM,EACnB5E,MAAOya,EAAKza,MACZC,OAAQwa,EAAKxa,OACb0nM,OAAQphI,EAAS9hF,EACjBmjN,OAAQrhI,EAAS3hE,QA9BE,IAAjBhR,KAAKyzM,UACP70I,EAAa,CACX60I,QAAS,IAgCfzzM,KAAK6zM,cAAgBlB,EACrB3yM,KAAKu7K,cAAWhoG,EAEZ3U,GACF5+D,KAAKygL,qBAAqB9pK,OAAO3W,KAAM4+D,GAGrCm7F,GAAWh4J,EAAQgzM,UACrBhzM,EAAQgzM,SAASviN,KAAKwN,KAAM,CAACo9J,MAAOp9J,KAAKo9J,MAAOgzC,QAASpwM,KAAMknM,UAEnE,CAEA8N,SAAAA,CAAUC,EAAc5wH,EAAKx9D,EAAM9kB,GACjC,MAAMmzM,EAAgBl1M,KAAKm1M,iBAAiBF,EAAcpuL,EAAM9kB,GAEhEsiF,EAAIsgF,OAAOuwC,EAAc9d,GAAI8d,EAAc7d,IAC3ChzG,EAAIsgF,OAAOuwC,EAAc5d,GAAI4d,EAAc3d,IAC3ClzG,EAAIsgF,OAAOuwC,EAAcE,GAAIF,EAAcG,GAC7C,CAEAF,gBAAAA,CAAiBF,EAAcpuL,EAAM9kB,GACnC,MAAM,OAAC2vM,EAAM,OAAEF,GAAUxxM,MACnB,UAAC4xM,EAAA,aAAW7tC,GAAgBhiK,GAC5B,QAACylK,EAAO,SAAEG,EAAQ,WAAEF,EAAA,YAAYC,GAAeS,GAAcpE,IAC5DlzK,EAAGykN,EAAKtkM,EAAGukM,GAAON,GACnB,MAAC7oM,EAAA,OAAOC,GAAUwa,EACxB,IAAIuwK,EAAIE,EAAI8d,EAAI/d,EAAIE,EAAI8d,EAgDxB,MA9Ce,WAAX7D,GACFja,EAAKge,EAAOlpM,EAAS,EAEN,SAAXqlM,GACFta,EAAKke,EACLhe,EAAKF,EAAKwa,EAGVva,EAAKE,EAAKqa,EACVyD,EAAK9d,EAAKqa,IAEVxa,EAAKke,EAAMlpM,EACXkrL,EAAKF,EAAKwa,EAGVva,EAAKE,EAAKqa,EACVyD,EAAK9d,EAAKqa,GAGZwD,EAAKhe,IAGHE,EADa,SAAXoa,EACG4D,EAAMl8M,KAAK4sD,IAAIwhH,EAASC,GAAemqC,EACxB,UAAXF,EACJ4D,EAAMlpM,EAAQhT,KAAK4sD,IAAI2hH,EAAUD,GAAekqC,EAEhD5xM,KAAK+zM,OAGG,QAAXvC,GACFna,EAAKke,EACLhe,EAAKF,EAAKua,EAGVxa,EAAKE,EAAKsa,EACVwD,EAAK9d,EAAKsa,IAEVva,EAAKke,EAAMlpM,EACXkrL,EAAKF,EAAKua,EAGVxa,EAAKE,EAAKsa,EACVwD,EAAK9d,EAAKsa,GAEZyD,EAAKhe,GAEA,CAACD,KAAIE,KAAI8d,KAAI/d,KAAIE,KAAI8d,KAC9B,CAEAnc,SAAAA,CAAU3rB,EAAIlpF,EAAKtiF,GACjB,MAAMs4B,EAAQr6B,KAAKq6B,MACb/rC,EAAS+rC,EAAM/rC,OACrB,IAAI+/M,EAAW0C,EAAcviN,EAE7B,GAAIF,EAAQ,CACV,MAAM++M,EAAY97B,GAAcxvK,EAAQyvK,IAAKxxK,KAAKnP,EAAGmP,KAAKoM,OAa1D,IAXAmhK,EAAG18K,EAAIyhN,GAAYtyM,KAAM+B,EAAQ2tL,WAAY3tL,GAE7CsiF,EAAI2iF,UAAYqmC,EAAUrmC,UAAUjlK,EAAQ2tL,YAC5CrrG,EAAI4iF,aAAe,SAEnBonC,EAAYhmC,GAAOtmK,EAAQssM,WAC3B0C,EAAehvM,EAAQgvM,aAEvB1sH,EAAIkiF,UAAYxkK,EAAQyzM,WACxBnxH,EAAIu6E,KAAOyvC,EAAUjlJ,OAEhB56D,EAAI,EAAGA,EAAIF,IAAUE,EACxB61F,EAAIijF,SAASjtI,EAAM7rC,GAAI6+M,EAAUx8M,EAAE08K,EAAG18K,GAAI08K,EAAGv8J,EAAIq9L,EAAUvvC,WAAa,GACxEyO,EAAGv8J,GAAKq9L,EAAUvvC,WAAaiyC,EAE3BviN,EAAI,IAAMF,IACZi/K,EAAGv8J,GAAKjP,EAAQivM,kBAAoBD,GAI5C,CAKA0E,aAAAA,CAAcpxH,EAAKkpF,EAAI/+K,EAAG6+M,EAAWtrM,GACnC,MAAMixM,EAAahzM,KAAKi0M,YAAYzlN,GAC9B2kN,EAAkBnzM,KAAKk0M,iBAAiB1lN,IACxC,UAAC28M,EAAA,SAAWC,GAAYrpM,EACxBuuM,EAAWjoC,GAAOtmK,EAAQuuM,UAC1BoF,EAASpD,GAAYtyM,KAAM,OAAQ+B,GACnC4zM,EAAYtI,EAAUx8M,EAAE6kN,GACxBE,EAAUzK,EAAYmF,EAASxxC,YAAcwxC,EAASxxC,WAAaqsC,GAAa,EAAI,EACpF0K,EAAStoC,EAAGv8J,EAAI4kM,EAEtB,GAAI7zM,EAAQspM,cAAe,CACzB,MAAMwC,EAAc,CAClB7zD,OAAQ5gJ,KAAK8Z,IAAIk4L,EAAUD,GAAa,EACxCjnC,WAAYivC,EAAgBjvC,WAC5BC,SAAUgvC,EAAgBhvC,SAC1BW,YAAa,GAITipC,EAAUV,EAAUz7B,WAAW+jC,EAAWvK,GAAYA,EAAW,EACjE0K,EAAUD,EAAS1K,EAAY,EAGrC9mH,EAAIiiF,YAAcvkK,EAAQg0M,mBAC1B1xH,EAAIkiF,UAAYxkK,EAAQg0M,mBACxBlyC,GAAUx/E,EAAKwpH,EAAaE,EAAS+H,GAGrCzxH,EAAIiiF,YAAc0sC,EAAWz0C,YAC7Bl6E,EAAIkiF,UAAYysC,EAAW10C,gBAC3BuF,GAAUx/E,EAAKwpH,EAAaE,EAAS+H,OAChC,CAELzxH,EAAIo9E,UAAY7P,EAASohD,EAAWluC,aAAe1rK,KAAK4sD,OAAO70D,OAAO+hG,OAAO8/G,EAAWluC,cAAiBkuC,EAAWluC,aAAe,EACnIzgF,EAAIiiF,YAAc0sC,EAAWz0C,YAC7Bl6E,EAAIu0G,YAAYoa,EAAWz+B,YAAc,IACzClwF,EAAIw0G,eAAiBma,EAAWx+B,kBAAoB,EAGpD,MAAMwhC,EAAS3I,EAAUz7B,WAAW+jC,EAAWvK,GACzC6K,EAAS5I,EAAUz7B,WAAWy7B,EAAU17B,MAAMgkC,EAAW,GAAIvK,EAAW,GACxE8C,EAAe/lC,GAAc6qC,EAAW9E,cAE1C/8M,OAAO+hG,OAAOg7G,GAAc9gG,MAAKx7C,GAAW,IAANA,KACxCyyB,EAAIigF,YACJjgF,EAAIkiF,UAAYxkK,EAAQg0M,mBACxBxuC,GAAmBljF,EAAK,CACtBxzF,EAAGmlN,EACHhlM,EAAG6kM,EACHj+G,EAAGwzG,EACHvzG,EAAGszG,EACHnxD,OAAQk0D,IAEV7pH,EAAI8oC,OACJ9oC,EAAI0gF,SAGJ1gF,EAAIkiF,UAAYysC,EAAW10C,gBAC3Bj6E,EAAIigF,YACJiD,GAAmBljF,EAAK,CACtBxzF,EAAGolN,EACHjlM,EAAG6kM,EAAS,EACZj+G,EAAGwzG,EAAW,EACdvzG,EAAGszG,EAAY,EACfnxD,OAAQk0D,IAEV7pH,EAAI8oC,SAGJ9oC,EAAIkiF,UAAYxkK,EAAQg0M,mBACxB1xH,EAAIsiF,SAASqvC,EAAQH,EAAQzK,EAAUD,GACvC9mH,EAAI6xH,WAAWF,EAAQH,EAAQzK,EAAUD,GAEzC9mH,EAAIkiF,UAAYysC,EAAW10C,gBAC3Bj6E,EAAIsiF,SAASsvC,EAAQJ,EAAS,EAAGzK,EAAW,EAAGD,EAAY,IAK/D9mH,EAAIkiF,UAAYvmK,KAAKm0M,gBAAgB3lN,EACvC,CAEA2nN,QAAAA,CAAS5oC,EAAIlpF,EAAKtiF,GAChB,MAAM,KAAClB,GAAQb,MACT,YAACkxM,EAAA,UAAakF,EAAA,cAAWnF,EAAA,UAAe9F,EAAA,SAAWC,EAAA,WAAUnkB,GAAcllL,EAC3EuuM,EAAWjoC,GAAOtmK,EAAQuuM,UAChC,IAAI+F,EAAiB/F,EAASxxC,WAC1Bw3C,EAAe,EAEnB,MAAMjJ,EAAY97B,GAAcxvK,EAAQyvK,IAAKxxK,KAAKnP,EAAGmP,KAAKoM,OAEpDmqM,EAAiB,SAASpoJ,GAC9Bk2B,EAAIijF,SAASn5G,EAAMk/I,EAAUx8M,EAAE08K,EAAG18K,EAAIylN,GAAe/oC,EAAGv8J,EAAIqlM,EAAiB,GAC7E9oC,EAAGv8J,GAAKqlM,EAAiBnF,CAC3B,EAEMsF,EAA0BnJ,EAAUrmC,UAAUovC,GACpD,IAAIxF,EAAU6F,EAAWz6F,EAAOxtH,EAAGm7F,EAAG6oE,EAAM6iC,EAiB5C,IAfAhxG,EAAI2iF,UAAYovC,EAChB/xH,EAAI4iF,aAAe,SACnB5iF,EAAIu6E,KAAO0xC,EAASlnJ,OAEpBmkH,EAAG18K,EAAIyhN,GAAYtyM,KAAMw2M,EAAyBz0M,GAGlDsiF,EAAIkiF,UAAYxkK,EAAQmxM,UACxBvyF,EAAK3gH,KAAK6wM,WAAY0F,GAEtBD,EAAerF,GAA6C,UAA5BuF,EACd,WAAdJ,EAA0BhL,EAAW,EAAInkB,EAAemkB,EAAW,EAAInkB,EACvE,EAGCz4L,EAAI,EAAGgkK,EAAO3xJ,EAAKvS,OAAQE,EAAIgkK,IAAQhkK,EAAG,CAc7C,IAbAoiN,EAAW/vM,EAAKrS,GAChBioN,EAAYz2M,KAAKm0M,gBAAgB3lN,GAEjC61F,EAAIkiF,UAAYkwC,EAChB91F,EAAKiwF,EAAS5xK,OAAQu3K,GAEtBv6F,EAAQ40F,EAAS50F,MAEbi1F,GAAiBj1F,EAAM1tH,SACzB0R,KAAKy1M,cAAcpxH,EAAKkpF,EAAI/+K,EAAG6+M,EAAWtrM,GAC1Cs0M,EAAiBj9M,KAAK4sD,IAAIsqJ,EAASxxC,WAAYqsC,IAG5CxhH,EAAI,EAAG0rG,EAAOr5E,EAAM1tH,OAAQq7F,EAAI0rG,IAAQ1rG,EAC3C4sH,EAAev6F,EAAMryB,IAErB0sH,EAAiB/F,EAASxxC,WAG5Bn+C,EAAKiwF,EAASpvF,MAAO+0F,EACvB,CAGAD,EAAe,EACfD,EAAiB/F,EAASxxC,WAG1Bn+C,EAAK3gH,KAAK8wM,UAAWyF,GACrBhpC,EAAGv8J,GAAKkgM,CACV,CAEAwF,UAAAA,CAAWnpC,EAAIlpF,EAAKtiF,GAClB,MAAMsuM,EAASrwM,KAAKqwM,OACd/hN,EAAS+hN,EAAO/hN,OACtB,IAAIiiN,EAAY/hN,EAEhB,GAAIF,EAAQ,CACV,MAAM++M,EAAY97B,GAAcxvK,EAAQyvK,IAAKxxK,KAAKnP,EAAGmP,KAAKoM,OAa1D,IAXAmhK,EAAG18K,EAAIyhN,GAAYtyM,KAAM+B,EAAQ40M,YAAa50M,GAC9CwrK,EAAGv8J,GAAKjP,EAAQovM,gBAEhB9sH,EAAI2iF,UAAYqmC,EAAUrmC,UAAUjlK,EAAQ40M,aAC5CtyH,EAAI4iF,aAAe,SAEnBspC,EAAaloC,GAAOtmK,EAAQwuM,YAE5BlsH,EAAIkiF,UAAYxkK,EAAQ60M,YACxBvyH,EAAIu6E,KAAO2xC,EAAWnnJ,OAEjB56D,EAAI,EAAGA,EAAIF,IAAUE,EACxB61F,EAAIijF,SAAS+oC,EAAO7hN,GAAI6+M,EAAUx8M,EAAE08K,EAAG18K,GAAI08K,EAAGv8J,EAAIu/L,EAAWzxC,WAAa,GAC1EyO,EAAGv8J,GAAKu/L,EAAWzxC,WAAa/8J,EAAQqvM,cAG9C,CAEA5Y,cAAAA,CAAejrB,EAAIlpF,EAAKwyH,EAAa90M,GACnC,MAAM,OAAC2vM,EAAM,OAAEF,GAAUxxM,MACnB,EAACnP,EAAA,EAAGmgB,GAAKu8J,GACT,MAACnhK,EAAA,OAAOC,GAAUwqM,GAClB,QAACrvC,EAAA,SAASG,EAAA,WAAUF,EAAA,YAAYC,GAAeS,GAAcpmK,EAAQgiK,cAE3E1/E,EAAIkiF,UAAYxkK,EAAQu8J,gBACxBj6E,EAAIiiF,YAAcvkK,EAAQw8J,YAC1Bl6E,EAAIo9E,UAAY1/J,EAAQ+iK,YAExBzgF,EAAIigF,YACJjgF,EAAIqgF,OAAO7zK,EAAI22K,EAASx2J,GACT,QAAXwgM,GACFxxM,KAAKg1M,UAAUznC,EAAIlpF,EAAKwyH,EAAa90M,GAEvCsiF,EAAIsgF,OAAO9zK,EAAIub,EAAQu7J,EAAU32J,GACjCqzE,EAAIyyH,iBAAiBjmN,EAAIub,EAAO4E,EAAGngB,EAAIub,EAAO4E,EAAI22J,GACnC,WAAX6pC,GAAkC,UAAXE,GACzB1xM,KAAKg1M,UAAUznC,EAAIlpF,EAAKwyH,EAAa90M,GAEvCsiF,EAAIsgF,OAAO9zK,EAAIub,EAAO4E,EAAI3E,EAASq7J,GACnCrjF,EAAIyyH,iBAAiBjmN,EAAIub,EAAO4E,EAAI3E,EAAQxb,EAAIub,EAAQs7J,EAAa12J,EAAI3E,GAC1D,WAAXmlM,GACFxxM,KAAKg1M,UAAUznC,EAAIlpF,EAAKwyH,EAAa90M,GAEvCsiF,EAAIsgF,OAAO9zK,EAAI42K,EAAYz2J,EAAI3E,GAC/Bg4E,EAAIyyH,iBAAiBjmN,EAAGmgB,EAAI3E,EAAQxb,EAAGmgB,EAAI3E,EAASo7J,GACrC,WAAX+pC,GAAkC,SAAXE,GACzB1xM,KAAKg1M,UAAUznC,EAAIlpF,EAAKwyH,EAAa90M,GAEvCsiF,EAAIsgF,OAAO9zK,EAAGmgB,EAAIw2J,GAClBnjF,EAAIyyH,iBAAiBjmN,EAAGmgB,EAAGngB,EAAI22K,EAASx2J,GACxCqzE,EAAIogF,YAEJpgF,EAAI8oC,OAEAprH,EAAQ+iK,YAAc,GACxBzgF,EAAI0gF,QAER,CAMAgyC,sBAAAA,CAAuBh1M,GACrB,MAAMq7J,EAAQp9J,KAAKo9J,MACb6X,EAAQj1K,KAAKg4K,YACbg/B,EAAQ/hC,GAASA,EAAMpkL,EACvBomN,EAAQhiC,GAASA,EAAMjkK,EAC7B,GAAIgmM,GAASC,EAAO,CAClB,MAAMtkI,EAAW68H,GAAYztM,EAAQ4wE,UAAUngF,KAAKwN,KAAMA,KAAKy1K,QAASz1K,KAAK0zM,gBAC7E,IAAK/gI,EACH,OAEF,MAAM9rD,EAAO7mB,KAAK2zM,MAAQxD,GAAenwM,KAAM+B,GACzC8yM,EAAkB1jN,OAAOD,OAAO,CAAC,EAAGyhF,EAAU3yE,KAAK2zM,OACnDzB,EAAYH,GAAmB30C,EAAOr7J,EAAS8yM,GAC/Cz7C,EAAQ64C,GAAmBlwM,EAAS8yM,EAAiB3C,EAAW90C,GAClE45C,EAAMhgC,MAAQ5d,EAAMvoK,GAAKomN,EAAMjgC,MAAQ5d,EAAMpoJ,IAC/ChR,KAAK0xM,OAASQ,EAAUR,OACxB1xM,KAAKwxM,OAASU,EAAUV,OACxBxxM,KAAKoM,MAAQya,EAAKza,MAClBpM,KAAKqM,OAASwa,EAAKxa,OACnBrM,KAAK+zM,OAASphI,EAAS9hF,EACvBmP,KAAKg0M,OAASrhI,EAAS3hE,EACvBhR,KAAKygL,qBAAqB9pK,OAAO3W,KAAMo5J,IAG7C,CAMA89C,WAAAA,GACE,QAASl3M,KAAKyzM,OAChB,CAEAj+B,IAAAA,CAAKnxF,GACH,MAAMtiF,EAAU/B,KAAK+B,QAAQw2E,WAAWv4E,KAAK4hF,cAC7C,IAAI6xH,EAAUzzM,KAAKyzM,QAEnB,IAAKA,EACH,OAGFzzM,KAAK+2M,uBAAuBh1M,GAE5B,MAAM80M,EAAc,CAClBzqM,MAAOpM,KAAKoM,MACZC,OAAQrM,KAAKqM,QAETkhK,EAAK,CACT18K,EAAGmP,KAAKnP,EACRmgB,EAAGhR,KAAKgR,GAIVyiM,EAAUr6M,KAAKy3H,IAAI4iF,GAAW,KAAO,EAAIA,EAEzC,MAAM/4E,EAAU0tC,GAAUrmK,EAAQ24H,SAG5By8E,EAAoBn3M,KAAKq6B,MAAM/rC,QAAU0R,KAAK6wM,WAAWviN,QAAU0R,KAAKa,KAAKvS,QAAU0R,KAAK8wM,UAAUxiN,QAAU0R,KAAKqwM,OAAO/hN,OAE9HyT,EAAQ8rL,SAAWspB,IACrB9yH,EAAIo/E,OACJp/E,EAAI+yH,YAAc3D,EAGlBzzM,KAAKw4L,eAAejrB,EAAIlpF,EAAKwyH,EAAa90M,GAE1CiwK,GAAsB3tF,EAAKtiF,EAAQ2rM,eAEnCngC,EAAGv8J,GAAK0pH,EAAQxmH,IAGhBlU,KAAKk5L,UAAU3rB,EAAIlpF,EAAKtiF,GAGxB/B,KAAKm2M,SAAS5oC,EAAIlpF,EAAKtiF,GAGvB/B,KAAK02M,WAAWnpC,EAAIlpF,EAAKtiF,GAEzBswK,GAAqBhuF,EAAKtiF,EAAQ2rM,eAElCrpH,EAAIu/E,UAER,CAMAijC,iBAAAA,GACE,OAAO7mM,KAAKy1K,SAAW,EACzB,CAOAqxB,iBAAAA,CAAkBC,EAAgB4I,GAChC,MAAM3I,EAAahnM,KAAKy1K,QAClB5U,EAASkmC,EAAejgL,KAAI6zH,IAA2B,IAA1B,aAAC+X,EAAY,MAAEj9J,GAAMklJ,EACtD,MAAMl2E,EAAOzkE,KAAKo9J,MAAM0f,eAAepqB,GAEvC,IAAKjuF,EACH,MAAM,IAAIpzE,MAAM,kCAAoCqhK,GAGtD,MAAO,CACLA,eACAtxJ,QAASqjE,EAAKpvE,KAAKI,GACnBA,QACD,IAEGskK,GAAW1H,EAAe20C,EAAYnmC,GACtCw2C,EAAkBr3M,KAAKs3M,iBAAiBz2C,EAAQ8uC,IAElD51C,GAAWs9C,KACbr3M,KAAKy1K,QAAU5U,EACf7gK,KAAK0zM,eAAiB/D,EACtB3vM,KAAKu3M,qBAAsB,EAC3Bv3M,KAAK2W,QAAO,GAEhB,CASAg4L,WAAAA,CAAY7tM,EAAGomM,GAA4B,IAApBI,IAAAj5M,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,KAAAA,UAAA,GACrB,GAAI64M,GAAUlnM,KAAKu3M,oBACjB,OAAO,EAETv3M,KAAKu3M,qBAAsB,EAE3B,MAAMx1M,EAAU/B,KAAK+B,QACfilM,EAAahnM,KAAKy1K,SAAW,GAC7B5U,EAAS7gK,KAAKynM,mBAAmB3mM,EAAGkmM,EAAYE,EAAQI,GAKxD+P,EAAkBr3M,KAAKs3M,iBAAiBz2C,EAAQ//J,GAGhDi5J,EAAUmtC,IAAW70C,EAAewO,EAAQmmC,IAAeqQ,EAgBjE,OAbIt9C,IACF/5J,KAAKy1K,QAAU5U,GAEX9+J,EAAQ8rL,SAAW9rL,EAAQgzM,YAC7B/0M,KAAK0zM,eAAiB,CACpB7iN,EAAGiQ,EAAEjQ,EACLmgB,EAAGlQ,EAAEkQ,GAGPhR,KAAK2W,QAAO,EAAMuwL,KAIfntC,CACT,CAWA0tC,kBAAAA,CAAmB3mM,EAAGkmM,EAAYE,EAAQI,GACxC,MAAMvlM,EAAU/B,KAAK+B,QAErB,GAAe,aAAXjB,EAAE1Q,KACJ,MAAO,GAGT,IAAKk3M,EAGH,OAAON,EAAW9jH,QAAO10F,GACvBwR,KAAKo9J,MAAM/nK,KAAKmpK,SAAShwK,EAAEkkK,oBACiDn/E,IAA5EvzE,KAAKo9J,MAAM0f,eAAetuL,EAAEkkK,cAAc3wI,WAAW68J,UAAUpwL,EAAEiH,SAKrE,MAAMorK,EAAS7gK,KAAKo9J,MAAM0oC,0BAA0BhlM,EAAGiB,EAAQ+b,KAAM/b,EAASmlM,GAM9E,OAJInlM,EAAQgnF,SACV83E,EAAO93E,UAGF83E,CACT,CASAy2C,gBAAAA,CAAiBz2C,EAAQ//J,GACvB,MAAM,OAACizM,EAAA,OAAQC,EAAA,QAAQjyM,GAAW/B,KAC5B2yE,EAAW68H,GAAYztM,EAAQ4wE,UAAUngF,KAAKwN,KAAM6gK,EAAQ//J,GAClE,OAAoB,IAAb6xE,IAAuBohI,IAAWphI,EAAS9hF,GAAKmjN,IAAWrhI,EAAS3hE,EAC7E,EAGF,IAAAwmM,GAAe,CACb//K,GAAI,UACJy3K,SAAUsE,GACVhE,eAEAiI,SAAAA,CAAUr6C,EAAO+xC,EAAOptM,GAClBA,IACFq7J,EAAMgzC,QAAU,IAAIoD,GAAQ,CAACp2C,QAAOr7J,YAExC,EAEAyvL,YAAAA,CAAap0B,EAAO+xC,EAAOptM,GACrBq7J,EAAMgzC,SACRhzC,EAAMgzC,QAAQnqF,WAAWlkH,EAE7B,EAEA8hC,KAAAA,CAAMu5H,EAAO+xC,EAAOptM,GACdq7J,EAAMgzC,SACRhzC,EAAMgzC,QAAQnqF,WAAWlkH,EAE7B,EAEA21M,SAAAA,CAAUt6C,GACR,MAAMgzC,EAAUhzC,EAAMgzC,QAEtB,GAAIA,GAAWA,EAAQ8G,cAAe,CACpC,MAAMjhI,EAAO,CACXm6H,WAGF,IAA8E,IAA1EhzC,EAAMi2B,cAAc,oBAAqB,IAAIp9G,EAAMpuE,YAAY,IACjE,OAGFuoM,EAAQ56B,KAAKpY,EAAM/4E,KAEnB+4E,EAAMi2B,cAAc,mBAAoBp9G,GAE5C,EAEAo5H,UAAAA,CAAWjyC,EAAOnnF,GAChB,GAAImnF,EAAMgzC,QAAS,CAEjB,MAAM9rB,EAAmBruG,EAAKixH,OAC1B9pC,EAAMgzC,QAAQzB,YAAY14H,EAAKn6E,MAAOwoL,EAAkBruG,EAAKqxH,eAE/DrxH,EAAK8jF,SAAU,GAGrB,EAEA1/B,SAAU,CACRwzD,SAAS,EACTknB,SAAU,KACVpiI,SAAU,UACV2rF,gBAAiB,kBACjBk3C,WAAY,OACZnH,UAAW,CACTtoJ,OAAQ,QAEVgrJ,aAAc,EACdC,kBAAmB,EACnBthB,WAAY,OACZwjB,UAAW,OACXhC,YAAa,EACbZ,SAAU,CAAC,EAEX8F,UAAW,OACXQ,YAAa,OACbxF,cAAe,EACfD,gBAAiB,EACjBZ,WAAY,CACVxqJ,OAAQ,QAEV4wJ,YAAa,OACbj8E,QAAS,EACTm3E,aAAc,EACdD,UAAW,EACX7tC,aAAc,EACdonC,UAAWA,CAAC9mH,EAAKv0B,IAASA,EAAKwgJ,SAASzpL,KACxCukL,SAAUA,CAAC/mH,EAAKv0B,IAASA,EAAKwgJ,SAASzpL,KACvCkvL,mBAAoB,OACpB9E,eAAe,EACfhqB,WAAY,EACZ1oB,YAAa,gBACbuG,YAAa,EACbrvJ,UAAW,CACTkrJ,SAAU,IACVC,OAAQ,gBAEVG,WAAY,CACVxE,QAAS,CACPnsK,KAAM,SACNwuE,WAAY,CAAC,IAAK,IAAK,QAAS,SAAU,SAAU,WAEtD60I,QAAS,CACP7yC,OAAQ,SACRD,SAAU,MAGd5kI,UAAW02K,IAGbvY,cAAe,CACboW,SAAU,OACVC,WAAY,OACZlC,UAAW,QAGbpwC,YAAa,CACXsC,YAAchwK,GAAkB,WAATA,GAA8B,aAATA,GAAgC,aAATA,EACnEkwK,YAAY,EACZ1kI,UAAW,CACTwkI,aAAa,EACbE,YAAY,GAEdhrJ,UAAW,CACTirJ,WAAW,GAEbK,WAAY,CACVL,UAAW,cAKfs/B,uBAAwB,CAAC,gBCvzC3B,SAAS2X,GAAe1kJ,EAAQyM,EAAKjqE,EAAOmiN,GAC1C,MAAM34I,EAAQhM,EAAOxhE,QAAQiuE,GAC7B,IAAe,IAAXT,EACF,MAbgB44I,EAAC5kJ,EAAQyM,EAAKjqE,EAAOmiN,KACpB,kBAARl4I,GACTjqE,EAAQw9D,EAAOl9D,KAAK2pE,GAAO,EAC3Bk4I,EAAYzgK,QAAQ,CAAC1hD,QAAO2yD,MAAOsX,KAC1BxnB,MAAMwnB,KACfjqE,EAAQ,MAEHA,GAMEoiN,CAAY5kJ,EAAQyM,EAAKjqE,EAAOmiN,GAGzC,OAAO34I,IADMhM,EAAOf,YAAYwN,GACRjqE,EAAQwpE,CAClC,CAIA,SAAS64I,GAAkB9kN,GACzB,MAAMigE,EAASjzD,KAAKw+K,YAEpB,OAAIxrL,GAAS,GAAKA,EAAQigE,EAAO3kE,OACxB2kE,EAAOjgE,GAETA,CACT,CAEe,MAAM+kN,WAAsBnoB,GAEzCtyH,UAAY,WAKZA,gBAAkB,OAChB6/F,MAAO,CACLlwI,SAAU6qL,MAFI,GAMlBj4M,WAAAA,CAAY42K,GACVp1F,MAAMo1F,GAGNz2K,KAAKg4M,iBAAczkI,EACnBvzE,KAAKi4M,YAAc,EACnBj4M,KAAKk4M,aAAe,EACtB,CAEAx7L,IAAAA,CAAKyhL,GACH,MAAMga,EAAQn4M,KAAKk4M,aACnB,GAAIC,EAAM7pN,OAAQ,CAChB,MAAM2kE,EAASjzD,KAAKw+K,YACpB,IAAK,MAAM,MAAC/oL,EAAA,MAAO2yD,KAAU+vJ,EACvBllJ,EAAOx9D,KAAW2yD,GACpB6K,EAAOvwB,OAAOjtC,EAAO,GAGzBuK,KAAKk4M,aAAe,GAEtB72H,MAAM3kE,KAAKyhL,EACb,CAEArqI,KAAAA,CAAM4L,EAAKjqE,GACT,GAAIk8J,EAAcjyF,GAChB,OAAO,KAET,MAAMzM,EAASjzD,KAAKw+K,YAGpB,MAtDe2Q,EAAC15L,EAAOuwD,IAAkB,OAAVvwD,EAAiB,KAAOkhK,GAAYv9J,KAAKg8F,MAAM3/F,GAAQ,EAAGuwD,GAsDlFmpI,CAFP15L,EAAQq8J,SAASr8J,IAAUw9D,EAAOx9D,KAAWiqE,EAAMjqE,EAC/CkiN,GAAe1kJ,EAAQyM,EAAKsyF,EAAev8J,EAAOiqE,GAAM1/D,KAAKk4M,cACxCjlJ,EAAO3kE,OAAS,EAC3C,CAEAujM,mBAAAA,GACE,MAAM,WAAC/4B,EAAA,WAAYC,GAAc/4J,KAAKg5J,gBACtC,IAAI,IAAC9lJ,EAAG,IAAE8yC,GAAOhmD,KAAKi/K,WAAU,GAEJ,UAAxBj/K,KAAK+B,QAAQs/J,SACVvI,IACH5lJ,EAAM,GAEH6lJ,IACH/yG,EAAMhmD,KAAKw+K,YAAYlwL,OAAS,IAIpC0R,KAAKkT,IAAMA,EACXlT,KAAKgmD,IAAMA,CACb,CAEAmsI,UAAAA,GACE,MAAMj/K,EAAMlT,KAAKkT,IACX8yC,EAAMhmD,KAAKgmD,IACXt0C,EAAS1R,KAAK+B,QAAQ2P,OACtByrJ,EAAQ,GACd,IAAIlqG,EAASjzD,KAAKw+K,YAGlBvrH,EAAkB,IAAT//C,GAAc8yC,IAAQiN,EAAO3kE,OAAS,EAAK2kE,EAASA,EAAO92D,MAAM+W,EAAK8yC,EAAM,GAErFhmD,KAAKi4M,YAAc7+M,KAAK4sD,IAAIiN,EAAO3kE,QAAUojB,EAAS,EAAI,GAAI,GAC9D1R,KAAKg4M,YAAch4M,KAAKkT,KAAOxB,EAAS,GAAM,GAE9C,IAAK,IAAI1e,EAAQkgB,EAAKlgB,GAASgzD,EAAKhzD,IAClCmqK,EAAMpnK,KAAK,CAAC/C,UAEd,OAAOmqK,CACT,CAEAyiB,gBAAAA,CAAiB5sL,GACf,OAAO8kN,GAAkBtlN,KAAKwN,KAAMhN,EACtC,CAKAykL,SAAAA,GACEp2F,MAAMo2F,YAEDz3K,KAAKyoL,iBAERzoL,KAAKikL,gBAAkBjkL,KAAKikL,eAEhC,CAGAhrB,gBAAAA,CAAiBjmK,GAKf,MAJqB,kBAAVA,IACTA,EAAQgN,KAAK8zD,MAAM9gE,IAGJ,OAAVA,EAAiBgsL,IAAMh/K,KAAKg2L,oBAAoBhjM,EAAQgN,KAAKg4M,aAAeh4M,KAAKi4M,YAC1F,CAIA1oB,eAAAA,CAAgB95L,GACd,MAAM0nK,EAAQn9J,KAAKm9J,MACnB,OAAI1nK,EAAQ,GAAKA,EAAQ0nK,EAAM7uK,OAAS,EAC/B,KAEF0R,KAAKi5J,iBAAiBkE,EAAM1nK,GAAOzC,MAC5C,CAEA+iM,gBAAAA,CAAiBpxG,GACf,OAAOvrF,KAAKg8F,MAAMp1F,KAAKg4M,YAAch4M,KAAKm2L,mBAAmBxxG,GAAS3kF,KAAKi4M,YAC7E,CAEA70B,YAAAA,GACE,OAAOpjL,KAAKmhK,MACd,ECpIF,SAASi3C,GAAcC,EAAmBC,GACxC,MAAMn7C,EAAQ,IAMR,OAACkE,EAAM,KAAE9hJ,EAAA,IAAMrM,EAAA,IAAK8yC,EAAG,UAAEygC,EAAA,MAAW7lD,EAAA,SAAO23K,EAAQ,UAAEC,EAAA,cAAWC,GAAiBJ,EACjFK,EAAOn5L,GAAQ,EACfo5L,EAAYJ,EAAW,GACtBrlM,IAAK0lM,EAAM5yJ,IAAK6yJ,GAAQP,EACzBx/C,GAAcnH,EAAcz+I,GAC5B6lJ,GAAcpH,EAAc3rG,GAC5B8yJ,GAAgBnnD,EAAc/wH,GAC9Bm4K,GAAcF,EAAOD,IAASJ,EAAY,GAChD,IACIliC,EAAQ0iC,EAASC,EAASC,EAD1BjrB,EAAUv5B,IAASmkD,EAAOD,GAAQD,EAAYD,GAAQA,EAK1D,GAAIzqB,EAdgB,QAcUn1B,IAAeC,EAC3C,MAAO,CAAC,CAAC/lK,MAAO4lN,GAAO,CAAC5lN,MAAO6lN,IAGjCK,EAAY9/M,KAAK0+F,KAAK+gH,EAAO5qB,GAAW70L,KAAK0/E,MAAM8/H,EAAO3qB,GACtDirB,EAAYP,IAEd1qB,EAAUv5B,GAAQwkD,EAAYjrB,EAAU0qB,EAAYD,GAAQA,GAGzD/mD,EAAclrE,KAEjB6vF,EAASl9K,KAAKoxH,IAAI,GAAI/jC,GACtBwnG,EAAU70L,KAAK0+F,KAAKm2F,EAAU3X,GAAUA,GAG3B,UAAXjV,GACF23C,EAAU5/M,KAAK0/E,MAAM8/H,EAAO3qB,GAAWA,EACvCgrB,EAAU7/M,KAAK0+F,KAAK+gH,EAAO5qB,GAAWA,IAEtC+qB,EAAUJ,EACVK,EAAUJ,GAGR//C,GAAcC,GAAcx5I,G7CE3B,SAAqB1uB,EAAW0zH,GACrC,MAAM40F,EAAU//M,KAAKg8F,MAAMvkG,GAC3B,OAAOsoN,EAAY50F,GAAY1zH,GAAQsoN,EAAU50F,GAAY1zH,CAC/D,C6CL0CuoN,EAAapzJ,EAAM9yC,GAAOqM,EAAM0uK,EAAU,MAKhFirB,EAAY9/M,KAAKg8F,MAAMh8F,KAAK8Z,KAAK8yC,EAAM9yC,GAAO+6K,EAASsqB,IACvDtqB,GAAWjoI,EAAM9yC,GAAOgmM,EACxBF,EAAU9lM,EACV+lM,EAAUjzJ,GACD8yJ,GAITE,EAAUlgD,EAAa5lJ,EAAM8lM,EAC7BC,EAAUlgD,EAAa/yG,EAAMizJ,EAC7BC,EAAYt4K,EAAQ,EACpBqtJ,GAAWgrB,EAAUD,GAAWE,IAGhCA,GAAaD,EAAUD,GAAW/qB,EAIhCirB,EADEzkD,GAAaykD,EAAW9/M,KAAKg8F,MAAM8jH,GAAYjrB,EAAU,KAC/C70L,KAAKg8F,MAAM8jH,GAEX9/M,KAAK0+F,KAAKohH,IAM1B,MAAMG,EAAgBjgN,KAAK4sD,IACzBsvG,GAAe24B,GACf34B,GAAe0jD,IAEjB1iC,EAASl9K,KAAKoxH,IAAI,GAAImnC,EAAclrE,GAAa4yH,EAAgB5yH,GACjEuyH,EAAU5/M,KAAKg8F,MAAM4jH,EAAU1iC,GAAUA,EACzC2iC,EAAU7/M,KAAKg8F,MAAM6jH,EAAU3iC,GAAUA,EAEzC,IAAI3sF,EAAI,EAiBR,IAhBImvE,IACE2/C,GAAiBO,IAAY9lM,GAC/BiqJ,EAAMpnK,KAAK,CAAC/C,MAAOkgB,IAEf8lM,EAAU9lM,GACZy2E,IAGE8qE,GAAar7J,KAAKg8F,OAAO4jH,EAAUrvH,EAAIskG,GAAW3X,GAAUA,EAAQpjK,EAAKomM,GAAkBpmM,EAAK6lM,EAAYV,KAC9G1uH,KAEOqvH,EAAU9lM,GACnBy2E,KAIGA,EAAIuvH,IAAavvH,EAAG,CACzB,MAAMuzE,EAAY9jK,KAAKg8F,OAAO4jH,EAAUrvH,EAAIskG,GAAW3X,GAAUA,EACjE,GAAIvd,GAAcmE,EAAYl3G,EAC5B,MAEFm3G,EAAMpnK,KAAK,CAAC/C,MAAOkqK,GACrB,CAaA,OAXInE,GAAc0/C,GAAiBQ,IAAYjzJ,EAEzCm3G,EAAM7uK,QAAUmmK,GAAa0I,EAAMA,EAAM7uK,OAAS,GAAG0E,MAAOgzD,EAAKszJ,GAAkBtzJ,EAAK+yJ,EAAYV,IACtGl7C,EAAMA,EAAM7uK,OAAS,GAAG0E,MAAQgzD,EAEhCm3G,EAAMpnK,KAAK,CAAC/C,MAAOgzD,IAEX+yG,GAAckgD,IAAYjzJ,GACpCm3G,EAAMpnK,KAAK,CAAC/C,MAAOimN,IAGd97C,CACT,CAEA,SAASm8C,GAAkBtmN,EAAO+lN,EAAU/9D,GAA6B,IAA3B,WAAC2rC,EAAU,YAAExkB,GAAYnnB,EACrE,MAAMopB,EAAMlP,GAAUiN,GAChBtS,GAAS82B,EAAavtL,KAAK8gK,IAAIkK,GAAOhrK,KAAK+hK,IAAIiJ,KAAS,KACxD91K,EAAS,IAAOyqN,GAAc,GAAK/lN,GAAO1E,OAChD,OAAO8K,KAAK8Z,IAAI6lM,EAAalpD,EAAOvhK,EACtC,CAEe,MAAMirN,WAAwB3pB,GAE3C/vL,WAAAA,CAAY42K,GACVp1F,MAAMo1F,GAGNz2K,KAAKwF,WAAQ+tE,EAEbvzE,KAAKyF,SAAM8tE,EAEXvzE,KAAKg4M,iBAAczkI,EAEnBvzE,KAAKw5M,eAAYjmI,EACjBvzE,KAAKi4M,YAAc,CACrB,CAEAnkJ,KAAAA,CAAM4L,EAAKjqE,GACT,OAAIk8J,EAAcjyF,KAGE,kBAARA,GAAoBA,aAAeysB,UAAY2lE,UAAUpyF,GAF5D,MAMDA,CACV,CAEA+5I,sBAAAA,GACE,MAAM,YAACr4C,GAAephK,KAAK+B,SACrB,WAAC+2J,EAAA,WAAYC,GAAc/4J,KAAKg5J,gBACtC,IAAI,IAAC9lJ,EAAG,IAAE8yC,GAAOhmD,KAEjB,MAAM05M,EAAS9nJ,GAAM1+C,EAAM4lJ,EAAa5lJ,EAAM0+C,EACxC+nJ,EAAS/nJ,GAAM5L,EAAM+yG,EAAa/yG,EAAM4L,EAE9C,GAAIwvG,EAAa,CACf,MAAMw4C,EAAUplD,GAAKthJ,GACf2mM,EAAUrlD,GAAKxuG,GAEjB4zJ,EAAU,GAAKC,EAAU,EAC3BF,EAAO,GACEC,EAAU,GAAKC,EAAU,GAClCH,EAAO,GAIX,GAAIxmM,IAAQ8yC,EAAK,CACf,IAAIt0C,EAAiB,IAARs0C,EAAY,EAAI5sD,KAAKy3H,IAAU,IAAN7qE,GAEtC2zJ,EAAO3zJ,EAAMt0C,GAER0vJ,GACHs4C,EAAOxmM,EAAMxB,GAGjB1R,KAAKkT,IAAMA,EACXlT,KAAKgmD,IAAMA,CACb,CAEA8zJ,YAAAA,GACE,MAAM5sB,EAAWltL,KAAK+B,QAAQo7J,MAE9B,IACIo7C,GADA,cAAC5qB,EAAA,SAAeosB,GAAY7sB,EAkBhC,OAfI6sB,GACFxB,EAAWn/M,KAAK0+F,KAAK93F,KAAKgmD,IAAM+zJ,GAAY3gN,KAAK0/E,MAAM94E,KAAKkT,IAAM6mM,GAAY,EAC1ExB,EAAW,MACb3lL,QAAQ8pE,KAAK,UAAU18F,KAAKy3B,sBAAsBsiL,mCAA0CxB,8BAC5FA,EAAW,OAGbA,EAAWv4M,KAAKg6M,mBAChBrsB,EAAgBA,GAAiB,IAG/BA,IACF4qB,EAAWn/M,KAAK8Z,IAAIy6K,EAAe4qB,IAG9BA,CACT,CAKAyB,gBAAAA,GACE,OAAO7tH,OAAO+nE,iBAChB,CAEAi+B,UAAAA,GACE,MAAMriI,EAAO9vD,KAAK+B,QACZmrL,EAAWp9H,EAAKqtG,MAMtB,IAAIo7C,EAAWv4M,KAAK85M,eACpBvB,EAAWn/M,KAAK4sD,IAAI,EAAGuyJ,GAEvB,MAcMp7C,EAAQi7C,GAdkB,CAC9BG,WACAl3C,OAAQvxG,EAAKuxG,OACbnuJ,IAAK48C,EAAK58C,IACV8yC,IAAK8J,EAAK9J,IACVygC,UAAWymG,EAASzmG,UACpBlnE,KAAM2tK,EAAS6sB,SACfn5K,MAAOssJ,EAAStsJ,MAChB43K,UAAWx4M,KAAK05L,aAChB/S,WAAY3mL,KAAKyoL,eACjBtmB,YAAa+qB,EAAS/qB,aAAe,EACrCs2C,eAA0C,IAA3BvrB,EAASurB,eAERz4M,KAAKmwL,QAAUnwL,MAmBjC,MAdoB,UAAhB8vD,EAAKuxG,QACPpM,GAAmBkI,EAAOn9J,KAAM,SAG9B8vD,EAAKi5B,SACPo0E,EAAMp0E,UAEN/oF,KAAKwF,MAAQxF,KAAKgmD,IAClBhmD,KAAKyF,IAAMzF,KAAKkT,MAEhBlT,KAAKwF,MAAQxF,KAAKkT,IAClBlT,KAAKyF,IAAMzF,KAAKgmD,KAGXm3G,CACT,CAKAsa,SAAAA,GACE,MAAMta,EAAQn9J,KAAKm9J,MACnB,IAAI33J,EAAQxF,KAAKkT,IACbzN,EAAMzF,KAAKgmD,IAIf,GAFAq7B,MAAMo2F,YAEFz3K,KAAK+B,QAAQ2P,QAAUyrJ,EAAM7uK,OAAQ,CACvC,MAAMojB,GAAUjM,EAAMD,GAASpM,KAAK4sD,IAAIm3G,EAAM7uK,OAAS,EAAG,GAAK,EAC/DkX,GAASkM,EACTjM,GAAOiM,EAET1R,KAAKg4M,YAAcxyM,EACnBxF,KAAKw5M,UAAY/zM,EACjBzF,KAAKi4M,YAAcxyM,EAAMD,CAC3B,CAEAo6K,gBAAAA,CAAiB5sL,GACf,OAAO0pK,GAAa1pK,EAAOgN,KAAKo9J,MAAMr7J,QAAQiK,OAAQhM,KAAK+B,QAAQo7J,MAAM5sD,OAC3E,EClTa,MAAM0pG,WAAoBV,GAEvCj8I,UAAY,SAKZA,gBAAkB,OAChB6/F,MAAO,CACLlwI,SAAU8wI,GAAMf,WAAWC,WAFb,GAOlB40B,mBAAAA,GACE,MAAM,IAAC3+K,EAAG,IAAE8yC,GAAOhmD,KAAKi/K,WAAU,GAElCj/K,KAAKkT,IAAM2+I,EAAS3+I,GAAOA,EAAM,EACjClT,KAAKgmD,IAAM6rG,EAAS7rG,GAAOA,EAAM,EAGjChmD,KAAKy5M,wBACP,CAMAO,gBAAAA,GACE,MAAMrzB,EAAa3mL,KAAKyoL,eAClBn6L,EAASq4L,EAAa3mL,KAAKoM,MAAQpM,KAAKqM,OACxC81J,EAAcjN,GAAUl1J,KAAK+B,QAAQo7J,MAAMgF,aAC3CtS,GAAS82B,EAAavtL,KAAK8gK,IAAIiI,GAAe/oK,KAAK+hK,IAAIgH,KAAiB,KACxEmzB,EAAWt1L,KAAK21L,wBAAwB,GAC9C,OAAOv8L,KAAK0+F,KAAKxpG,EAAS8K,KAAK8Z,IAAI,GAAIoiL,EAASx2B,WAAajP,GAC/D,CAGAoJ,gBAAAA,CAAiBjmK,GACf,OAAiB,OAAVA,EAAiBgsL,IAAMh/K,KAAKg2L,oBAAoBhjM,EAAQgN,KAAKg4M,aAAeh4M,KAAKi4M,YAC1F,CAEAliB,gBAAAA,CAAiBpxG,GACf,OAAO3kF,KAAKg4M,YAAch4M,KAAKm2L,mBAAmBxxG,GAAS3kF,KAAKi4M,WAClE,ECiCcl6C,GAAMf,WAAWY,YC+RjBG,GAAMf,WAAWC,QClWjC,MAAMi9C,GAAY,CAChBC,YAAa,CAAC/iK,QAAQ,EAAMvwB,KAAM,EAAGuzL,MAAO,KAC5CC,OAAQ,CAACjjK,QAAQ,EAAMvwB,KAAM,IAAMuzL,MAAO,IAC1CE,OAAQ,CAACljK,QAAQ,EAAMvwB,KAAM,IAAOuzL,MAAO,IAC3CG,KAAM,CAACnjK,QAAQ,EAAMvwB,KAAM,KAASuzL,MAAO,IAC3CI,IAAK,CAACpjK,QAAQ,EAAMvwB,KAAM,MAAUuzL,MAAO,IAC3C/qM,KAAM,CAAC+nC,QAAQ,EAAOvwB,KAAM,OAAWuzL,MAAO,GAC9CtrM,MAAO,CAACsoC,QAAQ,EAAMvwB,KAAM,OAASuzL,MAAO,IAC5CK,QAAS,CAACrjK,QAAQ,EAAOvwB,KAAM,OAASuzL,MAAO,GAC/CM,KAAM,CAACtjK,QAAQ,EAAMvwB,KAAM,SAMvB8zL,GAA6CxpN,OAAOkgB,KAAK6oM,IAM/D,SAASU,GAAOp2M,EAAGO,GACjB,OAAOP,EAAIO,CACb,CAOA,SAAS+uD,GAAM6rG,EAAO76G,GACpB,GAAI6sG,EAAc7sG,GAChB,OAAO,KAGT,MAAM+1J,EAAUl7C,EAAMm7C,UAChB,OAACnmJ,EAAA,MAAQygC,EAAA,WAAO2lH,GAAcp7C,EAAMq7C,WAC1C,IAAIhoN,EAAQ8xD,EAaZ,MAXsB,oBAAX6P,GACDA,EAAO3hE,GAIZ6+J,EAAS7+J,KACc,kBAAX2hE,EACXkmJ,EAAQ/mJ,MAAM9gE,EAAO2hE,GACrBkmJ,EAAQ/mJ,MAAM9gE,IAGN,OAAVA,EACK,MAGLoiG,IACgB,SAAVA,IAAqB0/D,GAASimD,KAA8B,IAAfA,EAEjDF,EAAQl3B,QAAQ3wL,EAAOoiG,GADvBylH,EAAQl3B,QAAQ3wL,EAAO,UAAW+nN,KAIhC/nN,EACV,CAUA,SAASioN,GAA0BC,EAAShoM,EAAK8yC,EAAKm1J,GACpD,MAAM3oD,EAAOmoD,GAAMrsN,OAEnB,IAAK,IAAIE,EAAImsN,GAAMlpN,QAAQypN,GAAU1sN,EAAIgkK,EAAO,IAAKhkK,EAAG,CACtD,MAAM4sN,EAAWlB,GAAUS,GAAMnsN,IAC3B8nL,EAAS8kC,EAAShB,MAAQgB,EAAShB,MAAQjuH,OAAOkvH,iBAExD,GAAID,EAAShkK,QAAUh+C,KAAK0+F,MAAM9xC,EAAM9yC,IAAQojK,EAAS8kC,EAASv0L,QAAUs0L,EAC1E,OAAOR,GAAMnsN,EAEjB,CAEA,OAAOmsN,GAAMnoD,EAAO,EACtB,CAuCA,SAAS8oD,GAAQn+C,EAAO/tJ,EAAMmsM,GAC5B,GAAKA,GAEE,GAAIA,EAAWjtN,OAAQ,CAC5B,MAAM,GAAC2oK,EAAE,GAAED,GAAMH,GAAQ0kD,EAAYnsM,GAErC+tJ,EADkBo+C,EAAWtkD,IAAO7nJ,EAAOmsM,EAAWtkD,GAAMskD,EAAWvkD,KACpD,QAJnBmG,EAAM/tJ,IAAQ,CAMlB,CA8BA,SAASosM,GAAoB77C,EAAOzsE,EAAQuoH,GAC1C,MAAMt+C,EAAQ,GAERr2I,EAAM,CAAC,EACP0rI,EAAOt/D,EAAO5kG,OACpB,IAAIE,EAAGwE,EAEP,IAAS,EAAGxE,EAAIgkK,IAAQhkK,EACd0kG,EAAO1kG,GACfs4B,EAAI9zB,GAASxE,EAEb2uK,EAAMpnK,KAAK,CACT/C,QACA4vK,OAAO,IAMX,OAAiB,IAATpQ,GAAeipD,EAxCzB,SAAuB97C,EAAOxC,EAAOr2I,EAAK20L,GACxC,MAAMZ,EAAUl7C,EAAMm7C,SAChB77I,GAAS47I,EAAQl3B,QAAQxmB,EAAM,GAAGnqK,MAAOyoN,GACzCzwL,EAAOmyI,EAAMA,EAAM7uK,OAAS,GAAG0E,MACrC,IAAI4vK,EAAOntK,EAEX,IAAawpE,EAAO2jG,GAAS53I,GAAe6vL,EAAQ38M,IAAI0kK,EAAO,EAAG64C,GACxD30L,EAAI87I,GACRntK,GAAS,IACX0nK,EAAM1nK,GAAOmtK,OAAQ,GAGzB,OAAOzF,CACT,CA2B8Cu+C,CAAc/7C,EAAOxC,EAAOr2I,EAAK20L,GAAzCt+C,CACtC,CAEe,MAAMw+C,WAAkB/rB,GAErCtyH,UAAY,OAKZA,gBAAkB,CAQhB+jG,OAAQ,OAERwiB,SAAU,CAAC,EACXz0K,KAAM,CACJulD,QAAQ,EACR+jJ,MAAM,EACNtjH,OAAO,EACP2lH,YAAY,EACZG,QAAS,cACTU,eAAgB,CAAC,GAEnBz+C,MAAO,CASLrlJ,OAAQ,OAERmV,UAAU,EAEV21I,MAAO,CACLirB,SAAS,KAQfhuL,WAAAA,CAAY0E,GACV88E,MAAM98E,GAGNvE,KAAK8wL,OAAS,CACZz7L,KAAM,GACN49D,OAAQ,GACRqtF,IAAK,IAIPtgJ,KAAK67M,MAAQ,MAEb77M,KAAK87M,gBAAavoI,EAClBvzE,KAAK+7M,SAAW,CAAC,EACjB/7M,KAAKg8M,aAAc,EACnBh8M,KAAKg7M,gBAAaznI,CACpB,CAEA72D,IAAAA,CAAK6mL,GAAsB,IAAXzzI,EAAOzhE,UAAAC,OAAA,QAAAilF,IAAAllF,UAAA,GAAAA,UAAA,MACrB,MAAM+gB,EAAOm0L,EAAUn0L,OAASm0L,EAAUn0L,KAAO,CAAC,GAE5CyrM,EAAU76M,KAAK86M,SAAW,IAAIj3B,GAAe0f,EAAU1f,SAASl1K,MAEtEksM,EAAQn+L,KAAKozC,GAMbqjG,GAAQ/jJ,EAAKwsM,eAAgBf,EAAQn3B,WAErC1jL,KAAKg7M,WAAa,CAChBrmJ,OAAQvlD,EAAKulD,OACbygC,MAAOhmF,EAAKgmF,MACZ2lH,WAAY3rM,EAAK2rM,YAGnB15H,MAAM3kE,KAAK6mL,GAEXvjM,KAAKg8M,YAAclsJ,EAAKmsJ,UAC1B,CAOAnoJ,KAAAA,CAAM4L,EAAKjqE,GACT,YAAY89E,IAAR7T,EACK,KAEF5L,GAAM9zD,KAAM0/D,EACrB,CAEAypH,YAAAA,GACE9nG,MAAM8nG,eACNnpL,KAAK8wL,OAAS,CACZz7L,KAAM,GACN49D,OAAQ,GACRqtF,IAAK,GAET,CAEAuxC,mBAAAA,GACE,MAAM9vL,EAAU/B,KAAK+B,QACf84M,EAAU76M,KAAK86M,SACfpC,EAAO32M,EAAQqN,KAAKspM,MAAQ,MAElC,IAAI,IAACxlM,EAAA,IAAK8yC,EAAA,WAAK8yG,EAAA,WAAYC,GAAc/4J,KAAKg5J,gBAK9C,SAASkjD,EAAa76C,GACfvI,GAAe5gH,MAAMmpH,EAAOnuJ,MACzB9Z,KAAK8Z,IAAIA,EAAKmuJ,EAAOnuJ,KAExB6lJ,GAAe7gH,MAAMmpH,EAAOr7G,MACzB5sD,KAAK4sD,IAAIA,EAAKq7G,EAAOr7G,IAE/B,CAGK8yG,GAAeC,IAElBmjD,EAAal8M,KAAKm8M,mBAIK,UAAnBp6M,EAAQs/J,QAA+C,WAAzBt/J,EAAQo7J,MAAMrlJ,QAC9CokM,EAAal8M,KAAKi/K,WAAU,KAI1BptB,EAAS3+I,KAASglC,MAAMhlC,GAAOA,GAAO2nM,EAAQl3B,QAAQ57K,KAAKnQ,MAAO8gN,GAClE7mD,EAAS7rG,KAAS9N,MAAM8N,GAAOA,GAAO60J,EAAQj3B,MAAM77K,KAAKnQ,MAAO8gN,GAAQ,EAG9E14M,KAAKkT,IAAM9Z,KAAK8Z,IAAIA,EAAK8yC,EAAM,GAC/BhmD,KAAKgmD,IAAM5sD,KAAK4sD,IAAI9yC,EAAM,EAAG8yC,EAC/B,CAKAm2J,eAAAA,GACE,MAAM5xC,EAAMvqK,KAAKo8M,qBACjB,IAAIlpM,EAAMi5E,OAAO+nE,kBACbluG,EAAMmmC,OAAOkzF,kBAMjB,OAJI9U,EAAIj8K,SACAi8K,EAAI,GACJA,EAAIA,EAAIj8K,OAAS,IAElB,CAAC4kB,MAAK8yC,MACf,CAKAmsI,UAAAA,GACE,MAAMpwL,EAAU/B,KAAK+B,QACfs6M,EAAWt6M,EAAQqN,KACnB89K,EAAWnrL,EAAQo7J,MACnBo+C,EAAiC,WAApBruB,EAASp1K,OAAsB9X,KAAKo8M,qBAAuBp8M,KAAKs8M,YAE5D,UAAnBv6M,EAAQs/J,QAAsBk6C,EAAWjtN,SAC3C0R,KAAKkT,IAAMlT,KAAKywL,UAAY8qB,EAAW,GACvCv7M,KAAKgmD,IAAMhmD,KAAKwwL,UAAY+qB,EAAWA,EAAWjtN,OAAS,IAG7D,MAAM4kB,EAAMlT,KAAKkT,IAGXiqJ,EhD1SH,SAAwBjqE,EAAkBhgF,EAAa8yC,GAC5D,IAAIxgD,EAAQ,EACRC,EAAMytF,EAAO5kG,OAEjB,KAAOkX,EAAQC,GAAOytF,EAAO1tF,GAAS0N,GACpC1N,EAEF,KAAOC,EAAMD,GAAS0tF,EAAOztF,EAAM,GAAKugD,GACtCvgD,EAGF,OAAOD,EAAQ,GAAKC,EAAMytF,EAAO5kG,OAC7B4kG,EAAO/2F,MAAMqJ,EAAOC,GACpBytF,CACN,CgD4RkBqpH,CAAehB,EAAYroM,EAF7BlT,KAAKgmD,KAkBjB,OAXAhmD,KAAK67M,MAAQQ,EAAS3D,OAASxrB,EAAS1qB,SACpCy4C,GAA0BoB,EAASnB,QAASl7M,KAAKkT,IAAKlT,KAAKgmD,IAAKhmD,KAAKw8M,kBAAkBtpM,IArR/F,SAAoCysJ,EAAO8zB,EAAUynB,EAAShoM,EAAK8yC,GACjE,IAAK,IAAIx3D,EAAImsN,GAAMrsN,OAAS,EAAGE,GAAKmsN,GAAMlpN,QAAQypN,GAAU1sN,IAAK,CAC/D,MAAMkqN,EAAOiC,GAAMnsN,GACnB,GAAI0rN,GAAUxB,GAAMthK,QAAUuoH,EAAMm7C,SAASp+D,KAAK12F,EAAK9yC,EAAKwlM,IAASjlB,EAAW,EAC9E,OAAOilB,CAEX,CAEA,OAAOiC,GAAMO,EAAUP,GAAMlpN,QAAQypN,GAAW,EAClD,CA6QQuB,CAA2Bz8M,KAAMm9J,EAAM7uK,OAAQ+tN,EAASnB,QAASl7M,KAAKkT,IAAKlT,KAAKgmD,MACpFhmD,KAAK87M,WAAc5uB,EAAStqB,MAAMirB,SAA0B,SAAf7tL,KAAK67M,MAxQtD,SAA4BnD,GAC1B,IAAK,IAAIlqN,EAAImsN,GAAMlpN,QAAQinN,GAAQ,EAAGlmD,EAAOmoD,GAAMrsN,OAAQE,EAAIgkK,IAAQhkK,EACrE,GAAI0rN,GAAUS,GAAMnsN,IAAI4oD,OACtB,OAAOujK,GAAMnsN,EAGnB,CAmQQkuN,CAAmB18M,KAAK67M,YADyCtoI,EAErEvzE,KAAK28M,YAAYpB,GAEbx5M,EAAQgnF,SACVo0E,EAAMp0E,UAGDyyH,GAAoBx7M,KAAMm9J,EAAOn9J,KAAK87M,WAC/C,CAEAppB,aAAAA,GAGM1yL,KAAK+B,QAAQ66M,qBACf58M,KAAK28M,YAAY38M,KAAKm9J,MAAMr2I,KAAI+5F,IAASA,EAAK7tH,QAElD,CAUA2pN,WAAAA,GAA6B,IAGvB19I,EAAOj0C,EAHDuwL,EAAaltN,UAAAC,OAAA,QAAAilF,IAAAllF,UAAC,GAADA,UAAC,GAAD,GACnBmX,EAAQ,EACRC,EAAM,EAGNzF,KAAK+B,QAAQ2P,QAAU6pM,EAAWjtN,SAC5B0R,KAAK68M,mBAAmBtB,EAAW,IACjB,IAAtBA,EAAWjtN,OACL,EAAI2wE,GAEHj/D,KAAK68M,mBAAmBtB,EAAW,IAAMt8I,GAAS,EAEtDj/D,KAAK68M,mBAAmBtB,EAAWA,EAAWjtN,OAAS,IACpC,IAAtBitN,EAAWjtN,OACP08B,GAECA,EAAOhrB,KAAK68M,mBAAmBtB,EAAWA,EAAWjtN,OAAS,KAAO,GAGhF,MAAMuxH,EAAQ07F,EAAWjtN,OAAS,EAAI,GAAM,IACpCqoK,GAAYnxJ,EAAO,EAAGq6G,GACxB82C,GAAYlxJ,EAAK,EAAGo6G,GAE1B7/G,KAAK+7M,SAAW,CAACv2M,QAAOC,MAAK6wK,OAAQ,GAAK9wK,EAAQ,EAAIC,GACxD,CASA62M,SAAAA,GACE,MAAMzB,EAAU76M,KAAK86M,SACf5nM,EAAMlT,KAAKkT,IACX8yC,EAAMhmD,KAAKgmD,IACXjkD,EAAU/B,KAAK+B,QACfs6M,EAAWt6M,EAAQqN,KAEnBuzJ,EAAQ05C,EAAS3D,MAAQuC,GAA0BoB,EAASnB,QAAShoM,EAAK8yC,EAAKhmD,KAAKw8M,kBAAkBtpM,IACtG6mM,EAAW/nD,EAAejwJ,EAAQo7J,MAAM48C,SAAU,GAClD+C,EAAoB,SAAVn6C,GAAmB05C,EAAStB,WACtCgC,EAAajoD,GAASgoD,KAAwB,IAAZA,EAClC3/C,EAAQ,CAAC,EACf,IACI/tJ,EAAMwxB,EADNq+B,EAAQ/rD,EAYZ,GARI6pM,IACOlC,EAAQl3B,QAAQ1kH,EAAO,UAAW69I,IAIpCjC,EAAQl3B,QAAQ1kH,EAAO89I,EAAa,MAAQp6C,GAGjDk4C,EAAQn+D,KAAK12F,EAAK9yC,EAAKyvJ,GAAS,IAASo3C,EAC3C,MAAM,IAAI1oN,MAAM6hB,EAAM,QAAU8yC,EAAM,uCAAyC+zJ,EAAW,IAAMp3C,GAGlG,MAAM44C,EAAsC,SAAzBx5M,EAAQo7J,MAAMrlJ,QAAqB9X,KAAKg9M,oBAC3D,IAA2B,EAAG5tM,EAAO42C,GAAa60J,EAAQ38M,IAAIkR,EAAM2qM,EAAUp3C,GAAQ/hI,IACpF06K,GAAQn+C,EAAO/tJ,EAAMmsM,GAQvB,OALInsM,IAAS42C,GAA0B,UAAnBjkD,EAAQs/J,QAAgC,IAAVzgI,GAChD06K,GAAQn+C,EAAO/tJ,EAAMmsM,GAIhBpqN,OAAOkgB,KAAK8rJ,GAAO6oB,KAAK40B,IAAQ9zL,KAAIj2B,IAAMA,GACnD,CAMA+uL,gBAAAA,CAAiB5sL,GACf,MAAM6nN,EAAU76M,KAAK86M,SACfuB,EAAWr8M,KAAK+B,QAAQqN,KAE9B,OAAIitM,EAASY,cACJpC,EAAQtqG,OAAOv9G,EAAOqpN,EAASY,eAEjCpC,EAAQtqG,OAAOv9G,EAAOqpN,EAAST,eAAehtM,SACvD,CAOA2hG,MAAAA,CAAOv9G,EAAOu9G,GACZ,MACMmzE,EADU1jL,KAAK+B,QACGqN,KAAKwsM,eACvBlD,EAAO14M,KAAK67M,MACZqB,EAAM3sG,GAAUmzE,EAAQg1B,GAC9B,OAAO14M,KAAK86M,SAASvqG,OAAOv9G,EAAOkqN,EACrC,CAWAC,mBAAAA,CAAoB/tM,EAAM3Z,EAAO0nK,EAAO5sD,GACtC,MAAMxuG,EAAU/B,KAAK+B,QACf66J,EAAY76J,EAAQo7J,MAAMlwI,SAEhC,GAAI2vI,EACF,OAAO3vI,EAAK2vI,EAAW,CAACxtJ,EAAM3Z,EAAO0nK,GAAQn9J,MAG/C,MAAM0jL,EAAU3hL,EAAQqN,KAAKwsM,eACvBlD,EAAO14M,KAAK67M,MACZJ,EAAYz7M,KAAK87M,WACjBsB,EAAc1E,GAAQh1B,EAAQg1B,GAC9B2E,EAAc5B,GAAa/3B,EAAQ+3B,GACnC56F,EAAOs8C,EAAM1nK,GACbmtK,EAAQ64C,GAAa4B,GAAex8F,GAAQA,EAAK+hD,MAEvD,OAAO5iK,KAAK86M,SAASvqG,OAAOnhG,EAAMmhG,IAAWqyD,EAAQy6C,EAAcD,GACrE,CAKA7pB,kBAAAA,CAAmBp2B,GACjB,IAAI3uK,EAAGgkK,EAAM3xC,EAEb,IAAmBs8C,EAAM7uK,OAAQE,EAAIgkK,IAAQhkK,EACpC2uK,EAAM3uK,GACbqyH,EAAKz4D,MAAQpoD,KAAKm9M,oBAAoBt8F,EAAK7tH,MAAOxE,EAAG2uK,EAEzD,CAMA0/C,kBAAAA,CAAmB7pN,GACjB,OAAiB,OAAVA,EAAiBgsL,KAAOhsL,EAAQgN,KAAKkT,MAAQlT,KAAKgmD,IAAMhmD,KAAKkT,IACtE,CAMA+lJ,gBAAAA,CAAiBjmK,GACf,MAAMsqN,EAAUt9M,KAAK+7M,SACfh0J,EAAM/nD,KAAK68M,mBAAmB7pN,GACpC,OAAOgN,KAAKg2L,oBAAoBsnB,EAAQ93M,MAAQuiD,GAAOu1J,EAAQhnC,OACjE,CAMAyf,gBAAAA,CAAiBpxG,GACf,MAAM24H,EAAUt9M,KAAK+7M,SACfh0J,EAAM/nD,KAAKm2L,mBAAmBxxG,GAAS24H,EAAQhnC,OAASgnC,EAAQ73M,IACtE,OAAOzF,KAAKkT,IAAM60C,GAAO/nD,KAAKgmD,IAAMhmD,KAAKkT,IAC3C,CAOAqqM,aAAAA,CAAcn1J,GACZ,MAAMo1J,EAAYx9M,KAAK+B,QAAQo7J,MACzBsgD,EAAiBz9M,KAAKqkF,IAAI++E,YAAYh7G,GAAOh8C,MAC7CypJ,EAAQX,GAAUl1J,KAAKyoL,eAAiB+0B,EAAUp7C,YAAco7C,EAAUr7C,aAC1Eu7C,EAActkN,KAAK+hK,IAAItF,GACvB8nD,EAAcvkN,KAAK8gK,IAAIrE,GACvB+nD,EAAe59M,KAAK21L,wBAAwB,GAAG9uK,KAErD,MAAO,CACL+wE,EAAI6lH,EAAiBC,EAAgBE,EAAeD,EACpD9lH,EAAI4lH,EAAiBE,EAAgBC,EAAeF,EAExD,CAOAlB,iBAAAA,CAAkBqB,GAChB,MAAMxB,EAAWr8M,KAAK+B,QAAQqN,KACxBwsM,EAAiBS,EAAST,eAG1BrrG,EAASqrG,EAAeS,EAAS3D,OAASkD,EAAezB,YACzD2D,EAAe99M,KAAKm9M,oBAAoBU,EAAa,EAAGrC,GAAoBx7M,KAAM,CAAC69M,GAAc79M,KAAK87M,YAAavrG,GACnH1pF,EAAO7mB,KAAKu9M,cAAcO,GAG1B3C,EAAW/hN,KAAK0/E,MAAM94E,KAAKyoL,eAAiBzoL,KAAKoM,MAAQya,EAAK+wE,EAAI53F,KAAKqM,OAASwa,EAAKgxE,GAAK,EAChG,OAAOsjH,EAAW,EAAIA,EAAW,CACnC,CAKA6B,iBAAAA,GACE,IACIxuN,EAAGgkK,EADH+oD,EAAav7M,KAAK8wL,OAAOz7L,MAAQ,GAGrC,GAAIkmN,EAAWjtN,OACb,OAAOitN,EAGT,MAAMrqB,EAAQlxL,KAAKy5K,0BAEnB,GAAIz5K,KAAKg8M,aAAe9qB,EAAM5iM,OAC5B,OAAQ0R,KAAK8wL,OAAOz7L,KAAO67L,EAAM,GAAGnvK,WAAW09J,mBAAmBz/K,MAGpE,IAAmBkxL,EAAM5iM,OAAQE,EAAIgkK,IAAQhkK,EAC9B+sN,EAAWzuL,OAAOokK,EAAM1iM,GAAGuzB,WAAW09J,mBAAmBz/K,OAGxE,OAAQA,KAAK8wL,OAAOz7L,KAAO2K,KAAKwyK,UAAU+oC,EAC5C,CAKAa,kBAAAA,GACE,MAAMb,EAAav7M,KAAK8wL,OAAO79H,QAAU,GACzC,IAAIzkE,EAAGgkK,EAEP,GAAI+oD,EAAWjtN,OACb,OAAOitN,EAGT,MAAMtoJ,EAASjzD,KAAKw+K,YACpB,IAAmBvrH,EAAO3kE,OAAQE,EAAIgkK,IAAQhkK,EAC5C+sN,EAAWxlN,KAAK+9D,GAAM9zD,KAAMizD,EAAOzkE,KAGrC,OAAQwR,KAAK8wL,OAAO79H,OAASjzD,KAAKg8M,YAAcT,EAAav7M,KAAKwyK,UAAU+oC,EAC9E,CAMA/oC,SAAAA,CAAUt/E,GAER,OAAOukE,GAAavkE,EAAO8yF,KAAK40B,IAClC,QCrpBImD,GAAsB,QAErB,SAASC,GAAgB7hM,EAAsBnpB,GACjC,oBAARmpB,EACTA,EAAInpB,GACKmpB,IACTA,EAAIvmB,QAAU5C,EAElB,CAcO,SAASirN,GAKdC,EACAC,GAEAD,EAAYjrJ,OAASkrJ,CACvB,CAEO,SAASC,GAKdF,EACAG,GACA,IAAAC,EAAAjwN,UAAeC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAA0vN,GAEf,MAAMQ,EAA8C,GAEpDL,EAAY1/C,SAAW6/C,EAAav3L,KACjC03L,IAEC,MAAMC,EAAiBP,EAAY1/C,SAAS/xC,MACzC10F,GACCA,EAAQumL,KAAkBE,EAAYF,KAI1C,OACGG,GACAD,EAAYnpN,OACbkpN,EAAchrN,SAASkrN,IAKzBF,EAAcxoN,KAAK0oN,GAEnBttN,OAAOD,OAAOutN,EAAgBD,GAEvBC,GAPE,IAAKD,EAOP,GAGb,CAEO,SAASE,GAIdrpN,GAAuC,IAAAipN,EAAAjwN,UAAeC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAA0vN,GACtD,MAAMY,EAA4C,CAChD1rJ,OAAQ,GACRurG,SAAU,IAMZ,OAHAy/C,GAAUU,EAAUtpN,EAAK49D,QACzBmrJ,GAAYO,EAAUtpN,EAAKmpK,SAAU8/C,GAE9BK,CACT,CCnFA,SAASC,GAKPr6M,EACA4X,GAEA,MAAM,OACJ9P,EAAS,IAAG,MACZD,EAAQ,IAAG,OACXyyM,GAAS,EAAK,aACdP,EAAY,KACZluN,EAAI,KACJiF,EAAI,QACJ0M,EAAO,QACPwyD,EAAU,GAAE,gBACZuqJ,EAAe,WACfC,KACGC,GACDz6M,EACE06M,GAAYhvL,EAAAA,EAAAA,QAA0B,MACtCivL,GAAWjvL,EAAAA,EAAAA,QAA6C,MAExDkvL,EAAcA,KACbF,EAAUrpN,UAEfspN,EAAStpN,QAAU,IAAIwpN,GAAQH,EAAUrpN,QAAS,CAChDxF,OACAiF,KAAMqpN,GAAUrpN,EAAMipN,GACtBv8M,QAASA,GAAW,IAAKA,GACzBwyD,YAGFypJ,GAAa7hM,EAAK+iM,EAAStpN,SAAQ,EAG/BypN,EAAeA,KACnBrB,GAAa7hM,EAAK,MAEd+iM,EAAStpN,UACXspN,EAAStpN,QAAQkzB,UACjBo2L,EAAStpN,QAAU,KACrB,EA6CF,OA1CA+5B,EAAAA,EAAAA,YAAW,MACJkvL,GAAUK,EAAStpN,SAAWmM,GDtChC,SAILq7J,EAAoCkiD,GACpC,MAAMv9M,EAAUq7J,EAAMr7J,QAElBA,GAAWu9M,GACbnuN,OAAOD,OAAO6Q,EAASu9M,EAE3B,CC6BMC,CAAWL,EAAStpN,QAASmM,EAC/B,GACC,CAAC88M,EAAQ98M,KAEZ4tB,EAAAA,EAAAA,YAAW,MACJkvL,GAAUK,EAAStpN,SACtBqoN,GAAUiB,EAAStpN,QAAQmuD,OAAO1uD,KAAMA,EAAK49D,OAC/C,GACC,CAAC4rJ,EAAQxpN,EAAK49D,UAEjBtjC,EAAAA,EAAAA,YAAW,MACJkvL,GAAUK,EAAStpN,SAAWP,EAAKmpK,UACtC4/C,GAAYc,EAAStpN,QAAQmuD,OAAO1uD,KAAMA,EAAKmpK,SAAU8/C,EAC3D,GACC,CAACO,EAAQxpN,EAAKmpK,YAEjB7uI,EAAAA,EAAAA,YAAW,KACJuvL,EAAStpN,UAEVipN,GACFQ,IACAhsL,WAAW8rL,IAEXD,EAAStpN,QAAQ+gB,OAAOooM,GAC1B,GACC,CAACF,EAAQ98M,EAAS1M,EAAK49D,OAAQ59D,EAAKmpK,SAAUugD,KAEjDpvL,EAAAA,EAAAA,YAAW,KACJuvL,EAAStpN,UAEdypN,IACAhsL,WAAW8rL,GAAA,GACV,CAAC/uN,KAEJu/B,EAAAA,EAAAA,YAAW,KACTwvL,IAEO,IAAME,MACZ,IAGDrxN,EAAAA,cAAC,UACCmuB,IAAK8iM,EACLO,KAAK,MACLnzM,OAAQA,EACRD,MAAOA,KACH4yM,GAEHF,EAGP,CAEO,MAAMpd,IAAQt9I,EAAAA,EAAAA,YAAWw6J,IC7FhC,SAASa,GACPrvN,EACAsvN,GAIA,OAFAN,GAAQtlB,SAAS4lB,IAEVt7J,EAAAA,EAAAA,aACJ,CAAA7/C,EAAO4X,IAAQnuB,EAAAA,cAAC0zM,GAAA,IAAUn9L,EAAO4X,IAAKA,EAAK/rB,KAAMA,KAEtD,OAEauvN,GAAuBF,GAAiB,OAAQh9B,IC3B7Dm9B,GAAQ9lB,SAAS+P,GAAakO,GAAekC,GAAavP,GAAc8I,GAAShI,IAEjF,MAmEA,GAnE6Bt4E,IAAwC,IAAvC,aAAE2sF,EAAY,gBAAEC,GAAiB5sF,EAC7D,MAAM79H,EAAO,CACX49D,OAAQ4sJ,EAAa/4L,KAAI,CAACi5L,EAAGtqN,IAAU,YAAYA,EAAQ,MAC3D+oK,SAAU,CACR,CACEp2G,MAAO,gBACP/yD,KAAMwqN,EACNthD,YAAa,OACbD,gBAAiB,uBACjBwG,YAAa,EACbk7C,YAAa,EACb7yF,MAAM,GAER,CACE/kE,MAAO,mBACP/yD,KAAMyqN,EACNvhD,YAAa,MACbD,gBAAiB,uBACjBwG,YAAa,EACbk7C,YAAa,EACb7yF,MAAM,KAmCZ,OACEm1B,EAAAA,EAAAA,MAAA,OAAKlI,UAAU,4DAA2D/3I,SAAA,EACxEkgJ,EAAAA,EAAAA,KAAA,MAAInI,UAAU,mDAAkD/3I,SAAC,8CAGjEigJ,EAAAA,EAAAA,MAAA,OAAKlI,UAAU,OAAM/3I,SAAA,CAAC,KACpBkgJ,EAAAA,EAAAA,KAACo9D,GAAI,CAACtqN,KAAMA,EAAM0M,QApCR,CACd29J,YAAY,EACZH,qBAAqB,EACrBhrG,QAAS,CACP66I,OAAQ,CACN5rK,SAAS,EACTmvC,SAAU,OAEZy9H,QAAS,CACPviB,SAAS,EACT/vK,KAAM,UAGV8hJ,OAAQ,CACN5uJ,EAAG,CACDowJ,aAAa,EACb/mI,MAAO,CACLmJ,SAAS,EACThhC,KAAM,cAGV3R,EAAG,CACDwpC,MAAO,CACLmJ,SAAS,EACThhC,KAAM,wBAcN,EC4EV,SAnFA,WACE,MAAOy9M,EAAgBC,IAAqBt6L,EAAAA,EAAAA,UAAS,OAC9ChL,EAAOulM,IAAYv6L,EAAAA,EAAAA,UAAS,OAC5Bi6L,IAAgBj6L,EAAAA,EAAAA,UAAS,CAAC,IAAQ,KAAQ,IAAQ,QAClDk6L,EAAiBM,IAAsBx6L,EAAAA,EAAAA,UAAS,CAAC,KAAQ,MAAQ,KAAQ,OAoDhF,OAlDA+J,EAAAA,EAAAA,YAAU,KACR,IzDjDFiD,QAAQj6B,IAAI,qBACZ+wI,EAAIlhB,MAAoB63F,EAdnBv5L,KAAKy9C,IAAI,CACZzf,MAAO,CACLm9F,KAAM19E,EAAKzf,MAAMm9F,KAAO,IACxBC,SAAU39E,EAAKzf,MAAMo9F,SAAW,EAChCC,UAAW59E,EAAKzf,MAAMq9F,UAAY,EAClCr2I,SAAUy4D,EAAKzf,MAAMh5C,SAAW,EAChCs2I,IAAK79E,EAAKzf,MAAMs9F,IAAM,IAExBlrE,OAAQ,CAAEyrE,MAAOp+E,EAAK2S,OAAOyrE,MAAQ,SAMA,CACrC7+B,WAAY,IACZC,YAAa,KACbprH,KAAK,EACLqrH,UAAW,IACXE,aAAc,KAGhBtxF,QAAQj6B,IAAI,+BAGZqqJ,aAAas9D,QAAQ,eAAgB3pI,KAAKC,UAAU8yD,EAAIzxD,WACjDyxD,EAAIzxD,QyDsCT,CAAE,MAAO/+E,GACP05B,QAAQhY,MAAM,yBAA0B1hB,GACxCinN,EAAS,2DACX,IACC,KA4CD79D,EAAAA,EAAAA,MAAA,OAAKlI,UAAU,yGAAwG/3I,SAAA,EACrHkgJ,EAAAA,EAAAA,KAAA,MAAInI,UAAU,wCAAuC/3I,SAAC,+CAItDkgJ,EAAAA,EAAAA,KAACg+D,EAAY,CAACx+D,SA/CQ1sJ,IACxB8qN,EAAS,MAET,IAEE,IAAK9qN,EAAK4sJ,OAAS5sJ,EAAK6sJ,WAAa7sJ,EAAK8sJ,YAAc9sJ,EAAKyW,WAAazW,EAAK+sJ,IAC7E,MAAM,IAAI/wJ,MAAM,4BAElB,GAAI6mD,MAAM7iD,EAAK4sJ,OAAS/pG,MAAM7iD,EAAK6sJ,WAAahqG,MAAM7iD,EAAK8sJ,YAAcjqG,MAAM7iD,EAAK+sJ,KAClF,MAAM,IAAI/wJ,MAAM,+EAGlB,MAAMmvN,EAAc,CAAE,WAAY,EAAG,gBAAiB,EAAG,QAAW,GACpE,IAAKA,EAAYrpN,eAAe9B,EAAKyW,UACnC,MAAM,IAAIza,MAAM,8BAGlB,MAAMyzD,EAAQ,CACZm9F,KAAM91D,OAAO92F,EAAK4sJ,MAClBC,SAAU/1D,OAAO92F,EAAK6sJ,UACtBC,UAAWh2D,OAAO92F,EAAK8sJ,WACvBr2I,SAAU00M,EAAYnrN,EAAKyW,UAC3Bs2I,IAAKj2D,OAAO92F,EAAK+sJ,MAGbO,EAAQE,EAAa/9F,GAC3B,GAAI5M,MAAMyqG,IAAUA,GAAS,EAC3B,MAAM,IAAItxJ,MAAM,8DAGlB6uN,EAAkBv9D,EAAM89D,QAAQ,IAGhCL,GAAoBM,GAAe,IAAIA,EAAWvkN,MAAM,GAAIwmJ,IAE9D,CAAE,MAAOzpJ,GACP05B,QAAQhY,MAAM,oBAAqB1hB,GACnCinN,EAASjnN,EAAIjF,QACf,KAWG2mB,IACC0nI,EAAAA,EAAAA,MAAA,OAAKlI,UAAU,oEAAmE/3I,SAAA,CAAC,UAC9EuY,KAINqlM,IAAmBrlM,IAClB2nI,EAAAA,EAAAA,KAAA,OAAKnI,UAAU,gDAA+C/3I,UAC5DigJ,EAAAA,EAAAA,MAAA,MAAIlI,UAAU,kCAAiC/3I,SAAA,CAAC,qBAC7BigJ,EAAAA,EAAAA,MAAA,QAAMlI,UAAU,gBAAe/3I,SAAA,CAAC,IAAE49M,WAKzD19D,EAAAA,EAAAA,KAACo+D,GAAoB,CAACd,aAAcA,EAAcC,gBAAiBA,MAGzE,ECpIA,GAZwBc,IAClBA,GAAeA,aAAuB5mI,UACxC,6BAAqBh/D,MAAKk4G,IAAkD,IAAjD,OAAE2tF,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,QAAEC,GAAS/tF,EACpE2tF,EAAOD,GACPE,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAQL,EAAY,GAExB,ECHW3yN,EAAAA,WAAoBmQ,SAASgjM,eAAe,SACpD1wM,QACH6xJ,EAAAA,EAAAA,KAACv0J,EAAAA,WAAgB,CAAAqU,UACfkgJ,EAAAA,EAAAA,KAAC2+D,GAAG,OAORC","sources":["../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react/index.js","../node_modules/react/cjs/react.production.js","../node_modules/react-dom/client.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/brain.js/src/activation/relu.ts","../node_modules/brain.js/src/activation/sigmoid.ts","../node_modules/brain.js/src/activation/tanh.ts","../node_modules/brain.js/src/activation/leaky-relu.ts","../node_modules/brain.js/node_modules/gpu.js/dist/gpu-browser.js","../node_modules/brain.js/src/lookup.ts","../node_modules/brain.js/node_modules/thaw.js/browser.js","../node_modules/brain.js/src/utilities/cast.ts","../node_modules/brain.js/src/utilities/lookup-table.ts","../node_modules/brain.js/src/utilities/max.ts","../node_modules/brain.js/src/utilities/mse.ts","../node_modules/brain.js/src/utilities/random-weight.ts","../node_modules/brain.js/src/utilities/random.ts","../node_modules/brain.js/src/utilities/randos.ts","../node_modules/brain.js/src/utilities/zeros.ts","../node_modules/brain.js/src/neural-network.ts","../node_modules/brain.js/src/utilities/kernel.ts","../node_modules/brain.js/src/neural-network-gpu.ts","../node_modules/brain.js/src/errors/untrained-neural-network-error.ts","../node_modules/brain.js/src/autoencoder.ts","../node_modules/brain.js/src/cross-validate.ts","../node_modules/brain.js/src/estimator/mean-squared-error.ts","../node_modules/brain.js/src/layer/base-layer.ts","../node_modules/brain.js/src/utilities/zeros-2d.ts","../node_modules/brain.js/src/utilities/zeros-3d.ts","../node_modules/brain.js/src/layer/activation.ts","../node_modules/brain.js/src/layer/filter.ts","../node_modules/brain.js/src/layer/internal.ts","../node_modules/brain.js/src/layer/modifier.ts","../node_modules/brain.js/src/layer/operator.ts","../node_modules/brain.js/src/layer/target.ts","../node_modules/brain.js/src/layer/types.ts","../node_modules/brain.js/src/praxis/base-praxis.ts","../node_modules/brain.js/src/praxis/arthur-deviation-biases.ts","../node_modules/brain.js/src/praxis/arthur-deviation-weights.ts","../node_modules/brain.js/src/praxis/momentum-root-mean-squared-propagation.ts","../node_modules/brain.js/src/utilities/traverse-layers-from.ts","../node_modules/brain.js/src/utilities/flatten-layers.ts","../node_modules/brain.js/src/utilities/layer-size.ts","../node_modules/brain.js/src/layer/add.ts","../node_modules/brain.js/src/layer/random.ts","../node_modules/brain.js/src/layer/multiply.ts","../node_modules/brain.js/src/layer/sigmoid.ts","../node_modules/brain.js/src/layer/arthur-feed-forward.ts","../node_modules/brain.js/src/utilities/layer-setup.ts","../node_modules/brain.js/src/utilities/values.ts","../node_modules/brain.js/src/layer/convolution.ts","../node_modules/brain.js/src/layer/dropout.ts","../node_modules/brain.js/src/layer/feed-forward.ts","../node_modules/brain.js/src/layer/fully-connected.ts","../node_modules/brain.js/src/layer/negative.ts","../node_modules/brain.js/src/layer/multiply-element.ts","../node_modules/brain.js/src/utilities/ones.ts","../node_modules/brain.js/src/layer/ones.ts","../node_modules/brain.js/src/layer/tanh.ts","../node_modules/brain.js/src/layer/zeros.ts","../node_modules/brain.js/src/layer/gru.ts","../node_modules/brain.js/src/layer/input.ts","../node_modules/brain.js/src/layer/leaky-relu.ts","../node_modules/brain.js/src/layer/lstm-cell.ts","../node_modules/brain.js/src/layer/output.ts","../node_modules/brain.js/src/layer/pool.ts","../node_modules/brain.js/src/layer/recurrent-input.ts","../node_modules/brain.js/src/layer/recurrent-zeros.ts","../node_modules/brain.js/src/layer/relu.ts","../node_modules/brain.js/src/layer/rnn-cell.ts","../node_modules/brain.js/src/layer/regression.ts","../node_modules/brain.js/src/layer/soft-max.ts","../node_modules/brain.js/src/layer/svm.ts","../node_modules/brain.js/src/layer/transpose.ts","../node_modules/brain.js/src/layer/index.ts","../node_modules/brain.js/src/utilities/layer-from-json.ts","../node_modules/brain.js/src/feed-forward.ts","../node_modules/brain.js/src/likely.ts","../node_modules/brain.js/src/layer/recurrent-connection.ts","../node_modules/brain.js/src/recurrent.ts","../node_modules/brain.js/src/recurrent/matrix/index.ts","../node_modules/brain.js/src/recurrent/matrix/random-matrix.ts","../node_modules/brain.js/src/utilities/data-formatter.ts","../node_modules/brain.js/src/recurrent/matrix/copy.ts","../node_modules/brain.js/src/recurrent/matrix/add.ts","../node_modules/brain.js/src/recurrent/matrix/add-b.ts","../node_modules/brain.js/src/recurrent/matrix/all-ones.ts","../node_modules/brain.js/src/recurrent/matrix/clone-negative.ts","../node_modules/brain.js/src/recurrent/matrix/multiply.ts","../node_modules/brain.js/src/recurrent/matrix/multiply-b.ts","../node_modules/brain.js/src/recurrent/matrix/multiply-element.ts","../node_modules/brain.js/src/recurrent/matrix/multiply-element-b.ts","../node_modules/brain.js/src/recurrent/matrix/relu.ts","../node_modules/brain.js/src/recurrent/matrix/relu-b.ts","../node_modules/brain.js/src/recurrent/matrix/row-pluck.ts","../node_modules/brain.js/src/recurrent/matrix/row-pluck-b.ts","../node_modules/brain.js/src/recurrent/matrix/sigmoid.ts","../node_modules/brain.js/src/recurrent/matrix/sigmoid-b.ts","../node_modules/brain.js/src/recurrent/matrix/softmax.ts","../node_modules/brain.js/src/recurrent/matrix/tanh.ts","../node_modules/brain.js/src/recurrent/matrix/tanh-b.ts","../node_modules/brain.js/src/recurrent/matrix/equation.ts","../node_modules/brain.js/src/recurrent/matrix/max-i.ts","../node_modules/brain.js/src/recurrent/matrix/sample-i.ts","../node_modules/brain.js/src/recurrent/rnn.ts","../node_modules/brain.js/src/recurrent/gru.ts","../node_modules/brain.js/src/utilities/array-lookup-table.ts","../node_modules/brain.js/src/recurrent/rnn-time-step.ts","../node_modules/brain.js/src/recurrent/gru-time-step.ts","../node_modules/brain.js/src/recurrent/lstm.ts","../node_modules/brain.js/src/recurrent/lstm-time-step.ts","../node_modules/brain.js/src/utilities/range.ts","../node_modules/brain.js/src/utilities/to-array.ts","../node_modules/brain.js/src/utilities/to-svg.ts","../node_modules/brain.js/src/index.ts","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","components/PropertyForm.js","data/dataset.js","utils/brainModel.js","../node_modules/@kurkle/color/dist/color.esm.js","../node_modules/chart.js/src/helpers/helpers.core.ts","../node_modules/chart.js/src/helpers/helpers.math.ts","../node_modules/chart.js/src/helpers/helpers.collection.ts","../node_modules/chart.js/src/helpers/helpers.extras.ts","../node_modules/chart.js/src/helpers/helpers.easing.ts","../node_modules/chart.js/src/helpers/helpers.color.ts","../node_modules/chart.js/src/core/core.animations.defaults.js","../node_modules/chart.js/src/helpers/helpers.intl.ts","../node_modules/chart.js/src/core/core.ticks.js","../node_modules/chart.js/src/core/core.defaults.js","../node_modules/chart.js/src/core/core.layouts.defaults.js","../node_modules/chart.js/src/core/core.scale.defaults.js","../node_modules/chart.js/src/helpers/helpers.canvas.ts","../node_modules/chart.js/src/helpers/helpers.options.ts","../node_modules/chart.js/src/helpers/helpers.config.ts","../node_modules/chart.js/src/helpers/helpers.curve.ts","../node_modules/chart.js/src/helpers/helpers.dom.ts","../node_modules/chart.js/src/helpers/helpers.interpolation.ts","../node_modules/chart.js/src/helpers/helpers.rtl.ts","../node_modules/chart.js/src/helpers/helpers.segment.js","../node_modules/chart.js/src/core/core.animator.js","../node_modules/chart.js/src/core/core.animation.js","../node_modules/chart.js/src/core/core.animations.js","../node_modules/chart.js/src/core/core.datasetController.js","../node_modules/chart.js/src/controllers/controller.line.js","../node_modules/chart.js/src/core/core.adapters.ts","../node_modules/chart.js/src/core/core.interaction.js","../node_modules/chart.js/src/core/core.layouts.js","../node_modules/chart.js/src/platform/platform.base.js","../node_modules/chart.js/src/platform/platform.basic.js","../node_modules/chart.js/src/platform/platform.dom.js","../node_modules/chart.js/src/core/core.element.ts","../node_modules/chart.js/src/core/core.scale.autoskip.js","../node_modules/chart.js/src/core/core.scale.js","../node_modules/chart.js/src/core/core.typedRegistry.js","../node_modules/chart.js/src/core/core.registry.js","../node_modules/chart.js/src/core/core.plugins.js","../node_modules/chart.js/src/core/core.config.js","../node_modules/chart.js/src/core/core.controller.js","../node_modules/chart.js/src/platform/index.js","../node_modules/chart.js/src/elements/element.line.js","../node_modules/chart.js/src/elements/element.point.ts","../node_modules/chart.js/src/plugins/plugin.legend.js","../node_modules/chart.js/src/plugins/plugin.subtitle.js","../node_modules/chart.js/src/plugins/plugin.tooltip.js","../node_modules/chart.js/src/scales/scale.category.js","../node_modules/chart.js/src/scales/scale.linearbase.js","../node_modules/chart.js/src/scales/scale.linear.js","../node_modules/chart.js/src/scales/scale.logarithmic.js","../node_modules/chart.js/src/scales/scale.radialLinear.js","../node_modules/chart.js/src/scales/scale.time.js","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx","components/PriceComparisonChart.js","App.js","reportWebVitals.js","index.js"],"sourcesContent":["/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nvar REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nSymbol.for(\"react.debug_trace_mode\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PORTAL_TYPE:\n      return \"Portal\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  assign = Object.assign,\n  prefix,\n  suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$0) {\n                control = x$0;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$1) {\n              control = x$1;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return (fiber = describeNativeComponentFrame(fiber.type, !1)), fiber;\n    case 11:\n      return (\n        (fiber = describeNativeComponentFrame(fiber.type.render, !1)), fiber\n      );\n    case 1:\n      return (fiber = describeNativeComponentFrame(fiber.type, !0)), fiber;\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$2 = parentA.child; child$2; ) {\n        if (child$2 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$2 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$2 = child$2.sibling;\n      }\n      if (!didFindChild) {\n        for (child$2 = parentB.child; child$2; ) {\n          if (child$2 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$2 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$2 = child$2.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  fiber = nextRootInstance.nodeType;\n  switch (fiber) {\n    case 9:\n    case 11:\n      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)\n        ? (nextRootInstance = nextRootInstance.namespaceURI)\n          ? getOwnHostContext(nextRootInstance)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),\n        (nextRootInstance = fiber.tagName),\n        (fiber = fiber.namespaceURI))\n      )\n        (fiber = getOwnHostContext(fiber)),\n          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));\n      else\n        switch (nextRootInstance) {\n          case \"svg\":\n            nextRootInstance = 1;\n            break;\n          case \"math\":\n            nextRootInstance = 2;\n            break;\n          default:\n            nextRootInstance = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, nextRootInstance);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction onCommitRoot(root) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n    try {\n      injectedHook.onCommitFiberRoot(\n        rendererID,\n        root,\n        void 0,\n        128 === (root.current.flags & 128)\n      );\n    } catch (err) {}\n}\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 128,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194176;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes,\n    warmLanes = root.warmLanes;\n  root = 0 !== root.finishedLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : root ||\n              ((warmLanes = nonIdlePendingLanes & ~warmLanes),\n              0 !== warmLanes &&\n                (nextLanes = getHighestPriorityLanes(warmLanes)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : root ||\n            ((warmLanes = pendingLanes & ~warmLanes),\n            0 !== warmLanes &&\n              (nextLanes = getHighestPriorityLanes(warmLanes))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (warmLanes = wipLanes & -wipLanes),\n        suspendedLanes >= warmLanes ||\n          (32 === suspendedLanes && 0 !== (warmLanes & 4194176)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 64:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194218);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$283;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_418 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_418) {\n      var element$jscomp$inline_419 = document.createElement(\"div\");\n      element$jscomp$inline_419.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_418 =\n        \"function\" === typeof element$jscomp$inline_419.oninput;\n    }\n    JSCompiler_inline_result$jscomp$283 = isSupported$jscomp$inline_418;\n  } else JSCompiler_inline_result$jscomp$283 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$283 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nfunction restoreSelection(priorSelectionInformation, containerInfo) {\n  var curFocusedElem = getActiveElementDeep(containerInfo);\n  containerInfo = priorSelectionInformation.focusedElem;\n  var priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (\n    curFocusedElem !== containerInfo &&\n    containerInfo &&\n    containerInfo.ownerDocument &&\n    containsNode(containerInfo.ownerDocument.documentElement, containerInfo)\n  ) {\n    if (null !== priorSelectionRange && hasSelectionCapabilities(containerInfo))\n      if (\n        ((priorSelectionInformation = priorSelectionRange.start),\n        (curFocusedElem = priorSelectionRange.end),\n        void 0 === curFocusedElem &&\n          (curFocusedElem = priorSelectionInformation),\n        \"selectionStart\" in containerInfo)\n      )\n        (containerInfo.selectionStart = priorSelectionInformation),\n          (containerInfo.selectionEnd = Math.min(\n            curFocusedElem,\n            containerInfo.value.length\n          ));\n      else if (\n        ((curFocusedElem =\n          ((priorSelectionInformation =\n            containerInfo.ownerDocument || document) &&\n            priorSelectionInformation.defaultView) ||\n          window),\n        curFocusedElem.getSelection)\n      ) {\n        curFocusedElem = curFocusedElem.getSelection();\n        var length = containerInfo.textContent.length,\n          start = Math.min(priorSelectionRange.start, length);\n        priorSelectionRange =\n          void 0 === priorSelectionRange.end\n            ? start\n            : Math.min(priorSelectionRange.end, length);\n        !curFocusedElem.extend &&\n          start > priorSelectionRange &&\n          ((length = priorSelectionRange),\n          (priorSelectionRange = start),\n          (start = length));\n        length = getNodeForCharacterOffset(containerInfo, start);\n        var endMarker = getNodeForCharacterOffset(\n          containerInfo,\n          priorSelectionRange\n        );\n        length &&\n          endMarker &&\n          (1 !== curFocusedElem.rangeCount ||\n            curFocusedElem.anchorNode !== length.node ||\n            curFocusedElem.anchorOffset !== length.offset ||\n            curFocusedElem.focusNode !== endMarker.node ||\n            curFocusedElem.focusOffset !== endMarker.offset) &&\n          ((priorSelectionInformation =\n            priorSelectionInformation.createRange()),\n          priorSelectionInformation.setStart(length.node, length.offset),\n          curFocusedElem.removeAllRanges(),\n          start > priorSelectionRange\n            ? (curFocusedElem.addRange(priorSelectionInformation),\n              curFocusedElem.extend(endMarker.node, endMarker.offset))\n            : (priorSelectionInformation.setEnd(\n                endMarker.node,\n                endMarker.offset\n              ),\n              curFocusedElem.addRange(priorSelectionInformation)));\n      }\n    priorSelectionInformation = [];\n    for (\n      curFocusedElem = containerInfo;\n      (curFocusedElem = curFocusedElem.parentNode);\n\n    )\n      1 === curFocusedElem.nodeType &&\n        priorSelectionInformation.push({\n          element: curFocusedElem,\n          left: curFocusedElem.scrollLeft,\n          top: curFocusedElem.scrollTop\n        });\n    \"function\" === typeof containerInfo.focus && containerInfo.focus();\n    for (\n      containerInfo = 0;\n      containerInfo < priorSelectionInformation.length;\n      containerInfo++\n    )\n      (curFocusedElem = priorSelectionInformation[containerInfo]),\n        (curFocusedElem.element.scrollLeft = curFocusedElem.left),\n        (curFocusedElem.element.scrollTop = curFocusedElem.top);\n  }\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  isHidden &&\n    null !== update &&\n    3 === sourceFiber.tag &&\n    ((parent = sourceFiber.stateNode),\n    (isHidden = 31 - clz32(lane)),\n    (parent = parent.hiddenUpdates),\n    (sourceFiber = parent[isHidden]),\n    null === sourceFiber\n      ? (parent[isHidden] = [update])\n      : sourceFiber.push(update),\n    (update.lane = lane | 536870912));\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {},\n  CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 3:\n      case 27:\n        rootOrSingletonContext = !0;\n        return;\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var shouldClear = !1,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {\n    if ((JSCompiler_temp = 5 === fiber.tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && (shouldClear = !0);\n  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === fiber.tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (shouldClear = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === shouldClear) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            shouldClear--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              shouldClear++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    nextHydratableInstance = hydrationParentFiber\n      ? getNextHydratable(fiber.stateNode.nextSibling)\n      : null;\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      thenableState = thenable.reason;\n      if (thenableState === SuspenseException)\n        throw Error(formatProdErrorMessage(483));\n      throw thenableState;\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          thenableState = thenable.reason;\n          if (thenableState === SuspenseException)\n            throw Error(formatProdErrorMessage(483));\n          throw thenableState;\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 33554434), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 33554434;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 33554434);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state || \"$?\" === state.data || \"$!\" === state.data)\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber$1 = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber$1 = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber$1 = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber$1.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber$1.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber$1.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber$1.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nvar createFunctionComponentUpdateQueue;\ncreateFunctionComponentUpdateQueue = function () {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n};\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber$1;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber$1.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber$1.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$54 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$54 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$54 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber$1.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber$1.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$54 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber$1,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 60) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber$1.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber$1.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$60) {\n      onActionError(actionQueue, node, error$60);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber$1;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  currentStateHook =\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n      ? useThenable(currentStateHook)\n      : currentStateHook;\n  var actionQueueHook = updateWorkInProgressHook(),\n    actionQueue = actionQueueHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== actionQueueHook.memoizedState &&\n    ((currentlyRenderingFiber$1.flags |= 2048),\n    pushEffect(\n      9,\n      actionStateActionEffect.bind(null, actionQueue, action),\n      { destroy: void 0 },\n      null\n    ));\n  return [currentStateHook, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushEffect(tag, create, inst, deps) {\n  tag = { tag: tag, create: create, inst: inst, deps: deps, next: null };\n  create = currentlyRenderingFiber$1.updateQueue;\n  null === create &&\n    ((create = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = create));\n  inst = create.lastEffect;\n  null === inst\n    ? (create.lastEffect = tag.next = tag)\n    : ((deps = inst.next),\n      (inst.next = tag),\n      (tag.next = deps),\n      (create.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber$1.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    1 | hookFlags,\n    create,\n    { destroy: void 0 },\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushEffect(hookFlags, create, inst, deps))\n    : ((currentlyRenderingFiber$1.flags |= fiberFlags),\n      (hook.memoizedState = pushEffect(1 | hookFlags, create, inst, deps)));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$63 = enqueueUpdate(provider, fiber, lane);\n        null !== root$63 &&\n          (scheduleUpdateOnFiber(root$63, provider, lane),\n          entangleTransitions(root$63, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber$1 ||\n    (null !== alternate && alternate === currentlyRenderingFiber$1)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194176)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError\n};\nContextOnlyDispatcher.useCacheRefresh = throwInvalidHookError;\nContextOnlyDispatcher.useMemoCache = throwInvalidHookError;\nContextOnlyDispatcher.useHostTransitionStatus = throwInvalidHookError;\nContextOnlyDispatcher.useFormState = throwInvalidHookError;\nContextOnlyDispatcher.useActionState = throwInvalidHookError;\nContextOnlyDispatcher.useOptimistic = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n  readContext: readContext,\n  use: use,\n  useCallback: function (callback, deps) {\n    mountWorkInProgressHook().memoizedState = [\n      callback,\n      void 0 === deps ? null : deps\n    ];\n    return callback;\n  },\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: function (ref, create, deps) {\n    deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n    mountEffectImpl(\n      4194308,\n      4,\n      imperativeHandleEffect.bind(null, create, ref),\n      deps\n    );\n  },\n  useLayoutEffect: function (create, deps) {\n    return mountEffectImpl(4194308, 4, create, deps);\n  },\n  useInsertionEffect: function (create, deps) {\n    mountEffectImpl(4, 2, create, deps);\n  },\n  useMemo: function (nextCreate, deps) {\n    var hook = mountWorkInProgressHook();\n    deps = void 0 === deps ? null : deps;\n    var nextValue = nextCreate();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        nextCreate();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    hook.memoizedState = [nextValue, deps];\n    return nextValue;\n  },\n  useReducer: function (reducer, initialArg, init) {\n    var hook = mountWorkInProgressHook();\n    if (void 0 !== init) {\n      var initialState = init(initialArg);\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          init(initialArg);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n    } else initialState = initialArg;\n    hook.memoizedState = hook.baseState = initialState;\n    reducer = {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: reducer,\n      lastRenderedState: initialState\n    };\n    hook.queue = reducer;\n    reducer = reducer.dispatch = dispatchReducerAction.bind(\n      null,\n      currentlyRenderingFiber$1,\n      reducer\n    );\n    return [hook.memoizedState, reducer];\n  },\n  useRef: function (initialValue) {\n    var hook = mountWorkInProgressHook();\n    initialValue = { current: initialValue };\n    return (hook.memoizedState = initialValue);\n  },\n  useState: function (initialState) {\n    initialState = mountStateImpl(initialState);\n    var queue = initialState.queue,\n      dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue);\n    queue.dispatch = dispatch;\n    return [initialState.memoizedState, dispatch];\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = mountWorkInProgressHook();\n    return mountDeferredValueImpl(hook, value, initialValue);\n  },\n  useTransition: function () {\n    var stateHook = mountStateImpl(!1);\n    stateHook = startTransition.bind(\n      null,\n      currentlyRenderingFiber$1,\n      stateHook.queue,\n      !0,\n      !1\n    );\n    mountWorkInProgressHook().memoizedState = stateHook;\n    return [!1, stateHook];\n  },\n  useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n    var fiber = currentlyRenderingFiber$1,\n      hook = mountWorkInProgressHook();\n    if (isHydrating) {\n      if (void 0 === getServerSnapshot)\n        throw Error(formatProdErrorMessage(407));\n      getServerSnapshot = getServerSnapshot();\n    } else {\n      getServerSnapshot = getSnapshot();\n      if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n      0 !== (workInProgressRootRenderLanes & 60) ||\n        pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n    }\n    hook.memoizedState = getServerSnapshot;\n    var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n    hook.queue = inst;\n    mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n      subscribe\n    ]);\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        inst,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    return getServerSnapshot;\n  },\n  useId: function () {\n    var hook = mountWorkInProgressHook(),\n      identifierPrefix = workInProgressRoot.identifierPrefix;\n    if (isHydrating) {\n      var JSCompiler_inline_result = treeContextOverflow;\n      var idWithLeadingBit = treeContextId;\n      JSCompiler_inline_result =\n        (\n          idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n        ).toString(32) + JSCompiler_inline_result;\n      identifierPrefix =\n        \":\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n      JSCompiler_inline_result = localIdCounter++;\n      0 < JSCompiler_inline_result &&\n        (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n      identifierPrefix += \":\";\n    } else\n      (JSCompiler_inline_result = globalClientIdCounter++),\n        (identifierPrefix =\n          \":\" +\n          identifierPrefix +\n          \"r\" +\n          JSCompiler_inline_result.toString(32) +\n          \":\");\n    return (hook.memoizedState = identifierPrefix);\n  },\n  useCacheRefresh: function () {\n    return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n      null,\n      currentlyRenderingFiber$1\n    ));\n  }\n};\nHooksDispatcherOnMount.useMemoCache = useMemoCache;\nHooksDispatcherOnMount.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnMount.useFormState = mountActionState;\nHooksDispatcherOnMount.useActionState = mountActionState;\nHooksDispatcherOnMount.useOptimistic = function (passthrough) {\n  var hook = mountWorkInProgressHook();\n  hook.memoizedState = hook.baseState = passthrough;\n  var queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: null,\n    lastRenderedState: null\n  };\n  hook.queue = queue;\n  hook = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !0,\n    queue\n  );\n  queue.dispatch = hook;\n  return [passthrough, hook];\n};\nvar HooksDispatcherOnUpdate = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: function () {\n    return updateReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return updateDeferredValueImpl(\n      hook,\n      currentHook.memoizedState,\n      value,\n      initialValue\n    );\n  },\n  useTransition: function () {\n    var booleanOrThenable = updateReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnUpdate.useCacheRefresh = updateRefresh;\nHooksDispatcherOnUpdate.useMemoCache = useMemoCache;\nHooksDispatcherOnUpdate.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnUpdate.useFormState = updateActionState;\nHooksDispatcherOnUpdate.useActionState = updateActionState;\nHooksDispatcherOnUpdate.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n};\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnRerender.useCacheRefresh = updateRefresh;\nHooksDispatcherOnRerender.useMemoCache = useMemoCache;\nHooksDispatcherOnRerender.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnRerender.useFormState = rerenderActionState;\nHooksDispatcherOnRerender.useActionState = rerenderActionState;\nHooksDispatcherOnRerender.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  if (null !== currentHook)\n    return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n  hook.baseState = passthrough;\n  return [passthrough, hook.queue.dispatch];\n};\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  isMounted: function (component) {\n    return (component = component._reactInternals)\n      ? getNearestMountedFiber(component) === component\n      : !1;\n  },\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$67 in Component)\n      void 0 === newProps[propName$67] &&\n        (newProps[propName$67] = Component[propName$67]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$68) {\n    setTimeout(function () {\n      throw e$68;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$69) {\n    setTimeout(function () {\n      throw e$69;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    nextIsDetached = 0 !== (workInProgress.stateNode._pendingVisibility & 2),\n    prevState = null !== current ? current.memoizedState : null;\n  markRef(current, workInProgress);\n  if (\"hidden\" === nextProps.mode || nextIsDetached) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (nextIsDetached = 0; null !== nextChildren; )\n          (nextIsDetached =\n            nextIsDetached | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = nextIsDetached & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 2097664);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 2097664;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0 };\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          \"$!\" === nextInstance.data\n            ? (workInProgress.lanes = 16)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      \"$!\" === nextInstance.data)\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (null !== JSCompiler_temp) {\n        nextProps = renderLanes & -renderLanes;\n        if (0 !== (nextProps & 42)) nextProps = 1;\n        else\n          switch (nextProps) {\n            case 2:\n              nextProps = 1;\n              break;\n            case 8:\n              nextProps = 4;\n              break;\n            case 32:\n              nextProps = 16;\n              break;\n            case 128:\n            case 256:\n            case 512:\n            case 1024:\n            case 2048:\n            case 4096:\n            case 8192:\n            case 16384:\n            case 32768:\n            case 65536:\n            case 131072:\n            case 262144:\n            case 524288:\n            case 1048576:\n            case 2097152:\n            case 4194304:\n            case 8388608:\n            case 16777216:\n            case 33554432:\n              nextProps = 64;\n              break;\n            case 268435456:\n              nextProps = 134217728;\n              break;\n            default:\n              nextProps = 0;\n          }\n        nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps;\n        if (0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n          throw (\n            ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n            enqueueConcurrentRenderForLane(current, nextProps),\n            scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n            SelectiveHydrationException)\n          );\n      }\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 128),\n          (workInProgress.child = current.child),\n          (workInProgress = retryDehydratedSuspenseBoundary.bind(\n            null,\n            current\n          )),\n          (nextInstance._reactRetry = workInProgress),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 31457280),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  return createFiberFromOffscreen(offscreenProps, mode, 0, null);\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        var nextProps = workInProgress.pendingProps;\n        init = workInProgress.memoizedState;\n        lazyComponent = init.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, nextProps, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        nextProps = nextState.cache;\n        pushProvider(workInProgress, CacheContext, nextProps);\n        nextProps !== init.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        nextProps = nextState.element;\n        if (init.isDehydrated)\n          if (\n            ((init = {\n              element: nextProps,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = init),\n            (workInProgress.memoizedState = init),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else if (nextProps !== lazyComponent) {\n            lazyComponent = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(lazyComponent);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else\n            for (\n              nextHydratableInstance = getNextHydratable(\n                workInProgress.stateNode.containerInfo.firstChild\n              ),\n                hydrationParentFiber = workInProgress,\n                isHydrating = !0,\n                hydrationErrors = null,\n                rootOrSingletonContext = !0,\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  nextProps,\n                  renderLanes\n                ),\n                workInProgress.child = renderLanes;\n              renderLanes;\n\n            )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n        else {\n          resetHydrationState();\n          if (nextProps === lazyComponent) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, nextProps, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (nextHydratableInstance = getNextHydratable(\n            lazyComponent.firstChild\n          ))),\n        (lazyComponent = workInProgress.pendingProps.children),\n        null !== current || isHydrating\n          ? reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            )\n          : (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            )),\n        markRef(current, workInProgress),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      nextProps = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = nextProps.children;\n      shouldSetTextContent(init, nextProps)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (nextProps = createCache()),\n              (init.pooledCache = nextProps),\n              nextProps.refCount++,\n              null !== nextProps && (init.pooledCacheLanes |= renderLanes),\n              (init = nextProps)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (nextProps = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = nextProps.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;\n            try {\n              destroy();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      var instance = current.stateNode;\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = instance;\n          break;\n        default:\n          instanceToUse = instance;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$112) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$112);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    27 === fiber.tag ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag &&\n      6 !== fiber.tag &&\n      27 !== fiber.tag &&\n      18 !== fiber.tag;\n\n    ) {\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? 8 === parent.nodeType\n          ? parent.parentNode.insertBefore(node, before)\n          : parent.insertBefore(node, before)\n        : (8 === parent.nodeType\n            ? ((before = parent.parentNode), before.insertBefore(node, parent))\n            : ((before = parent), before.appendChild(node)),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null,\n  shouldFireAfterActiveInstanceBlur = !1;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n  resolvedPrevProps = shouldFireAfterActiveInstanceBlur;\n  shouldFireAfterActiveInstanceBlur = !1;\n  return resolvedPrevProps;\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$111) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$111\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 64 && ((flags = finishedWork.updateQueue), null !== flags)) {\n        finishedRoot = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              finishedRoot = finishedWork.child.stateNode;\n              break;\n            case 1:\n              finishedRoot = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(flags, finishedRoot);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 26:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 27:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 22:\n      prevProps =\n        null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!prevProps) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        var prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n          prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = prevProps;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      flags & 512 &&\n        (\"manual\" === finishedWork.memoizedProps.mode\n          ? safelyAttachRef(finishedWork, finishedWork.return)\n          : safelyDetachRef(finishedWork, finishedWork.return));\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber = deletedFiber.stateNode;\n      for (\n        nearestMountedAncestor = deletedFiber.attributes;\n        nearestMountedAncestor.length;\n\n      )\n        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);\n      detachDeletedInstance(deletedFiber);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParentIsContainer = hostParent;\n      var prevHostParentIsContainer$119 = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParentIsContainer;\n      hostParentIsContainer = prevHostParentIsContainer$119;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (finishedRoot = hostParent),\n              (prevHostParent = deletedFiber.stateNode),\n              8 === finishedRoot.nodeType\n                ? finishedRoot.parentNode.removeChild(prevHostParent)\n                : finishedRoot.removeChild(prevHostParent);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((nearestMountedAncestor = hostParent),\n            (deletedFiber = deletedFiber.stateNode),\n            8 === nearestMountedAncestor.nodeType\n              ? clearSuspenseBoundary(\n                  nearestMountedAncestor.parentNode,\n                  deletedFiber\n                )\n              : 1 === nearestMountedAncestor.nodeType &&\n                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),\n            retryIfBlockedOn(nearestMountedAncestor))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href ? null : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      if (flags & 4 && null === finishedWork.alternate) {\n        hoistableRoot = finishedWork.stateNode;\n        currentResource = finishedWork.memoizedProps;\n        try {\n          for (var node = hoistableRoot.firstChild; node; ) {\n            var nextNode = node.nextSibling,\n              nodeName = node.nodeName;\n            node[internalHoistableMarker] ||\n              \"HEAD\" === nodeName ||\n              \"BODY\" === nodeName ||\n              \"SCRIPT\" === nodeName ||\n              \"STYLE\" === nodeName ||\n              (\"LINK\" === nodeName &&\n                \"stylesheet\" === node.rel.toLowerCase()) ||\n              hoistableRoot.removeChild(node);\n            node = nextNode;\n          }\n          for (\n            var type = finishedWork.type, attributes = hoistableRoot.attributes;\n            attributes.length;\n\n          )\n            hoistableRoot.removeAttributeNode(attributes[0]);\n          setInitialProperties(hoistableRoot, type, currentResource);\n          hoistableRoot[internalInstanceKey] = finishedWork;\n          hoistableRoot[internalPropsKey] = currentResource;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      node = null !== finishedWork.memoizedState;\n      nextNode = null !== current && null !== current.memoizedState;\n      nodeName = offscreenSubtreeIsHidden;\n      type = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = nodeName || node;\n      offscreenSubtreeWasHidden = type || nextNode;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = type;\n      offscreenSubtreeIsHidden = nodeName;\n      commitReconciliationEffects(finishedWork);\n      root = finishedWork.stateNode;\n      root._current = finishedWork;\n      root._visibility &= -3;\n      root._visibility |= root._pendingVisibility & 2;\n      if (\n        flags & 8192 &&\n        ((root._visibility = node\n          ? root._visibility & -2\n          : root._visibility | 1),\n        node &&\n          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),\n          null === current ||\n            nextNode ||\n            root ||\n            recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n        null === finishedWork.memoizedProps ||\n          \"manual\" !== finishedWork.memoizedProps.mode)\n      )\n        a: for (current = null, root = finishedWork; ; ) {\n          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {\n            if (null === current) {\n              nextNode = current = root;\n              try {\n                if (((hoistableRoot = nextNode.stateNode), node))\n                  (currentResource = hoistableRoot.style),\n                    \"function\" === typeof currentResource.setProperty\n                      ? currentResource.setProperty(\n                          \"display\",\n                          \"none\",\n                          \"important\"\n                        )\n                      : (currentResource.display = \"none\");\n                else {\n                  maybeNodes = nextNode.stateNode;\n                  i = nextNode.memoizedProps.style;\n                  var display =\n                    void 0 !== i && null !== i && i.hasOwnProperty(\"display\")\n                      ? i.display\n                      : null;\n                  maybeNodes.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              nextNode = root;\n              try {\n                nextNode.stateNode.nodeValue = node\n                  ? \"\"\n                  : nextNode.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      if (27 !== finishedWork.tag) {\n        a: {\n          for (var parent = finishedWork.return; null !== parent; ) {\n            if (isHostParent(parent)) {\n              var JSCompiler_inline_result = parent;\n              break a;\n            }\n            parent = parent.return;\n          }\n          throw Error(formatProdErrorMessage(160));\n        }\n        switch (JSCompiler_inline_result.tag) {\n          case 27:\n            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,\n              before = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);\n            break;\n          case 5:\n            var parent$113 = JSCompiler_inline_result.stateNode;\n            JSCompiler_inline_result.flags & 32 &&\n              (setTextContent(parent$113, \"\"),\n              (JSCompiler_inline_result.flags &= -33));\n            var before$114 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before$114, parent$113);\n            break;\n          case 3:\n          case 4:\n            var parent$115 = JSCompiler_inline_result.stateNode.containerInfo,\n              before$116 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNodeIntoContainer(\n              finishedWork,\n              before$116,\n              parent$115\n            );\n            break;\n          default:\n            throw Error(formatProdErrorMessage(161));\n        }\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 &&\n        commitOffscreenPassiveMountEffects(\n          finishedWork.alternate,\n          finishedWork\n        );\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 4\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 4 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 4 &&\n          ((i._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 31457280;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 31457282;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_OFFSCREEN_TYPE:\n        return createFiberFromOffscreen(pendingProps, mode, lanes, key);\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromOffscreen(pendingProps, mode, lanes, key) {\n  pendingProps = createFiberImplClass(22, pendingProps, key, mode);\n  pendingProps.elementType = REACT_OFFSCREEN_TYPE;\n  pendingProps.lanes = lanes;\n  var primaryChildInstance = {\n    _visibility: 1,\n    _pendingVisibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null,\n    _current: null,\n    detach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 === (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility |= 2),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    },\n    attach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 !== (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility &= -3),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    }\n  };\n  pendingProps.stateNode = primaryChildInstance;\n  return pendingProps;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194176) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$131 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$131 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$131\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$131.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags & 31457280),\n        (subtreeFlags |= child$132.flags & 31457280),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  else\n    for (child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags),\n        (subtreeFlags |= child$132.flags),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            null !== hydrationErrors &&\n              (queueRecoverableErrors(hydrationErrors),\n              (hydrationErrors = null)));\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          null !== hydrationErrors &&\n            (queueRecoverableErrors(hydrationErrors), (hydrationErrors = null)),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$144 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$144 = newProps.memoizedState.cachePool.pool);\n        cache$144 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$144 = type.rendering;\n      if (null === cache$144)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$144 = findFirstSuspended(current);\n              if (null !== cache$144) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$144.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$144)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$144.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$144.sibling = workInProgress.child),\n            (workInProgress.child = cache$144))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$144)\n              : (workInProgress.child = cache$144),\n            (type.last = cache$144));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  rootDoesHavePassiveEffects = !1,\n  rootWithPendingPassiveEffects = null,\n  pendingPassiveEffectsLanes = 0,\n  pendingPassiveEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 60) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else if (6 === exitStatus)\n      markRootSuspended(\n        root$jscomp$0,\n        lanes,\n        0,\n        !workInProgressRootDidSkipSuspendedSiblings\n      );\n    else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                queueRecoverableErrors(renderWasConcurrent);\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        switch (exitStatus) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194176) === lanes) {\n              markRootSuspended(\n                shouldTimeSlice,\n                lanes,\n                workInProgressDeferredLane,\n                !workInProgressRootDidSkipSuspendedSiblings\n              );\n              break a;\n            }\n            break;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        shouldTimeSlice.finishedWork = forceSync;\n        shouldTimeSlice.finishedLanes = lanes;\n        if (\n          (lanes & 62914560) === lanes &&\n          ((renderWasConcurrent = globalMostRecentFallbackTime + 300 - now()),\n          10 < renderWasConcurrent)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              2,\n              -0,\n              0\n            ),\n            renderWasConcurrent\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction queueRecoverableErrors(errors) {\n  null === workInProgressRootRecoverableErrors\n    ? (workInProgressRootRecoverableErrors = errors)\n    : workInProgressRootRecoverableErrors.push.apply(\n        workInProgressRootRecoverableErrors,\n        errors\n      );\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var subtreeFlags = finishedWork.subtreeFlags;\n  if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (finishedWork = waitForCommitToBeReady()),\n      null !== finishedWork)\n    ) {\n      root.cancelPendingCommit = finishedWork(\n        commitRoot.bind(\n          null,\n          root,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes,\n    suspendedCommitReason,\n    completedRenderStartTime,\n    completedRenderEndTime\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194176) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$164) {\n      handleThrow(root, thrownValue$164);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              2 === workInProgressSuspendedReason &&\n                workInProgressRoot === root &&\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrent();\n      break;\n    } catch (thrownValue$166) {\n      handleThrow(root, thrownValue$166);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrent() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason || 3 === suspendedReason || 6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var prevTransition = ReactSharedInternals.T,\n    previousUpdateLanePriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      (ReactSharedInternals.T = null),\n      commitRootImpl(\n        root,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        previousUpdateLanePriority,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n  } finally {\n    (ReactSharedInternals.T = prevTransition),\n      (ReactDOMSharedInternals.p = previousUpdateLanePriority);\n  }\n}\nfunction commitRootImpl(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  renderPriorityLevel,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  do flushPassiveEffects();\n  while (null !== rootWithPendingPassiveEffects);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var finishedWork = root.finishedWork;\n  didIncludeRenderPhaseUpdate = root.finishedLanes;\n  if (null === finishedWork) return null;\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n  root.callbackNode = null;\n  root.callbackPriority = 0;\n  root.cancelPendingCommit = null;\n  var remainingLanes = finishedWork.lanes | finishedWork.childLanes;\n  remainingLanes |= concurrentlyUpdatedLanes;\n  markRootFinished(\n    root,\n    didIncludeRenderPhaseUpdate,\n    remainingLanes,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n  root === workInProgressRoot &&\n    ((workInProgress = workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0));\n  (0 === (finishedWork.subtreeFlags & 10256) &&\n    0 === (finishedWork.flags & 10256)) ||\n    rootDoesHavePassiveEffects ||\n    ((rootDoesHavePassiveEffects = !0),\n    (pendingPassiveEffectsRemainingLanes = remainingLanes),\n    (pendingPassiveTransitions = transitions),\n    scheduleCallback$1(NormalPriority$1, function () {\n      flushPassiveEffects(!0);\n      return null;\n    }));\n  transitions = 0 !== (finishedWork.flags & 15990);\n  0 !== (finishedWork.subtreeFlags & 15990) || transitions\n    ? ((transitions = ReactSharedInternals.T),\n      (ReactSharedInternals.T = null),\n      (spawnedLane = ReactDOMSharedInternals.p),\n      (ReactDOMSharedInternals.p = 2),\n      (updatedLanes = executionContext),\n      (executionContext |= 4),\n      commitBeforeMutationEffects(root, finishedWork),\n      commitMutationEffectsOnFiber(finishedWork, root),\n      restoreSelection(selectionInformation, root.containerInfo),\n      (_enabled = !!eventsEnabled),\n      (selectionInformation = eventsEnabled = null),\n      (root.current = finishedWork),\n      commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork),\n      requestPaint(),\n      (executionContext = updatedLanes),\n      (ReactDOMSharedInternals.p = spawnedLane),\n      (ReactSharedInternals.T = transitions))\n    : (root.current = finishedWork);\n  rootDoesHavePassiveEffects\n    ? ((rootDoesHavePassiveEffects = !1),\n      (rootWithPendingPassiveEffects = root),\n      (pendingPassiveEffectsLanes = didIncludeRenderPhaseUpdate))\n    : releaseRootPooledCache(root, remainingLanes);\n  remainingLanes = root.pendingLanes;\n  0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n  onCommitRoot(finishedWork.stateNode, renderPriorityLevel);\n  ensureRootIsScheduled(root);\n  if (null !== recoverableErrors)\n    for (\n      renderPriorityLevel = root.onRecoverableError, finishedWork = 0;\n      finishedWork < recoverableErrors.length;\n      finishedWork++\n    )\n      (remainingLanes = recoverableErrors[finishedWork]),\n        renderPriorityLevel(remainingLanes.value, {\n          componentStack: remainingLanes.stack\n        });\n  0 !== (pendingPassiveEffectsLanes & 3) && flushPassiveEffects();\n  remainingLanes = root.pendingLanes;\n  0 !== (didIncludeRenderPhaseUpdate & 4194218) && 0 !== (remainingLanes & 42)\n    ? root === rootWithNestedUpdates\n      ? nestedUpdateCount++\n      : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n    : (nestedUpdateCount = 0);\n  flushSyncWorkAcrossRoots_impl(0, !1);\n  return null;\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPassiveEffects() {\n  if (null !== rootWithPendingPassiveEffects) {\n    var root$170 = rootWithPendingPassiveEffects,\n      remainingLanes = pendingPassiveEffectsRemainingLanes;\n    pendingPassiveEffectsRemainingLanes = 0;\n    var renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes),\n      prevTransition = ReactSharedInternals.T,\n      previousPriority = ReactDOMSharedInternals.p;\n    try {\n      ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n      ReactSharedInternals.T = null;\n      if (null === rootWithPendingPassiveEffects)\n        var JSCompiler_inline_result = !1;\n      else {\n        renderPriority = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        var root = rootWithPendingPassiveEffects,\n          lanes = pendingPassiveEffectsLanes;\n        rootWithPendingPassiveEffects = null;\n        pendingPassiveEffectsLanes = 0;\n        if (0 !== (executionContext & 6))\n          throw Error(formatProdErrorMessage(331));\n        var prevExecutionContext = executionContext;\n        executionContext |= 4;\n        commitPassiveUnmountOnFiber(root.current);\n        commitPassiveMountOnFiber(root, root.current, lanes, renderPriority);\n        executionContext = prevExecutionContext;\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {}\n        JSCompiler_inline_result = !0;\n      }\n      return JSCompiler_inline_result;\n    } finally {\n      (ReactDOMSharedInternals.p = previousPriority),\n        (ReactSharedInternals.T = prevTransition),\n        releaseRootPooledCache(root$170, remainingLanes);\n    }\n  }\n  return !1;\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0),\n    scheduleImmediateTask(processRootScheduleInMicrotask));\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$172 = firstScheduledRoot; null !== root$172; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$172.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$172.suspendedLanes,\n                pingedLanes = root$172.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326677\n                  ? (JSCompiler_inline_result & 201326677) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$172,\n                root$172 === workInProgressRoot ? JSCompiler_inline_result : 0\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$172, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n        root$172 = root$172.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  var originalCallbackNode = root.callbackNode;\n  if (flushPassiveEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPassiveEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateTask(cb) {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(ImmediatePriority, cb)\n      : cb();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1439 = 0;\n  i$jscomp$inline_1439 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1439++\n) {\n  var eventName$jscomp$inline_1440 =\n      simpleEventPluginEvents[i$jscomp$inline_1439],\n    domEventName$jscomp$inline_1441 =\n      eventName$jscomp$inline_1440.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1442 =\n      eventName$jscomp$inline_1440[0].toUpperCase() +\n      eventName$jscomp$inline_1440.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1441,\n    \"on\" + capitalizedEvent$jscomp$inline_1442\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (\n          container === targetContainer ||\n          (8 === container.nodeType && container.parentNode === targetContainer)\n        )\n          break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (3 === grandTag || 4 === grandTag)\n              if (\n                ((grandTag = nodeTag.stateNode.containerInfo),\n                grandTag === targetContainer ||\n                  (8 === grandTag.nodeType &&\n                    grandTag.parentNode === targetContainer))\n              )\n                return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    targetFiber = targetFiber.return;\n  }\n  return listeners;\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$186 = props[hasSrc];\n          if (null != propValue$186)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$186;\n                break;\n              case \"type\":\n                propValue = propValue$186;\n                break;\n              case \"checked\":\n                checked = propValue$186;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$186;\n                break;\n              case \"value\":\n                propKey = propValue$186;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$186;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$186)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$186, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$186 in props)\n          props.hasOwnProperty(propValue$186) &&\n            ((hasSrc = props[propValue$186]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$186,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$203 in nextProps) {\n        var propKey = nextProps[propKey$203];\n        lastProp = lastProps[propKey$203];\n        if (\n          nextProps.hasOwnProperty(propKey$203) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$203) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$203,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$203 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$203 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$203\n        ? updateOptions(domElement, !!lastProps, propKey$203, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$203 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$203 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$203, propKey);\n      return;\n    case \"option\":\n      for (var propKey$219 in lastProps)\n        if (\n          ((propKey$203 = lastProps[propKey$219]),\n          lastProps.hasOwnProperty(propKey$219) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$219))\n        )\n          switch (propKey$219) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$219,\n                null,\n                nextProps,\n                propKey$203\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$203 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$203 &&\n                \"function\" !== typeof propKey$203 &&\n                \"symbol\" !== typeof propKey$203;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$224 in lastProps)\n        (propKey$203 = lastProps[propKey$224]),\n          lastProps.hasOwnProperty(propKey$224) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$224) &&\n            setProp(domElement, tag, propKey$224, null, nextProps, propKey$203);\n      for (checked in nextProps)\n        if (\n          ((propKey$203 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$203)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$229 in lastProps)\n          (propKey$203 = lastProps[propKey$229]),\n            lastProps.hasOwnProperty(propKey$229) &&\n              void 0 !== propKey$203 &&\n              !nextProps.hasOwnProperty(propKey$229) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$229,\n                void 0,\n                nextProps,\n                propKey$203\n              );\n        for (defaultChecked in nextProps)\n          (propKey$203 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$203 === propKey ||\n              (void 0 === propKey$203 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$234 in lastProps)\n    (propKey$203 = lastProps[propKey$234]),\n      lastProps.hasOwnProperty(propKey$234) &&\n        null != propKey$203 &&\n        !nextProps.hasOwnProperty(propKey$234) &&\n        setProp(domElement, tag, propKey$234, null, nextProps, propKey$203);\n  for (lastProp in nextProps)\n    (propKey$203 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$203 === propKey ||\n        (null == propKey$203 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$203, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else (\"$\" !== node && \"$?\" !== node && \"$!\" !== node) || depth++;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href ? null : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$242 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$243 = styles$242.get(type);\n        resource$243 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$243 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$242.set(type, resource$243),\n          (styles$242 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$242._p &&\n            ((resource$243.instance = styles$242),\n            (resource$243.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$242 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$243.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$243;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$248 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$248)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$248),\n            markNodeAsHoistable(instance$248),\n            instance$248\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$248 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$248);\n        var linkInstance = instance$248;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$248, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$248, props.precedence, hoistableRoot);\n        return (resource.instance = instance$248);\n      case \"script\":\n        instance$248 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$248)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$248)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.finishedWork =\n    this.pingCache =\n    this.current =\n    this.pendingChildren =\n      null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.finishedLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane(),\n                root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      0 === root.tag && flushPassiveEffects();\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1686 = React.version;\nif (\n  \"19.0.0\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1686\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1686,\n      \"19.0.0\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2165 = {\n  bundleType: 0,\n  version: \"19.0.0\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  reconcilerVersion: \"19.0.0\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2166 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2166.isDisabled &&\n    hook$jscomp$inline_2166.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2166.inject(\n        internals$jscomp$inline_2165\n      )),\n        (injectedHook = hook$jscomp$inline_2166);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(\n    8 === container.nodeType ? container.parentNode : container\n  );\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  initialChildren.current.lanes = isStrictMode;\n  markRootUpdated$1(initialChildren, isStrictMode);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","/**\n * Relu Activation, aka Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n */\nexport function activate(weight: number): number {\n  return Math.max(0, weight);\n}\n\n/**\n * Relu derivative\n */\nexport function measure(weight: number, delta: number): number {\n  if (weight <= 0) {\n    return 0;\n  }\n  return delta;\n}\n","/**\n * sigmoid activation\n */\nexport function activate(value: number): number {\n  return 1 / (1 + Math.exp(-value));\n}\n\n/**\n * sigmoid derivative\n */\nexport function measure(weight: number, error: number): number {\n  return weight * (1 - weight) * error;\n}\n","/**\n * Hyperbolic tan\n */\nexport function activate(weight: number): number {\n  return Math.tanh(weight);\n}\n\n/**\n * @description grad for z = tanh(x) is (1 - z^2)\n */\nexport function measure(weight: number, error: number): number {\n  return (1 - weight * weight) * error;\n}\n","/**\n * Leaky Relu Activation, aka Leaky Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n */\nexport function activate(weight: number): number {\n  return weight > 0 ? weight : 0.01 * weight;\n}\n\n/**\n * Leaky Relu derivative\n */\nexport function measure(weight: number, error: number): number {\n  return weight > 0 ? error : 0.01 * error;\n}\n","/**\n * gpu.js\n * http://gpu.rocks/\n *\n * GPU Accelerated JavaScript\n *\n * @version 2.16.0\n * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)\n *\n * @license MIT\n * The MIT License\n *\n * Copyright (c) 2022 gpu.js Team\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GPU = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.acorn = {}));\n}(this, function (exports) { 'use strict';\n\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08bd\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fef\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7c6\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab67\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n\n  var astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541];\n\n  var astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];\n\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n  }\n\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n\n\n\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n\n  var keywords$1 = {};\n\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords$1[name] = new TokenType(name, options)\n  }\n\n  var types = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code, ecma2019String) {\n    return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n\n  function has(obj, propName) {\n    return hasOwnProperty.call(obj, propName)\n  }\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n  }\n\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreakG.lastIndex = cur;\n      var match = lineBreakG.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else {\n        return new Position(line, offset - cur)\n      }\n    }\n  }\n\n\n  var defaultOptions = {\n    ecmaVersion: 10,\n    sourceType: \"script\",\n    onInsertedSemicolon: null,\n    onTrailingComma: null,\n    allowReserved: null,\n    allowReturnOutsideFunction: false,\n    allowImportExportEverywhere: false,\n    allowAwaitOutsideFunction: false,\n    allowHashBang: false,\n    locations: false,\n    onToken: null,\n    onComment: null,\n    ranges: false,\n    program: null,\n    sourceFile: null,\n    directSourceFile: null,\n    preserveParens: false\n  };\n\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion >= 2015)\n      { options.ecmaVersion -= 2009; }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  var\n      BIND_NONE = 0, \n      BIND_VAR = 1, \n      BIND_LEXICAL = 2, \n      BIND_FUNCTION = 3, \n      BIND_SIMPLE_CATCH = 4, \n      BIND_OUTSIDE = 5; \n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      for (var v = options.ecmaVersion;; v--)\n        { if (reserved = reservedWords[v]) { break } }\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    this.containsEsc = false;\n\n\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    this.type = types.eof;\n    this.value = null;\n    this.start = this.end = this.pos;\n    this.startLoc = this.endLoc = this.curPosition();\n\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    this.potentialArrowAt = -1;\n\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    this.labels = [];\n    this.undefinedExports = {};\n\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    this.regexpState = null;\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\n  prototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  Parser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp = Parser.prototype;\n\n\n  var literal = /^(?:'((?:\\\\.|[^'])*?)'|\"((?:\\\\.|[^\"])*?)\")/;\n  pp.strictDirective = function(start) {\n    for (;;) {\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") { return true }\n      start += match[0].length;\n\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n\n  pp.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n\n  pp.isContextual = function(name) {\n    return this.type === types.name && this.value === name && !this.containsEsc\n  };\n\n\n  pp.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n\n  pp.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n\n  pp.canInsertSemicolon = function() {\n    return this.type === types.eof ||\n      this.type === types.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n\n  pp.semicolon = function() {\n    if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n\n  pp.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n\n  pp.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  }\n\n  pp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n  };\n\n  pp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$1 = Parser.prototype;\n\n\n\n  pp$1.parseTopLevel = function(node) {\n    var exports = {};\n    if (!node.body) { node.body = []; }\n    while (this.type !== types.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$1.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    if (nextCh === 91) { return true } \n    if (context) { return false }\n\n    if (nextCh === 123) { return true } \n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  pp$1.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n  };\n\n\n  pp$1.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types._var;\n      kind = \"let\";\n    }\n\n\n    switch (starttype) {\n    case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types._debugger: return this.parseDebuggerStatement(node)\n    case types._do: return this.parseDoStatement(node)\n    case types._for: return this.parseForStatement(node)\n    case types._function:\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types._if: return this.parseIfStatement(node)\n    case types._return: return this.parseReturnStatement(node)\n    case types._switch: return this.parseSwitchStatement(node)\n    case types._throw: return this.parseThrowStatement(node)\n    case types._try: return this.parseTryStatement(node)\n    case types._const: case types._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types._while: return this.parseWhileStatement(node)\n    case types._with: return this.parseWithStatement(node)\n    case types.braceL: return this.parseBlock(true, node)\n    case types.semi: return this.parseEmptyStatement(node)\n    case types._export:\n    case types._import:\n      if (this.options.ecmaVersion > 10 && starttype === types._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40) \n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$1.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$1.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$1.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n\n  pp$1.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types.parenL);\n    if (this.type === types.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types._var || this.type === types._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var refDestructuringErrors = new DestructuringErrors;\n    var init = this.parseExpression(true, refDestructuringErrors);\n    if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLVal(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$1.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$1.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$1.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n\n    var cur;\n    for (var sawDefault = false; this.type !== types.braceR;) {\n      if (this.type === types._case || this.type === types._default) {\n        var isCase = this.type === types._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); \n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$1.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n\n  var empty = [];\n\n  pp$1.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$1.parseVarStatement = function(node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$1.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$1.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$1.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$1.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n\n  pp$1.parseBlock = function(createNewLexicalScope, node) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (!this.eat(types.braceR)) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n\n  pp$1.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types.semi);\n    node.test = this.type === types.semi ? null : this.parseExpression();\n    this.expect(types.semi);\n    node.update = this.type === types.parenR ? null : this.parseExpression();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n\n  pp$1.parseForIn = function(node, init) {\n    var isForIn = this.type === types._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    } else if (init.type === \"AssignmentPattern\") {\n      this.raise(init.start, \"Invalid left-hand side in for-loop\");\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n\n  pp$1.parseVar = function(node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types.comma)) { break }\n    }\n    return node\n  };\n\n  pp$1.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n\n  pp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$1.parseFunctionParams = function(node) {\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n\n  pp$1.parseClass = function(node, isStatement) {\n    this.next();\n\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        }\n      }\n    }\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.strict = oldStrict;\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$1.parseClassElement = function(constructorAllowsSuper) {\n    var this$1 = this;\n\n    if (this.eat(types.semi)) { return null }\n\n    var method = this.startNode();\n    var tryContextual = function (k, noLineBreak) {\n      if ( noLineBreak === void 0 ) noLineBreak = false;\n\n      var start = this$1.start, startLoc = this$1.startLoc;\n      if (!this$1.eatContextual(k)) { return false }\n      if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n      if (method.key) { this$1.unexpected(); }\n      method.computed = false;\n      method.key = this$1.startNodeAt(start, startLoc);\n      method.key.name = k;\n      this$1.finishNode(method.key, \"Identifier\");\n      return false\n    };\n\n    method.kind = \"method\";\n    method.static = tryContextual(\"static\");\n    var isGenerator = this.eat(types.star);\n    var isAsync = false;\n    if (!isGenerator) {\n      if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n        isAsync = true;\n        isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      } else if (tryContextual(\"get\")) {\n        method.kind = \"get\";\n      } else if (tryContextual(\"set\")) {\n        method.kind = \"set\";\n      }\n    }\n    if (!method.key) { this.parsePropertyName(method); }\n    var key = method.key;\n    var allowsDirectSuper = false;\n    if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n        key.type === \"Literal\" && key.value === \"constructor\")) {\n      if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n      method.kind = \"constructor\";\n      allowsDirectSuper = constructorAllowsSuper;\n    } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n    this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n    if (method.kind === \"get\" && method.value.params.length !== 0)\n      { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && method.value.params.length !== 1)\n      { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n    return method\n  };\n\n  pp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$1.parseClassId = function(node, isStatement) {\n    if (this.type === types.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLVal(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$1.parseClassSuper = function(node) {\n    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n  };\n\n\n  pp$1.parseExport = function(node, exports) {\n    this.next();\n    if (this.eat(types.star)) {\n      this.expectContextual(\"from\");\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\")\n    }\n    if (this.eat(types._default)) { \n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n      if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n        if (isAsync) { this.next(); }\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { \n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          this.checkLocalExport(spec.local);\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$1.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (has(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$1.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat.name, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n    else if (type === \"ParenthesizedExpression\")\n      { this.checkPatternExport(exports, pat.expression); }\n  };\n\n  pp$1.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$1.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n\n  pp$1.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node = this.startNode();\n      node.local = this.parseIdent(true);\n      node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n      this.checkExport(exports, node.exported.name, node.exported.start);\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n    return nodes\n  };\n\n\n  pp$1.parseImport = function(node) {\n    this.next();\n    if (this.type === types.string) {\n      node.specifiers = empty;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n\n  pp$1.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types.name) {\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLVal(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n      if (!this.eat(types.comma)) { return nodes }\n    }\n    if (this.type === types.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLVal(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes\n    }\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseIdent(true);\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n      this.checkLVal(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n    return nodes\n  };\n\n  pp$1.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$1.isDirectiveCandidate = function(statement) {\n    return (\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$2 = Parser.prototype;\n\n\n  pp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n\n      case \"AssignmentPattern\":\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n\n  pp$2.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n\n  pp$2.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$2.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    if (this.options.ecmaVersion === 6 && this.type !== types.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n\n  pp$2.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types.comma); }\n      if (allowEmpty && this.type === types.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n    return elts\n  };\n\n  pp$2.parseBindingListItem = function(param) {\n    return param\n  };\n\n\n  pp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n\n  pp$2.checkLVal = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (checkClashes) {\n        if (has(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      break\n\n    case \"MemberExpression\":\n      if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1)\n        {\n      var prop = list[i];\n\n      this.checkLVal(prop, bindingType, checkClashes);\n    }\n      break\n\n    case \"Property\":\n      this.checkLVal(expr.value, bindingType, checkClashes);\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n      }\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLVal(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLVal(expr.argument, bindingType, checkClashes);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.checkLVal(expr.expression, bindingType, checkClashes);\n      break\n\n    default:\n      this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n\n  var pp$3 = Parser.prototype;\n\n\n  pp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0)\n              { refDestructuringErrors.doubleProto = key.start; }\n          } else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n\n\n\n  pp$3.parseExpression = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n    if (this.type === types.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(noIn) }\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types.parenL || this.type === types.name)\n      { this.potentialArrowAt = this.start; }\n    var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= node.left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } \n      this.checkLVal(left);\n      this.next();\n      node.right = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n\n  pp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(noIn, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types.colon);\n      node.alternate = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n  };\n\n\n  pp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n    var prec = this.type.binop;\n    if (prec != null && (!noIn || this.type !== types._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n      }\n    }\n    return left\n  };\n\n  pp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n\n  pp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n      expr = this.parseAwait();\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLVal(node.argument); }\n      else if (this.strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLVal(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!sawUnary && this.eat(types.starstar))\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n    else\n      { return expr }\n  };\n\n\n  pp$3.parseExprSubscripts = function(refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    }\n    return result\n  };\n\n  pp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n      if (element === base || element.type === \"ArrowFunctionExpression\") { return element }\n      base = element;\n    }\n  };\n\n  pp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n    var computed = this.eat(types.bracketL);\n    if (computed || this.eat(types.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n      node.computed = !!computed;\n      if (computed) { this.expect(types.bracketR); }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types.backQuote) {\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n\n  pp$3.parseExprAtom = function(refDestructuringErrors) {\n    if (this.type === types.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n        { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n        }\n      }\n      return id\n\n    case types.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types.num: case types.string:\n      return this.parseLiteral(this.value)\n\n    case types._null: case types._true: case types._false:\n      node = this.startNode();\n      node.value = this.type === types._null ? null : this.type === types._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types.braceL:\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types._new:\n      return this.parseNew()\n\n    case types.backQuote:\n      return this.parseTemplate()\n\n    case types._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport()\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseExprImport = function() {\n    var node = this.startNode();\n    this.next(); \n    switch (this.type) {\n    case types.parenL:\n      return this.parseDynamicImport(node)\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseDynamicImport = function(node) {\n    this.next(); \n\n    node.source = this.parseMaybeAssign();\n\n    if (!this.eat(types.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types.comma) && this.eat(types.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$3.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$3.parseParenExpression = function() {\n    this.expect(types.parenL);\n    var val = this.parseExpression();\n    this.expect(types.parenR);\n    return val\n  };\n\n  pp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      while (this.type !== types.parenR) {\n        first ? first = false : this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.start, innerEndLoc = this.startLoc;\n      this.expect(types.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$3.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n  };\n\n\n  var empty$1 = [];\n\n  pp$3.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n    if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\" || containsEsc)\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\"); }\n      if (!this.inNonArrowFunction())\n        { this.raiseRecoverable(node.start, \"new.target can only be used in functions\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n    if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty$1; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n\n  pp$3.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$3.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$3.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n\n  pp$3.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      if (this.type === types.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      }\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types.comma && this.type !== types.braceR)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n        if (prop.kind === \"get\")\n          { this.raiseRecoverable(start, \"getter should have no params\"); }\n        else\n          { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n          { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else if (this.type === types.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else {\n        prop.value = prop.key;\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$3.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n\n  pp$3.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n\n  pp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n\n  pp$3.parseArrowExpression = function(node, params, isAsync) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n\n  pp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n    var isExpression = isArrowFunction && this.type !== types.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign();\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      node.body = this.parseBlock(false);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n\n    if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n    this.strict = oldStrict;\n  };\n\n  pp$3.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n\n  pp$3.checkParams = function(node, allowDuplicates) {\n    var nameHash = {};\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n\n  pp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types.comma)\n        { elt = null; }\n      else if (this.type === types.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$3.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n\n  pp$3.parseIdent = function(liberal, isBinding) {\n    var node = this.startNode();\n    if (this.type === types.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      if ((node.name === \"class\" || node.name === \"function\") &&\n          (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n\n  pp$3.parseYield = function(noIn) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types.star);\n      node.argument = this.parseMaybeAssign(noIn);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$3.parseAwait = function() {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, false);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$5 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    this.var = [];\n    this.lexical = [];\n    this.functions = [];\n  };\n\n\n  pp$5.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$5.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  pp$5.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$5.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$5.checkLocalExport = function(id) {\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$5.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$5.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  pp$5.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$6.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$6.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n\n  pp$6.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types$1 = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$7 = Parser.prototype;\n\n  pp$7.initialContext = function() {\n    return [types$1.b_stat]\n  };\n\n  pp$7.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types$1.f_expr || parent === types$1.f_stat)\n      { return true }\n    if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n      { return !parent.isExpr }\n\n    if (prevType === types._return || prevType === types.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n      { return true }\n    if (prevType === types.braceL)\n      { return parent === types$1.b_stat }\n    if (prevType === types._var || prevType === types._const || prevType === types.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$7.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$7.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n\n  types.parenR.updateContext = types.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types$1.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types.dollarBraceL.updateContext = function() {\n    this.context.push(types$1.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n    this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types.incDec.updateContext = function() {\n  };\n\n  types._function.updateContext = types._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n        !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n      { this.context.push(types$1.f_expr); }\n    else\n      { this.context.push(types$1.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types.backQuote.updateContext = function() {\n    if (this.curContext() === types$1.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types$1.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types.star.updateContext = function(prevType) {\n    if (prevType === types._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types$1.f_expr)\n        { this.context[index] = types$1.f_expr_gen; }\n      else\n        { this.context[index] = types$1.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties\n  };\n\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n  buildUnicodeData(9);\n  buildUnicodeData(10);\n  buildUnicodeData(11);\n\n  var pp$8 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  RegExpValidationState.prototype.at = function at (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current () {\n    return this.at(this.pos)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead () {\n    return this.at(this.nextIndex(this.pos))\n  };\n\n  RegExpValidationState.prototype.advance = function advance () {\n    this.pos = this.nextIndex(this.pos);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch) {\n    if (this.current() === ch) {\n      this.advance();\n      return true\n    }\n    return false\n  };\n\n  function codePointToString(ch) {\n    if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n  }\n\n  pp$8.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n\n  pp$8.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  pp$8.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      if (state.eat(0x29 )) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D ) || state.eat(0x7D )) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  pp$8.regexp_disjunction = function(state) {\n    this.regexp_alternative(state);\n    while (state.eat(0x7C )) {\n      this.regexp_alternative(state);\n    }\n\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B )) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  pp$8.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state))\n      { }\n  };\n\n  pp$8.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    if (state.eat(0x5E ) || state.eat(0x24 )) {\n      return true\n    }\n\n    if (state.eat(0x5C )) {\n      if (state.eat(0x42 ) || state.eat(0x62 )) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    if (state.eat(0x28 ) && state.eat(0x3F )) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C );\n      }\n      if (state.eat(0x3D ) || state.eat(0x21 )) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 )) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  pp$8.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F );\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A ) ||\n      state.eat(0x2B ) ||\n      state.eat(0x3F ) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$8.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B )) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C ) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D )) {\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 )) {\n      if (state.eat(0x3F ) && state.eat(0x3A )) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 )) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 )) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F ) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 )) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  pp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24  ||\n      ch >= 0x28  && ch <= 0x2B  ||\n      ch === 0x2E  ||\n      ch === 0x3F  ||\n      ch >= 0x5B  && ch <= 0x5E  ||\n      ch >= 0x7B  && ch <= 0x7D \n    )\n  }\n\n  pp$8.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  pp$8.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24  &&\n      !(ch >= 0x28  && ch <= 0x2B ) &&\n      ch !== 0x2E  &&\n      ch !== 0x3F  &&\n      ch !== 0x5B  &&\n      ch !== 0x5E  &&\n      ch !== 0x7C \n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F )) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n        state.groupNames.push(state.lastStringValue);\n        return\n      }\n      state.raise(\"Invalid group\");\n    }\n  };\n\n  pp$8.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C )) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E )) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24  || ch === 0x5F \n  }\n\n  pp$8.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24  || ch === 0x5F  || ch === 0x200C  || ch === 0x200D \n  }\n\n  pp$8.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      if (state.current() === 0x63 ) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$8.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B )) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$8.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 )) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatZero = function(state) {\n    if (state.current() === 0x30  && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 ) {\n      state.lastIntValue = 0x09; \n      state.advance();\n      return true\n    }\n    if (ch === 0x6E ) {\n      state.lastIntValue = 0x0A; \n      state.advance();\n      return true\n    }\n    if (ch === 0x76 ) {\n      state.lastIntValue = 0x0B; \n      state.advance();\n      return true\n    }\n    if (ch === 0x66 ) {\n      state.lastIntValue = 0x0C; \n      state.advance();\n      return true\n    }\n    if (ch === 0x72 ) {\n      state.lastIntValue = 0x0D; \n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41  && ch <= 0x5A ) ||\n      (ch >= 0x61  && ch <= 0x7A )\n    )\n  }\n\n  pp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x75 )) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C ) && state.eat(0x75 ) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        state.switchU &&\n        state.eat(0x7B ) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D ) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  pp$8.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F )) {\n        state.lastIntValue = 0x2F; \n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63  && (!state.switchN || ch !== 0x6B )) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31  && ch <= 0x39 ) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n        state.advance();\n      } while ((ch = state.current()) >= 0x30  && ch <= 0x39 )\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true\n    }\n\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      (ch === 0x50  || ch === 0x70 )\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      if (\n        state.eat(0x7B ) &&\n        this.regexp_eatUnicodePropertyValueExpression(state) &&\n        state.eat(0x7D )\n      ) {\n        return true\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return false\n  };\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64  ||\n      ch === 0x44  ||\n      ch === 0x73  ||\n      ch === 0x53  ||\n      ch === 0x77  ||\n      ch === 0x57 \n    )\n  }\n\n  pp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D )) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true\n      }\n    }\n    state.pos = start;\n\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true\n    }\n    return false\n  };\n  pp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!has(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n  pp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue))\n      { state.raise(\"Invalid property name\"); }\n  };\n\n  pp$8.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F \n  }\n\n  pp$8.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  pp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  pp$8.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B )) {\n      state.eat(0x5E );\n      this.regexp_classRanges(state);\n      if (state.eat(0x5D )) {\n        return true\n      }\n      state.raise(\"Unterminated character class\");\n    }\n    return false\n  };\n\n  pp$8.regexp_classRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D ) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  pp$8.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        var ch$1 = state.current();\n        if (ch$1 === 0x63  || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D ) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 )) {\n      state.lastIntValue = 0x08; \n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D )) {\n      state.lastIntValue = 0x2D; \n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 )) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  pp$8.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F ) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 )) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x39 \n  }\n\n  pp$8.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30  && ch <= 0x39 ) ||\n      (ch >= 0x41  && ch <= 0x46 ) ||\n      (ch >= 0x61  && ch <= 0x66 )\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41  && ch <= 0x46 ) {\n      return 10 + (ch - 0x41 )\n    }\n    if (ch >= 0x61  && ch <= 0x66 ) {\n      return 10 + (ch - 0x61 )\n    }\n    return ch - 0x30 \n  }\n\n  pp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; \n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x37 \n  }\n\n  pp$8.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n\n  var pp$9 = Parser.prototype;\n\n\n  pp$9.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp$9.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  if (typeof Symbol !== \"undefined\")\n    { pp$9[Symbol.iterator] = function() {\n      var this$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1.getToken();\n          return {\n            done: token.type === types.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n\n  pp$9.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n\n  pp$9.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp$9.readToken = function(code) {\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 )\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp$9.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xe000) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return (code << 10) + next - 0x35fdc00\n  };\n\n  pp$9.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      lineBreakG.lastIndex = start;\n      var match;\n      while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n        ++this.curLine;\n        this.lineStart = match.index + match[0].length;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp$9.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n\n  pp$9.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: \n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: \n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: \n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n\n  pp$9.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n\n  pp$9.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { \n      this.pos += 3;\n      return this.finishToken(types.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types.dot)\n    }\n  };\n\n  pp$9.readToken_slash = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.slash, 1)\n  };\n\n  pp$9.readToken_mult_modulo_exp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types.star : types.modulo;\n\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp$9.readToken_pipe_amp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) { return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2) }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n  };\n\n  pp$9.readToken_caret = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.bitwiseXOR, 1)\n  };\n\n  pp$9.readToken_plus_min = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.plusMin, 1)\n  };\n\n  pp$9.readToken_lt_gt = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n      return this.finishOp(types.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types.relational, size)\n  };\n\n  pp$9.readToken_eq_excl = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { \n      this.pos += 2;\n      return this.finishToken(types.arrow)\n    }\n    return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n  };\n\n  pp$9.getTokenFromCode = function(code) {\n    switch (code) {\n    case 46: \n      return this.readToken_dot()\n\n    case 40: ++this.pos; return this.finishToken(types.parenL)\n    case 41: ++this.pos; return this.finishToken(types.parenR)\n    case 59: ++this.pos; return this.finishToken(types.semi)\n    case 44: ++this.pos; return this.finishToken(types.comma)\n    case 91: ++this.pos; return this.finishToken(types.bracketL)\n    case 93: ++this.pos; return this.finishToken(types.bracketR)\n    case 123: ++this.pos; return this.finishToken(types.braceL)\n    case 125: ++this.pos; return this.finishToken(types.braceR)\n    case 58: ++this.pos; return this.finishToken(types.colon)\n    case 63: ++this.pos; return this.finishToken(types.question)\n\n    case 96: \n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types.backQuote)\n\n    case 48: \n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } \n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } \n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } \n      }\n\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: \n      return this.readNumber(false)\n\n    case 34: case 39: \n      return this.readString(code)\n\n\n    case 47: \n      return this.readToken_slash()\n\n    case 37: case 42: \n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: \n      return this.readToken_pipe_amp(code)\n\n    case 94: \n      return this.readToken_caret()\n\n    case 43: case 45: \n      return this.readToken_plus_min(code)\n\n    case 60: case 62: \n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: \n      return this.readToken_eq_excl(code)\n\n    case 126: \n      return this.finishOp(types.prefix, 1)\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n  };\n\n  pp$9.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp$9.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n    }\n\n    return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n\n  pp$9.readInt = function(radix, len) {\n    var start = this.pos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n      if (code >= 97) { val = code - 97 + 10; } \n      else if (code >= 65) { val = code - 65 + 10; } \n      else if (code >= 48 && code <= 57) { val = code - 48; } \n      else { val = Infinity; }\n      if (val >= radix) { break }\n      ++this.pos;\n      total = total * radix + val;\n    }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  pp$9.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; \n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var str$1 = this.input.slice(start, this.pos);\n      var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { \n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { \n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } \n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var str = this.input.slice(start, this.pos);\n    var val = octal ? parseInt(str, 8) : parseFloat(str);\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { \n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  function codePointToString$1(code) {\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  pp$9.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else {\n        if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types.string, out)\n  };\n\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp$9.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp$9.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp$9.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { \n        if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types.template, out)\n      }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  pp$9.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") {\n          break\n        }\n\n      case \"`\":\n        return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n\n  pp$9.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" \n    case 114: return \"\\r\" \n    case 120: return String.fromCharCode(this.readHexChar(2)) \n    case 117: return codePointToString$1(this.readCodePoint()) \n    case 116: return \"\\t\" \n    case 98: return \"\\b\" \n    case 118: return \"\\u000b\" \n    case 102: return \"\\f\" \n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } \n    case 10: \n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n\n        return null\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n\n  pp$9.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n\n  pp$9.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { \n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) \n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString$1(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n\n  pp$9.readWord = function() {\n    var word = this.readWord1();\n    var type = types.name;\n    if (this.keywords.test(word)) {\n      type = keywords$1[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n\n  var version = \"7.1.0\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types,\n    keywordTypes: keywords$1,\n    TokContext: TokContext,\n    tokContexts: types$1,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords$1;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types$1;\n  exports.tokTypes = types;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n},{}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nfunction glWiretap(gl, options = {}) {\n  const {\n    contextName = 'gl',\n    throwGetError,\n    useTrackablePrimitives,\n    readPixelsFile,\n    recording = [],\n    variables = {},\n    onReadPixels,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  const proxy = new Proxy(gl, { get: listen });\n  const contextVariables = [];\n  const entityNames = {};\n  let imageCount = 0;\n  let indent = '';\n  let readPixelsVariableName;\n  return proxy;\n  function listen(obj, property) {\n    switch (property) {\n      case 'addComment': return addComment;\n      case 'checkThrowError': return checkThrowError;\n      case 'getReadPixelsVariableName': return readPixelsVariableName;\n      case 'insertVariable': return insertVariable;\n      case 'reset': return reset;\n      case 'setIndent': return setIndent;\n      case 'toString': return toString;\n      case 'getContextVariableName': return getContextVariableName;\n    }\n    if (typeof gl[property] === 'function') {\n      return function() { \n        switch (property) {\n          case 'getError':\n            if (throwGetError) {\n              recording.push(`${indent}if (${contextName}.getError() !== ${contextName}.NONE) throw new Error('error');`);\n            } else {\n              recording.push(`${indent}${contextName}.getError();`); \n            }\n            return gl.getError();\n          case 'getExtension': {\n            const variableName = `${contextName}Variables${contextVariables.length}`;\n            recording.push(`${indent}const ${variableName} = ${contextName}.getExtension('${arguments[0]}');`);\n            const extension = gl.getExtension(arguments[0]);\n            if (extension && typeof extension === 'object') {\n              const tappedExtension = glExtensionWiretap(extension, {\n                getEntity,\n                useTrackablePrimitives,\n                recording,\n                contextName: variableName,\n                contextVariables,\n                variables,\n                indent,\n                onUnrecognizedArgumentLookup,\n              });\n              contextVariables.push(tappedExtension);\n              return tappedExtension;\n            } else {\n              contextVariables.push(null);\n            }\n            return extension;\n          }\n          case 'readPixels':\n            const i = contextVariables.indexOf(arguments[6]);\n            let targetVariableName;\n            if (i === -1) {\n              const variableName = getVariableName(arguments[6]);\n              if (variableName) {\n                targetVariableName = variableName;\n                recording.push(`${indent}${variableName}`);\n              } else {\n                targetVariableName = `${contextName}Variable${contextVariables.length}`;\n                contextVariables.push(arguments[6]);\n                recording.push(`${indent}const ${targetVariableName} = new ${arguments[6].constructor.name}(${arguments[6].length});`);\n              }\n            } else {\n              targetVariableName = `${contextName}Variable${i}`;\n            }\n            readPixelsVariableName = targetVariableName;\n            const argumentAsStrings = [\n              arguments[0],\n              arguments[1],\n              arguments[2],\n              arguments[3],\n              getEntity(arguments[4]),\n              getEntity(arguments[5]),\n              targetVariableName\n            ];\n            recording.push(`${indent}${contextName}.readPixels(${argumentAsStrings.join(', ')});`);\n            if (readPixelsFile) {\n              writePPM(arguments[2], arguments[3]);\n            }\n            if (onReadPixels) {\n              onReadPixels(targetVariableName, argumentAsStrings);\n            }\n            return gl.readPixels.apply(gl, arguments);\n          case 'drawBuffers':\n            recording.push(`${indent}${contextName}.drawBuffers([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup } )}]);`);\n            return gl.drawBuffers(arguments[0]);\n        }\n        let result = gl[property].apply(gl, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n              break;\n            }\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n\n            contextVariables.push(result);\n        }\n        return result;\n      }\n    }\n    entityNames[gl[property]] = property;\n    return gl[property];\n  }\n  function toString() {\n    return recording.join('\\n');\n  }\n  function reset() {\n    while (recording.length > 0) {\n      recording.pop();\n    }\n  }\n  function insertVariable(name, value) {\n    variables[name] = value;\n  }\n  function getEntity(value) {\n    const name = entityNames[value];\n    if (name) {\n      return contextName + '.' + name;\n    }\n    return value;\n  }\n  function setIndent(spaces) {\n    indent = ' '.repeat(spaces);\n  }\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    contextVariables.push(value);\n    return variableName;\n  }\n  function writePPM(width, height) {\n    const sourceVariable = `${contextName}Variable${contextVariables.length}`;\n    const imageVariable = `imageDatum${imageCount}`;\n    recording.push(`${indent}let ${imageVariable} = [\"P3\\\\n# ${readPixelsFile}.ppm\\\\n\", ${width}, ' ', ${height}, \"\\\\n255\\\\n\"].join(\"\");`);\n    recording.push(`${indent}for (let i = 0; i < ${imageVariable}.length; i += 4) {`);\n    recording.push(`${indent}  ${imageVariable} += ${sourceVariable}[i] + ' ' + ${sourceVariable}[i + 1] + ' ' + ${sourceVariable}[i + 2] + ' ';`);\n    recording.push(`${indent}}`);\n    recording.push(`${indent}if (typeof require !== \"undefined\") {`);\n    recording.push(`${indent}  require('fs').writeFileSync('./${readPixelsFile}.ppm', ${imageVariable});`);\n    recording.push(`${indent}}`);\n    imageCount++;\n  }\n  function addComment(value) {\n    recording.push(`${indent}// ${value}`);\n  }\n  function checkThrowError() {\n    recording.push(`${indent}(() => {\n${indent}const error = ${contextName}.getError();\n${indent}if (error !== ${contextName}.NONE) {\n${indent}  const names = Object.getOwnPropertyNames(gl);\n${indent}  for (let i = 0; i < names.length; i++) {\n${indent}    const name = names[i];\n${indent}    if (${contextName}[name] === error) {\n${indent}      throw new Error('${contextName} threw ' + name);\n${indent}    }\n${indent}  }\n${indent}}\n${indent}})();`);\n  }\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    return null;\n  }\n\n  function getContextVariableName(value) {\n    const i = contextVariables.indexOf(value);\n    if (i !== -1) {\n      return `${contextName}Variable${i}`;\n    }\n    return null;\n  }\n}\n\nfunction glExtensionWiretap(extension, options) {\n  const proxy = new Proxy(extension, { get: listen });\n  const extensionEntityNames = {};\n  const {\n    contextName,\n    contextVariables,\n    getEntity,\n    useTrackablePrimitives,\n    recording,\n    variables,\n    indent,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  return proxy;\n  function listen(obj, property) {\n    if (typeof obj[property] === 'function') {\n      return function() {\n        switch (property) {\n          case 'drawBuffersWEBGL':\n            recording.push(`${indent}${contextName}.drawBuffersWEBGL([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })}]);`);\n            return extension.drawBuffersWEBGL(arguments[0]);\n        }\n        let result = extension[property].apply(extension, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result);\n            }\n            break;\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n            contextVariables.push(result);\n        }\n        return result;\n      };\n    }\n    extensionEntityNames[extension[property]] = property;\n    return extension[property];\n  }\n\n  function getExtensionEntity(value) {\n    if (extensionEntityNames.hasOwnProperty(value)) {\n      return `${contextName}.${extensionEntityNames[value]}`;\n    }\n    return getEntity(value);\n  }\n\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    contextVariables.push(value);\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    return variableName;\n  }\n}\n\nfunction argumentsToString(args, options) {\n  const { variables, onUnrecognizedArgumentLookup } = options;\n  return (Array.from(args).map((arg) => {\n    const variableName = getVariableName(arg);\n    if (variableName) {\n      return variableName;\n    }\n    return argumentToString(arg, options);\n  }).join(', '));\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (!variables.hasOwnProperty(name)) continue;\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    if (onUnrecognizedArgumentLookup) {\n      return onUnrecognizedArgumentLookup(value);\n    }\n    return null;\n  }\n}\n\nfunction argumentToString(arg, options) {\n  const { contextName, contextVariables, getEntity, addVariable, onUnrecognizedArgumentLookup } = options;\n  if (typeof arg === 'undefined') {\n    return 'undefined';\n  }\n  if (arg === null) {\n    return 'null';\n  }\n  const i = contextVariables.indexOf(arg);\n  if (i > -1) {\n    return `${contextName}Variable${i}`;\n  }\n  switch (arg.constructor.name) {\n    case 'String':\n      const hasLines = /\\n/.test(arg);\n      const hasSingleQuotes = /'/.test(arg);\n      const hasDoubleQuotes = /\"/.test(arg);\n      if (hasLines) {\n        return '`' + arg + '`';\n      } else if (hasSingleQuotes && !hasDoubleQuotes) {\n        return '\"' + arg + '\"';\n      } else if (!hasSingleQuotes && hasDoubleQuotes) {\n        return \"'\" + arg + \"'\";\n      } else {\n        return '\\'' + arg + '\\'';\n      }\n    case 'Number': return getEntity(arg);\n    case 'Boolean': return getEntity(arg);\n    case 'Array':\n      return addVariable(arg, `new ${arg.constructor.name}([${Array.from(arg).join(',')}])`);\n    case 'Float32Array':\n    case 'Uint8Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n      return addVariable(arg, `new ${arg.constructor.name}(${JSON.stringify(Array.from(arg))})`);\n    default:\n      if (onUnrecognizedArgumentLookup) {\n        const instantiationString = onUnrecognizedArgumentLookup(arg);\n        if (instantiationString) {\n          return instantiationString;\n        }\n      }\n      throw new Error(`unrecognized argument type ${arg.constructor.name}`);\n  }\n}\n\nfunction trackablePrimitive(value) {\n  return new value.constructor(value);\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = { glWiretap, glExtensionWiretap };\n}\n\nif (typeof window !== 'undefined') {\n  glWiretap.glExtensionWiretap = glExtensionWiretap;\n  window.glWiretap = glWiretap;\n}\n\n},{}],4:[function(require,module,exports){\nfunction setupArguments(args) {\n  const newArguments = new Array(args.length);\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (arg.toArray) {\n      newArguments[i] = arg.toArray();\n    } else {\n      newArguments[i] = arg;\n    }\n  }\n  return newArguments;\n}\n\nfunction mock1D() {\n  const args = setupArguments(arguments);\n  const row = new Float32Array(this.output.x);\n  for (let x = 0; x < this.output.x; x++) {\n    this.thread.x = x;\n    this.thread.y = 0;\n    this.thread.z = 0;\n    row[x] = this._fn.apply(this, args);\n  }\n  return row;\n}\n\nfunction mock2D() {\n  const args = setupArguments(arguments);\n  const matrix = new Array(this.output.y);\n  for (let y = 0; y < this.output.y; y++) {\n    const row = new Float32Array(this.output.x);\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      row[x] = this._fn.apply(this, args);\n    }\n    matrix[y] = row;\n  }\n  return matrix;\n}\n\nfunction mock2DGraphical() {\n  const args = setupArguments(arguments);\n  for (let y = 0; y < this.output.y; y++) {\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      this._fn.apply(this, args);\n    }\n  }\n}\n\nfunction mock3D() {\n  const args = setupArguments(arguments);\n  const cube = new Array(this.output.z);\n  for (let z = 0; z < this.output.z; z++) {\n    const matrix = new Array(this.output.y);\n    for (let y = 0; y < this.output.y; y++) {\n      const row = new Float32Array(this.output.x);\n      for (let x = 0; x < this.output.x; x++) {\n        this.thread.x = x;\n        this.thread.y = y;\n        this.thread.z = z;\n        row[x] = this._fn.apply(this, args);\n      }\n      matrix[y] = row;\n    }\n    cube[z] = matrix;\n  }\n  return cube;\n}\n\nfunction apiDecorate(kernel) {\n  kernel.setOutput = (output) => {\n    kernel.output = setupOutput(output);\n    if (kernel.graphical) {\n      setupGraphical(kernel);\n    }\n  };\n  kernel.toJSON = () => {\n    throw new Error('Not usable with gpuMock');\n  };\n  kernel.setConstants = (flag) => {\n    kernel.constants = flag;\n    return kernel;\n  };\n  kernel.setGraphical = (flag) => {\n    kernel.graphical = flag;\n    return kernel;\n  };\n  kernel.setCanvas = (flag) => {\n    kernel.canvas = flag;\n    return kernel;\n  };\n  kernel.setContext = (flag) => {\n    kernel.context = flag;\n    return kernel;\n  };\n  kernel.destroy = () => {};\n  kernel.validateSettings = () => {};\n  if (kernel.graphical && kernel.output) {\n    setupGraphical(kernel);\n  }\n  kernel.exec = function() {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(kernel.apply(kernel, arguments));\n      } catch(e) {\n        reject(e);\n      }\n    });\n  };\n  kernel.getPixels = (flip) => {\n    const {x, y} = kernel.output;\n    return flip ? flipPixels(kernel._imageData.data, x, y) : kernel._imageData.data.slice(0);\n  };\n  kernel.color = function(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = kernel.output.x;\n    const height = kernel.output.y;\n\n    const x = kernel.thread.x;\n    const y = height - kernel.thread.y - 1;\n\n    const index = x + y * width;\n\n    kernel._colorData[index * 4 + 0] = r;\n    kernel._colorData[index * 4 + 1] = g;\n    kernel._colorData[index * 4 + 2] = b;\n    kernel._colorData[index * 4 + 3] = a;\n  };\n\n  const mockMethod = () => kernel;\n  const methods = [\n    'setWarnVarUsage',\n    'setArgumentTypes',\n    'setTactic',\n    'setOptimizeFloatMemory',\n    'setDebug',\n    'setLoopMaxIterations',\n    'setConstantTypes',\n    'setFunctions',\n    'setNativeFunctions',\n    'setInjectedNative',\n    'setPipeline',\n    'setPrecision',\n    'setOutputToTexture',\n    'setImmutable',\n    'setStrictIntegers',\n    'setDynamicOutput',\n    'setHardcodeConstants',\n    'setDynamicArguments',\n    'setUseLegacyEncoder',\n    'setWarnVarUsage',\n    'addSubKernel',\n  ];\n  for (let i = 0; i < methods.length; i++) {\n    kernel[methods[i]] = mockMethod;\n  }\n  return kernel;\n}\n\nfunction setupGraphical(kernel) {\n  const {x, y} = kernel.output;\n  if (kernel.context && kernel.context.createImageData) {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = kernel.context.createImageData(x, y);\n    kernel._colorData = data;\n  } else {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = { data };\n    kernel._colorData = data;\n  }\n}\n\nfunction setupOutput(output) {\n  let result = null;\n  if (output.length) {\n    if (output.length === 3) {\n      const [x,y,z] = output;\n      result = { x, y, z };\n    } else if (output.length === 2) {\n      const [x,y] = output;\n      result = { x, y };\n    } else {\n      const [x] = output;\n      result = { x };\n    }\n  } else {\n    result = output;\n  }\n  return result;\n}\n\nfunction gpuMock(fn, settings = {}) {\n  const output = settings.output ? setupOutput(settings.output) : null;\n  function kernel() {\n    if (kernel.output.z) {\n      return mock3D.apply(kernel, arguments);\n    } else if (kernel.output.y) {\n      if (kernel.graphical) {\n        return mock2DGraphical.apply(kernel, arguments);\n      }\n      return mock2D.apply(kernel, arguments);\n    } else {\n      return mock1D.apply(kernel, arguments);\n    }\n  }\n  kernel._fn = fn;\n  kernel.constants = settings.constants || null;\n  kernel.context = settings.context || null;\n  kernel.canvas = settings.canvas || null;\n  kernel.graphical = settings.graphical || false;\n  kernel._imageData = null;\n  kernel._colorData = null;\n  kernel.output = output;\n  kernel.thread = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n  return apiDecorate(kernel);\n}\n\nfunction flipPixels(pixels, width, height) {\n  const halfHeight = height / 2 | 0; \n  const bytesPerRow = width * 4;\n  const temp = new Uint8ClampedArray(width * 4);\n  const result = pixels.slice(0);\n  for (let y = 0; y < halfHeight; ++y) {\n    const topOffset = y * bytesPerRow;\n    const bottomOffset = (height - y - 1) * bytesPerRow;\n\n    temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n    result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n    result.set(temp, bottomOffset);\n  }\n  return result;\n}\n\nmodule.exports = {\n  gpuMock\n};\n\n},{}],5:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction alias(name, source) {\n  const fnString = source.toString();\n  return new Function(`return function ${ name } (${ utils.getArgumentNamesFromString(fnString).join(', ') }) {\n  ${ utils.getFunctionBodyFromString(fnString) }\n}`)();\n}\n\nmodule.exports = {\n  alias\n};\n},{\"./utils\":114}],6:[function(require,module,exports){\nconst { FunctionNode } = require('../function-node');\n\nclass CPUFunctionNode extends FunctionNode {\n  astFunction(ast, retArr) {\n\n    if (!this.isRootKernel) {\n      retArr.push('function');\n      retArr.push(' ');\n      retArr.push(this.name);\n      retArr.push('(');\n\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        retArr.push('user_');\n        retArr.push(argumentName);\n      }\n\n      retArr.push(') {\\n');\n    }\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    if (!this.isRootKernel) {\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    const type = this.returnType || this.getType(ast.argument);\n\n    if (!this.returnType) {\n      this.returnType = type;\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(this.leadingReturnStatement);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';\\n');\n      retArr.push(this.followingReturnStatement);\n      retArr.push('continue;\\n');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = `);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push('return ');\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    retArr.push(ast.value);\n\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    retArr.push('(');\n    this.astGeneric(ast.left, retArr);\n    retArr.push(ast.operator);\n    this.astGeneric(ast.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    switch (idtNode.name) {\n      case 'Infinity':\n        retArr.push('Infinity');\n        break;\n      default:\n        if (this.constants && this.constants.hasOwnProperty(idtNode.name)) {\n          retArr.push('constants_' + idtNode.name);\n        } else {\n          retArr.push('user_' + idtNode.name);\n        }\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      this.pushState('in-for-loop-init');\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < initArr.length; i++) {\n        if (initArr[i].includes && initArr[i].includes(',')) {\n          isSafe = false;\n        }\n      }\n      this.popState('in-for-loop-init');\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      retArr.push(`for (${initArr.join('')};${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), ';\\n');\n      }\n      retArr.push(`for (let ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        whileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    retArr.push('if (');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') {\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('} else {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        doWhileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n\n  }\n\n  astAssignmentExpression(assNode, retArr) {\n    const declaration = this.getDeclaration(assNode.left);\n    if (declaration && !declaration.assignable) {\n      throw this.astErrorOutput(`Variable ${assNode.left.name} is not assignable here`, assNode);\n    }\n    this.astGeneric(assNode.left, retArr);\n    retArr.push(assNode.operator);\n    this.astGeneric(assNode.right, retArr);\n    return retArr;\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    retArr.push(`${varDecNode.kind} `);\n    const { declarations } = varDecNode;\n    for (let i = 0; i < declarations.length; i++) {\n      if (i > 0) {\n        retArr.push(',');\n      }\n      const declaration = declarations[i];\n      const info = this.getDeclaration(declaration.id);\n      if (!info.valueType) {\n        info.valueType = this.getType(declaration.init);\n      }\n      this.astGeneric(declaration, retArr);\n    }\n    if (!this.isState('in-for-loop-init')) {\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n\n  }\n\n  astSwitchStatement(ast, retArr) {\n    const { discriminant, cases } = ast;\n    retArr.push('switch (');\n    this.astGeneric(discriminant, retArr);\n    retArr.push(') {\\n');\n    for (let i = 0; i < cases.length; i++) {\n      if (cases[i].test === null) {\n        retArr.push('default:\\n');\n        this.astGeneric(cases[i].consequent, retArr);\n        if (cases[i].consequent && cases[i].consequent.length > 0) {\n          retArr.push('break;\\n');\n        }\n        continue;\n      }\n      retArr.push('case ');\n      this.astGeneric(cases[i].test, retArr);\n      retArr.push(':\\n');\n      if (cases[i].consequent && cases[i].consequent.length > 0) {\n        this.astGeneric(cases[i].consequent, retArr);\n        retArr.push('break;\\n');\n      }\n    }\n    retArr.push('\\n}');\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('_this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      signature,\n      type,\n      property,\n      xProperty,\n      yProperty,\n      zProperty,\n      name,\n      origin\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'this.thread.value':\n        retArr.push(`_this.thread.${ name }`);\n        return retArr;\n      case 'this.output.value':\n        switch (name) {\n          case 'x':\n            retArr.push('outputX');\n            break;\n          case 'y':\n            retArr.push('outputY');\n            break;\n          case 'z':\n            retArr.push('outputZ');\n            break;\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ name }[0]`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ name }[1]`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ name }[2]`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ name }[3]`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n      case 'this.constants.value[]':\n      case 'this.constants.value[][]':\n      case 'this.constants.value[][][]':\n        break;\n      case 'fn()[]':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      case 'fn()[][]':\n        this.astGeneric(mNode.object.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.object.property, retArr);\n        retArr.push(']');\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      default:\n        throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (!mNode.computed) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${name}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${name}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n      case 'HTMLImageArray':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n      case 'HTMLImage':\n      default:\n        let size;\n        let isInput;\n        if (origin === 'constants') {\n          const constant = this.constants[name];\n          isInput = this.constantTypes[name] === 'Input';\n          size = isInput ? constant.size : null;\n        } else {\n          isInput = this.isInput(name);\n          size = isInput ? this.argumentSizes[this.argumentNames.indexOf(name)] : null;\n        }\n        retArr.push(`${ markupName }`);\n        if (zProperty && yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? '(outputY * outputX)' : size[1] * size[0] })+(`);\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (typeof xProperty !== 'undefined') {\n          retArr.push('[');\n          this.astGeneric(xProperty, retArr);\n          retArr.push(']');\n        }\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (ast.type !== 'CallExpression') {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n    let functionName = this.astMemberExpressionUnroll(ast.callee);\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n    const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n    for (let i = 0; i < ast.arguments.length; ++i) {\n      const argument = ast.arguments[i];\n\n      let argumentType = this.getType(argument);\n      if (!targetTypes[i]) {\n        this.triggerImplyArgumentType(functionName, i, argumentType, this);\n      }\n\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      this.astGeneric(argument, retArr);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const returnType = this.getType(arrNode);\n    const arrLen = arrNode.elements.length;\n    const elements = [];\n    for (let i = 0; i < arrLen; ++i) {\n      const element = [];\n      this.astGeneric(arrNode.elements[i], element);\n      elements.push(element.join(''));\n    }\n    switch (returnType) {\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`[${elements.join(', ')}]`);\n        break;\n      default:\n        retArr.push(`new Float32Array([${elements.join(', ')}])`);\n    }\n    return retArr;\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    retArr.push('debugger;');\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  CPUFunctionNode\n};\n},{\"../function-node\":10}],7:[function(require,module,exports){\nconst { utils } = require('../../utils');\n\nfunction constantsToString(constants, types) {\n  const results = [];\n  for (const name in types) {\n    if (!types.hasOwnProperty(name)) continue;\n    const type = types[name];\n    const constant = constants[name];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n        results.push(`${name}:${constant}`);\n        break;\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        results.push(`${name}:new ${constant.constructor.name}(${JSON.stringify(Array.from(constant))})`);\n        break;\n    }\n  }\n  return `{ ${ results.join() } }`;\n}\n\nfunction cpuKernelString(cpuKernel, name) {\n  const header = [];\n  const thisProperties = [];\n  const beforeReturn = [];\n\n  const useFunctionKeyword = !/^function/.test(cpuKernel.color.toString());\n\n  header.push(\n    '  const { context, canvas, constants: incomingConstants } = settings;',\n    `  const output = new Int32Array(${JSON.stringify(Array.from(cpuKernel.output))});`,\n    `  const _constantTypes = ${JSON.stringify(cpuKernel.constantTypes)};`,\n    `  const _constants = ${constantsToString(cpuKernel.constants, cpuKernel.constantTypes)};`\n  );\n\n  thisProperties.push(\n    '    constants: _constants,',\n    '    context,',\n    '    output,',\n    '    thread: {x: 0, y: 0, z: 0},'\n  );\n\n  if (cpuKernel.graphical) {\n    header.push(`  const _imageData = context.createImageData(${cpuKernel.output[0]}, ${cpuKernel.output[1]});`);\n    header.push(`  const _colorData = new Uint8ClampedArray(${cpuKernel.output[0]} * ${cpuKernel.output[1]} * 4);`);\n\n    const colorFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.color.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: (object, name) => {\n        return null;\n      }\n    });\n\n    const getPixelsFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.getPixels.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: () => {\n        return null;\n      }\n    });\n\n    thisProperties.push(\n      '    _imageData,',\n      '    _colorData,',\n      `    color: ${colorFn},`\n    );\n\n    beforeReturn.push(\n      `  kernel.getPixels = ${getPixelsFn};`\n    );\n  }\n\n  const constantTypes = [];\n  const constantKeys = Object.keys(cpuKernel.constantTypes);\n  for (let i = 0; i < constantKeys.length; i++) {\n    constantTypes.push(cpuKernel.constantTypes[constantKeys]);\n  }\n  if (cpuKernel.argumentTypes.indexOf('HTMLImageArray') !== -1 || constantTypes.indexOf('HTMLImageArray') !== -1) {\n    const flattenedImageTo3DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._imageTo3DArray.toString(), {\n      doNotDefine: ['canvas'],\n      findDependency: (object, name) => {\n        if (object === 'this') {\n          return (useFunctionKeyword ? 'function ' : '') + cpuKernel[name].toString();\n        }\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return;\n          case 'context':\n            return 'context';\n        }\n      }\n    });\n    beforeReturn.push(flattenedImageTo3DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n    thisProperties.push(`    _imageTo3DArray,`);\n  } else if (cpuKernel.argumentTypes.indexOf('HTMLImage') !== -1 || constantTypes.indexOf('HTMLImage') !== -1) {\n    const flattenedImageTo2DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._mediaTo2DArray.toString(), {\n      findDependency: (object, name) => {\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return 'settings.canvas';\n          case 'context':\n            return 'settings.context';\n        }\n        throw new Error('unhandled thisLookup');\n      }\n    });\n    beforeReturn.push(flattenedImageTo2DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n  }\n\n  return `function(settings) {\n${ header.join('\\n') }\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${cpuKernel._kernelString}\n  })\n    .apply({ ${thisProperties.join('\\n')} });\n  ${ beforeReturn.join('\\n') }\n  return kernel;\n}`;\n}\n\nmodule.exports = {\n  cpuKernelString\n};\n},{\"../../utils\":114}],8:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { CPUFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst { cpuKernelString } = require('./kernel-string');\n\nclass CPUKernel extends Kernel {\n  static getFeatures() {\n    return this.features;\n  }\n  static get features() {\n    return Object.freeze({\n      kernelMap: true,\n      isIntegerDivisionAccurate: true\n    });\n  }\n  static get isSupported() {\n    return true;\n  }\n  static isContextMatch(context) {\n    return false;\n  }\n  static get mode() {\n    return 'cpu';\n  }\n\n  static nativeFunctionArguments() {\n    return null;\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`Looking up native function return type not supported on ${this.name}`);\n  }\n\n  static combineKernels(combinedKernel) {\n    return combinedKernel;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return 'cpu' + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.mergeSettings(source.settings || settings);\n\n    this._imageData = null;\n    this._colorData = null;\n    this._kernelString = null;\n    this._prependedString = [];\n    this.thread = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    this.translatedSources = null;\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    if (!this.canvas) return null;\n    return this.canvas.getContext('2d');\n  }\n\n  initPlugins(settings) {\n    return [];\n  }\n\n  validateSettings(args) {\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      if (argType === 'Array') {\n        this.output = utils.getDimensions(argType);\n      } else if (argType === 'NumberTexture' || argType === 'ArrayTexture(4)') {\n        this.output = args[0].output;\n      } else {\n        throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n    }\n\n    this.checkOutput();\n  }\n\n  translateSource() {\n    this.leadingReturnStatement = this.output.length > 1 ? 'resultX[x] = ' : 'result[x] = ';\n    if (this.subKernels) {\n      const followingReturnStatement = [];\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const {\n          name\n        } = this.subKernels[i];\n        followingReturnStatement.push(this.output.length > 1 ? `resultX_${ name }[x] = subKernelResult_${ name };\\n` : `result_${ name }[x] = subKernelResult_${ name };\\n`);\n      }\n      this.followingReturnStatement = followingReturnStatement.join('');\n    }\n    const functionBuilder = FunctionBuilder.fromKernel(this, CPUFunctionNode);\n    this.translatedSources = functionBuilder.getPrototypes('kernel');\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.setupConstants();\n    this.setupArguments(arguments);\n    this.validateSettings(arguments);\n    this.translateSource();\n\n    if (this.graphical) {\n      const {\n        canvas,\n        output\n      } = this;\n      if (!canvas) {\n        throw new Error('no canvas available for using graphical output');\n      }\n      const width = output[0];\n      const height = output[1] || 1;\n      canvas.width = width;\n      canvas.height = height;\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n\n    const kernelString = this.getKernelString();\n    this.kernelString = kernelString;\n\n    if (this.debug) {\n      console.log('Function output:');\n      console.log(kernelString);\n    }\n\n    try {\n      this.run = new Function([], kernelString).bind(this)();\n    } catch (e) {\n      console.error('An error occurred compiling the javascript: ', e);\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  color(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = this.output[0];\n    const height = this.output[1];\n\n    const x = this.thread.x;\n    const y = height - this.thread.y - 1;\n\n    const index = x + y * width;\n\n    this._colorData[index * 4 + 0] = r;\n    this._colorData[index * 4 + 1] = g;\n    this._colorData[index * 4 + 2] = b;\n    this._colorData[index * 4 + 3] = a;\n  }\n\n  getKernelString() {\n    if (this._kernelString !== null) return this._kernelString;\n\n    let kernelThreadString = null;\n    let {\n      translatedSources\n    } = this;\n    if (translatedSources.length > 1) {\n      translatedSources = translatedSources.filter(fn => {\n        if (/^function/.test(fn)) return fn;\n        kernelThreadString = fn;\n        return false;\n      });\n    } else {\n      kernelThreadString = translatedSources.shift();\n    }\n    return this._kernelString = `  const LOOP_MAX = ${ this._getLoopMaxString() };\n  ${ this.injectedNative || '' }\n  const _this = this;\n  ${ this._resultKernelHeader() }\n  ${ this._processConstants() }\n  return (${ this.argumentNames.map(argumentName => 'user_' + argumentName).join(', ') }) => {\n    ${ this._prependedString.join('') }\n    ${ this._earlyThrows() }\n    ${ this._processArguments() }\n    ${ this.graphical ? this._graphicalKernelBody(kernelThreadString) : this._resultKernelBody(kernelThreadString) }\n    ${ translatedSources.length > 0 ? translatedSources.join('\\n') : '' }\n  };`;\n  }\n\n  toString() {\n    return cpuKernelString(this);\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${ parseInt(this.loopMaxIterations) };` :\n      ' 1000;'\n    );\n  }\n\n  _processConstants() {\n    if (!this.constants) return '';\n\n    const result = [];\n    for (let p in this.constants) {\n      const type = this.constantTypes[p];\n      switch (type) {\n        case 'HTMLCanvas':\n        case 'OffscreenCanvas':\n        case 'HTMLImage':\n        case 'ImageBitmap':\n        case 'ImageData':\n        case 'HTMLVideo':\n          result.push(`    const constants_${p} = this._mediaTo2DArray(this.constants.${p});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    const constants_${p} = this._imageTo3DArray(this.constants.${p});\\n`);\n          break;\n        case 'Input':\n          result.push(`    const constants_${p} = this.constants.${p}.value;\\n`);\n          break;\n        default:\n          result.push(`    const constants_${p} = this.constants.${p};\\n`);\n      }\n    }\n    return result.join('');\n  }\n\n  _earlyThrows() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    const arrayArguments = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      if (this.argumentTypes[i] === 'Array') {\n        arrayArguments.push(this.argumentNames[i]);\n      }\n    }\n    if (arrayArguments.length === 0) return '';\n    const checks = [];\n    for (let i = 0; i < arrayArguments.length; i++) {\n      const argumentName = arrayArguments[i];\n      const checkSubKernels = this._mapSubKernels(subKernel => `user_${argumentName} === result_${subKernel.name}`).join(' || ');\n      checks.push(`user_${argumentName} === result${checkSubKernels ? ` || ${checkSubKernels}` : ''}`);\n    }\n    return `if (${checks.join(' || ')}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`;\n  }\n\n  _processArguments() {\n    const result = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      const variableName = `user_${this.argumentNames[i]}`;\n      switch (this.argumentTypes[i]) {\n        case 'HTMLCanvas':\n        case 'OffscreenCanvas':\n        case 'HTMLImage':\n        case 'ImageBitmap':\n        case 'ImageData':\n        case 'HTMLVideo':\n          result.push(`    ${variableName} = this._mediaTo2DArray(${variableName});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    ${variableName} = this._imageTo3DArray(${variableName});\\n`);\n          break;\n        case 'Input':\n          result.push(`    ${variableName} = ${variableName}.value;\\n`);\n          break;\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n          result.push(`\n    if (${variableName}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${variableName});\n      if (textureIndex !== -1) {\n        ${variableName} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${variableName});\n        ${variableName} = ${variableName}.toArray();\n        _this.arrayCache.push(${variableName});\n      }\n    }`);\n          break;\n      }\n    }\n    return result.join('');\n  }\n\n  _mediaTo2DArray(media) {\n    const canvas = this.canvas;\n    const width = media.width > 0 ? media.width : media.videoWidth;\n    const height = media.height > 0 ? media.height : media.videoHeight;\n    if (canvas.width < width) {\n      canvas.width = width;\n    }\n    if (canvas.height < height) {\n      canvas.height = height;\n    }\n    const ctx = this.context;\n    let pixelsData;\n    if (media.constructor === ImageData) {\n      pixelsData = media.data;\n    } else {\n      ctx.drawImage(media, 0, 0, width, height);\n      pixelsData = ctx.getImageData(0, 0, width, height).data;\n    }\n    const imageArray = new Array(height);\n    let index = 0;\n    for (let y = height - 1; y >= 0; y--) {\n      const row = imageArray[y] = new Array(width);\n      for (let x = 0; x < width; x++) {\n        const pixel = new Float32Array(4);\n        pixel[0] = pixelsData[index++] / 255; \n        pixel[1] = pixelsData[index++] / 255; \n        pixel[2] = pixelsData[index++] / 255; \n        pixel[3] = pixelsData[index++] / 255; \n        row[x] = pixel;\n      }\n    }\n    return imageArray;\n  }\n\n  getPixels(flip) {\n    const [width, height] = this.output;\n    return flip ? utils.flipPixels(this._imageData.data, width, height) : this._imageData.data.slice(0);\n  }\n\n  _imageTo3DArray(images) {\n    const imagesArray = new Array(images.length);\n    for (let i = 0; i < images.length; i++) {\n      imagesArray[i] = this._mediaTo2DArray(images[i]);\n    }\n    return imagesArray;\n  }\n\n  _resultKernelHeader() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    switch (this.output.length) {\n      case 1:\n        return this._mutableKernel1DResults();\n      case 2:\n        return this._mutableKernel2DResults();\n      case 3:\n        return this._mutableKernel3DResults();\n    }\n  }\n\n  _resultKernelBody(kernelString) {\n    switch (this.output.length) {\n      case 1:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel1DLoop(kernelString) : this._resultImmutableKernel1DLoop(kernelString)) + this._kernelOutput();\n      case 2:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel2DLoop(kernelString) : this._resultImmutableKernel2DLoop(kernelString)) + this._kernelOutput();\n      case 3:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel3DLoop(kernelString) : this._resultImmutableKernel3DLoop(kernelString)) + this._kernelOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalKernelBody(kernelThreadString) {\n    switch (this.output.length) {\n      case 2:\n        return this._graphicalKernel2DLoop(kernelThreadString) + this._graphicalOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalOutput() {\n    return `\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;`\n  }\n\n  _getKernelResultTypeConstructorString() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return 'Float32Array';\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        return 'Array';\n      default:\n        if (this.graphical) {\n          return 'Float32Array';\n        }\n        throw new Error(`unhandled returnType ${ this.returnType }`);\n    }\n  }\n\n  _resultImmutableKernel1DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _mutableKernel1DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }`;\n  }\n\n  _resultMutableKernel1DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _resultImmutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _mutableKernel2DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n    }`;\n  }\n\n  _resultMutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _graphicalKernel2DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _resultImmutableKernel3DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _mutableKernel3DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n      }\n    }`;\n  }\n\n  _resultMutableKernel3DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _kernelOutput() {\n    if (!this.subKernels) {\n      return '\\n    return result;';\n    }\n    return `\\n    return {\n      result: result,\n      ${ this.subKernels.map(subKernel => `${ subKernel.property }: result_${ subKernel.name }`).join(',\\n      ') }\n    };`;\n  }\n\n  _mapSubKernels(fn) {\n    return this.subKernels === null ? [''] :\n      this.subKernels.map(fn);\n  }\n\n  destroy(removeCanvasReference) {\n    if (removeCanvasReference) {\n      delete this.canvas;\n    }\n  }\n\n  static destroyContext(context) {}\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, CPUFunctionNode).toJSON();\n    return json;\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    const [width, height] = this.output;\n    if (this.graphical) {\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n  }\n\n  prependString(value) {\n    if (this._kernelString) throw new Error('Kernel already built');\n    this._prependedString.push(value);\n  }\n\n  hasPrependString(value) {\n    return this._prependedString.indexOf(value) > -1;\n  }\n}\n\nmodule.exports = {\n  CPUKernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../kernel\":36,\"./function-node\":6,\"./kernel-string\":7}],9:[function(require,module,exports){\nclass FunctionBuilder {\n  static fromKernel(kernel, FunctionNode, extraNodeOptions) {\n    const {\n      kernelArguments,\n      kernelConstants,\n      argumentNames,\n      argumentSizes,\n      argumentBitRatios,\n      constants,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      nativeFunctions,\n      output,\n      optimizeFloatMemory,\n      precision,\n      plugins,\n      source,\n      subKernels,\n      functions,\n      leadingReturnStatement,\n      followingReturnStatement,\n      dynamicArguments,\n      dynamicOutput,\n    } = kernel;\n\n    const argumentTypes = new Array(kernelArguments.length);\n    const constantTypes = {};\n\n    for (let i = 0; i < kernelArguments.length; i++) {\n      argumentTypes[i] = kernelArguments[i].type;\n    }\n\n    for (let i = 0; i < kernelConstants.length; i++) {\n      const kernelConstant = kernelConstants[i];\n      constantTypes[kernelConstant.name] = kernelConstant.type;\n    }\n\n    const needsArgumentType = (functionName, index) => {\n      return functionBuilder.needsArgumentType(functionName, index);\n    };\n\n    const assignArgumentType = (functionName, index, type) => {\n      functionBuilder.assignArgumentType(functionName, index, type);\n    };\n\n    const lookupReturnType = (functionName, ast, requestingNode) => {\n      return functionBuilder.lookupReturnType(functionName, ast, requestingNode);\n    };\n\n    const lookupFunctionArgumentTypes = (functionName) => {\n      return functionBuilder.lookupFunctionArgumentTypes(functionName);\n    };\n\n    const lookupFunctionArgumentName = (functionName, argumentIndex) => {\n      return functionBuilder.lookupFunctionArgumentName(functionName, argumentIndex);\n    };\n\n    const lookupFunctionArgumentBitRatio = (functionName, argumentName) => {\n      return functionBuilder.lookupFunctionArgumentBitRatio(functionName, argumentName);\n    };\n\n    const triggerImplyArgumentType = (functionName, i, argumentType, requestingNode) => {\n      functionBuilder.assignArgumentType(functionName, i, argumentType, requestingNode);\n    };\n\n    const triggerImplyArgumentBitRatio = (functionName, argumentName, calleeFunctionName, argumentIndex) => {\n      functionBuilder.assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex);\n    };\n\n    const onFunctionCall = (functionName, calleeFunctionName, args) => {\n      functionBuilder.trackFunctionCall(functionName, calleeFunctionName, args);\n    };\n\n    const onNestedFunction = (ast, source) => {\n      const argumentNames = [];\n      for (let i = 0; i < ast.params.length; i++) {\n        argumentNames.push(ast.params[i].name);\n      }\n      const nestedFunction = new FunctionNode(source, Object.assign({}, nodeOptions, {\n        returnType: null,\n        ast,\n        name: ast.id.name,\n        argumentNames,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n      }));\n      nestedFunction.traceFunctionAST(ast);\n      functionBuilder.addFunctionNode(nestedFunction);\n    };\n\n    const nodeOptions = Object.assign({\n      isRootKernel: false,\n      onNestedFunction,\n      lookupReturnType,\n      lookupFunctionArgumentTypes,\n      lookupFunctionArgumentName,\n      lookupFunctionArgumentBitRatio,\n      needsArgumentType,\n      assignArgumentType,\n      triggerImplyArgumentType,\n      triggerImplyArgumentBitRatio,\n      onFunctionCall,\n      optimizeFloatMemory,\n      precision,\n      constants,\n      constantTypes,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      output,\n      plugins,\n      dynamicArguments,\n      dynamicOutput,\n    }, extraNodeOptions || {});\n\n    const rootNodeOptions = Object.assign({}, nodeOptions, {\n      isRootKernel: true,\n      name: 'kernel',\n      argumentNames,\n      argumentTypes,\n      argumentSizes,\n      argumentBitRatios,\n      leadingReturnStatement,\n      followingReturnStatement,\n    });\n\n    if (typeof source === 'object' && source.functionNodes) {\n      return new FunctionBuilder().fromJSON(source.functionNodes, FunctionNode);\n    }\n\n    const rootNode = new FunctionNode(source, rootNodeOptions);\n\n    let functionNodes = null;\n    if (functions) {\n      functionNodes = functions.map((fn) => new FunctionNode(fn.source, {\n        returnType: fn.returnType,\n        argumentTypes: fn.argumentTypes,\n        output,\n        plugins,\n        constants,\n        constantTypes,\n        constantBitRatios,\n        optimizeFloatMemory,\n        precision,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n        onNestedFunction,\n      }));\n    }\n\n    let subKernelNodes = null;\n    if (subKernels) {\n      subKernelNodes = subKernels.map((subKernel) => {\n        const { name, source } = subKernel;\n        return new FunctionNode(source, Object.assign({}, nodeOptions, {\n          name,\n          isSubKernel: true,\n          isRootKernel: false,\n        }));\n      });\n    }\n\n    const functionBuilder = new FunctionBuilder({\n      kernel,\n      rootNode,\n      functionNodes,\n      nativeFunctions,\n      subKernelNodes\n    });\n\n    return functionBuilder;\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.kernel = settings.kernel;\n    this.rootNode = settings.rootNode;\n    this.functionNodes = settings.functionNodes || [];\n    this.subKernelNodes = settings.subKernelNodes || [];\n    this.nativeFunctions = settings.nativeFunctions || [];\n    this.functionMap = {};\n    this.nativeFunctionNames = [];\n    this.lookupChain = [];\n    this.functionNodeDependencies = {};\n    this.functionCalls = {};\n\n    if (this.rootNode) {\n      this.functionMap['kernel'] = this.rootNode;\n    }\n\n    if (this.functionNodes) {\n      for (let i = 0; i < this.functionNodes.length; i++) {\n        this.functionMap[this.functionNodes[i].name] = this.functionNodes[i];\n      }\n    }\n\n    if (this.subKernelNodes) {\n      for (let i = 0; i < this.subKernelNodes.length; i++) {\n        this.functionMap[this.subKernelNodes[i].name] = this.subKernelNodes[i];\n      }\n    }\n\n    if (this.nativeFunctions) {\n      for (let i = 0; i < this.nativeFunctions.length; i++) {\n        const nativeFunction = this.nativeFunctions[i];\n        this.nativeFunctionNames.push(nativeFunction.name);\n      }\n    }\n  }\n\n  addFunctionNode(functionNode) {\n    if (!functionNode.name) throw new Error('functionNode.name needs set');\n    this.functionMap[functionNode.name] = functionNode;\n    if (functionNode.isRootKernel) {\n      this.rootNode = functionNode;\n    }\n  }\n\n  traceFunctionCalls(functionName, retList) {\n    functionName = functionName || 'kernel';\n    retList = retList || [];\n\n    if (this.nativeFunctionNames.indexOf(functionName) > -1) {\n      const nativeFunctionIndex = retList.indexOf(functionName);\n      if (nativeFunctionIndex === -1) {\n        retList.push(functionName);\n      } else {\n        const dependantNativeFunctionName = retList.splice(nativeFunctionIndex, 1)[0];\n        retList.push(dependantNativeFunctionName);\n      }\n      return retList;\n    }\n\n    const functionNode = this.functionMap[functionName];\n    if (functionNode) {\n      const functionIndex = retList.indexOf(functionName);\n      if (functionIndex === -1) {\n        retList.push(functionName);\n        functionNode.toString(); \n        for (let i = 0; i < functionNode.calledFunctions.length; ++i) {\n          this.traceFunctionCalls(functionNode.calledFunctions[i], retList);\n        }\n      } else {\n        const dependantFunctionName = retList.splice(functionIndex, 1)[0];\n        retList.push(dependantFunctionName);\n      }\n    }\n\n    return retList;\n  }\n\n  getPrototypeString(functionName) {\n    return this.getPrototypes(functionName).join('\\n');\n  }\n\n  getPrototypes(functionName) {\n    if (this.rootNode) {\n      this.rootNode.toString();\n    }\n    if (functionName) {\n      return this.getPrototypesFromFunctionNames(this.traceFunctionCalls(functionName, []).reverse());\n    }\n    return this.getPrototypesFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  getStringFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const node = this.functionMap[functionList[i]];\n      if (node) {\n        ret.push(this.functionMap[functionList[i]].toString());\n      }\n    }\n    return ret.join('\\n');\n  }\n\n  getPrototypesFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const functionName = functionList[i];\n      const functionIndex = this.nativeFunctionNames.indexOf(functionName);\n      if (functionIndex > -1) {\n        ret.push(this.nativeFunctions[functionIndex].source);\n        continue;\n      }\n      const node = this.functionMap[functionName];\n      if (node) {\n        ret.push(node.toString());\n      }\n    }\n    return ret;\n  }\n\n  toJSON() {\n    return this.traceFunctionCalls(this.rootNode.name).reverse().map(name => {\n      const nativeIndex = this.nativeFunctions.indexOf(name);\n      if (nativeIndex > -1) {\n        return {\n          name,\n          source: this.nativeFunctions[nativeIndex].source\n        };\n      } else if (this.functionMap[name]) {\n        return this.functionMap[name].toJSON();\n      } else {\n        throw new Error(`function ${ name } not found`);\n      }\n    });\n  }\n\n  fromJSON(jsonFunctionNodes, FunctionNode) {\n    this.functionMap = {};\n    for (let i = 0; i < jsonFunctionNodes.length; i++) {\n      const jsonFunctionNode = jsonFunctionNodes[i];\n      this.functionMap[jsonFunctionNode.settings.name] = new FunctionNode(jsonFunctionNode.ast, jsonFunctionNode.settings);\n    }\n    return this;\n  }\n\n  getString(functionName) {\n    if (functionName) {\n      return this.getStringFromFunctionNames(this.traceFunctionCalls(functionName).reverse());\n    }\n    return this.getStringFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  lookupReturnType(functionName, ast, requestingNode) {\n    if (ast.type !== 'CallExpression') {\n      throw new Error(`expected ast type of \"CallExpression\", but is ${ ast.type }`);\n    }\n    if (this._isNativeFunction(functionName)) {\n      return this._lookupNativeFunctionReturnType(functionName);\n    } else if (this._isFunction(functionName)) {\n      const node = this._getFunction(functionName);\n      if (node.returnType) {\n        return node.returnType;\n      } else {\n        for (let i = 0; i < this.lookupChain.length; i++) {\n          if (this.lookupChain[i].ast === ast) {\n            if (node.argumentTypes.length === 0 && ast.arguments.length > 0) {\n              const args = ast.arguments;\n              for (let j = 0; j < args.length; j++) {\n                this.lookupChain.push({\n                  name: requestingNode.name,\n                  ast: args[i],\n                  requestingNode\n                });\n                node.argumentTypes[j] = requestingNode.getType(args[j]);\n                this.lookupChain.pop();\n              }\n              return node.returnType = node.getType(node.getJsAST());\n            }\n\n            throw new Error('circlical logic detected!');\n          }\n        }\n        this.lookupChain.push({\n          name: requestingNode.name,\n          ast,\n          requestingNode\n        });\n        const type = node.getType(node.getJsAST());\n        this.lookupChain.pop();\n        return node.returnType = type;\n      }\n    }\n\n    return null;\n  }\n\n  _getFunction(functionName) {\n    if (!this._isFunction(functionName)) {\n      new Error(`Function ${functionName} not found`);\n    }\n    return this.functionMap[functionName];\n  }\n\n  _isFunction(functionName) {\n    return Boolean(this.functionMap[functionName]);\n  }\n\n  _getNativeFunction(functionName) {\n    for (let i = 0; i < this.nativeFunctions.length; i++) {\n      if (this.nativeFunctions[i].name === functionName) return this.nativeFunctions[i];\n    }\n    return null;\n  }\n\n  _isNativeFunction(functionName) {\n    return Boolean(this._getNativeFunction(functionName));\n  }\n\n  _lookupNativeFunctionReturnType(functionName) {\n    let nativeFunction = this._getNativeFunction(functionName);\n    if (nativeFunction) {\n      return nativeFunction.returnType;\n    }\n    throw new Error(`Native function ${ functionName } not found`);\n  }\n\n  lookupFunctionArgumentTypes(functionName) {\n    if (this._isNativeFunction(functionName)) {\n      return this._getNativeFunction(functionName).argumentTypes;\n    } else if (this._isFunction(functionName)) {\n      return this._getFunction(functionName).argumentTypes;\n    }\n    return null;\n  }\n\n  lookupFunctionArgumentName(functionName, argumentIndex) {\n    return this._getFunction(functionName).argumentNames[argumentIndex];\n  }\n\n  lookupFunctionArgumentBitRatio(functionName, argumentName) {\n    if (!this._isFunction(functionName)) {\n      throw new Error('function not found');\n    }\n    if (this.rootNode.name === functionName) {\n      const i = this.rootNode.argumentNames.indexOf(argumentName);\n      if (i !== -1) {\n        return this.rootNode.argumentBitRatios[i];\n      }\n    }\n    const node = this._getFunction(functionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error('argument not found');\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error('argument bit ratio not found');\n    }\n    return bitRatio;\n  }\n\n  needsArgumentType(functionName, i) {\n    if (!this._isFunction(functionName)) return false;\n    const fnNode = this._getFunction(functionName);\n    return !fnNode.argumentTypes[i];\n  }\n\n  assignArgumentType(functionName, i, argumentType, requestingNode) {\n    if (!this._isFunction(functionName)) return;\n    const fnNode = this._getFunction(functionName);\n    if (!fnNode.argumentTypes[i]) {\n      fnNode.argumentTypes[i] = argumentType;\n    }\n  }\n\n  assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex) {\n    const node = this._getFunction(functionName);\n    if (this._isNativeFunction(calleeFunctionName)) return null;\n    const calleeNode = this._getFunction(calleeFunctionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error(`Argument ${argumentName} not found in arguments from function ${functionName}`);\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error(`Bit ratio for argument ${argumentName} not found in function ${functionName}`);\n    }\n    if (!calleeNode.argumentBitRatios) {\n      calleeNode.argumentBitRatios = new Array(calleeNode.argumentNames.length);\n    }\n    const calleeBitRatio = calleeNode.argumentBitRatios[i];\n    if (typeof calleeBitRatio === 'number') {\n      if (calleeBitRatio !== bitRatio) {\n        throw new Error(`Incompatible bit ratio found at function ${functionName} at argument ${argumentName}`);\n      }\n      return calleeBitRatio;\n    }\n    calleeNode.argumentBitRatios[i] = bitRatio;\n    return bitRatio;\n  }\n\n  trackFunctionCall(functionName, calleeFunctionName, args) {\n    if (!this.functionNodeDependencies[functionName]) {\n      this.functionNodeDependencies[functionName] = new Set();\n      this.functionCalls[functionName] = [];\n    }\n    this.functionNodeDependencies[functionName].add(calleeFunctionName);\n    this.functionCalls[functionName].push(args);\n  }\n\n  getKernelResultType() {\n    return this.rootNode.returnType || this.rootNode.getType(this.rootNode.ast);\n  }\n\n  getSubKernelResultType(index) {\n    const subKernelNode = this.subKernelNodes[index];\n    let called = false;\n    for (let functionCallIndex = 0; functionCallIndex < this.rootNode.functionCalls.length; functionCallIndex++) {\n      const functionCall = this.rootNode.functionCalls[functionCallIndex];\n      if (functionCall.ast.callee.name === subKernelNode.name) {\n        called = true;\n      }\n    }\n    if (!called) {\n      throw new Error(`SubKernel ${ subKernelNode.name } never called by kernel`);\n    }\n    return subKernelNode.returnType || subKernelNode.getType(subKernelNode.getJsAST());\n  }\n\n  getReturnTypes() {\n    const result = {\n      [this.rootNode.name]: this.rootNode.getType(this.rootNode.ast),\n    };\n    const list = this.traceFunctionCalls(this.rootNode.name);\n    for (let i = 0; i < list.length; i++) {\n      const functionName = list[i];\n      const functionNode = this.functionMap[functionName];\n      result[functionName] = functionNode.getType(functionNode.ast);\n    }\n    return result;\n  }\n}\n\nmodule.exports = {\n  FunctionBuilder\n};\n},{}],10:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { utils } = require('../utils');\nconst { FunctionTracer } = require('./function-tracer');\n\nclass FunctionNode {\n  constructor(source, settings) {\n    if (!source && !settings.ast) {\n      throw new Error('source parameter is missing');\n    }\n    settings = settings || {};\n    this.source = source;\n    this.ast = null;\n    this.name = typeof source === 'string' ? settings.isRootKernel ?\n      'kernel' :\n      (settings.name || utils.getFunctionNameFromString(source)) : null;\n    this.calledFunctions = [];\n    this.constants = {};\n    this.constantTypes = {};\n    this.constantBitRatios = {};\n    this.isRootKernel = false;\n    this.isSubKernel = false;\n    this.debug = null;\n    this.functions = null;\n    this.identifiers = null;\n    this.contexts = null;\n    this.functionCalls = null;\n    this.states = [];\n    this.needsArgumentType = null;\n    this.assignArgumentType = null;\n    this.lookupReturnType = null;\n    this.lookupFunctionArgumentTypes = null;\n    this.lookupFunctionArgumentBitRatio = null;\n    this.triggerImplyArgumentType = null;\n    this.triggerImplyArgumentBitRatio = null;\n    this.onNestedFunction = null;\n    this.onFunctionCall = null;\n    this.optimizeFloatMemory = null;\n    this.precision = null;\n    this.loopMaxIterations = null;\n    this.argumentNames = (typeof this.source === 'string' ? utils.getArgumentNamesFromString(this.source) : null);\n    this.argumentTypes = [];\n    this.argumentSizes = [];\n    this.argumentBitRatios = null;\n    this.returnType = null;\n    this.output = [];\n    this.plugins = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.dynamicOutput = null;\n    this.dynamicArguments = null;\n    this.strictTypingChecking = false;\n    this.fixIntegerDivisionAccuracy = null;\n\n    if (settings) {\n      for (const p in settings) {\n        if (!settings.hasOwnProperty(p)) continue;\n        if (!this.hasOwnProperty(p)) continue;\n        this[p] = settings[p];\n      }\n    }\n\n    this.literalTypes = {};\n\n    this.validate();\n    this._string = null;\n    this._internalVariableNames = {};\n  }\n\n  validate() {\n    if (typeof this.source !== 'string' && !this.ast) {\n      throw new Error('this.source not a string');\n    }\n\n    if (!this.ast && !utils.isFunctionString(this.source)) {\n      throw new Error('this.source not a function string');\n    }\n\n    if (!this.name) {\n      throw new Error('this.name could not be set');\n    }\n\n    if (this.argumentTypes.length > 0 && this.argumentTypes.length !== this.argumentNames.length) {\n      throw new Error(`argumentTypes count of ${ this.argumentTypes.length } exceeds ${ this.argumentNames.length }`);\n    }\n\n    if (this.output.length < 1) {\n      throw new Error('this.output is not big enough');\n    }\n  }\n\n  isIdentifierConstant(name) {\n    if (!this.constants) return false;\n    return this.constants.hasOwnProperty(name);\n  }\n\n  isInput(argumentName) {\n    return this.argumentTypes[this.argumentNames.indexOf(argumentName)] === 'Input';\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.state !== state) {\n      throw new Error(`Cannot popState ${ state } when in ${ this.state }`);\n    }\n    this.states.pop();\n  }\n\n  isState(state) {\n    return this.state === state;\n  }\n\n  get state() {\n    return this.states[this.states.length - 1];\n  }\n\n  astMemberExpressionUnroll(ast) {\n    if (ast.type === 'Identifier') {\n      return ast.name;\n    } else if (ast.type === 'ThisExpression') {\n      return 'this';\n    }\n\n    if (ast.type === 'MemberExpression') {\n      if (ast.object && ast.property) {\n        if (ast.object.hasOwnProperty('name') && ast.object.name !== 'Math') {\n          return this.astMemberExpressionUnroll(ast.property);\n        }\n\n        return (\n          this.astMemberExpressionUnroll(ast.object) +\n          '.' +\n          this.astMemberExpressionUnroll(ast.property)\n        );\n      }\n    }\n\n    if (ast.hasOwnProperty('expressions')) {\n      const firstExpression = ast.expressions[0];\n      if (firstExpression.type === 'Literal' && firstExpression.value === 0 && ast.expressions.length === 2) {\n        return this.astMemberExpressionUnroll(ast.expressions[1]);\n      }\n    }\n\n    throw this.astErrorOutput('Unknown astMemberExpressionUnroll', ast);\n  }\n\n  getJsAST(inParser) {\n    if (this.ast) {\n      return this.ast;\n    }\n    if (typeof this.source === 'object') {\n      this.traceFunctionAST(this.source);\n      return this.ast = this.source;\n    }\n\n    inParser = inParser || acorn;\n    if (inParser === null) {\n      throw new Error('Missing JS to AST parser');\n    }\n\n    const ast = Object.freeze(inParser.parse(`const parser_${ this.name } = ${ this.source };`, {\n      locations: true\n    }));\n    const functionAST = ast.body[0].declarations[0].init;\n    this.traceFunctionAST(functionAST);\n\n    if (!ast) {\n      throw new Error('Failed to parse JS code');\n    }\n\n    return this.ast = functionAST;\n  }\n\n  traceFunctionAST(ast) {\n    const { contexts, declarations, functions, identifiers, functionCalls } = new FunctionTracer(ast);\n    this.contexts = contexts;\n    this.identifiers = identifiers;\n    this.functionCalls = functionCalls;\n    this.functions = functions;\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const { ast, inForLoopInit, inForLoopTest } = declaration;\n      const { init } = ast;\n      const dependencies = this.getDependencies(init);\n      let valueType = null;\n\n      if (inForLoopInit && inForLoopTest) {\n        valueType = 'Integer';\n      } else {\n        if (init) {\n          const realType = this.getType(init);\n          switch (realType) {\n            case 'Integer':\n            case 'Float':\n            case 'Number':\n              if (init.type === 'MemberExpression') {\n                valueType = realType;\n              } else {\n                valueType = 'Number';\n              }\n              break;\n            case 'LiteralInteger':\n              valueType = 'Number';\n              break;\n            default:\n              valueType = realType;\n          }\n        }\n      }\n      declaration.valueType = valueType;\n      declaration.dependencies = dependencies;\n      declaration.isSafe = this.isSafeDependencies(dependencies);\n    }\n\n    for (let i = 0; i < functions.length; i++) {\n      this.onNestedFunction(functions[i], this.source);\n    }\n  }\n\n  getDeclaration(ast) {\n    for (let i = 0; i < this.identifiers.length; i++) {\n      const identifier = this.identifiers[i];\n      if (ast === identifier.ast) {\n        return identifier.declaration;\n      }\n    }\n    return null;\n  }\n\n  getVariableType(ast) {\n    if (ast.type !== 'Identifier') {\n      throw new Error(`ast of ${ast.type} not \"Identifier\"`);\n    }\n    let type = null;\n    const argumentIndex = this.argumentNames.indexOf(ast.name);\n    if (argumentIndex === -1) {\n      const declaration = this.getDeclaration(ast);\n      if (declaration) {\n        return declaration.valueType;\n      }\n    } else {\n      const argumentType = this.argumentTypes[argumentIndex];\n      if (argumentType) {\n        type = argumentType;\n      }\n    }\n    if (!type && this.strictTypingChecking) {\n      throw new Error(`Declaration of ${name} not found`);\n    }\n    return type;\n  }\n\n  getLookupType(type) {\n    if (!typeLookupMap.hasOwnProperty(type)) {\n      throw new Error(`unknown typeLookupMap ${ type }`);\n    }\n    return typeLookupMap[type];\n  }\n\n  getConstantType(constantName) {\n    if (this.constantTypes[constantName]) {\n      const type = this.constantTypes[constantName];\n      if (type === 'Float') {\n        return 'Number';\n      } else {\n        return type;\n      }\n    }\n    throw new Error(`Type for constant \"${ constantName }\" not declared`);\n  }\n\n  toString() {\n    if (this._string) return this._string;\n    return this._string = this.astGeneric(this.getJsAST(), []).join('').trim();\n  }\n\n  toJSON() {\n    const settings = {\n      source: this.source,\n      name: this.name,\n      constants: this.constants,\n      constantTypes: this.constantTypes,\n      isRootKernel: this.isRootKernel,\n      isSubKernel: this.isSubKernel,\n      debug: this.debug,\n      output: this.output,\n      loopMaxIterations: this.loopMaxIterations,\n      argumentNames: this.argumentNames,\n      argumentTypes: this.argumentTypes,\n      argumentSizes: this.argumentSizes,\n      returnType: this.returnType,\n      leadingReturnStatement: this.leadingReturnStatement,\n      followingReturnStatement: this.followingReturnStatement,\n    };\n\n    return {\n      ast: this.ast,\n      settings\n    };\n  }\n\n  getType(ast) {\n    if (Array.isArray(ast)) {\n      return this.getType(ast[ast.length - 1]);\n    }\n    switch (ast.type) {\n      case 'BlockStatement':\n        return this.getType(ast.body);\n      case 'ArrayExpression':\n        const childType = this.getType(ast.elements[0]);\n        switch (childType) {\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            return `Matrix(${ast.elements.length})`;\n        }\n        return `Array(${ ast.elements.length })`;\n      case 'Literal':\n        const literalKey = this.astKey(ast);\n        if (this.literalTypes[literalKey]) {\n          return this.literalTypes[literalKey];\n        }\n        if (Number.isInteger(ast.value)) {\n          return 'LiteralInteger';\n        } else if (ast.value === true || ast.value === false) {\n          return 'Boolean';\n        } else {\n          return 'Number';\n        }\n        case 'AssignmentExpression':\n          return this.getType(ast.left);\n        case 'CallExpression':\n          if (this.isAstMathFunction(ast)) {\n            return 'Number';\n          }\n          if (!ast.callee || !ast.callee.name) {\n            if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[ast.callee.expressions.length - 1].property.name) {\n              const functionName = ast.callee.expressions[ast.callee.expressions.length - 1].property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            if (this.getVariableSignature(ast.callee, true) === 'this.color') {\n              return null;\n            }\n            if (ast.callee.type === 'MemberExpression' && ast.callee.object && ast.callee.property && ast.callee.property.name && ast.arguments) {\n              const functionName = ast.callee.property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            throw this.astErrorOutput('Unknown call expression', ast);\n          }\n          if (ast.callee && ast.callee.name) {\n            const functionName = ast.callee.name;\n            this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n            return this.lookupReturnType(functionName, ast, this);\n          }\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n        case 'LogicalExpression':\n          return 'Boolean';\n        case 'BinaryExpression':\n          switch (ast.operator) {\n            case '%':\n            case '/':\n              if (this.fixIntegerDivisionAccuracy) {\n                return 'Number';\n              } else {\n                break;\n              }\n              case '>':\n              case '<':\n                return 'Boolean';\n              case '&':\n              case '|':\n              case '^':\n              case '<<':\n              case '>>':\n              case '>>>':\n                return 'Integer';\n          }\n          const type = this.getType(ast.left);\n          if (this.isState('skip-literal-correction')) return type;\n          if (type === 'LiteralInteger') {\n            const rightType = this.getType(ast.right);\n            if (rightType === 'LiteralInteger') {\n              if (ast.left.value % 1 === 0) {\n                return 'Integer';\n              } else {\n                return 'Float';\n              }\n            }\n            return rightType;\n          }\n          return typeLookupMap[type] || type;\n        case 'UpdateExpression':\n          return this.getType(ast.argument);\n        case 'UnaryExpression':\n          if (ast.operator === '~') {\n            return 'Integer';\n          }\n          return this.getType(ast.argument);\n        case 'VariableDeclaration': {\n          const declarations = ast.declarations;\n          let lastType;\n          for (let i = 0; i < declarations.length; i++) {\n            const declaration = declarations[i];\n            lastType = this.getType(declaration);\n          }\n          if (!lastType) {\n            throw this.astErrorOutput(`Unable to find type for declaration`, ast);\n          }\n          return lastType;\n        }\n        case 'VariableDeclarator':\n          const declaration = this.getDeclaration(ast.id);\n          if (!declaration) {\n            throw this.astErrorOutput(`Unable to find declarator`, ast);\n          }\n\n          if (!declaration.valueType) {\n            throw this.astErrorOutput(`Unable to find declarator valueType`, ast);\n          }\n\n          return declaration.valueType;\n        case 'Identifier':\n          if (ast.name === 'Infinity') {\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const signature = this.getVariableSignature(ast);\n            if (signature === 'value') {\n              return this.getCheckVariableType(ast);\n            }\n          }\n          const origin = this.findIdentifierOrigin(ast);\n          if (origin && origin.init) {\n            return this.getType(origin.init);\n          }\n          return null;\n        case 'ReturnStatement':\n          return this.getType(ast.argument);\n        case 'MemberExpression':\n          if (this.isAstMathFunction(ast)) {\n            switch (ast.property.name) {\n              case 'ceil':\n                return 'Integer';\n              case 'floor':\n                return 'Integer';\n              case 'round':\n                return 'Integer';\n            }\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const variableSignature = this.getVariableSignature(ast);\n            switch (variableSignature) {\n              case 'value[]':\n                return this.getLookupType(this.getCheckVariableType(ast.object));\n              case 'value[][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object));\n              case 'value[][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object));\n              case 'value[][][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object.object));\n              case 'value.thread.value':\n              case 'this.thread.value':\n                return 'Integer';\n              case 'this.output.value':\n                return this.dynamicOutput ? 'Integer' : 'LiteralInteger';\n              case 'this.constants.value':\n                return this.getConstantType(ast.property.name);\n              case 'this.constants.value[]':\n                return this.getLookupType(this.getConstantType(ast.object.property.name));\n              case 'this.constants.value[][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.property.name));\n              case 'this.constants.value[][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.property.name));\n              case 'this.constants.value[][][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.object.property.name));\n              case 'fn()[]':\n              case 'fn()[][]':\n              case 'fn()[][][]':\n                return this.getLookupType(this.getType(ast.object));\n              case 'value.value':\n                if (this.isAstMathVariable(ast)) {\n                  return 'Number';\n                }\n                switch (ast.property.name) {\n                  case 'r':\n                  case 'g':\n                  case 'b':\n                  case 'a':\n                    return this.getLookupType(this.getCheckVariableType(ast.object));\n                }\n                case '[][]':\n                  return 'Number';\n            }\n            throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n          }\n          throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n        case 'ConditionalExpression':\n          return this.getType(ast.consequent);\n        case 'FunctionDeclaration':\n        case 'FunctionExpression':\n          const lastReturn = this.findLastReturn(ast.body);\n          if (lastReturn) {\n            return this.getType(lastReturn);\n          }\n          return null;\n        case 'IfStatement':\n          return this.getType(ast.consequent);\n        case 'SequenceExpression':\n          return this.getType(ast.expressions[ast.expressions.length - 1]);\n        default:\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n    }\n  }\n\n  getCheckVariableType(ast) {\n    const type = this.getVariableType(ast);\n    if (!type) {\n      throw this.astErrorOutput(`${ast.type} is not defined`, ast);\n    }\n    return type;\n  }\n\n  inferArgumentTypesIfNeeded(functionName, args) {\n    for (let i = 0; i < args.length; i++) {\n      if (!this.needsArgumentType(functionName, i)) continue;\n      const type = this.getType(args[i]);\n      if (!type) {\n        throw this.astErrorOutput(`Unable to infer argument ${i}`, args[i]);\n      }\n      this.assignArgumentType(functionName, i, type);\n    }\n  }\n\n  isAstMathVariable(ast) {\n    const mathProperties = [\n      'E',\n      'PI',\n      'SQRT2',\n      'SQRT1_2',\n      'LN2',\n      'LN10',\n      'LOG2E',\n      'LOG10E',\n    ];\n    return ast.type === 'MemberExpression' &&\n      ast.object && ast.object.type === 'Identifier' &&\n      ast.object.name === 'Math' &&\n      ast.property &&\n      ast.property.type === 'Identifier' &&\n      mathProperties.indexOf(ast.property.name) > -1;\n  }\n\n  isAstMathFunction(ast) {\n    const mathFunctions = [\n      'abs',\n      'acos',\n      'acosh',\n      'asin',\n      'asinh',\n      'atan',\n      'atan2',\n      'atanh',\n      'cbrt',\n      'ceil',\n      'clz32',\n      'cos',\n      'cosh',\n      'expm1',\n      'exp',\n      'floor',\n      'fround',\n      'imul',\n      'log',\n      'log2',\n      'log10',\n      'log1p',\n      'max',\n      'min',\n      'pow',\n      'random',\n      'round',\n      'sign',\n      'sin',\n      'sinh',\n      'sqrt',\n      'tan',\n      'tanh',\n      'trunc',\n    ];\n    return ast.type === 'CallExpression' &&\n      ast.callee &&\n      ast.callee.type === 'MemberExpression' &&\n      ast.callee.object &&\n      ast.callee.object.type === 'Identifier' &&\n      ast.callee.object.name === 'Math' &&\n      ast.callee.property &&\n      ast.callee.property.type === 'Identifier' &&\n      mathFunctions.indexOf(ast.callee.property.name) > -1;\n  }\n\n  isAstVariable(ast) {\n    return ast.type === 'Identifier' || ast.type === 'MemberExpression';\n  }\n\n  isSafe(ast) {\n    return this.isSafeDependencies(this.getDependencies(ast));\n  }\n\n  isSafeDependencies(dependencies) {\n    return dependencies && dependencies.every ? dependencies.every(dependency => dependency.isSafe) : true;\n  }\n\n  getDependencies(ast, dependencies, isNotSafe) {\n    if (!dependencies) {\n      dependencies = [];\n    }\n    if (!ast) return null;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.getDependencies(ast[i], dependencies, isNotSafe);\n      }\n      return dependencies;\n    }\n    switch (ast.type) {\n      case 'AssignmentExpression':\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'ConditionalExpression':\n        this.getDependencies(ast.test, dependencies, isNotSafe);\n        this.getDependencies(ast.alternate, dependencies, isNotSafe);\n        this.getDependencies(ast.consequent, dependencies, isNotSafe);\n        return dependencies;\n      case 'Literal':\n        dependencies.push({\n          origin: 'literal',\n          value: ast.value,\n          isSafe: isNotSafe === true ? false : ast.value > -Infinity && ast.value < Infinity && !isNaN(ast.value)\n        });\n        break;\n      case 'VariableDeclarator':\n        return this.getDependencies(ast.init, dependencies, isNotSafe);\n      case 'Identifier':\n        const declaration = this.getDeclaration(ast);\n        if (declaration) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'declaration',\n            isSafe: isNotSafe ? false : this.isSafeDependencies(declaration.dependencies),\n          });\n        } else if (this.argumentNames.indexOf(ast.name) > -1) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'argument',\n            isSafe: false,\n          });\n        } else if (this.strictTypingChecking) {\n          throw new Error(`Cannot find identifier origin \"${ast.name}\"`);\n        }\n        break;\n      case 'FunctionDeclaration':\n        return this.getDependencies(ast.body.body[ast.body.body.length - 1], dependencies, isNotSafe);\n      case 'ReturnStatement':\n        return this.getDependencies(ast.argument, dependencies);\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        isNotSafe = (ast.operator === '/' || ast.operator === '*');\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'UnaryExpression':\n      case 'UpdateExpression':\n        return this.getDependencies(ast.argument, dependencies, isNotSafe);\n      case 'VariableDeclaration':\n        return this.getDependencies(ast.declarations, dependencies, isNotSafe);\n      case 'ArrayExpression':\n        dependencies.push({\n          origin: 'declaration',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'CallExpression':\n        dependencies.push({\n          origin: 'function',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'MemberExpression':\n        const details = this.getMemberExpressionDetails(ast);\n        switch (details.signature) {\n          case 'value[]':\n            this.getDependencies(ast.object, dependencies, isNotSafe);\n            break;\n          case 'value[][]':\n            this.getDependencies(ast.object.object, dependencies, isNotSafe);\n            break;\n          case 'value[][][]':\n            this.getDependencies(ast.object.object.object, dependencies, isNotSafe);\n            break;\n          case 'this.output.value':\n            if (this.dynamicOutput) {\n              dependencies.push({\n                name: details.name,\n                origin: 'output',\n                isSafe: false,\n              });\n            }\n            break;\n        }\n        if (details) {\n          if (details.property) {\n            this.getDependencies(details.property, dependencies, isNotSafe);\n          }\n          if (details.xProperty) {\n            this.getDependencies(details.xProperty, dependencies, isNotSafe);\n          }\n          if (details.yProperty) {\n            this.getDependencies(details.yProperty, dependencies, isNotSafe);\n          }\n          if (details.zProperty) {\n            this.getDependencies(details.zProperty, dependencies, isNotSafe);\n          }\n          return dependencies;\n        }\n        case 'SequenceExpression':\n          return this.getDependencies(ast.expressions, dependencies, isNotSafe);\n        default:\n          throw this.astErrorOutput(`Unhandled type ${ ast.type } in getDependencies`, ast);\n    }\n    return dependencies;\n  }\n\n  getVariableSignature(ast, returnRawValue) {\n    if (!this.isAstVariable(ast)) {\n      throw new Error(`ast of type \"${ ast.type }\" is not a variable signature`);\n    }\n    if (ast.type === 'Identifier') {\n      return 'value';\n    }\n    const signature = [];\n    while (true) {\n      if (!ast) break;\n      if (ast.computed) {\n        signature.push('[]');\n      } else if (ast.type === 'ThisExpression') {\n        signature.unshift('this');\n      } else if (ast.property && ast.property.name) {\n        if (\n          ast.property.name === 'x' ||\n          ast.property.name === 'y' ||\n          ast.property.name === 'z'\n        ) {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        } else if (\n          ast.property.name === 'constants' ||\n          ast.property.name === 'thread' ||\n          ast.property.name === 'output'\n        ) {\n          signature.unshift('.' + ast.property.name);\n        } else {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        }\n      } else if (ast.name) {\n        signature.unshift(returnRawValue ? ast.name : 'value');\n      } else if (ast.callee && ast.callee.name) {\n        signature.unshift(returnRawValue ? ast.callee.name + '()' : 'fn()');\n      } else if (ast.elements) {\n        signature.unshift('[]');\n      } else {\n        signature.unshift('unknown');\n      }\n      ast = ast.object;\n    }\n\n    const signatureString = signature.join('');\n    if (returnRawValue) {\n      return signatureString;\n    }\n\n    const allowedExpressions = [\n      'value',\n      'value[]',\n      'value[][]',\n      'value[][][]',\n      'value[][][][]',\n      'value.value',\n      'value.thread.value',\n      'this.thread.value',\n      'this.output.value',\n      'this.constants.value',\n      'this.constants.value[]',\n      'this.constants.value[][]',\n      'this.constants.value[][][]',\n      'this.constants.value[][][][]',\n      'fn()[]',\n      'fn()[][]',\n      'fn()[][][]',\n      '[][]',\n    ];\n    if (allowedExpressions.indexOf(signatureString) > -1) {\n      return signatureString;\n    }\n    return null;\n  }\n\n  build() {\n    return this.toString().length > 0;\n  }\n\n  astGeneric(ast, retArr) {\n    if (ast === null) {\n      throw this.astErrorOutput('NULL ast', ast);\n    } else {\n      if (Array.isArray(ast)) {\n        for (let i = 0; i < ast.length; i++) {\n          this.astGeneric(ast[i], retArr);\n        }\n        return retArr;\n      }\n\n      switch (ast.type) {\n        case 'FunctionDeclaration':\n          return this.astFunctionDeclaration(ast, retArr);\n        case 'FunctionExpression':\n          return this.astFunctionExpression(ast, retArr);\n        case 'ReturnStatement':\n          return this.astReturnStatement(ast, retArr);\n        case 'Literal':\n          return this.astLiteral(ast, retArr);\n        case 'BinaryExpression':\n          return this.astBinaryExpression(ast, retArr);\n        case 'Identifier':\n          return this.astIdentifierExpression(ast, retArr);\n        case 'AssignmentExpression':\n          return this.astAssignmentExpression(ast, retArr);\n        case 'ExpressionStatement':\n          return this.astExpressionStatement(ast, retArr);\n        case 'EmptyStatement':\n          return this.astEmptyStatement(ast, retArr);\n        case 'BlockStatement':\n          return this.astBlockStatement(ast, retArr);\n        case 'IfStatement':\n          return this.astIfStatement(ast, retArr);\n        case 'SwitchStatement':\n          return this.astSwitchStatement(ast, retArr);\n        case 'BreakStatement':\n          return this.astBreakStatement(ast, retArr);\n        case 'ContinueStatement':\n          return this.astContinueStatement(ast, retArr);\n        case 'ForStatement':\n          return this.astForStatement(ast, retArr);\n        case 'WhileStatement':\n          return this.astWhileStatement(ast, retArr);\n        case 'DoWhileStatement':\n          return this.astDoWhileStatement(ast, retArr);\n        case 'VariableDeclaration':\n          return this.astVariableDeclaration(ast, retArr);\n        case 'VariableDeclarator':\n          return this.astVariableDeclarator(ast, retArr);\n        case 'ThisExpression':\n          return this.astThisExpression(ast, retArr);\n        case 'SequenceExpression':\n          return this.astSequenceExpression(ast, retArr);\n        case 'UnaryExpression':\n          return this.astUnaryExpression(ast, retArr);\n        case 'UpdateExpression':\n          return this.astUpdateExpression(ast, retArr);\n        case 'LogicalExpression':\n          return this.astLogicalExpression(ast, retArr);\n        case 'MemberExpression':\n          return this.astMemberExpression(ast, retArr);\n        case 'CallExpression':\n          return this.astCallExpression(ast, retArr);\n        case 'ArrayExpression':\n          return this.astArrayExpression(ast, retArr);\n        case 'DebuggerStatement':\n          return this.astDebuggerStatement(ast, retArr);\n        case 'ConditionalExpression':\n          return this.astConditionalExpression(ast, retArr);\n      }\n\n      throw this.astErrorOutput('Unknown ast type : ' + ast.type, ast);\n    }\n  }\n  astErrorOutput(error, ast) {\n    if (typeof this.source !== 'string') {\n      return new Error(error);\n    }\n\n    const debugString = utils.getAstString(this.source, ast);\n    const leadingSource = this.source.substr(ast.start);\n    const splitLines = leadingSource.split(/\\n/);\n    const lineBefore = splitLines.length > 0 ? splitLines[splitLines.length - 1] : 0;\n    return new Error(`${error} on line ${ splitLines.length }, position ${ lineBefore.length }:\\n ${ debugString }`);\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    return retArr;\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    throw new Error(`\"astFunction\" not defined on ${ this.constructor.name }`);\n  }\n\n  astFunctionDeclaration(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  astFunctionExpression(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  isChildFunction(ast) {\n    for (let i = 0; i < this.functions.length; i++) {\n      if (this.functions[i] === ast) {\n        return true;\n      }\n    }\n    return false;\n  }\n  astReturnStatement(ast, retArr) {\n    return retArr;\n  }\n  astLiteral(ast, retArr) {\n    this.literalTypes[this.astKey(ast)] = 'Number';\n    return retArr;\n  }\n  astBinaryExpression(ast, retArr) {\n    return retArr;\n  }\n  astIdentifierExpression(ast, retArr) {\n    return retArr;\n  }\n  astAssignmentExpression(ast, retArr) {\n    return retArr;\n  }\n  astExpressionStatement(esNode, retArr) {\n    this.astGeneric(esNode.expression, retArr);\n    retArr.push(';');\n    return retArr;\n  }\n  astEmptyStatement(eNode, retArr) {\n    return retArr;\n  }\n  astBlockStatement(ast, retArr) {\n    return retArr;\n  }\n  astIfStatement(ast, retArr) {\n    return retArr;\n  }\n  astSwitchStatement(ast, retArr) {\n    return retArr;\n  }\n  astBreakStatement(brNode, retArr) {\n    retArr.push('break;');\n    return retArr;\n  }\n  astContinueStatement(crNode, retArr) {\n    retArr.push('continue;\\n');\n    return retArr;\n  }\n  astForStatement(ast, retArr) {\n    return retArr;\n  }\n  astWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astDoWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astVariableDeclarator(iVarDecNode, retArr) {\n    this.astGeneric(iVarDecNode.id, retArr);\n    if (iVarDecNode.init !== null) {\n      retArr.push('=');\n      this.astGeneric(iVarDecNode.init, retArr);\n    }\n    return retArr;\n  }\n  astThisExpression(ast, retArr) {\n    return retArr;\n  }\n  astSequenceExpression(sNode, retArr) {\n    const { expressions } = sNode;\n    const sequenceResult = [];\n    for (let i = 0; i < expressions.length; i++) {\n      const expression = expressions[i];\n      const expressionResult = [];\n      this.astGeneric(expression, expressionResult);\n      sequenceResult.push(expressionResult.join(''));\n    }\n    if (sequenceResult.length > 1) {\n      retArr.push('(', sequenceResult.join(','), ')');\n    } else {\n      retArr.push(sequenceResult[0]);\n    }\n    return retArr;\n  }\n  astUnaryExpression(uNode, retArr) {\n    const unaryResult = this.checkAndUpconvertBitwiseUnary(uNode, retArr);\n    if (unaryResult) {\n      return retArr;\n    }\n\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(uNode, retArr) {}\n\n  astUpdateExpression(uNode, retArr) {\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n  astLogicalExpression(logNode, retArr) {\n    retArr.push('(');\n    this.astGeneric(logNode.left, retArr);\n    retArr.push(logNode.operator);\n    this.astGeneric(logNode.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n  astMemberExpression(ast, retArr) {\n    return retArr;\n  }\n  astCallExpression(ast, retArr) {\n    return retArr;\n  }\n  astArrayExpression(ast, retArr) {\n    return retArr;\n  }\n\n  getMemberExpressionDetails(ast) {\n    if (ast.type !== 'MemberExpression') {\n      throw this.astErrorOutput(`Expression ${ ast.type } not a MemberExpression`, ast);\n    }\n    let name = null;\n    let type = null;\n    const variableSignature = this.getVariableSignature(ast);\n    switch (variableSignature) {\n      case 'value':\n        return null;\n      case 'value.thread.value':\n      case 'this.thread.value':\n      case 'this.output.value':\n        return {\n          signature: variableSignature,\n            type: 'Integer',\n            name: ast.property.name\n        };\n      case 'value[]':\n        if (typeof ast.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object),\n            xProperty: ast.property\n        };\n      case 'value[][]':\n        if (typeof ast.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object),\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][]':\n        if (typeof ast.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][][]':\n        if (typeof ast.object.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value.value':\n        if (typeof ast.property.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        if (this.isAstMathVariable(ast)) {\n          name = ast.property.name;\n          return {\n            name,\n            origin: 'Math',\n            type: 'Number',\n            signature: variableSignature,\n          };\n        }\n        switch (ast.property.name) {\n          case 'r':\n          case 'g':\n          case 'b':\n          case 'a':\n            name = ast.object.name;\n            return {\n              name,\n              property: ast.property.name,\n                origin: 'user',\n                signature: variableSignature,\n                type: 'Number'\n            };\n          default:\n            throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        case 'this.constants.value':\n          if (typeof ast.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n          };\n        case 'this.constants.value[]':\n          if (typeof ast.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n              xProperty: ast.property,\n          };\n        case 'this.constants.value[][]': {\n          if (typeof ast.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'this.constants.value[][][]': {\n          if (typeof ast.object.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'fn()[]':\n        case 'fn()[][]':\n        case '[][]':\n          return {\n            signature: variableSignature,\n              property: ast.property,\n          };\n        default:\n          throw this.astErrorOutput('Unexpected expression', ast);\n    }\n  }\n\n  findIdentifierOrigin(astToFind) {\n    const stack = [this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack[0];\n      if (atNode.type === 'VariableDeclarator' && atNode.id && atNode.id.name && atNode.id.name === astToFind.name) {\n        return atNode;\n      }\n      stack.shift();\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      }\n    }\n    return null;\n  }\n\n  findLastReturn(ast) {\n    const stack = [ast || this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack.pop();\n      if (atNode.type === 'ReturnStatement') {\n        return atNode;\n      }\n      if (atNode.type === 'FunctionDeclaration') {\n        continue;\n      }\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      } else if (atNode.consequent) {\n        stack.push(atNode.consequent);\n      } else if (atNode.cases) {\n        stack.push(atNode.cases);\n      }\n    }\n    return null;\n  }\n\n  getInternalVariableName(name) {\n    if (!this._internalVariableNames.hasOwnProperty(name)) {\n      this._internalVariableNames[name] = 0;\n    }\n    this._internalVariableNames[name]++;\n    if (this._internalVariableNames[name] === 1) {\n      return name;\n    }\n    return name + this._internalVariableNames[name];\n  }\n\n  astKey(ast, separator = ',') {\n    if (!ast.start || !ast.end) throw new Error('AST start and end needed');\n    return `${ast.start}${separator}${ast.end}`;\n  }\n}\n\nconst typeLookupMap = {\n  'Number': 'Number',\n  'Float': 'Float',\n  'Integer': 'Integer',\n  'Array': 'Number',\n  'Array(2)': 'Number',\n  'Array(3)': 'Number',\n  'Array(4)': 'Number',\n  'Matrix(2)': 'Number',\n  'Matrix(3)': 'Number',\n  'Matrix(4)': 'Number',\n  'Array2D': 'Number',\n  'Array3D': 'Number',\n  'Input': 'Number',\n  'HTMLCanvas': 'Array(4)',\n  'OffscreenCanvas': 'Array(4)',\n  'HTMLImage': 'Array(4)',\n  'ImageBitmap': 'Array(4)',\n  'ImageData': 'Array(4)',\n  'HTMLVideo': 'Array(4)',\n  'HTMLImageArray': 'Array(4)',\n  'NumberTexture': 'Number',\n  'MemoryOptimizedNumberTexture': 'Number',\n  'Array1D(2)': 'Array(2)',\n  'Array1D(3)': 'Array(3)',\n  'Array1D(4)': 'Array(4)',\n  'Array2D(2)': 'Array(2)',\n  'Array2D(3)': 'Array(3)',\n  'Array2D(4)': 'Array(4)',\n  'Array3D(2)': 'Array(2)',\n  'Array3D(3)': 'Array(3)',\n  'Array3D(4)': 'Array(4)',\n  'ArrayTexture(1)': 'Number',\n  'ArrayTexture(2)': 'Array(2)',\n  'ArrayTexture(3)': 'Array(3)',\n  'ArrayTexture(4)': 'Array(4)',\n};\n\nmodule.exports = {\n  FunctionNode\n};\n},{\"../utils\":114,\"./function-tracer\":11,\"acorn\":1}],11:[function(require,module,exports){\nconst { utils } = require('../utils');\n\nfunction last(array) {\n  return array.length > 0 ? array[array.length - 1] : null;\n}\n\nconst states = {\n  trackIdentifiers: 'trackIdentifiers',\n  memberExpression: 'memberExpression',\n  inForLoopInit: 'inForLoopInit'\n};\n\nclass FunctionTracer {\n  constructor(ast) {\n    this.runningContexts = [];\n    this.functionContexts = [];\n    this.contexts = [];\n    this.functionCalls = [];\n    this.declarations = [];\n    this.identifiers = [];\n    this.functions = [];\n    this.returnStatements = [];\n    this.trackedIdentifiers = null;\n    this.states = [];\n    this.newFunctionContext();\n    this.scan(ast);\n  }\n\n  isState(state) {\n    return this.states[this.states.length - 1] === state;\n  }\n\n  hasState(state) {\n    return this.states.indexOf(state) > -1;\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.isState(state)) {\n      this.states.pop();\n    } else {\n      throw new Error(`Cannot pop the non-active state \"${state}\"`);\n    }\n  }\n\n  get currentFunctionContext() {\n    return last(this.functionContexts);\n  }\n\n  get currentContext() {\n    return last(this.runningContexts);\n  }\n\n  newFunctionContext() {\n    const newContext = { '@contextType': 'function' };\n    this.contexts.push(newContext);\n    this.functionContexts.push(newContext);\n  }\n\n  newContext(run) {\n    const newContext = Object.assign({ '@contextType': 'const/let' }, this.currentContext);\n    this.contexts.push(newContext);\n    this.runningContexts.push(newContext);\n    run();\n    const { currentFunctionContext } = this;\n    for (const p in currentFunctionContext) {\n      if (!currentFunctionContext.hasOwnProperty(p) || newContext.hasOwnProperty(p)) continue;\n      newContext[p] = currentFunctionContext[p];\n    }\n    this.runningContexts.pop();\n    return newContext;\n  }\n\n  useFunctionContext(run) {\n    const functionContext = last(this.functionContexts);\n    this.runningContexts.push(functionContext);\n    run();\n    this.runningContexts.pop();\n  }\n\n  getIdentifiers(run) {\n    const trackedIdentifiers = this.trackedIdentifiers = [];\n    this.pushState(states.trackIdentifiers);\n    run();\n    this.trackedIdentifiers = null;\n    this.popState(states.trackIdentifiers);\n    return trackedIdentifiers;\n  }\n\n  getDeclaration(name) {\n    const { currentContext, currentFunctionContext, runningContexts } = this;\n    const declaration = currentContext[name] || currentFunctionContext[name] || null;\n\n    if (\n      !declaration &&\n      currentContext === currentFunctionContext &&\n      runningContexts.length > 0\n    ) {\n      const previousRunningContext = runningContexts[runningContexts.length - 2];\n      if (previousRunningContext[name]) {\n        return previousRunningContext[name];\n      }\n    }\n\n    return declaration;\n  }\n\n  scan(ast) {\n    if (!ast) return;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.scan(ast[i]);\n      }\n      return;\n    }\n    switch (ast.type) {\n      case 'Program':\n        this.useFunctionContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'BlockStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'AssignmentExpression':\n      case 'LogicalExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'BinaryExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'UpdateExpression':\n        if (ast.operator === '++') {\n          const declaration = this.getDeclaration(ast.argument.name);\n          if (declaration) {\n            declaration.suggestedType = 'Integer';\n          }\n        }\n        this.scan(ast.argument);\n        break;\n      case 'UnaryExpression':\n        this.scan(ast.argument);\n        break;\n      case 'VariableDeclaration':\n        if (ast.kind === 'var') {\n          this.useFunctionContext(() => {\n            ast.declarations = utils.normalizeDeclarations(ast);\n            this.scan(ast.declarations);\n          });\n        } else {\n          ast.declarations = utils.normalizeDeclarations(ast);\n          this.scan(ast.declarations);\n        }\n        break;\n      case 'VariableDeclarator': {\n        const { currentContext } = this;\n        const inForLoopInit = this.hasState(states.inForLoopInit);\n        const declaration = {\n          ast: ast,\n          context: currentContext,\n          name: ast.id.name,\n          origin: 'declaration',\n          inForLoopInit,\n          inForLoopTest: null,\n          assignable: currentContext === this.currentFunctionContext || (!inForLoopInit && !currentContext.hasOwnProperty(ast.id.name)),\n          suggestedType: null,\n          valueType: null,\n          dependencies: null,\n          isSafe: null,\n        };\n        if (!currentContext[ast.id.name]) {\n          currentContext[ast.id.name] = declaration;\n        }\n        this.declarations.push(declaration);\n        this.scan(ast.id);\n        this.scan(ast.init);\n        break;\n      }\n      case 'FunctionExpression':\n      case 'FunctionDeclaration':\n        if (this.runningContexts.length === 0) {\n          this.scan(ast.body);\n        } else {\n          this.functions.push(ast);\n        }\n        break;\n      case 'IfStatement':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        if (ast.alternate) this.scan(ast.alternate);\n        break;\n      case 'ForStatement': {\n        let testIdentifiers;\n        const context = this.newContext(() => {\n          this.pushState(states.inForLoopInit);\n          this.scan(ast.init);\n          this.popState(states.inForLoopInit);\n\n          testIdentifiers = this.getIdentifiers(() => {\n            this.scan(ast.test);\n          });\n\n          this.scan(ast.update);\n          this.newContext(() => {\n            this.scan(ast.body);\n          });\n        });\n\n        if (testIdentifiers) {\n          for (const p in context) {\n            if (p === '@contextType') continue;\n            if (testIdentifiers.indexOf(p) > -1) {\n              context[p].inForLoopTest = true;\n            }\n          }\n        }\n        break;\n      }\n      case 'DoWhileStatement':\n      case 'WhileStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n          this.scan(ast.test);\n        });\n        break;\n      case 'Identifier': {\n        if (this.isState(states.trackIdentifiers)) {\n          this.trackedIdentifiers.push(ast.name);\n        }\n        this.identifiers.push({\n          context: this.currentContext,\n          declaration: this.getDeclaration(ast.name),\n          ast,\n        });\n        break;\n      }\n      case 'ReturnStatement':\n        this.returnStatements.push(ast);\n        this.scan(ast.argument);\n        break;\n      case 'MemberExpression':\n        this.pushState(states.memberExpression);\n        this.scan(ast.object);\n        this.scan(ast.property);\n        this.popState(states.memberExpression);\n        break;\n      case 'ExpressionStatement':\n        this.scan(ast.expression);\n        break;\n      case 'SequenceExpression':\n        this.scan(ast.expressions);\n        break;\n      case 'CallExpression':\n        this.functionCalls.push({\n          context: this.currentContext,\n          ast,\n        });\n        this.scan(ast.arguments);\n        break;\n      case 'ArrayExpression':\n        this.scan(ast.elements);\n        break;\n      case 'ConditionalExpression':\n        this.scan(ast.test);\n        this.scan(ast.alternate);\n        this.scan(ast.consequent);\n        break;\n      case 'SwitchStatement':\n        this.scan(ast.discriminant);\n        this.scan(ast.cases);\n        break;\n      case 'SwitchCase':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        break;\n\n      case 'ThisExpression':\n      case 'Literal':\n      case 'DebuggerStatement':\n      case 'EmptyStatement':\n      case 'BreakStatement':\n      case 'ContinueStatement':\n        break;\n      default:\n        throw new Error(`unhandled type \"${ast.type}\"`);\n    }\n  }\n}\n\nmodule.exports = {\n  FunctionTracer,\n};\n},{\"../utils\":114}],12:[function(require,module,exports){\nconst { glWiretap } = require('gl-wiretap');\nconst { utils } = require('../../utils');\n\nfunction toStringWithoutUtils(fn) {\n  return fn.toString()\n    .replace('=>', '')\n    .replace(/^function /, '')\n    .replace(/utils[.]/g, '/*utils.*/');\n}\n\nfunction glKernelString(Kernel, args, originKernel, setupContextString, destroyContextString) {\n  if (!originKernel.built) {\n    originKernel.build.apply(originKernel, args);\n  }\n  args = args ? Array.from(args).map(arg => {\n    switch (typeof arg) {\n      case 'boolean':\n        return new Boolean(arg);\n      case 'number':\n        return new Number(arg);\n      default:\n        return arg;\n    }\n  }) : null;\n  const uploadedValues = [];\n  const postResult = [];\n  const context = glWiretap(originKernel.context, {\n    useTrackablePrimitives: true,\n    onReadPixels: (targetName) => {\n      if (kernel.subKernels) {\n        if (!subKernelsResultVariableSetup) {\n          postResult.push(`    const result = { result: ${getRenderString(targetName, kernel)} };`);\n          subKernelsResultVariableSetup = true;\n        } else {\n          const property = kernel.subKernels[subKernelsResultIndex++].property;\n          postResult.push(`    result${isNaN(property) ? '.' + property : `[${property}]`} = ${getRenderString(targetName, kernel)};`);\n        }\n        if (subKernelsResultIndex === kernel.subKernels.length) {\n          postResult.push('    return result;');\n        }\n        return;\n      }\n      if (targetName) {\n        postResult.push(`    return ${getRenderString(targetName, kernel)};`);\n      } else {\n        postResult.push(`    return null;`);\n      }\n    },\n    onUnrecognizedArgumentLookup: (argument) => {\n      const argumentName = findKernelValue(argument, kernel.kernelArguments, [], context, uploadedValues);\n      if (argumentName) {\n        return argumentName;\n      }\n      const constantName = findKernelValue(argument, kernel.kernelConstants, constants ? Object.keys(constants).map(key => constants[key]) : [], context, uploadedValues);\n      if (constantName) {\n        return constantName;\n      }\n      return null;\n    }\n  });\n  let subKernelsResultVariableSetup = false;\n  let subKernelsResultIndex = 0;\n  const {\n    source,\n    canvas,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    kernelArguments,\n    kernelConstants,\n    tactic,\n  } = originKernel;\n  const kernel = new Kernel(source, {\n    canvas,\n    context,\n    checkContext: false,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    tactic,\n  });\n  let result = [];\n  context.setIndent(2);\n  kernel.build.apply(kernel, args);\n  result.push(context.toString());\n  context.reset();\n\n  kernel.kernelArguments.forEach((kernelArgument, i) => {\n    switch (kernelArgument.type) {\n      case 'Integer':\n      case 'Boolean':\n      case 'Number':\n      case 'Float':\n      case 'Array':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'HTMLImageArray':\n        for (let imageIndex = 0; imageIndex < args[i].length; imageIndex++) {\n          const arg = args[i];\n          context.insertVariable(`uploadValue_${kernelArgument.name}[${imageIndex}]`, arg[imageIndex]);\n        }\n        break;\n      case 'Input':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'MemoryOptimizedNumberTexture':\n      case 'NumberTexture':\n      case 'Array1D(2)':\n      case 'Array1D(3)':\n      case 'Array1D(4)':\n      case 'Array2D(2)':\n      case 'Array2D(3)':\n      case 'Array2D(4)':\n      case 'Array3D(2)':\n      case 'Array3D(3)':\n      case 'Array3D(4)':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, args[i].texture);\n        break;\n      default:\n        throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${kernelArgument.type}`);\n    }\n  });\n  result.push('/** start of injected functions **/');\n  result.push(`function ${toStringWithoutUtils(utils.flattenTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten2dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten3dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten4dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.isArray)}`);\n  if (kernel.renderOutput !== kernel.renderTexture && kernel.formatValues) {\n    result.push(\n      `  const renderOutput = function ${toStringWithoutUtils(kernel.formatValues)};`\n    );\n  }\n  result.push('/** end of injected functions **/');\n  result.push(`  const innerKernel = function (${kernel.kernelArguments.map(kernelArgument => kernelArgument.varName).join(', ')}) {`);\n  context.setIndent(4);\n  kernel.run.apply(kernel, args);\n  if (kernel.renderKernels) {\n    kernel.renderKernels();\n  } else if (kernel.renderOutput) {\n    kernel.renderOutput();\n  }\n  result.push('    /** start setup uploads for kernel values **/');\n  kernel.kernelArguments.forEach(kernelArgument => {\n    result.push('    ' + kernelArgument.getStringValueHandler().split('\\n').join('\\n    '));\n  });\n  result.push('    /** end setup uploads for kernel values **/');\n  result.push(context.toString());\n  if (kernel.renderOutput === kernel.renderTexture) {\n    context.reset();\n    const framebufferName = context.getContextVariableName(kernel.framebuffer);\n    if (kernel.renderKernels) {\n      const results = kernel.renderKernels();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n      result: {\n        texture: ${ textureName },\n        type: '${ results.result.type }',\n        toArray: ${ getToArrayString(results.result, textureName, framebufferName) }\n      },`);\n      const { subKernels, mappedTextures } = kernel;\n      for (let i = 0; i < subKernels.length; i++) {\n        const texture = mappedTextures[i];\n        const subKernel = subKernels[i];\n        const subKernelResult = results[subKernel.property];\n        const subKernelTextureName = context.getContextVariableName(texture.texture);\n        result.push(`\n      ${subKernel.property}: {\n        texture: ${ subKernelTextureName },\n        type: '${ subKernelResult.type }',\n        toArray: ${ getToArrayString(subKernelResult, subKernelTextureName, framebufferName) }\n      },`);\n      }\n      result.push(`    };`);\n    } else {\n      const rendered = kernel.renderOutput();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n        texture: ${ textureName },\n        type: '${ rendered.type }',\n        toArray: ${ getToArrayString(rendered, textureName, framebufferName) }\n      };`);\n    }\n  }\n  result.push(`    ${destroyContextString ? '\\n' + destroyContextString + '    ': ''}`);\n  result.push(postResult.join('\\n'));\n  result.push('  };');\n  if (kernel.graphical) {\n    result.push(getGetPixelsString(kernel));\n    result.push(`  innerKernel.getPixels = getPixels;`);\n  }\n  result.push('  return innerKernel;');\n\n  let constantsUpload = [];\n  kernelConstants.forEach((kernelConstant) => {\n    constantsUpload.push(`${kernelConstant.getStringValueHandler()}`);\n  });\n  return `function kernel(settings) {\n  const { context, constants } = settings;\n  ${constantsUpload.join('')}\n  ${setupContextString ? setupContextString : ''}\n${result.join('\\n')}\n}`;\n}\n\nfunction getRenderString(targetName, kernel) {\n  const readBackValue = kernel.precision === 'single' ? targetName : `new Float32Array(${targetName}.buffer)`;\n  if (kernel.output[2]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]}, ${kernel.output[2]})`;\n  }\n  if (kernel.output[1]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]})`;\n  }\n\n  return `renderOutput(${readBackValue}, ${kernel.output[0]})`;\n}\n\nfunction getGetPixelsString(kernel) {\n  const getPixels = kernel.getPixels.toString();\n  const useFunctionKeyword = !/^function/.test(getPixels);\n  return utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ getPixels }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      }\n      return null;\n    },\n    thisLookup: (property) => {\n      if (property === 'context') {\n        return null;\n      }\n      if (kernel.hasOwnProperty(property)) {\n        return JSON.stringify(kernel[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n}\n\nfunction getToArrayString(kernelResult, textureName, framebufferName) {\n  const toArray = kernelResult.toArray.toString();\n  const useFunctionKeyword = !/^function/.test(toArray);\n  const flattenedFunctions = utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ toArray }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      } else if (object === 'this') {\n        if (name === 'framebuffer') {\n          return '';\n        }\n        return `${useFunctionKeyword ? 'function ' : ''}${kernelResult[name].toString()}`;\n      } else {\n        throw new Error('unhandled fromObject');\n      }\n    },\n    thisLookup: (property, isDeclaration) => {\n      if (property === 'texture') {\n        return textureName;\n      }\n      if (property === 'context') {\n        if (isDeclaration) return null;\n        return 'gl';\n      }\n      if (kernelResult.hasOwnProperty(property)) {\n        return JSON.stringify(kernelResult[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n  return `() => {\n  function framebuffer() { return ${framebufferName}; };\n  ${flattenedFunctions}\n  return toArray();\n  }`;\n}\n\nfunction findKernelValue(argument, kernelValues, values, context, uploadedValues) {\n  if (argument === null) return null;\n  if (kernelValues === null) return null;\n  switch (typeof argument) {\n    case 'boolean':\n    case 'number':\n      return null;\n  }\n  if (\n    typeof HTMLImageElement !== 'undefined' &&\n    argument instanceof HTMLImageElement\n  ) {\n    for (let i = 0; i < kernelValues.length; i++) {\n      const kernelValue = kernelValues[i];\n      if (kernelValue.type !== 'HTMLImageArray' && kernelValue) continue;\n      if (kernelValue.uploadValue !== argument) continue;\n      const variableIndex = values[i].indexOf(argument);\n      if (variableIndex === -1) continue;\n      const variableName = `uploadValue_${kernelValue.name}[${variableIndex}]`;\n      context.insertVariable(variableName, argument);\n      return variableName;\n    }\n  }\n\n  for (let i = 0; i < kernelValues.length; i++) {\n    const kernelValue = kernelValues[i];\n    if (argument !== kernelValue.uploadValue) continue;\n    const variable = `uploadValue_${kernelValue.name}`;\n    context.insertVariable(variable, kernelValue);\n    return variable;\n  }\n  return null;\n}\n\nmodule.exports = {\n  glKernelString\n};\n},{\"../../utils\":114,\"gl-wiretap\":3}],13:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { utils } = require('../../utils');\nconst { GLTextureArray2Float } = require('./texture/array-2-float');\nconst { GLTextureArray2Float2D } = require('./texture/array-2-float-2d');\nconst { GLTextureArray2Float3D } = require('./texture/array-2-float-3d');\nconst { GLTextureArray3Float } = require('./texture/array-3-float');\nconst { GLTextureArray3Float2D } = require('./texture/array-3-float-2d');\nconst { GLTextureArray3Float3D } = require('./texture/array-3-float-3d');\nconst { GLTextureArray4Float } = require('./texture/array-4-float');\nconst { GLTextureArray4Float2D } = require('./texture/array-4-float-2d');\nconst { GLTextureArray4Float3D } = require('./texture/array-4-float-3d');\nconst { GLTextureFloat } = require('./texture/float');\nconst { GLTextureFloat2D } = require('./texture/float-2d');\nconst { GLTextureFloat3D } = require('./texture/float-3d');\nconst { GLTextureMemoryOptimized } = require('./texture/memory-optimized');\nconst { GLTextureMemoryOptimized2D } = require('./texture/memory-optimized-2d');\nconst { GLTextureMemoryOptimized3D } = require('./texture/memory-optimized-3d');\nconst { GLTextureUnsigned } = require('./texture/unsigned');\nconst { GLTextureUnsigned2D } = require('./texture/unsigned-2d');\nconst { GLTextureUnsigned3D } = require('./texture/unsigned-3d');\nconst { GLTextureGraphical } = require('./texture/graphical');\n\nclass GLKernel extends Kernel {\n  static get mode() {\n    return 'gpu';\n  }\n\n  static getIsFloatRead() {\n    const kernelString = `function kernelFunction() {\n      return 1;\n    }`;\n    const kernel = new this(kernelString, {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [1],\n      precision: 'single',\n      returnType: 'Number',\n      tactic: 'speed',\n    });\n    kernel.build();\n    kernel.run();\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 1;\n  }\n\n  static getIsIntegerDivisionAccurate() {\n    function kernelFunction(v1, v2) {\n      return v1[this.thread.x] / v2[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [2],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [6, 6030401],\n      [3, 3991]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 2 && result[1] === 1511;\n  }\n\n  static getIsSpeedTacticSupported() {\n    function kernelFunction(value) {\n      return value[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [4],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [0, 1, 2, 3]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return Math.round(result[0]) === 0 && Math.round(result[1]) === 1 && Math.round(result[2]) === 2 && Math.round(result[3]) === 3;\n  }\n\n  static get testCanvas() {\n    throw new Error(`\"testCanvas\" not defined on ${ this.name }`);\n  }\n\n  static get testContext() {\n    throw new Error(`\"testContext\" not defined on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    const isDrawBuffers = this.getIsDrawBuffers();\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      isTextureFloat: this.getIsTextureFloat(),\n      isDrawBuffers,\n      kernelMap: isDrawBuffers,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static setupFeatureChecks() {\n    throw new Error(`\"setupFeatureChecks\" not defined on ${ this.name }`);\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return kernel.getVariablePrecisionString() + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  setFixIntegerDivisionAccuracy(fix) {\n    this.fixIntegerDivisionAccuracy = fix;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setFloatTextures(flag) {\n    utils.warnDeprecated('method', 'setFloatTextures', 'setOptimizeFloatMemory');\n    this.floatTextures = flag;\n    return this;\n  }\n\n  static nativeFunctionArguments(source) {\n    const argumentTypes = [];\n    const argumentNames = [];\n    const states = [];\n    const isStartingVariableName = /^[a-zA-Z_]/;\n    const isVariableChar = /[a-zA-Z_0-9]/;\n    let i = 0;\n    let argumentName = null;\n    let argumentType = null;\n    while (i < source.length) {\n      const char = source[i];\n      const nextChar = source[i + 1];\n      const state = states.length > 0 ? states[states.length - 1] : null;\n\n      if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '*') {\n        states.push('MULTI_LINE_COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'MULTI_LINE_COMMENT' && char === '*' && nextChar === '/') {\n        states.pop();\n        i += 2;\n        continue;\n      }\n\n      else if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '/') {\n        states.push('COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'COMMENT' && char === '\\n') {\n        states.pop();\n        i++;\n        continue;\n      }\n\n      else if (state === null && char === '(') {\n        states.push('FUNCTION_ARGUMENTS');\n        i++;\n        continue;\n      } else if (state === 'FUNCTION_ARGUMENTS') {\n        if (char === ')') {\n          states.pop();\n          break;\n        }\n        if (char === 'f' && nextChar === 'l' && source[i + 2] === 'o' && source[i + 3] === 'a' && source[i + 4] === 't' && source[i + 5] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'float';\n          argumentName = '';\n          i += 6;\n          continue;\n        } else if (char === 'i' && nextChar === 'n' && source[i + 2] === 't' && source[i + 3] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'int';\n          argumentName = '';\n          i += 4;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '2' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec2';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '3' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec3';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '4' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec4';\n          argumentName = '';\n          i += 5;\n          continue;\n        }\n      }\n\n      else if (state === 'DECLARE_VARIABLE') {\n        if (argumentName === '') {\n          if (char === ' ') {\n            i++;\n            continue;\n          }\n          if (!isStartingVariableName.test(char)) {\n            throw new Error('variable name is not expected string');\n          }\n        }\n        argumentName += char;\n        if (!isVariableChar.test(nextChar)) {\n          states.pop();\n          argumentNames.push(argumentName);\n          argumentTypes.push(typeMap[argumentType]);\n        }\n      }\n\n      i++;\n    }\n    if (states.length > 0) {\n      throw new Error('GLSL function was not parsable');\n    }\n    return {\n      argumentNames,\n      argumentTypes,\n    };\n  }\n\n  static nativeFunctionReturnType(source) {\n    return typeMap[source.match(/int|float|vec[2-4]/)[0]];\n  }\n\n  static combineKernels(combinedKernel, lastKernel) {\n    combinedKernel.apply(null, arguments);\n    const {\n      texSize,\n      context,\n      threadDim\n    } = lastKernel.texSize;\n    let result;\n    if (lastKernel.precision === 'single') {\n      const w = texSize[0];\n      const h = Math.ceil(texSize[1] / 4);\n      result = new Float32Array(w * h * 4 * 4);\n      context.readPixels(0, 0, w, h * 4, context.RGBA, context.FLOAT, result);\n    } else {\n      const bytes = new Uint8Array(texSize[0] * texSize[1] * 4);\n      context.readPixels(0, 0, texSize[0], texSize[1], context.RGBA, context.UNSIGNED_BYTE, bytes);\n      result = new Float32Array(bytes.buffer);\n    }\n\n    result = result.subarray(0, threadDim[0] * threadDim[1] * threadDim[2]);\n\n    if (lastKernel.output.length === 1) {\n      return result;\n    } else if (lastKernel.output.length === 2) {\n      return utils.splitArray(result, lastKernel.output[0]);\n    } else if (lastKernel.output.length === 3) {\n      const cube = utils.splitArray(result, lastKernel.output[0] * lastKernel.output[1]);\n      return cube.map(function(x) {\n        return utils.splitArray(x, lastKernel.output[0]);\n      });\n    }\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.transferValues = null;\n    this.formatValues = null;\n    this.TextureConstructor = null;\n    this.renderOutput = null;\n    this.renderRawOutput = null;\n    this.texSize = null;\n    this.translatedSource = null;\n    this.compiledFragmentShader = null;\n    this.compiledVertexShader = null;\n    this.switchingKernels = null;\n    this._textureSwitched = null;\n    this._mappedTextureSwitched = null;\n  }\n\n  checkTextureSize() {\n    const { features } = this.constructor;\n    if (this.texSize[0] > features.maxTextureSize || this.texSize[1] > features.maxTextureSize) {\n      throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${features.maxTextureSize},${features.maxTextureSize}]`);\n    }\n  }\n\n  translateSource() {\n    throw new Error(`\"translateSource\" not defined on ${this.constructor.name}`);\n  }\n\n  pickRenderStrategy(args) {\n    if (this.graphical) {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = (pixels) => pixels;\n      this.TextureConstructor = GLTextureGraphical;\n      return null;\n    }\n    if (this.precision === 'unsigned') {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = this.readPackedPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      } else {\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToArrays;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            this.renderOutput = this.renderValues;\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              this.formatValues = utils.erect3DPackedFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              this.formatValues = utils.erect2DPackedFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              this.formatValues = utils.erectPackedFloat;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      }\n    } else if (this.precision === 'single') {\n      this.renderRawOutput = this.readFloatPixelsToFloat32Array;\n      this.transferValues = this.readFloatPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.optimizeFloatMemory) {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureMemoryOptimized;\n                return null;\n              }\n            } else {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureFloat3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureFloat2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureFloat;\n                return null;\n              }\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              return null;\n            }\n          }\n        }\n      }\n      this.renderOutput = this.renderValues;\n      if (this.subKernels !== null) {\n        this.renderKernels = this.renderKernelsToArrays;\n      }\n      if (this.optimizeFloatMemory) {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized3D;\n              this.formatValues = utils.erectMemoryOptimized3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized2D;\n              this.formatValues = utils.erectMemoryOptimized2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureMemoryOptimized;\n              this.formatValues = utils.erectMemoryOptimizedFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      } else {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureFloat3D;\n              this.formatValues = utils.erect3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureFloat2D;\n              this.formatValues = utils.erect2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureFloat;\n              this.formatValues = utils.erectFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      }\n    } else {\n      throw new Error(`unhandled precision of \"${this.precision}\"`);\n    }\n\n    throw new Error(`unhandled return type \"${this.returnType}\"`);\n  }\n\n  getKernelString() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultTexture() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Integer':\n      case 'Number':\n        return this.getMainResultNumberTexture();\n      case 'Array(2)':\n        return this.getMainResultArray2Texture();\n      case 'Array(3)':\n        return this.getMainResultArray3Texture();\n      case 'Array(4)':\n        return this.getMainResultArray4Texture();\n      default:\n        throw new Error(`unhandled returnType type ${ this.returnType }`);\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultGraphical() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultMemoryOptimizedFloats() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultPackedPixels() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultString() {\n    if (this.graphical) {\n      return this.getMainResultGraphical();\n    } else if (this.precision === 'single') {\n      if (this.optimizeFloatMemory) {\n        return this.getMainResultMemoryOptimizedFloats();\n      }\n      return this.getMainResultTexture();\n    } else {\n      return this.getMainResultPackedPixels();\n    }\n  }\n\n  getMainResultNumberTexture() {\n    return utils.linesToString(this.getMainResultKernelNumberTexture()) +\n      utils.linesToString(this.getMainResultSubKernelNumberTexture());\n  }\n\n  getMainResultArray2Texture() {\n    return utils.linesToString(this.getMainResultKernelArray2Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray2Texture());\n  }\n\n  getMainResultArray3Texture() {\n    return utils.linesToString(this.getMainResultKernelArray3Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray3Texture());\n  }\n\n  getMainResultArray4Texture() {\n    return utils.linesToString(this.getMainResultKernelArray4Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray4Texture());\n  }\n\n  getFloatTacticDeclaration() {\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    return `precision ${variablePrecision} float;\\n`;\n  }\n\n  getIntTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic, true)} int;\\n`;\n  }\n\n  getSampler2DTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2D;\\n`;\n  }\n\n  getSampler2DArrayTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2DArray;\\n`;\n  }\n\n  renderTexture() {\n    return this.immutable ? this.texture.clone() : this.texture;\n  }\n  readPackedPixelsToUint8Array() {\n    if (this.precision !== 'unsigned') throw new Error('Requires this.precision to be \"unsigned\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const result = new Uint8Array(texSize[0] * texSize[1] * 4);\n    gl.readPixels(0, 0, texSize[0], texSize[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n\n  readPackedPixelsToFloat32Array() {\n    return new Float32Array(this.readPackedPixelsToUint8Array().buffer);\n  }\n\n  readFloatPixelsToFloat32Array() {\n    if (this.precision !== 'single') throw new Error('Requires this.precision to be \"single\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const w = texSize[0];\n    const h = texSize[1];\n    const result = new Float32Array(w * h * 4);\n    gl.readPixels(0, 0, w, h, gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n\n  getPixels(flip) {\n    const {\n      context: gl,\n      output\n    } = this;\n    const [width, height] = output;\n    const pixels = new Uint8Array(width * height * 4);\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return new Uint8ClampedArray((flip ? pixels : utils.flipPixels(pixels, width, height)).buffer);\n  }\n\n  renderKernelsToArrays() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    for (let i = 0; i < this.subKernels.length; i++) {\n      result[this.subKernels[i].property] = this.mappedTextures[i].toArray();\n    }\n    return result;\n  }\n\n  renderKernelsToTextures() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    if (this.immutable) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i].clone();\n      }\n    } else {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i];\n      }\n    }\n    return result;\n  }\n\n  resetSwitchingKernels() {\n    const existingValue = this.switchingKernels;\n    this.switchingKernels = null;\n    return existingValue;\n  }\n\n  setOutput(output) {\n    const newOutput = this.toKernelOutput(output);\n    if (this.program) {\n      if (!this.dynamicOutput) {\n        throw new Error('Resizing a kernel with dynamicOutput: false is not possible');\n      }\n      const newThreadDim = [newOutput[0], newOutput[1] || 1, newOutput[2] || 1];\n      const newTexSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, newThreadDim);\n      const oldTexSize = this.texSize;\n      if (oldTexSize) {\n        const oldPrecision = this.getVariablePrecisionString(oldTexSize, this.tactic);\n        const newPrecision = this.getVariablePrecisionString(newTexSize, this.tactic);\n        if (oldPrecision !== newPrecision) {\n          if (this.debug) {\n            console.warn('Precision requirement changed, asking GPU instance to recompile');\n          }\n          this.switchKernels({\n            type: 'outputPrecisionMismatch',\n            precision: newPrecision,\n            needed: output\n          });\n          return;\n        }\n      }\n      this.output = newOutput;\n      this.threadDim = newThreadDim;\n      this.texSize = newTexSize;\n      const { context: gl } = this;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      this.updateMaxTexSize();\n      this.framebuffer.width = this.texSize[0];\n      this.framebuffer.height = this.texSize[1];\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      this.canvas.width = this.maxTexSize[0];\n      this.canvas.height = this.maxTexSize[1];\n      if (this.texture) {\n        this.texture.delete();\n      }\n      this.texture = null;\n      this._setupOutputTexture();\n      if (this.mappedTextures && this.mappedTextures.length > 0) {\n        for (let i = 0; i < this.mappedTextures.length; i++) {\n          this.mappedTextures[i].delete();\n        }\n        this.mappedTextures = null;\n        this._setupSubOutputTextures();\n      }\n    } else {\n      this.output = newOutput;\n    }\n    return this;\n  }\n  renderValues() {\n    return this.formatValues(\n      this.transferValues(),\n      this.output[0],\n      this.output[1],\n      this.output[2]\n    );\n  }\n  switchKernels(reason) {\n    if (this.switchingKernels) {\n      this.switchingKernels.push(reason);\n    } else {\n      this.switchingKernels = [reason];\n    }\n  }\n  getVariablePrecisionString(textureSize = this.texSize, tactic = this.tactic, isInt = false) {\n    if (!tactic) {\n      if (!this.constructor.features.isSpeedTacticSupported) return 'highp';\n      const low = this.constructor.features[isInt ? 'lowIntPrecision' : 'lowFloatPrecision'];\n      const medium = this.constructor.features[isInt ? 'mediumIntPrecision' : 'mediumFloatPrecision'];\n      const high = this.constructor.features[isInt ? 'highIntPrecision' : 'highFloatPrecision'];\n      const requiredSize = Math.log2(textureSize[0] * textureSize[1]);\n      if (requiredSize <= low.rangeMax) {\n        return 'lowp';\n      } else if (requiredSize <= medium.rangeMax) {\n        return 'mediump';\n      } else if (requiredSize <= high.rangeMax) {\n        return 'highp';\n      } else {\n        throw new Error(`The required size exceeds that of the ability of your system`);\n      }\n    }\n    switch (tactic) {\n      case 'speed':\n        return 'lowp';\n      case 'balanced':\n        return 'mediump';\n      case 'precision':\n        return 'highp';\n      default:\n        throw new Error(`Unknown tactic \"${tactic}\" use \"speed\", \"balanced\", \"precision\", or empty for auto`);\n    }\n  }\n\n  updateTextureArgumentRefs(kernelValue, arg) {\n    if (!this.immutable) return;\n    if (this.texture.texture === arg.texture) {\n      const { prevArg } = kernelValue;\n      if (prevArg) {\n        if (prevArg.texture._refs === 1) {\n          this.texture.delete();\n          this.texture = prevArg.clone();\n          this._textureSwitched = true;\n        }\n        prevArg.delete();\n      }\n      kernelValue.prevArg = arg.clone();\n    } else if (this.mappedTextures && this.mappedTextures.length > 0) {\n      const { mappedTextures } = this;\n      for (let i = 0; i < mappedTextures.length; i++) {\n        const mappedTexture = mappedTextures[i];\n        if (mappedTexture.texture === arg.texture) {\n          const { prevArg } = kernelValue;\n          if (prevArg) {\n            if (prevArg.texture._refs === 1) {\n              mappedTexture.delete();\n              mappedTextures[i] = prevArg.clone();\n              this._mappedTextureSwitched[i] = true;\n            }\n            prevArg.delete();\n          }\n          kernelValue.prevArg = arg.clone();\n          return;\n        }\n      }\n    }\n  }\n\n  onActivate(previousKernel) {\n    this._textureSwitched = true;\n    this.texture = previousKernel.texture;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        this._mappedTextureSwitched[i] = true;\n      }\n      this.mappedTextures = previousKernel.mappedTextures;\n    }\n  }\n\n  initCanvas() {}\n}\n\nconst typeMap = {\n  int: 'Integer',\n  float: 'Number',\n  vec2: 'Array(2)',\n  vec3: 'Array(3)',\n  vec4: 'Array(4)',\n};\n\nmodule.exports = {\n  GLKernel\n};\n},{\"../../utils\":114,\"../kernel\":36,\"./texture/array-2-float\":16,\"./texture/array-2-float-2d\":14,\"./texture/array-2-float-3d\":15,\"./texture/array-3-float\":19,\"./texture/array-3-float-2d\":17,\"./texture/array-3-float-3d\":18,\"./texture/array-4-float\":22,\"./texture/array-4-float-2d\":20,\"./texture/array-4-float-3d\":21,\"./texture/float\":25,\"./texture/float-2d\":23,\"./texture/float-3d\":24,\"./texture/graphical\":26,\"./texture/memory-optimized\":30,\"./texture/memory-optimized-2d\":28,\"./texture/memory-optimized-3d\":29,\"./texture/unsigned\":33,\"./texture/unsigned-2d\":31,\"./texture/unsigned-3d\":32}],14:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect2DArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],15:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect3DArray2(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],16:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erectArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float\n};\n},{\"../../../utils\":114,\"./float\":25}],17:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect2DArray3(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],18:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect3DArray3(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],19:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erectArray3(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float\n};\n},{\"../../../utils\":114,\"./float\":25}],20:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect2DArray4(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],21:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect3DArray4(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],22:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erectArray4(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float\n};\n},{\"../../../utils\":114,\"./float\":25}],23:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat2D\n};\n},{\"../../../utils\":114,\"./float\":25}],24:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat3D\n};\n},{\"../../../utils\":114,\"./float\":25}],25:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureFloat extends GLTexture {\n  get textureType() {\n    return this.context.FLOAT;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  renderRawOutput() {\n    const gl = this.context;\n    const size = this.size;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Float32Array(size[0] * size[1] * 4);\n    gl.readPixels(0, 0, size[0], size[1], gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return this.renderRawOutput();\n  }\n  toArray() {\n    return utils.erectFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat\n};\n},{\"../../../utils\":114,\"./index\":27}],26:[function(require,module,exports){\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureGraphical extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return this.renderValues();\n  }\n}\n\nmodule.exports = {\n  GLTextureGraphical\n};\n},{\"./unsigned\":33}],27:[function(require,module,exports){\nconst { Texture } = require('../../../texture');\n\nclass GLTexture extends Texture {\n  get textureType() {\n    throw new Error(`\"textureType\" not implemented on ${ this.name }`);\n  }\n\n  clone() {\n    return new this.constructor(this);\n  }\n\n  beforeMutate() {\n    if (this.texture._refs > 1) {\n      this.newTexture();\n      return true;\n    }\n    return false;\n  }\n\n  cloneTexture() {\n    this.texture._refs--;\n    const { context: gl, size, texture, kernel } = this;\n    if (kernel.debug) {\n      console.warn('cloning internal texture');\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    gl.copyTexSubImage2D(gl.TEXTURE_2D, 0, 0, 0, 0, 0, size[0], size[1]);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  newTexture() {\n    this.texture._refs--;\n    const gl = this.context;\n    const size = this.size;\n    const kernel = this.kernel;\n    if (kernel.debug) {\n      console.warn('new internal texture');\n    }\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  clear() {\n    if (this.texture._refs) {\n      this.texture._refs--;\n      const gl = this.context;\n      const target = this.texture = gl.createTexture();\n      selectTexture(gl, target);\n      const size = this.size;\n      target._refs = 1;\n      gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    }\n    const { context: gl, texture } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  }\n\n  delete() {\n    if (this._deleted) return;\n    this._deleted = true;\n    if (this.texture._refs) {\n      this.texture._refs--;\n      if (this.texture._refs) return;\n    }\n    this.context.deleteTexture(this.texture);\n  }\n\n  framebuffer() {\n    if (!this._framebuffer) {\n      this._framebuffer = this.kernel.getRawValueFramebuffer(this.size[0], this.size[1]);\n    }\n    return this._framebuffer;\n  }\n}\n\nfunction selectTexture(gl, texture) {\n  gl.activeTexture(gl.TEXTURE15);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n}\n\nmodule.exports = { GLTexture };\n},{\"../../../texture\":113}],28:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized2D\n};\n},{\"../../../utils\":114,\"./float\":25}],29:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized3D\n};\n},{\"../../../utils\":114,\"./float\":25}],30:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimizedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized\n};\n},{\"../../../utils\":114,\"./float\":25}],31:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned2D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect2DPackedFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned2D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],32:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned3D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect3DPackedFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned3D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],33:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureUnsigned extends GLTexture {\n  get textureType() {\n    return this.context.UNSIGNED_BYTE;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  renderRawOutput() {\n    const { context: gl } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Uint8Array(this.size[0] * this.size[1] * 4);\n    gl.readPixels(0, 0, this.size[0], this.size[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return new Float32Array(this.renderRawOutput().buffer);\n  }\n  toArray() {\n    return utils.erectPackedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned\n};\n},{\"../../../utils\":114,\"./index\":27}],34:[function(require,module,exports){\nconst getContext = require('gl');\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { glKernelString } = require('../gl/kernel-string');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nclass HeadlessGLKernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) return isSupported;\n    this.setupFeatureChecks();\n    isSupported = testContext !== null;\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    testCanvas = null;\n    testExtensions = null;\n    if (typeof getContext !== 'function') return;\n    try { \n      testContext = getContext(2, 2, {\n        preserveDrawingBuffer: true\n      });\n      if (!testContext || !testContext.getExtension) return;\n      testExtensions = {\n        STACKGL_resize_drawingbuffer: testContext.getExtension('STACKGL_resize_drawingbuffer'),\n        STACKGL_destroy_context: testContext.getExtension('STACKGL_destroy_context'),\n        OES_texture_float: testContext.getExtension('OES_texture_float'),\n        OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n        OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n        WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n        WEBGL_color_buffer_float: testContext.getExtension('WEBGL_color_buffer_float'),\n      };\n      features = this.getFeatures();\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  static isContextMatch(context) {\n    try {\n      return context.getParameter(context.RENDERER) === 'ANGLE';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  initCanvas() {\n    return {};\n  }\n\n  initContext() {\n    return getContext(2, 2, {\n      preserveDrawingBuffer: true\n    });\n  }\n\n  initExtensions() {\n    this.extensions = {\n      STACKGL_resize_drawingbuffer: this.context.getExtension('STACKGL_resize_drawingbuffer'),\n      STACKGL_destroy_context: this.context.getExtension('STACKGL_destroy_context'),\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n    };\n  }\n\n  build() {\n    super.build.apply(this, arguments);\n    if (!this.fallbackRequested) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n  }\n\n  destroyExtensions() {\n    this.extensions.STACKGL_resize_drawingbuffer = null;\n    this.extensions.STACKGL_destroy_context = null;\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('STACKGL_destroy_context');\n    if (extension && extension.destroy) {\n      extension.destroy();\n    }\n  }\n\n  toString() {\n    const setupContextString = `const gl = context || require('gl')(1, 1);\\n`;\n    const destroyContextString = `    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\\n`;\n    return glKernelString(this.constructor, arguments, this, setupContextString, destroyContextString);\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    if (this.graphical && this.extensions.STACKGL_resize_drawingbuffer) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n    return this;\n  }\n}\n\nmodule.exports = {\n  HeadlessGLKernel\n};\n},{\"../gl/kernel-string\":12,\"../web-gl/kernel\":70,\"gl\":2}],35:[function(require,module,exports){\nclass KernelValue {\n  constructor(value, settings) {\n    const {\n      name,\n      kernel,\n      context,\n      checkContext,\n      onRequestContextHandle,\n      onUpdateValueMismatch,\n      origin,\n      strictIntegers,\n      type,\n      tactic,\n    } = settings;\n    if (!name) {\n      throw new Error('name not set');\n    }\n    if (!type) {\n      throw new Error('type not set');\n    }\n    if (!origin) {\n      throw new Error('origin not set');\n    }\n    if (origin !== 'user' && origin !== 'constants') {\n      throw new Error(`origin must be \"user\" or \"constants\" value is \"${ origin }\"`);\n    }\n    if (!onRequestContextHandle) {\n      throw new Error('onRequestContextHandle is not set');\n    }\n    this.name = name;\n    this.origin = origin;\n    this.tactic = tactic;\n    this.varName = origin === 'constants' ? `constants.${name}` : name;\n    this.kernel = kernel;\n    this.strictIntegers = strictIntegers;\n    this.type = value.type || type;\n    this.size = value.size || null;\n    this.index = null;\n    this.context = context;\n    this.checkContext = checkContext !== null && checkContext !== undefined ? checkContext : true;\n    this.contextHandle = null;\n    this.onRequestContextHandle = onRequestContextHandle;\n    this.onUpdateValueMismatch = onUpdateValueMismatch;\n    this.forceUploadEachRun = null;\n  }\n\n  get id() {\n    return `${this.origin}_${name}`;\n  }\n\n  getSource() {\n    throw new Error(`\"getSource\" not defined on ${ this.constructor.name }`);\n  }\n\n  updateValue(value) {\n    throw new Error(`\"updateValue\" not defined on ${ this.constructor.name }`);\n  }\n}\n\nmodule.exports = {\n  KernelValue\n};\n},{}],36:[function(require,module,exports){\nconst { utils } = require('../utils');\nconst { Input } = require('../input');\n\nclass Kernel {\n  static get isSupported() {\n    throw new Error(`\"isSupported\" not implemented on ${ this.name }`);\n  }\n\n  static isContextMatch(context) {\n    throw new Error(`\"isContextMatch\" not implemented on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    throw new Error(`\"getFeatures\" not implemented on ${ this.name }`);\n  }\n\n  static destroyContext(context) {\n    throw new Error(`\"destroyContext\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionArguments() {\n    throw new Error(`\"nativeFunctionArguments\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`\"nativeFunctionReturnType\" called on ${ this.name }`);\n  }\n\n  static combineKernels() {\n    throw new Error(`\"combineKernels\" called on ${ this.name }`);\n  }\n\n  constructor(source, settings) {\n    if (typeof source !== 'object') {\n      if (typeof source !== 'string') {\n        throw new Error('source not a string');\n      }\n      if (!utils.isFunctionString(source)) {\n        throw new Error('source not a function string');\n      }\n    }\n    this.useLegacyEncoder = false;\n    this.fallbackRequested = false;\n    this.onRequestFallback = null;\n\n    this.argumentNames = typeof source === 'string' ? utils.getArgumentNamesFromString(source) : null;\n    this.argumentTypes = null;\n    this.argumentSizes = null;\n    this.argumentBitRatios = null;\n    this.kernelArguments = null;\n    this.kernelConstants = null;\n    this.forceUploadKernelConstants = null;\n\n\n    this.source = source;\n\n    this.output = null;\n\n    this.debug = false;\n\n    this.graphical = false;\n\n    this.loopMaxIterations = 0;\n\n    this.constants = null;\n\n    this.constantTypes = null;\n\n    this.constantBitRatios = null;\n\n    this.dynamicArguments = false;\n\n    this.dynamicOutput = false;\n\n    this.canvas = null;\n\n    this.context = null;\n\n    this.checkContext = null;\n\n    this.gpu = null;\n\n    this.functions = null;\n\n    this.nativeFunctions = null;\n\n    this.injectedNative = null;\n\n    this.subKernels = null;\n\n    this.validate = true;\n\n    this.immutable = false;\n\n    this.pipeline = false;\n\n    this.precision = null;\n\n    this.tactic = null;\n\n    this.plugins = null;\n\n    this.returnType = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.optimizeFloatMemory = null;\n    this.strictIntegers = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.built = false;\n    this.signature = null;\n  }\n\n  mergeSettings(settings) {\n    for (let p in settings) {\n      if (!settings.hasOwnProperty(p) || !this.hasOwnProperty(p)) continue;\n      switch (p) {\n        case 'output':\n          if (!Array.isArray(settings.output)) {\n            this.setOutput(settings.output); \n            continue;\n          }\n          break;\n        case 'functions':\n          this.functions = [];\n          for (let i = 0; i < settings.functions.length; i++) {\n            this.addFunction(settings.functions[i]);\n          }\n          continue;\n        case 'graphical':\n          if (settings[p] && !settings.hasOwnProperty('precision')) {\n            this.precision = 'unsigned';\n          }\n          this[p] = settings[p];\n          continue;\n        case 'nativeFunctions':\n          if (!settings.nativeFunctions) continue;\n          this.nativeFunctions = [];\n          for (let i = 0; i < settings.nativeFunctions.length; i++) {\n            const s = settings.nativeFunctions[i];\n            const { name, source } = s;\n            this.addNativeFunction(name, source, s);\n          }\n          continue;\n      }\n      this[p] = settings[p];\n    }\n\n    if (!this.canvas) this.canvas = this.initCanvas();\n    if (!this.context) this.context = this.initContext();\n    if (!this.plugins) this.plugins = this.initPlugins(settings);\n  }\n  build() {\n    throw new Error(`\"build\" not defined on ${ this.constructor.name }`);\n  }\n\n  run() {\n    throw new Error(`\"run\" not defined on ${ this.constructor.name }`)\n  }\n\n  initCanvas() {\n    throw new Error(`\"initCanvas\" not defined on ${ this.constructor.name }`);\n  }\n\n  initContext() {\n    throw new Error(`\"initContext\" not defined on ${ this.constructor.name }`);\n  }\n\n  initPlugins(settings) {\n    throw new Error(`\"initPlugins\" not defined on ${ this.constructor.name }`);\n  }\n\n  addFunction(source, settings = {}) {\n    if (source.name && source.source && source.argumentTypes && 'returnType' in source) {\n      this.functions.push(source);\n    } else if ('settings' in source && 'source' in source) {\n      this.functions.push(this.functionToIGPUFunction(source.source, source.settings));\n    } else if (typeof source === 'string' || typeof source === 'function') {\n      this.functions.push(this.functionToIGPUFunction(source, settings));\n    } else {\n      throw new Error(`function not properly defined`);\n    }\n    return this;\n  }\n\n  addNativeFunction(name, source, settings = {}) {\n    const { argumentTypes, argumentNames } = settings.argumentTypes ?\n      splitArgumentTypes(settings.argumentTypes) :\n      this.constructor.nativeFunctionArguments(source) || {};\n    this.nativeFunctions.push({\n      name,\n      source,\n      settings,\n      argumentTypes,\n      argumentNames,\n      returnType: settings.returnType || this.constructor.nativeFunctionReturnType(source)\n    });\n    return this;\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    if (!this.argumentTypes) {\n      if (!this.argumentTypes) {\n        this.argumentTypes = [];\n        for (let i = 0; i < args.length; i++) {\n          const argType = utils.getVariableType(args[i], this.strictIntegers);\n          const type = argType === 'Integer' ? 'Number' : argType;\n          this.argumentTypes.push(type);\n          this.kernelArguments.push({\n            type\n          });\n        }\n      }\n    } else {\n      for (let i = 0; i < this.argumentTypes.length; i++) {\n        this.kernelArguments.push({\n          type: this.argumentTypes[i]\n        });\n      }\n    }\n\n    this.argumentSizes = new Array(args.length);\n    this.argumentBitRatios = new Int32Array(args.length);\n\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      this.argumentSizes[i] = arg.constructor === Input ? arg.size : null;\n      this.argumentBitRatios[i] = this.getBitRatio(arg);\n    }\n\n    if (this.argumentNames.length !== args.length) {\n      throw new Error(`arguments are miss-aligned`);\n    }\n  }\n\n  setupConstants() {\n    this.kernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    if (this.constants) {\n      for (let name in this.constants) {\n        if (needsConstantTypes) {\n          const type = utils.getVariableType(this.constants[name], this.strictIntegers);\n          this.constantTypes[name] = type;\n          this.kernelConstants.push({\n            name,\n            type\n          });\n        } else {\n          this.kernelConstants.push({\n            name,\n            type: this.constantTypes[name]\n          });\n        }\n        this.constantBitRatios[name] = this.getBitRatio(this.constants[name]);\n      }\n    }\n  }\n\n  setOptimizeFloatMemory(flag) {\n    this.optimizeFloatMemory = flag;\n    return this;\n  }\n\n  toKernelOutput(output) {\n    if (output.hasOwnProperty('x')) {\n      if (output.hasOwnProperty('y')) {\n        if (output.hasOwnProperty('z')) {\n          return [output.x, output.y, output.z];\n        } else {\n          return [output.x, output.y];\n        }\n      } else {\n        return [output.x];\n      }\n    } else {\n      return output;\n    }\n  }\n\n  setOutput(output) {\n    this.output = this.toKernelOutput(output);\n    return this;\n  }\n\n  setDebug(flag) {\n    this.debug = flag;\n    return this;\n  }\n\n  setGraphical(flag) {\n    this.graphical = flag;\n    this.precision = 'unsigned';\n    return this;\n  }\n\n  setLoopMaxIterations(max) {\n    this.loopMaxIterations = max;\n    return this;\n  }\n\n  setConstants(constants) {\n    this.constants = constants;\n    return this;\n  }\n\n  setConstantTypes(constantTypes) {\n    this.constantTypes = constantTypes;\n    return this;\n  }\n\n  setFunctions(functions) {\n    for (let i = 0; i < functions.length; i++) {\n      this.addFunction(functions[i]);\n    }\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    for (let i = 0; i < nativeFunctions.length; i++) {\n      const settings = nativeFunctions[i];\n      const { name, source } = settings;\n      this.addNativeFunction(name, source, settings);\n    }\n    return this;\n  }\n\n  setInjectedNative(injectedNative) {\n    this.injectedNative = injectedNative;\n    return this;\n  }\n\n  setPipeline(flag) {\n    this.pipeline = flag;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setDimensions(flag) {\n    utils.warnDeprecated('method', 'setDimensions', 'setOutput');\n    this.output = flag;\n    return this;\n  }\n\n  setOutputToTexture(flag) {\n    utils.warnDeprecated('method', 'setOutputToTexture', 'setPipeline');\n    this.pipeline = flag;\n    return this;\n  }\n\n  setImmutable(flag) {\n    this.immutable = flag;\n    return this;\n  }\n\n  setCanvas(canvas) {\n    this.canvas = canvas;\n    return this;\n  }\n\n  setStrictIntegers(flag) {\n    this.strictIntegers = flag;\n    return this;\n  }\n\n  setDynamicOutput(flag) {\n    this.dynamicOutput = flag;\n    return this;\n  }\n\n  setHardcodeConstants(flag) {\n    utils.warnDeprecated('method', 'setHardcodeConstants');\n    this.setDynamicOutput(flag);\n    this.setDynamicArguments(flag);\n    return this;\n  }\n\n  setDynamicArguments(flag) {\n    this.dynamicArguments = flag;\n    return this;\n  }\n\n  setUseLegacyEncoder(flag) {\n    this.useLegacyEncoder = flag;\n    return this;\n  }\n\n  setWarnVarUsage(flag) {\n    utils.warnDeprecated('method', 'setWarnVarUsage');\n    return this;\n  }\n\n  getCanvas() {\n    utils.warnDeprecated('method', 'getCanvas');\n    return this.canvas;\n  }\n\n  getWebGl() {\n    utils.warnDeprecated('method', 'getWebGl');\n    return this.context;\n  }\n\n  setContext(context) {\n    this.context = context;\n    return this;\n  }\n\n  setArgumentTypes(argumentTypes) {\n    if (Array.isArray(argumentTypes)) {\n      this.argumentTypes = argumentTypes;\n    } else {\n      this.argumentTypes = [];\n      for (const p in argumentTypes) {\n        if (!argumentTypes.hasOwnProperty(p)) continue;\n        const argumentIndex = this.argumentNames.indexOf(p);\n        if (argumentIndex === -1) throw new Error(`unable to find argument ${ p }`);\n        this.argumentTypes[argumentIndex] = argumentTypes[p];\n      }\n    }\n    return this;\n  }\n\n  setTactic(tactic) {\n    this.tactic = tactic;\n    return this;\n  }\n\n  requestFallback(args) {\n    if (!this.onRequestFallback) {\n      throw new Error(`\"onRequestFallback\" not defined on ${ this.constructor.name }`);\n    }\n    this.fallbackRequested = true;\n    return this.onRequestFallback(args);\n  }\n\n  validateSettings() {\n    throw new Error(`\"validateSettings\" not defined on ${ this.constructor.name }`);\n  }\n\n  addSubKernel(subKernel) {\n    if (this.subKernels === null) {\n      this.subKernels = [];\n    }\n    if (!subKernel.source) throw new Error('subKernel missing \"source\" property');\n    if (!subKernel.property && isNaN(subKernel.property)) throw new Error('subKernel missing \"property\" property');\n    if (!subKernel.name) throw new Error('subKernel missing \"name\" property');\n    this.subKernels.push(subKernel);\n    return this;\n  }\n\n  destroy(removeCanvasReferences) {\n    throw new Error(`\"destroy\" called on ${ this.constructor.name }`);\n  }\n\n  getBitRatio(value) {\n    if (this.precision === 'single') {\n      return 4;\n    } else if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  getPixels(flip) {\n    throw new Error(`\"getPixels\" called on ${ this.constructor.name }`);\n  }\n\n  checkOutput() {\n    if (!this.output || !utils.isArray(this.output)) throw new Error('kernel.output not an array');\n    if (this.output.length < 1) throw new Error('kernel.output is empty, needs at least 1 value');\n    for (let i = 0; i < this.output.length; i++) {\n      if (isNaN(this.output[i]) || this.output[i] < 1) {\n        throw new Error(`${ this.constructor.name }.output[${ i }] incorrectly defined as \\`${ this.output[i] }\\`, needs to be numeric, and greater than 0`);\n      }\n    }\n  }\n\n  prependString(value) {\n    throw new Error(`\"prependString\" called on ${ this.constructor.name }`);\n  }\n\n  hasPrependString(value) {\n    throw new Error(`\"hasPrependString\" called on ${ this.constructor.name }`);\n  }\n\n  toJSON() {\n    return {\n      settings: {\n        output: this.output,\n        pipeline: this.pipeline,\n        argumentNames: this.argumentNames,\n        argumentsTypes: this.argumentTypes,\n        constants: this.constants,\n        pluginNames: this.plugins ? this.plugins.map(plugin => plugin.name) : null,\n        returnType: this.returnType,\n      }\n    };\n  }\n\n  buildSignature(args) {\n    const Constructor = this.constructor;\n    this.signature = Constructor.getSignature(this, Constructor.getArgumentTypes(this, args));\n  }\n\n  static getArgumentTypes(kernel, args) {\n    const argumentTypes = new Array(args.length);\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      const type = kernel.argumentTypes[i];\n      if (arg.type) {\n        argumentTypes[i] = arg.type;\n      } else {\n        switch (type) {\n          case 'Number':\n          case 'Integer':\n          case 'Float':\n          case 'ArrayTexture(1)':\n            argumentTypes[i] = utils.getVariableType(arg);\n            break;\n          default:\n            argumentTypes[i] = type;\n        }\n      }\n    }\n    return argumentTypes;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    throw new Error(`\"getSignature\" not implemented on ${ this.name }`);\n  }\n\n  functionToIGPUFunction(source, settings = {}) {\n    if (typeof source !== 'string' && typeof source !== 'function') throw new Error('source not a string or function');\n    const sourceString = typeof source === 'string' ? source : source.toString();\n    let argumentTypes = [];\n\n    if (Array.isArray(settings.argumentTypes)) {\n      argumentTypes = settings.argumentTypes;\n    } else if (typeof settings.argumentTypes === 'object') {\n      argumentTypes = utils.getArgumentNamesFromString(sourceString)\n        .map(name => settings.argumentTypes[name]) || [];\n    } else {\n      argumentTypes = settings.argumentTypes || [];\n    }\n\n    return {\n      name: utils.getFunctionNameFromString(sourceString) || null,\n      source: sourceString,\n      argumentTypes,\n      returnType: settings.returnType || null,\n    };\n  }\n\n  onActivate(previousKernel) {}\n}\n\nfunction splitArgumentTypes(argumentTypesObject) {\n  const argumentNames = Object.keys(argumentTypesObject);\n  const argumentTypes = [];\n  for (let i = 0; i < argumentNames.length; i++) {\n    const argumentName = argumentNames[i];\n    argumentTypes.push(argumentTypesObject[argumentName]);\n  }\n  return { argumentTypes, argumentNames };\n}\n\nmodule.exports = {\n  Kernel\n};\n},{\"../input\":110,\"../utils\":114}],37:[function(require,module,exports){\nconst fragmentShader = `__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],38:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { FunctionNode } = require('../function-node');\n\nclass WebGLFunctionNode extends FunctionNode {\n  constructor(source, settings) {\n    super(source, settings);\n    if (settings && settings.hasOwnProperty('fixIntegerDivisionAccuracy')) {\n      this.fixIntegerDivisionAccuracy = settings.fixIntegerDivisionAccuracy;\n    }\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    const consequentType = this.getType(ast.consequent);\n    const alternateType = this.getType(ast.alternate);\n    if (consequentType === null && alternateType === null) {\n      retArr.push('if (');\n      this.astGeneric(ast.test, retArr);\n      retArr.push(') {');\n      this.astGeneric(ast.consequent, retArr);\n      retArr.push(';');\n      retArr.push('} else {');\n      this.astGeneric(ast.alternate, retArr);\n      retArr.push(';');\n      retArr.push('}');\n      return retArr;\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    if (this.isRootKernel) {\n      retArr.push('void');\n    } else {\n      if (!this.returnType) {\n        const lastReturn = this.findLastReturn();\n        if (lastReturn) {\n          this.returnType = this.getType(ast.body);\n          if (this.returnType === 'LiteralInteger') {\n            this.returnType = 'Number';\n          }\n        }\n      }\n\n      const { returnType } = this;\n      if (!returnType) {\n        retArr.push('void');\n      } else {\n        const type = typeMap[returnType];\n        if (!type) {\n          throw new Error(`unknown type ${returnType}`);\n        }\n        retArr.push(type);\n      }\n    }\n    retArr.push(' ');\n    retArr.push(this.name);\n    retArr.push('(');\n\n    if (!this.isRootKernel) {\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        let argumentType = this.argumentTypes[this.argumentNames.indexOf(argumentName)];\n        if (!argumentType) {\n          throw this.astErrorOutput(`Unknown argument ${argumentName} type`, ast);\n        }\n        if (argumentType === 'LiteralInteger') {\n          this.argumentTypes[i] = argumentType = 'Number';\n        }\n        const type = typeMap[argumentType];\n        if (!type) {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        const name = utils.sanitizeName(argumentName);\n        if (type === 'sampler2D' || type === 'sampler2DArray') {\n          retArr.push(`${type} user_${name},ivec2 user_${name}Size,ivec3 user_${name}Dim`);\n        } else {\n          retArr.push(`${type} user_${name}`);\n        }\n      }\n    }\n\n    retArr.push(') {\\n');\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    retArr.push('}\\n');\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    if (!ast.argument) throw this.astErrorOutput('Unexpected return statement', ast);\n    this.pushState('skip-literal-correction');\n    const type = this.getType(ast.argument);\n    this.popState('skip-literal-correction');\n\n    const result = [];\n\n    if (!this.returnType) {\n      if (type === 'LiteralInteger' || type === 'Integer') {\n        this.returnType = 'Number';\n      } else {\n        this.returnType = type;\n      }\n    }\n\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Float':\n        switch (type) {\n          case 'Integer':\n            result.push('float(');\n            this.astGeneric(ast.argument, result);\n            result.push(')');\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToFloat(ast.argument, result);\n\n            if (this.getType(ast) === 'Integer') {\n              result.unshift('float(');\n              result.push(')');\n            }\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Integer':\n        switch (type) {\n          case 'Float':\n          case 'Number':\n            this.castValueToInteger(ast.argument, result);\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToInteger(ast.argument, result);\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Array(4)':\n      case 'Array(3)':\n      case 'Array(2)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n      case 'Input':\n        this.astGeneric(ast.argument, result);\n        break;\n      default:\n        throw this.astErrorOutput(`unhandled return type ${this.returnType}`, ast);\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(`kernelResult = ${ result.join('') };`);\n      retArr.push('return;');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = ${ result.join('') };`);\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push(`return ${ result.join('') };`);\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    const key = this.astKey(ast);\n    if (Number.isInteger(ast.value)) {\n      if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n        this.literalTypes[key] = 'Integer';\n        retArr.push(`${ast.value}`);\n      } else if (this.isState('casting-to-float') || this.isState('building-float')) {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      } else {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      }\n    } else if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n      this.literalTypes[key] = 'Integer';\n      retArr.push(Math.round(ast.value));\n    } else {\n      this.literalTypes[key] = 'Number';\n      retArr.push(`${ast.value}`);\n    }\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    if (this.checkAndUpconvertOperator(ast, retArr)) {\n      return retArr;\n    }\n\n    if (this.fixIntegerDivisionAccuracy && ast.operator === '/') {\n      retArr.push('divWithIntCheck(');\n      this.pushState('building-float');\n      switch (this.getType(ast.left)) {\n        case 'Integer':\n          this.castValueToFloat(ast.left, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.left, retArr);\n          break;\n        default:\n          this.astGeneric(ast.left, retArr);\n      }\n      retArr.push(', ');\n      switch (this.getType(ast.right)) {\n        case 'Integer':\n          this.castValueToFloat(ast.right, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.right, retArr);\n          break;\n        default:\n          this.astGeneric(ast.right, retArr);\n      }\n      this.popState('building-float');\n      retArr.push(')');\n      return retArr;\n    }\n\n    retArr.push('(');\n    const leftType = this.getType(ast.left) || 'Number';\n    const rightType = this.getType(ast.right) || 'Number';\n    if (!leftType || !rightType) {\n      throw this.astErrorOutput(`Unhandled binary expression`, ast);\n    }\n    const key = leftType + ' & ' + rightType;\n    switch (key) {\n      case 'Integer & Integer':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n      case 'Number & Float':\n      case 'Float & Number':\n      case 'Float & Float':\n      case 'Number & Number':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & LiteralInteger':\n        if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n          this.pushState('building-integer');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.astGeneric(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.castLiteralToFloat(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castLiteralToFloat(ast.right, retArr);\n          this.popState('building-float');\n        }\n        break;\n\n      case 'Integer & Float':\n      case 'Integer & Number':\n        if (ast.operator === '>' || ast.operator === '<' && ast.right.type === 'Literal') {\n          if (!Number.isInteger(ast.right.value)) {\n            this.pushState('building-float');\n            this.castValueToFloat(ast.left, retArr);\n            retArr.push(operatorMap[ast.operator] || ast.operator);\n            this.astGeneric(ast.right, retArr);\n            this.popState('building-float');\n            break;\n          }\n        }\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.pushState('casting-to-integer');\n        if (ast.right.type === 'Literal') {\n          const literalResult = [];\n          this.astGeneric(ast.right, literalResult);\n          const literalType = this.getType(ast.right);\n          if (literalType === 'Integer') {\n            retArr.push(literalResult.join(''));\n          } else {\n            throw this.astErrorOutput(`Unhandled binary expression with literal`, ast);\n          }\n        } else {\n          retArr.push('int(');\n          this.astGeneric(ast.right, retArr);\n          retArr.push(')');\n        }\n        this.popState('casting-to-integer');\n        this.popState('building-integer');\n        break;\n      case 'Integer & LiteralInteger':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToInteger(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Number & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'Float & LiteralInteger':\n      case 'Number & LiteralInteger':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & Float':\n      case 'LiteralInteger & Number':\n        if (this.isState('casting-to-integer')) {\n          this.pushState('building-integer');\n          this.castLiteralToInteger(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castValueToInteger(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.pushState('casting-to-float');\n          this.astGeneric(ast.right, retArr);\n          this.popState('casting-to-float');\n          this.popState('building-float');\n        }\n        break;\n      case 'LiteralInteger & Integer':\n        this.pushState('building-integer');\n        this.castLiteralToInteger(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Boolean & Boolean':\n        this.pushState('building-boolean');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-boolean');\n        break;\n\n      case 'Float & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n\n      default:\n        throw this.astErrorOutput(`Unhandled binary expression between ${key}`, ast);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  checkAndUpconvertOperator(ast, retArr) {\n    const bitwiseResult = this.checkAndUpconvertBitwiseOperators(ast, retArr);\n    if (bitwiseResult) {\n      return bitwiseResult;\n    }\n    const upconvertableOperators = {\n      '%': this.fixIntegerDivisionAccuracy ? 'integerCorrectionModulo' : 'modulo',\n      '**': 'pow',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.left)) {\n      case 'Integer':\n        this.castValueToFloat(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    switch (this.getType(ast.right)) {\n      case 'Integer':\n        this.castValueToFloat(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseOperators(ast, retArr) {\n    const upconvertableOperators = {\n      '&': 'bitwiseAnd',\n      '|': 'bitwiseOr',\n      '^': 'bitwiseXOR',\n      '<<': 'bitwiseZeroFillLeftShift',\n      '>>': 'bitwiseSignedRightShift',\n      '>>>': 'bitwiseZeroFillRightShift',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    const leftType = this.getType(ast.left);\n    switch (leftType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    const rightType = this.getType(ast.right);\n    switch (rightType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(ast, retArr) {\n    const upconvertableOperators = {\n      '~': 'bitwiseNot',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.argument)) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.argument, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.argument, retArr);\n        break;\n      default:\n        this.astGeneric(ast.argument, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  castLiteralToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castLiteralToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  castValueToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    retArr.push('int(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castValueToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    retArr.push('float(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput('IdentifierExpression - not an Identifier', idtNode);\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('3.402823466e+38');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      const { declarations } = forNode.init;\n      if (declarations.length > 1) {\n        isSafe = false;\n      }\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < declarations.length; i++) {\n        if (declarations[i].init && declarations[i].init.type !== 'Literal') {\n          isSafe = false;\n        }\n      }\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      const initString = initArr.join('');\n      const initNeedsSemiColon = initString[initString.length - 1] !== ';';\n      retArr.push(`for (${initString}${initNeedsSemiColon ? ';' : ''}${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), '\\n');\n      }\n      retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', whileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    retArr.push('if (!');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') break;\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', doWhileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') break;\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n\n  astAssignmentExpression(assNode, retArr) {\n    if (assNode.operator === '%=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('mod(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else if (assNode.operator === '**=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('pow(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else {\n      const leftType = this.getType(assNode.left);\n      const rightType = this.getType(assNode.right);\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(assNode.operator);\n      if (leftType !== 'Integer' && rightType === 'Integer') {\n        retArr.push('float(');\n        this.astGeneric(assNode.right, retArr);\n        retArr.push(')');\n      } else {\n        this.astGeneric(assNode.right, retArr);\n      }\n      return retArr;\n    }\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    const declarations = varDecNode.declarations;\n    if (!declarations || !declarations[0] || !declarations[0].init) {\n      throw this.astErrorOutput('Unexpected expression', varDecNode);\n    }\n    const result = [];\n    let lastType = null;\n    const declarationSets = [];\n    let declarationSet = [];\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const init = declaration.init;\n      const info = this.getDeclaration(declaration.id);\n      const actualType = this.getType(declaration.init);\n      let type = actualType;\n      if (type === 'LiteralInteger') {\n        if (info.suggestedType === 'Integer') {\n          type = 'Integer';\n        } else {\n          type = 'Number';\n        }\n      }\n      const markupType = typeMap[type];\n      if (!markupType) {\n        throw this.astErrorOutput(`Markup type ${ type } not handled`, varDecNode);\n      }\n      const declarationResult = [];\n      if (actualType === 'Integer' && type === 'Integer') {\n        info.valueType = 'Number';\n        if (i === 0 || lastType === null) {\n          declarationResult.push('float ');\n        } else if (type !== lastType) {\n          throw new Error('Unhandled declaration');\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        declarationResult.push('float(');\n        this.astGeneric(init, declarationResult);\n        declarationResult.push(')');\n      } else {\n        info.valueType = type;\n        if (i === 0 || lastType === null) {\n          declarationResult.push(`${markupType} `);\n        } else if (type !== lastType) {\n          declarationSets.push(declarationSet.join(','));\n          declarationSet = [];\n          declarationResult.push(`${markupType} `);\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        if (actualType === 'Number' && type === 'Integer') {\n          if (init.left && init.left.type === 'Literal') {\n            this.astGeneric(init, declarationResult);\n          } else {\n            declarationResult.push('int(');\n            this.astGeneric(init, declarationResult);\n            declarationResult.push(')');\n          }\n        } else if (actualType === 'LiteralInteger' && type === 'Integer') {\n          this.castLiteralToInteger(init, declarationResult);\n        } else {\n          this.astGeneric(init, declarationResult);\n        }\n      }\n      declarationSet.push(declarationResult.join(''));\n    }\n\n    if (declarationSet.length > 0) {\n      declarationSets.push(declarationSet.join(','));\n    }\n\n    result.push(declarationSets.join(';'));\n\n    retArr.push(result.join(''));\n    retArr.push(';');\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n  }\n\n  astSwitchStatement(ast, retArr) {\n    if (ast.type !== 'SwitchStatement') {\n      throw this.astErrorOutput('Invalid switch statement', ast);\n    }\n    const { discriminant, cases } = ast;\n    const type = this.getType(discriminant);\n    const varName = `switchDiscriminant${this.astKey(ast, '_')}`;\n    switch (type) {\n      case 'Float':\n      case 'Number':\n        retArr.push(`float ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n      case 'Integer':\n        retArr.push(`int ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n    }\n    if (cases.length === 1 && !cases[0].test) {\n      this.astGeneric(cases[0].consequent, retArr);\n      return retArr;\n    }\n\n    let fallingThrough = false;\n    let defaultResult = [];\n    let movingDefaultToEnd = false;\n    let pastFirstIf = false;\n    for (let i = 0; i < cases.length; i++) {\n      if (!cases[i].test) {\n        if (cases.length > i + 1) {\n          movingDefaultToEnd = true;\n          this.astGeneric(cases[i].consequent, defaultResult);\n          continue;\n        } else {\n          retArr.push(' else {\\n');\n        }\n      } else {\n        if (i === 0 || !pastFirstIf) {\n          pastFirstIf = true;\n          retArr.push(`if (${varName} == `);\n        } else {\n          if (fallingThrough) {\n            retArr.push(`${varName} == `);\n            fallingThrough = false;\n          } else {\n            retArr.push(` else if (${varName} == `);\n          }\n        }\n        if (type === 'Integer') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'Number':\n            case 'Float':\n              this.castValueToInteger(cases[i].test, retArr);\n              break;\n            case 'LiteralInteger':\n              this.castLiteralToInteger(cases[i].test, retArr);\n              break;\n          }\n        } else if (type === 'Float') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'LiteralInteger':\n              this.castLiteralToFloat(cases[i].test, retArr);\n              break;\n            case 'Integer':\n              this.castValueToFloat(cases[i].test, retArr);\n              break;\n          }\n        } else {\n          throw new Error('unhanlded');\n        }\n        if (!cases[i].consequent || cases[i].consequent.length === 0) {\n          fallingThrough = true;\n          retArr.push(' || ');\n          continue;\n        }\n        retArr.push(`) {\\n`);\n      }\n      this.astGeneric(cases[i].consequent, retArr);\n      retArr.push('\\n}');\n    }\n    if (movingDefaultToEnd) {\n      retArr.push(' else {');\n      retArr.push(defaultResult.join(''));\n      retArr.push('}');\n    }\n    return retArr;\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      property,\n      name,\n      signature,\n      origin,\n      type,\n      xProperty,\n      yProperty,\n      zProperty\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'value.thread.value':\n      case 'this.thread.value':\n        if (name !== 'x' && name !== 'y' && name !== 'z') {\n          throw this.astErrorOutput('Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`', mNode);\n        }\n        retArr.push(`threadId.${name}`);\n        return retArr;\n      case 'this.output.value':\n        if (this.dynamicOutput) {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.x)');\n              } else {\n                retArr.push('uOutputDim.x');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.y)');\n              } else {\n                retArr.push('uOutputDim.y');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.z)');\n              } else {\n                retArr.push('uOutputDim.z');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        } else {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[0]);\n              } else {\n                retArr.push(this.output[0], '.0');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[1]);\n              } else {\n                retArr.push(this.output[1], '.0');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[2]);\n              } else {\n                retArr.push(this.output[2], '.0');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value[][][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        const cleanName = utils.sanitizeName(name);\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ cleanName }.r`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ cleanName }.g`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ cleanName }.b`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ cleanName }.a`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n        if (typeof xProperty === 'undefined') {\n          switch (type) {\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              retArr.push(`constants_${ utils.sanitizeName(name) }`);\n              return retArr;\n          }\n        }\n        case 'this.constants.value[]':\n        case 'this.constants.value[][]':\n        case 'this.constants.value[][][]':\n        case 'this.constants.value[][][][]':\n          break;\n        case 'fn()[]':\n          this.astCallExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case 'fn()[][]':\n          this.astCallExpression(mNode.object.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(mNode.object.property));\n          retArr.push(']');\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(mNode.property));\n          retArr.push(']');\n          return retArr;\n        case '[][]':\n          this.astArrayExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        default:\n          throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (mNode.computed === false) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${utils.sanitizeName(name)}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${utils.sanitizeName(name)}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        retArr.push(this.memberExpressionPropertyMarkup(xProperty));\n        retArr.push(']');\n        break;\n      case 'HTMLImageArray':\n        retArr.push(`getImage3D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(1)':\n        retArr.push(`getFloatFromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(2)':\n      case 'Array2D(2)':\n      case 'Array3D(2)':\n        retArr.push(`getMemoryOptimizedVec2(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(2)':\n        retArr.push(`getVec2FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(3)':\n      case 'Array2D(3)':\n      case 'Array3D(3)':\n        retArr.push(`getMemoryOptimizedVec3(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(3)':\n        retArr.push(`getVec3FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(4)':\n      case 'Array2D(4)':\n      case 'Array3D(4)':\n        retArr.push(`getMemoryOptimizedVec4(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(4)':\n      case 'HTMLCanvas':\n      case 'OffscreenCanvas':\n      case 'HTMLImage':\n      case 'ImageBitmap':\n      case 'ImageData':\n      case 'HTMLVideo':\n        retArr.push(`getVec4FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'NumberTexture':\n      case 'Array':\n      case 'Array2D':\n      case 'Array3D':\n      case 'Array4D':\n      case 'Input':\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        if (this.precision === 'single') {\n          retArr.push(`getMemoryOptimized32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        } else {\n          const bitRatio = (origin === 'user' ?\n            this.lookupFunctionArgumentBitRatio(this.name, name) :\n            this.constantBitRatios[name]\n          );\n          switch (bitRatio) {\n            case 1:\n              retArr.push(`get8(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 2:\n              retArr.push(`get16(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 4:\n            case 0:\n              retArr.push(`get32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            default:\n              throw new Error(`unhandled bit ratio of ${bitRatio}`);\n          }\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        }\n        break;\n      case 'MemoryOptimizedNumberTexture':\n        retArr.push(`getMemoryOptimized32(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`${markupName}[${this.memberExpressionPropertyMarkup(yProperty)}]`);\n        if (yProperty) {\n          retArr.push(`[${this.memberExpressionPropertyMarkup(xProperty)}]`);\n        }\n        break;\n      default:\n        throw new Error(`unhandled member expression \"${ type }\"`);\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (!ast.callee) {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n\n    let functionName = null;\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (isMathFunction || (ast.callee.object && ast.callee.object.type === 'ThisExpression')) {\n      functionName = ast.callee.property.name;\n    }\n    else if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[0].type === 'Literal' && !isNaN(ast.callee.expressions[0].raw)) {\n      functionName = ast.callee.expressions[1].property.name;\n    } else {\n      functionName = ast.callee.name;\n    }\n\n    if (!functionName) {\n      throw this.astErrorOutput(`Unhandled function, couldn't find name`, ast);\n    }\n\n    switch (functionName) {\n      case 'pow':\n        functionName = '_pow';\n        break;\n      case 'round':\n        functionName = '_round';\n        break;\n    }\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    if (functionName === 'random' && this.plugins && this.plugins.length > 0) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.functionMatch === 'Math.random()' && plugin.functionReplace) {\n          retArr.push(plugin.functionReplace);\n          return retArr;\n        }\n      }\n    }\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n\n    if (isMathFunction) {\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        const argumentType = this.getType(argument);\n        if (i > 0) {\n          retArr.push(', ');\n        }\n\n        switch (argumentType) {\n          case 'Integer':\n            this.castValueToFloat(argument, retArr);\n            break;\n          default:\n            this.astGeneric(argument, retArr);\n            break;\n        }\n      }\n    } else {\n      const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        let targetType = targetTypes[i];\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        const argumentType = this.getType(argument);\n        if (!targetType) {\n          this.triggerImplyArgumentType(functionName, i, argumentType, this);\n          targetType = argumentType;\n        }\n        switch (argumentType) {\n          case 'Boolean':\n            this.astGeneric(argument, retArr);\n            continue;\n          case 'Number':\n          case 'Float':\n            if (targetType === 'Integer') {\n              retArr.push('int(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.astGeneric(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Integer':\n            if (targetType === 'Number' || targetType === 'Float') {\n              retArr.push('float(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Integer') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'LiteralInteger':\n            if (targetType === 'Integer') {\n              this.castLiteralToInteger(argument, retArr);\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            if (targetType === argumentType) {\n              if (argument.type === 'Identifier') {\n                retArr.push(`user_${utils.sanitizeName(argument.name)}`);\n              } else if (argument.type === 'ArrayExpression' || argument.type === 'MemberExpression' || argument.type === 'CallExpression') {\n                this.astGeneric(argument, retArr);\n              } else {\n                throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              }\n              continue;\n            }\n            break;\n          case 'HTMLCanvas':\n          case 'OffscreenCanvas':\n          case 'HTMLImage':\n          case 'ImageBitmap':\n          case 'ImageData':\n          case 'HTMLImageArray':\n          case 'HTMLVideo':\n          case 'ArrayTexture(1)':\n          case 'ArrayTexture(2)':\n          case 'ArrayTexture(3)':\n          case 'ArrayTexture(4)':\n          case 'Array':\n          case 'Input':\n            if (targetType === argumentType) {\n              if (argument.type !== 'Identifier') throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              this.triggerImplyArgumentBitRatio(this.name, argument.name, functionName, i);\n              const name = utils.sanitizeName(argument.name);\n              retArr.push(`user_${name},user_${name}Size,user_${name}Dim`);\n              continue;\n            }\n            break;\n        }\n        throw this.astErrorOutput(`Unhandled argument combination of ${ argumentType } and ${ targetType } for argument named \"${ argument.name }\"`, ast);\n      }\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const returnType = this.getType(arrNode);\n\n    const arrLen = arrNode.elements.length;\n\n    switch (returnType) {\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`mat${arrLen}(`);\n        break;\n      default:\n        retArr.push(`vec${arrLen}(`);\n    }\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  memberExpressionXYZ(x, y, z, retArr) {\n    if (z) {\n      retArr.push(this.memberExpressionPropertyMarkup(z), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    if (y) {\n      retArr.push(this.memberExpressionPropertyMarkup(y), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    retArr.push(this.memberExpressionPropertyMarkup(x));\n    return retArr;\n  }\n\n  memberExpressionPropertyMarkup(property) {\n    if (!property) {\n      throw new Error('Property not set');\n    }\n    const type = this.getType(property);\n    const result = [];\n    switch (type) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(property, result);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(property, result);\n        break;\n      default:\n        this.astGeneric(property, result);\n    }\n    return result.join('');\n  }\n}\n\nconst typeMap = {\n  'Array': 'sampler2D',\n  'Array(2)': 'vec2',\n  'Array(3)': 'vec3',\n  'Array(4)': 'vec4',\n  'Matrix(2)': 'mat2',\n  'Matrix(3)': 'mat3',\n  'Matrix(4)': 'mat4',\n  'Array2D': 'sampler2D',\n  'Array3D': 'sampler2D',\n  'Boolean': 'bool',\n  'Float': 'float',\n  'Input': 'sampler2D',\n  'Integer': 'int',\n  'Number': 'float',\n  'LiteralInteger': 'float',\n  'NumberTexture': 'sampler2D',\n  'MemoryOptimizedNumberTexture': 'sampler2D',\n  'ArrayTexture(1)': 'sampler2D',\n  'ArrayTexture(2)': 'sampler2D',\n  'ArrayTexture(3)': 'sampler2D',\n  'ArrayTexture(4)': 'sampler2D',\n  'HTMLVideo': 'sampler2D',\n  'HTMLCanvas': 'sampler2D',\n  'OffscreenCanvas': 'sampler2D',\n  'HTMLImage': 'sampler2D',\n  'ImageBitmap': 'sampler2D',\n  'ImageData': 'sampler2D',\n  'HTMLImageArray': 'sampler2DArray',\n};\n\nconst operatorMap = {\n  '===': '==',\n  '!==': '!='\n};\n\nmodule.exports = {\n  WebGLFunctionNode\n};\n},{\"../../utils\":114,\"../function-node\":10}],39:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGLKernelValueFloat } = require('./kernel-value/float');\nconst { WebGLKernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGLKernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGLKernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGLKernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGLKernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGLKernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGLKernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGLKernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGLKernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGLKernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGLKernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGLKernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGLKernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGLKernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGLKernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGLKernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGLKernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGLKernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGLKernelValueArray2 } = require('./kernel-value/array2');\nconst { WebGLKernelValueArray3 } = require('./kernel-value/array3');\nconst { WebGLKernelValueArray4 } = require('./kernel-value/array4');\n\nconst { WebGLKernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicUnsignedArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGLKernelValueDynamicHTMLImage,\n      'ImageData': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueUnsignedArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueUnsignedInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'ImageBitmap': WebGLKernelValueHTMLImage,\n      'ImageData': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicSingleArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueDynamicSingleArray3DI,\n      'Input': WebGLKernelValueDynamicSingleInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGLKernelValueDynamicHTMLImage,\n      'ImageData': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueSingleArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': WebGLKernelValueSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueSingleArray3DI,\n      'Input': WebGLKernelValueSingleInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'ImageBitmap': WebGLKernelValueHTMLImage,\n      'ImageData': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  lookupKernelValueType,\n  kernelValueMaps,\n};\n},{\"./kernel-value/array2\":41,\"./kernel-value/array3\":42,\"./kernel-value/array4\":43,\"./kernel-value/boolean\":44,\"./kernel-value/dynamic-html-image\":45,\"./kernel-value/dynamic-html-video\":46,\"./kernel-value/dynamic-memory-optimized-number-texture\":47,\"./kernel-value/dynamic-number-texture\":48,\"./kernel-value/dynamic-single-array\":49,\"./kernel-value/dynamic-single-array1d-i\":50,\"./kernel-value/dynamic-single-array2d-i\":51,\"./kernel-value/dynamic-single-array3d-i\":52,\"./kernel-value/dynamic-single-input\":53,\"./kernel-value/dynamic-unsigned-array\":54,\"./kernel-value/dynamic-unsigned-input\":55,\"./kernel-value/float\":56,\"./kernel-value/html-image\":57,\"./kernel-value/html-video\":58,\"./kernel-value/integer\":60,\"./kernel-value/memory-optimized-number-texture\":61,\"./kernel-value/number-texture\":62,\"./kernel-value/single-array\":63,\"./kernel-value/single-array1d-i\":64,\"./kernel-value/single-array2d-i\":65,\"./kernel-value/single-array3d-i\":66,\"./kernel-value/single-input\":67,\"./kernel-value/unsigned-array\":68,\"./kernel-value/unsigned-input\":69}],40:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\nconst { Input } = require('../../../input');\n\nclass WebGLKernelArray extends WebGLKernelValue {\n  checkSize(width, height) {\n    if (!this.kernel.validate) return;\n    const { maxTextureSize } = this.kernel.constructor.features;\n    if (width > maxTextureSize || height > maxTextureSize) {\n      if (width > height) {\n        throw new Error(`Argument texture width of ${width} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else if (width < height) {\n        throw new Error(`Argument texture height of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else {\n        throw new Error(`Argument texture height and width of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      }\n    }\n  }\n\n  setup() {\n    this.requestTexture();\n    this.setupTexture();\n    this.defineTexture();\n  }\n\n  requestTexture() {\n    this.texture = this.onRequestTexture();\n  }\n\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  }\n\n  setupTexture() {\n    this.contextHandle = this.onRequestContextHandle();\n    this.index = this.onRequestIndex();\n    this.dimensionsId = this.id + 'Dim';\n    this.sizeId = this.id + 'Size';\n  }\n\n  getBitRatio(value) {\n    if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  destroy() {\n    if (this.prevArg) {\n      this.prevArg.delete();\n    }\n    this.context.deleteTexture(this.texture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelArray\n};\n},{\"../../../input\":110,\"./index\":59}],41:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray2 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec2 ${this.id} = vec2(${value[0]},${value[1]});\\n`;\n    }\n    return `uniform vec2 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform2fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray2\n};\n},{\"./index\":59}],42:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray3 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec3 ${this.id} = vec3(${value[0]},${value[1]},${value[2]});\\n`;\n    }\n    return `uniform vec3 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform3fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray3\n};\n},{\"./index\":59}],43:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray4 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec4 ${this.id} = vec4(${value[0]},${value[1]},${value[2]},${value[3]});\\n`;\n    }\n    return `uniform vec4 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform4fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray4\n};\n},{\"./index\":59}],44:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueBoolean extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const bool ${this.id} = ${value};\\n`;\n    }\n    return `uniform bool ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueBoolean\n};\n},{\"../../../utils\":114,\"./index\":59}],45:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueDynamicHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"./html-image\":57}],46:[function(require,module,exports){\nconst { WebGLKernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGLKernelValueDynamicHTMLVideo extends WebGLKernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLVideo\n};\n},{\"./dynamic-html-image\":45}],47:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    this.dimensions = inputTexture.dimensions;\n    this.checkSize(inputTexture.size[0], inputTexture.size[1]);\n    this.textureSize = inputTexture.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(inputTexture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"./memory-optimized-number-texture\":61}],48:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('./number-texture');\n\nclass WebGLKernelValueDynamicNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = value.dimensions;\n    this.checkSize(value.size[0], value.size[1]);\n    this.textureSize = value.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"./number-texture\":62}],49:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('./single-array');\n\nclass WebGLKernelValueDynamicSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"./single-array\":63}],50:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('./single-array1d-i');\n\nclass WebGLKernelValueDynamicSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"./single-array1d-i\":64}],51:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('./single-array2d-i');\n\nclass WebGLKernelValueDynamicSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"./single-array2d-i\":65}],52:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('./single-array3d-i');\n\nclass WebGLKernelValueDynamicSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"./single-array3d-i\":66}],53:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('./single-input');\n\nclass WebGLKernelValueDynamicSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"./single-input\":67}],54:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('./unsigned-array');\n\nclass WebGLKernelValueDynamicUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"./unsigned-array\":68}],55:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('./unsigned-input');\n\nclass WebGLKernelValueDynamicUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value.value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"./unsigned-input\":69}],56:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueFloat extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      if (Number.isInteger(value)) {\n        return `const float ${this.id} = ${value}.0;\\n`;\n      }\n      return `const float ${this.id} = ${value};\\n`;\n    }\n    return `uniform float ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1f(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueFloat\n};\n},{\"../../../utils\":114,\"./index\":59}],57:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueHTMLImage extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.uploadValue = value;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputImage) {\n    if (inputImage.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputImage.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue = inputImage);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"./array\":40}],58:[function(require,module,exports){\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueHTMLVideo extends WebGLKernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueHTMLVideo\n};\n},{\"./html-image\":57}],59:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { KernelValue } = require('../../kernel-value');\n\nclass WebGLKernelValue extends KernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.dimensionsId = null;\n    this.sizeId = null;\n    this.initialValueConstructor = value.constructor;\n    this.onRequestTexture = settings.onRequestTexture;\n    this.onRequestIndex = settings.onRequestIndex;\n    this.uploadValue = null;\n    this.textureSize = null;\n    this.bitRatio = null;\n    this.prevArg = null;\n  }\n\n  get id() {\n    return `${this.origin}_${utils.sanitizeName(this.name)}`;\n  }\n\n  setup() {}\n\n  getTransferArrayType(value) {\n    if (Array.isArray(value[0])) {\n      return this.getTransferArrayType(value[0]);\n    }\n    switch (value.constructor) {\n      case Array:\n      case Int32Array:\n      case Int16Array:\n      case Int8Array:\n        return Float32Array;\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Uint16Array:\n      case Uint32Array:\n      case Float32Array:\n      case Float64Array:\n        return value.constructor;\n    }\n    console.warn('Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros');\n    return value.constructor;\n  }\n\n  getStringValueHandler() {\n    throw new Error(`\"getStringValueHandler\" not implemented on ${this.constructor.name}`);\n  }\n\n  getVariablePrecisionString() {\n    return this.kernel.getVariablePrecisionString(this.textureSize || undefined, this.tactic || undefined);\n  }\n\n  destroy() {}\n}\n\nmodule.exports = {\n  WebGLKernelValue\n};\n},{\"../../../utils\":114,\"../../kernel-value\":35}],60:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueInteger extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueInteger\n};\n},{\"../../../utils\":114,\"./index\":59}],61:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nconst sameError = `Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()`;\n\nclass WebGLKernelValueMemoryOptimizedNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    this.dimensions = value.dimensions;\n    this.textureSize = value.size;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture && kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueMemoryOptimizedNumberTexture,\n  sameError\n};\n},{\"../../../utils\":114,\"./array\":40}],62:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\nconst { sameError } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    const { size: textureSize, dimensions } = value;\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = dimensions;\n    this.textureSize = textureSize;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture && kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"./array\":40,\"./memory-optimized-number-texture\":61}],63:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray\n};\n},{\"../../../utils\":114,\"./array\":40}],64:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray1DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], 1, 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten2dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"./array\":40}],65:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray2DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten3dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"./array\":40}],66:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray3DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], valueDimensions[3]]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten4dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"./array\":40}],67:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}.value, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(input.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleInput\n};\n},{\"../../../utils\":114,\"./array\":40}],68:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"./array\":40}],69:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    const [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value.value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}.value, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"./array\":40}],70:[function(require,module,exports){\nconst { GLKernel } = require('../gl/kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { WebGLFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst mrud = require('../../plugins/math-random-uniformly-distributed');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { glKernelString } = require('../gl/kernel-string');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nconst plugins = [mrud];\nconst canvases = [];\nconst maxTexSizes = {};\n\n\nclass WebGLKernel extends GLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl') || testCanvas.getContext('experimental-webgl');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      OES_texture_float: testContext.getExtension('OES_texture_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGLRenderingContext !== 'undefined') {\n      return context instanceof WebGLRenderingContext;\n    }\n    return false;\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.program = null;\n    this.pipeline = settings.pipeline;\n    this.endianness = utils.systemEndianness();\n    this.extensions = {};\n    this.argumentTextureCount = 0;\n    this.constantTextureCount = 0;\n    this.fragShader = null;\n    this.vertShader = null;\n    this.drawBuffersMap = null;\n\n    this.maxTexSize = null;\n    this.onRequestSwitchKernel = null;\n\n    this.texture = null;\n    this.mappedTextures = null;\n    this.mergeSettings(source.settings || settings);\n\n    this.threadDim = null;\n    this.framebuffer = null;\n    this.buffer = null;\n\n    this.textureCache = [];\n    this.programUniformLocationCache = {};\n    this.uniform1fCache = {};\n    this.uniform1iCache = {};\n    this.uniform2fCache = {};\n    this.uniform2fvCache = {};\n    this.uniform2ivCache = {};\n    this.uniform3fvCache = {};\n    this.uniform3ivCache = {};\n    this.uniform4fvCache = {};\n    this.uniform4ivCache = {};\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      const canvas = document.createElement('canvas');\n      canvas.width = 2;\n      canvas.height = 2;\n      return canvas;\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl', settings) || this.canvas.getContext('experimental-webgl', settings);\n  }\n\n  initPlugins(settings) {\n    const pluginsToUse = [];\n    const { source } = this;\n    if (typeof source === 'string') {\n      for (let i = 0; i < plugins.length; i++) {\n        const plugin = plugins[i];\n        if (source.match(plugin.functionMatch)) {\n          pluginsToUse.push(plugin);\n        }\n      }\n    } else if (typeof source === 'object') {\n      if (settings.pluginNames) { \n        for (let i = 0; i < plugins.length; i++) {\n          const plugin = plugins[i];\n          const usePlugin = settings.pluginNames.some(pluginName => pluginName === plugin.name);\n          if (usePlugin) {\n            pluginsToUse.push(plugin);\n          }\n        }\n      }\n    }\n    return pluginsToUse;\n  }\n\n  initExtensions() {\n    this.extensions = {\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n      WEBGL_color_buffer_float: this.context.getExtension('WEBGL_color_buffer_float'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n\n    if (this.optimizeFloatMemory === true && !features.isTextureFloat) {\n      throw new Error('Float textures are not supported');\n    } else if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Single precision not supported');\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.subKernels && this.subKernels.length > 0 && !this.extensions.WEBGL_draw_buffers) {\n      throw new Error('could not instantiate draw buffers extension');\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'precision') {\n        this.precision = 'unsigned';\n        console.warn('Cannot use graphical mode and single precision at the same time');\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  updateMaxTexSize() {\n    const { texSize, canvas } = this;\n    if (this.maxTexSize === null) {\n      let canvasIndex = canvases.indexOf(canvas);\n      if (canvasIndex === -1) {\n        canvasIndex = canvases.length;\n        canvases.push(canvas);\n        maxTexSizes[canvasIndex] = [texSize[0], texSize[1]];\n      }\n      this.maxTexSize = maxTexSizes[canvasIndex];\n    }\n    if (this.maxTexSize[0] < texSize[0]) {\n      this.maxTexSize[0] = texSize[0];\n    }\n    if (this.maxTexSize[1] < texSize[1]) {\n      this.maxTexSize[1] = texSize[1];\n    }\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    this.argumentTextureCount = 0;\n    const needsArgumentTypes = this.argumentTypes === null;\n    if (needsArgumentTypes) {\n      this.argumentTypes = [];\n    }\n    this.argumentSizes = [];\n    this.argumentBitRatios = [];\n\n    if (args.length < this.argumentNames.length) {\n      throw new Error('not enough arguments for kernel');\n    } else if (args.length > this.argumentNames.length) {\n      throw new Error('too many arguments for kernel');\n    }\n\n    const { context: gl } = this;\n    let textureIndexes = 0;\n\n    const onRequestTexture = () => {\n      return this.createTexture();\n    };\n    const onRequestIndex = () => {\n      return this.constantTextureCount + textureIndexes++;\n    };\n    const onUpdateValueMismatch = (constructor) => {\n      this.switchKernels({\n        type: 'argumentMismatch',\n        needed: constructor\n      });\n    };\n    const onRequestContextHandle = () => {\n      return gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount++;\n    };\n\n    for (let index = 0; index < args.length; index++) {\n      const value = args[index];\n      const name = this.argumentNames[index];\n      let type;\n      if (needsArgumentTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.argumentTypes.push(type);\n      } else {\n        type = this.argumentTypes[index];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, this.dynamicArguments ? 'dynamic' : 'static', this.precision, args[index]);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelArgument = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'user',\n        context: gl,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture,\n        onRequestIndex,\n        onUpdateValueMismatch,\n        onRequestContextHandle,\n      });\n      this.kernelArguments.push(kernelArgument);\n      kernelArgument.setup();\n      this.argumentSizes.push(kernelArgument.textureSize);\n      this.argumentBitRatios[index] = kernelArgument.bitRatio;\n    }\n  }\n\n  createTexture() {\n    const texture = this.context.createTexture();\n    this.textureCache.push(texture);\n    return texture;\n  }\n\n  setupConstants(args) {\n    const { context: gl } = this;\n    this.kernelConstants = [];\n    this.forceUploadKernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    let textureIndexes = 0;\n    for (const name in this.constants) {\n      const value = this.constants[name];\n      let type;\n      if (needsConstantTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.constantTypes[name] = type;\n      } else {\n        type = this.constantTypes[name];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, 'static', this.precision, value);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelValue = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'constants',\n        context: this.context,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture: () => {\n          return this.createTexture();\n        },\n        onRequestIndex: () => {\n          return textureIndexes++;\n        },\n        onRequestContextHandle: () => {\n          return gl.TEXTURE0 + this.constantTextureCount++;\n        }\n      });\n      this.constantBitRatios[name] = kernelValue.bitRatio;\n      this.kernelConstants.push(kernelValue);\n      kernelValue.setup();\n      if (kernelValue.forceUploadEachRun) {\n        this.forceUploadKernelConstants.push(kernelValue);\n      }\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.initExtensions();\n    this.validateSettings(arguments);\n    this.setupConstants(arguments);\n    if (this.fallbackRequested) return;\n    this.setupArguments(arguments);\n    if (this.fallbackRequested) return;\n    this.updateMaxTexSize();\n    this.translateSource();\n    const failureResult = this.pickRenderStrategy(arguments);\n    if (failureResult) {\n      return failureResult;\n    }\n    const { texSize, context: gl, canvas } = this;\n    gl.enable(gl.SCISSOR_TEST);\n    if (this.pipeline && this.precision === 'single') {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    } else {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    }\n    const threadDim = this.threadDim = Array.from(this.output);\n    while (threadDim.length < 3) {\n      threadDim.push(1);\n    }\n\n    const compiledVertexShader = this.getVertexShader(arguments);\n    const vertShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertShader, compiledVertexShader);\n    gl.compileShader(vertShader);\n    this.vertShader = vertShader;\n\n    const compiledFragmentShader = this.getFragmentShader(arguments);\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragShader, compiledFragmentShader);\n    gl.compileShader(fragShader);\n    this.fragShader = fragShader;\n\n    if (this.debug) {\n      console.log('GLSL Shader Output:');\n      console.log(compiledFragmentShader);\n    }\n\n    if (!gl.getShaderParameter(vertShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling vertex shader: ' + gl.getShaderInfoLog(vertShader));\n    }\n    if (!gl.getShaderParameter(fragShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling fragment shader: ' + gl.getShaderInfoLog(fragShader));\n    }\n\n    const program = this.program = gl.createProgram();\n    gl.attachShader(program, vertShader);\n    gl.attachShader(program, fragShader);\n    gl.linkProgram(program);\n    this.framebuffer = gl.createFramebuffer();\n    this.framebuffer.width = texSize[0];\n    this.framebuffer.height = texSize[1];\n    this.rawValueFramebuffers = {};\n\n    const vertices = new Float32Array([-1, -1,\n      1, -1, -1, 1,\n      1, 1\n    ]);\n    const texCoords = new Float32Array([\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1\n    ]);\n\n    const texCoordOffset = vertices.byteLength;\n\n    let buffer = this.buffer;\n    if (!buffer) {\n      buffer = this.buffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices.byteLength + texCoords.byteLength, gl.STATIC_DRAW);\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    }\n\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, vertices);\n    gl.bufferSubData(gl.ARRAY_BUFFER, texCoordOffset, texCoords);\n\n    const aPosLoc = gl.getAttribLocation(this.program, 'aPos');\n    gl.enableVertexAttribArray(aPosLoc);\n    gl.vertexAttribPointer(aPosLoc, 2, gl.FLOAT, false, 0, 0);\n    const aTexCoordLoc = gl.getAttribLocation(this.program, 'aTexCoord');\n    gl.enableVertexAttribArray(aTexCoordLoc);\n    gl.vertexAttribPointer(aTexCoordLoc, 2, gl.FLOAT, false, 0, texCoordOffset);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n\n    let i = 0;\n    gl.useProgram(this.program);\n    for (let p in this.constants) {\n      this.kernelConstants[i++].updateValue(this.constants[p]);\n    }\n\n    this._setupOutputTexture();\n    if (\n      this.subKernels !== null &&\n      this.subKernels.length > 0\n    ) {\n      this._mappedTextureSwitched = {};\n      this._setupSubOutputTextures();\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGLFunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  setupReturnTypes(functionBuilder) {\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n\n    if (this.subKernels && this.subKernels.length > 0) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const subKernel = this.subKernels[i];\n        if (!subKernel.returnType) {\n          subKernel.returnType = functionBuilder.getSubKernelResultType(i);\n        }\n      }\n    }\n  }\n\n  run() {\n    const { kernelArguments, texSize, forceUploadKernelConstants, context: gl } = this;\n\n    gl.useProgram(this.program);\n    gl.scissor(0, 0, texSize[0], texSize[1]);\n    if (this.dynamicOutput) {\n      this.setUniform3iv('uOutputDim', new Int32Array(this.threadDim));\n      this.setUniform2iv('uTexSize', texSize);\n    }\n\n    this.setUniform2f('ratio', texSize[0] / this.maxTexSize[0], texSize[1] / this.maxTexSize[1]);\n\n    for (let i = 0; i < forceUploadKernelConstants.length; i++) {\n      const constant = forceUploadKernelConstants[i];\n      constant.updateValue(this.constants[constant.name]);\n      if (this.switchingKernels) return;\n    }\n    for (let i = 0; i < kernelArguments.length; i++) {\n      kernelArguments[i].updateValue(arguments[i]);\n      if (this.switchingKernels) return;\n    }\n\n    if (this.plugins) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.onBeforeRun) {\n          plugin.onBeforeRun(this);\n        }\n      }\n    }\n\n    if (this.graphical) {\n      if (this.pipeline) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        if (this.immutable) {\n          this._replaceOutputTexture();\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        return this.immutable ? this.texture.clone() : this.texture;\n      }\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      return;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    if (this.immutable) {\n      this._replaceOutputTexture();\n    }\n\n    if (this.subKernels !== null) {\n      if (this.immutable) {\n        this._replaceSubOutputTextures();\n      }\n      this.drawBuffers();\n    }\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  drawBuffers() {\n    this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap);\n  }\n\n  getInternalFormat() {\n    return this.context.RGBA;\n  }\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n\n  _replaceOutputTexture() {\n    if (this.texture.beforeMutate() || this._textureSwitched) {\n      const gl = this.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      this._textureSwitched = false;\n    }\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    const texSize = this.texSize;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    const texture = this.createTexture();\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _replaceSubOutputTextures() {\n    const gl = this.context;\n    for (let i = 0; i < this.mappedTextures.length; i++) {\n      const mappedTexture = this.mappedTextures[i];\n      if (mappedTexture.beforeMutate() || this._mappedTextureSwitched[i]) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, mappedTexture.texture, 0);\n        this._mappedTextureSwitched[i] = false;\n      }\n    }\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      if (this.precision === 'single') {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  setUniform1f(name, value) {\n    if (this.uniform1fCache.hasOwnProperty(name)) {\n      const cache = this.uniform1fCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1fCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1f(loc, value);\n  }\n\n  setUniform1i(name, value) {\n    if (this.uniform1iCache.hasOwnProperty(name)) {\n      const cache = this.uniform1iCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1iCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1i(loc, value);\n  }\n\n  setUniform2f(name, value1, value2) {\n    if (this.uniform2fCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fCache[name];\n      if (\n        value1 === cache[0] &&\n        value2 === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fCache[name] = [value1, value2];\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2f(loc, value1, value2);\n  }\n\n  setUniform2fv(name, value) {\n    if (this.uniform2fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2fv(loc, value);\n  }\n\n  setUniform2iv(name, value) {\n    if (this.uniform2ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform2ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2iv(loc, value);\n  }\n\n  setUniform3fv(name, value) {\n    if (this.uniform3fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform3fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3fv(loc, value);\n  }\n\n  setUniform3iv(name, value) {\n    if (this.uniform3ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform3ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3iv(loc, value);\n  }\n\n  setUniform4fv(name, value) {\n    if (this.uniform4fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform4fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4fv(loc, value);\n  }\n\n  setUniform4iv(name, value) {\n    if (this.uniform4ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform4ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4iv(loc, value);\n  }\n\n  getUniformLocation(name) {\n    if (this.programUniformLocationCache.hasOwnProperty(name)) {\n      return this.programUniformLocationCache[name];\n    }\n    return this.programUniformLocationCache[name] = this.context.getUniformLocation(this.program, name);\n  }\n\n  _getFragShaderArtifactMap(args) {\n    return {\n      HEADER: this._getHeaderString(),\n      LOOP_MAX: this._getLoopMaxString(),\n      PLUGINS: this._getPluginsString(),\n      CONSTANTS: this._getConstantsString(),\n      DECODE32_ENDIANNESS: this._getDecode32EndiannessString(),\n      ENCODE32_ENDIANNESS: this._getEncode32EndiannessString(),\n      DIVIDE_WITH_INTEGER_CHECK: this._getDivideWithIntegerCheckString(),\n      INJECTED_NATIVE: this._getInjectedNative(),\n      MAIN_CONSTANTS: this._getMainConstantsString(),\n      MAIN_ARGUMENTS: this._getMainArgumentsString(args),\n      KERNEL: this.getKernelString(),\n      MAIN_RESULT: this.getMainResultString(),\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getVertShaderArtifactMap(args) {\n    return {\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getHeaderString() {\n    return (\n      this.subKernels !== null ?\n      '#extension GL_EXT_draw_buffers : require\\n' :\n      ''\n    );\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${parseInt(this.loopMaxIterations)};\\n` :\n      ' 1000;\\n'\n    );\n  }\n\n  _getPluginsString() {\n    if (!this.plugins) return '\\n';\n    return this.plugins.map(plugin => plugin.source && this.source.match(plugin.functionMatch) ? plugin.source : '').join('\\n');\n  }\n\n  _getConstantsString() {\n    const result = [];\n    const { threadDim, texSize } = this;\n    if (this.dynamicOutput) {\n      result.push(\n        'uniform ivec3 uOutputDim',\n        'uniform ivec2 uTexSize'\n      );\n    } else {\n      result.push(\n        `ivec3 uOutputDim = ivec3(${threadDim[0]}, ${threadDim[1]}, ${threadDim[2]})`,\n        `ivec2 uTexSize = ivec2(${texSize[0]}, ${texSize[1]})`\n      );\n    }\n    return utils.linesToString(result);\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    if (subKernels === null || subKernels.length < 1) {\n      return 'varying vec2 vTexCoord;\\n';\n    } else {\n      return 'out vec2 vTexCoord;\\n';\n    }\n  }\n\n  _getDecode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getEncode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getDivideWithIntegerCheckString() {\n    return this.fixIntegerDivisionAccuracy ?\n      `float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}` :\n      '';\n  }\n\n  _getMainArgumentsString(args) {\n    const results = [];\n    const { argumentNames } = this;\n    for (let i = 0; i < argumentNames.length; i++) {\n      results.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return results.join('');\n  }\n\n  _getInjectedNative() {\n    return this.injectedNative || '';\n  }\n\n  _getMainConstantsString() {\n    const result = [];\n    const { constants } = this;\n    if (constants) {\n      let i = 0;\n      for (const name in constants) {\n        if (!this.constants.hasOwnProperty(name)) continue;\n        result.push(this.kernelConstants[i++].getSource(this.constants[name]));\n      }\n    }\n    return result.join('');\n  }\n\n  getRawValueFramebuffer(width, height) {\n    if (!this.rawValueFramebuffers[width]) {\n      this.rawValueFramebuffers[width] = {};\n    }\n    if (!this.rawValueFramebuffers[width][height]) {\n      const framebuffer = this.context.createFramebuffer();\n      framebuffer.width = width;\n      framebuffer.height = height;\n      this.rawValueFramebuffers[width][height] = framebuffer;\n    }\n    return this.rawValueFramebuffers[width][height];\n  }\n\n  getKernelResultDeclaration() {\n    switch (this.returnType) {\n      case 'Array(2)':\n        return 'vec2 kernelResult';\n      case 'Array(3)':\n        return 'vec3 kernelResult';\n      case 'Array(4)':\n        return 'vec4 kernelResult';\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Number':\n      case 'Integer':\n        return 'float kernelResult';\n      default:\n        if (this.graphical) {\n          return 'float kernelResult';\n        } else {\n          throw new Error(`unrecognized output type \"${ this.returnType }\"`);\n        }\n    }\n  }\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const { subKernels } = this;\n    if (subKernels !== null) {\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n      }\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragColor = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultMemoryOptimizedFloats() {\n    const result = [\n      '  index *= 4',\n    ];\n\n    switch (this.returnType) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        const channels = ['r', 'g', 'b', 'a'];\n        for (let i = 0; i < channels.length; i++) {\n          const channel = channels[i];\n          this.getMainResultKernelMemoryOptimizedFloats(result, channel);\n          this.getMainResultSubKernelMemoryOptimizedFloats(result, channel);\n          if (i + 1 < channels.length) {\n            result.push('  index += 1');\n          }\n        }\n        break;\n      default:\n        throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`);\n    }\n\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0].${channel} = kernelResult`\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = float(subKernelResult_${this.subKernels[i].name})`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = subKernelResult_${this.subKernels[i].name}`\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n      '  gl_FragData[0][2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n        `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    switch (this.returnType) {\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          const subKernel = this.subKernels[i];\n          if (subKernel.returnType === 'Integer') {\n            result.push(\n              `  gl_FragData[${i + 1}] = float(subKernelResult_${this.subKernels[i].name})`\n            );\n          } else {\n            result.push(\n              `  gl_FragData[${i + 1}] = subKernelResult_${this.subKernels[i].name}`\n            );\n          }\n        }\n        break;\n      case 'Array(2)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`\n          );\n        }\n        break;\n      case 'Array(3)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`\n          );\n        }\n        break;\n      case 'Array(4)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n            `  gl_FragData[${i + 1}][3] = subKernelResult_${this.subKernels[i].name}[3]`\n          );\n        }\n        break;\n    }\n\n    return result;\n  }\n\n  replaceArtifacts(src, map) {\n    return src.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\\n/g, (match, artifact) => {\n      if (map.hasOwnProperty(artifact)) {\n        return map[artifact];\n      }\n      throw `unhandled artifact ${artifact}`;\n    });\n  }\n\n  getFragmentShader(args) {\n    if (this.compiledFragmentShader !== null) {\n      return this.compiledFragmentShader;\n    }\n    return this.compiledFragmentShader = this.replaceArtifacts(this.constructor.fragmentShader, this._getFragShaderArtifactMap(args));\n  }\n\n  getVertexShader(args) {\n    if (this.compiledVertexShader !== null) {\n      return this.compiledVertexShader;\n    }\n    return this.compiledVertexShader = this.replaceArtifacts(this.constructor.vertexShader, this._getVertShaderArtifactMap(args));\n  }\n\n  toString() {\n    const setupContextString = utils.linesToString([\n      `const gl = context`,\n    ]);\n    return glKernelString(this.constructor, arguments, this, setupContextString);\n  }\n\n  destroy(removeCanvasReferences) {\n    if (!this.context) return;\n    if (this.buffer) {\n      this.context.deleteBuffer(this.buffer);\n    }\n    if (this.framebuffer) {\n      this.context.deleteFramebuffer(this.framebuffer);\n    }\n    for (const width in this.rawValueFramebuffers) {\n      for (const height in this.rawValueFramebuffers[width]) {\n        this.context.deleteFramebuffer(this.rawValueFramebuffers[width][height]);\n        delete this.rawValueFramebuffers[width][height];\n      }\n      delete this.rawValueFramebuffers[width];\n    }\n    if (this.vertShader) {\n      this.context.deleteShader(this.vertShader);\n    }\n    if (this.fragShader) {\n      this.context.deleteShader(this.fragShader);\n    }\n    if (this.program) {\n      this.context.deleteProgram(this.program);\n    }\n    if (this.texture) {\n      this.texture.delete();\n      const textureCacheIndex = this.textureCache.indexOf(this.texture.texture);\n      if (textureCacheIndex > -1) {\n        this.textureCache.splice(textureCacheIndex, 1);\n      }\n      this.texture = null;\n    }\n    if (this.mappedTextures && this.mappedTextures.length) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        const mappedTexture = this.mappedTextures[i];\n        mappedTexture.delete();\n        const textureCacheIndex = this.textureCache.indexOf(mappedTexture.texture);\n        if (textureCacheIndex > -1) {\n          this.textureCache.splice(textureCacheIndex, 1);\n        }\n      }\n      this.mappedTextures = null;\n    }\n    if (this.kernelArguments) {\n      for (let i = 0; i < this.kernelArguments.length; i++) {\n        this.kernelArguments[i].destroy();\n      }\n    }\n    if (this.kernelConstants) {\n      for (let i = 0; i < this.kernelConstants.length; i++) {\n        this.kernelConstants[i].destroy();\n      }\n    }\n    while (this.textureCache.length > 0) {\n      const texture = this.textureCache.pop();\n      this.context.deleteTexture(texture);\n    }\n    if (removeCanvasReferences) {\n      const idx = canvases.indexOf(this.canvas);\n      if (idx >= 0) {\n        canvases[idx] = null;\n        maxTexSizes[idx] = null;\n      }\n    }\n    this.destroyExtensions();\n    delete this.context;\n    delete this.canvas;\n    if (!this.gpu) return;\n    const i = this.gpu.kernels.indexOf(this);\n    if (i === -1) return;\n    this.gpu.kernels.splice(i, 1);\n  }\n\n  destroyExtensions() {\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('WEBGL_lose_context');\n    if (extension) {\n      extension.loseContext();\n    }\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGLFunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGLKernel\n};\n},{\"../../plugins/math-random-uniformly-distributed\":112,\"../../utils\":114,\"../function-builder\":9,\"../gl/kernel\":13,\"../gl/kernel-string\":12,\"./fragment-shader\":37,\"./function-node\":38,\"./kernel-value-maps\":39,\"./vertex-shader\":71}],71:[function(require,module,exports){\nconst vertexShader = `__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],72:[function(require,module,exports){\nconst fragmentShader = `#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],73:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { WebGLFunctionNode } = require('../web-gl/function-node');\n\nclass WebGL2FunctionNode extends WebGLFunctionNode {\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('intBitsToFloat(2139095039)');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  WebGL2FunctionNode\n};\n},{\"../../utils\":114,\"../web-gl/function-node\":38}],74:[function(require,module,exports){\nconst { WebGL2KernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGL2KernelValueFloat } = require('./kernel-value/float');\nconst { WebGL2KernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGL2KernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGL2KernelValueHTMLImageArray } = require('./kernel-value/html-image-array');\nconst { WebGL2KernelValueDynamicHTMLImageArray } = require('./kernel-value/dynamic-html-image-array');\n\nconst { WebGL2KernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGL2KernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGL2KernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGL2KernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGL2KernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGL2KernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGL2KernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGL2KernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGL2KernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGL2KernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGL2KernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGL2KernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGL2KernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGL2KernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGL2KernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGL2KernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGL2KernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGL2KernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGL2KernelValueArray2 } = require('./kernel-value/array2');\nconst { WebGL2KernelValueArray3 } = require('./kernel-value/array3');\nconst { WebGL2KernelValueArray4 } = require('./kernel-value/array4');\n\nconst { WebGL2KernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGL2KernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicUnsignedArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGL2KernelValueDynamicHTMLImage,\n      'ImageData': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueUnsignedArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueUnsignedInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'ImageBitmap': WebGL2KernelValueHTMLImage,\n      'ImageData': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicSingleArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Input': WebGL2KernelValueDynamicSingleInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGL2KernelValueDynamicHTMLImage,\n      'ImageData': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueSingleArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueSingleArray3DI,\n      'Input': WebGL2KernelValueSingleInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'ImageBitmap': WebGL2KernelValueHTMLImage,\n      'ImageData': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  kernelValueMaps,\n  lookupKernelValueType\n};\n},{\"./kernel-value/array2\":75,\"./kernel-value/array3\":76,\"./kernel-value/array4\":77,\"./kernel-value/boolean\":78,\"./kernel-value/dynamic-html-image\":80,\"./kernel-value/dynamic-html-image-array\":79,\"./kernel-value/dynamic-html-video\":81,\"./kernel-value/dynamic-memory-optimized-number-texture\":82,\"./kernel-value/dynamic-number-texture\":83,\"./kernel-value/dynamic-single-array\":84,\"./kernel-value/dynamic-single-array1d-i\":85,\"./kernel-value/dynamic-single-array2d-i\":86,\"./kernel-value/dynamic-single-array3d-i\":87,\"./kernel-value/dynamic-single-input\":88,\"./kernel-value/dynamic-unsigned-array\":89,\"./kernel-value/dynamic-unsigned-input\":90,\"./kernel-value/float\":91,\"./kernel-value/html-image\":93,\"./kernel-value/html-image-array\":92,\"./kernel-value/html-video\":94,\"./kernel-value/integer\":95,\"./kernel-value/memory-optimized-number-texture\":96,\"./kernel-value/number-texture\":97,\"./kernel-value/single-array\":98,\"./kernel-value/single-array1d-i\":99,\"./kernel-value/single-array2d-i\":100,\"./kernel-value/single-array3d-i\":101,\"./kernel-value/single-input\":102,\"./kernel-value/unsigned-array\":103,\"./kernel-value/unsigned-input\":104}],75:[function(require,module,exports){\nconst { WebGLKernelValueArray2 } = require('../../web-gl/kernel-value/array2');\n\nclass WebGL2KernelValueArray2 extends WebGLKernelValueArray2 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray2\n};\n},{\"../../web-gl/kernel-value/array2\":41}],76:[function(require,module,exports){\nconst { WebGLKernelValueArray3 } = require('../../web-gl/kernel-value/array3');\n\nclass WebGL2KernelValueArray3 extends WebGLKernelValueArray3 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray3\n};\n},{\"../../web-gl/kernel-value/array3\":42}],77:[function(require,module,exports){\nconst { WebGLKernelValueArray4 } = require('../../web-gl/kernel-value/array4');\n\nclass WebGL2KernelValueArray4 extends WebGLKernelValueArray4 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray4\n};\n},{\"../../web-gl/kernel-value/array4\":43}],78:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('../../web-gl/kernel-value/boolean');\n\nclass WebGL2KernelValueBoolean extends WebGLKernelValueBoolean {}\n\nmodule.exports = {\n  WebGL2KernelValueBoolean\n};\n},{\"../../web-gl/kernel-value/boolean\":44}],79:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImageArray } = require('./html-image-array');\n\nclass WebGL2KernelValueDynamicHTMLImageArray extends WebGL2KernelValueHTMLImageArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { width, height } = images[0];\n    this.checkSize(width, height);\n    this.dimensions = [width, height, images.length];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(images);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImageArray\n};\n},{\"../../../utils\":114,\"./html-image-array\":92}],80:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicHTMLImage } = require('../../web-gl/kernel-value/dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLImage extends WebGLKernelValueDynamicHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-html-image\":45}],81:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLVideo extends WebGL2KernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLVideo\n};\n},{\"../../../utils\":114,\"./dynamic-html-image\":80}],82:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/dynamic-memory-optimized-number-texture');\n\nclass WebGL2KernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueDynamicMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture\":47}],83:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicNumberTexture } = require('../../web-gl/kernel-value/dynamic-number-texture');\n\nclass WebGL2KernelValueDynamicNumberTexture extends WebGLKernelValueDynamicNumberTexture {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-number-texture\":48}],84:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray } = require('../../web-gl2/kernel-value/single-array');\n\nclass WebGL2KernelValueDynamicSingleArray extends WebGL2KernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array\":98}],85:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray1DI } = require('../../web-gl2/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueDynamicSingleArray1DI extends WebGL2KernelValueSingleArray1DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array1d-i\":99}],86:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray2DI } = require('../../web-gl2/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueDynamicSingleArray2DI extends WebGL2KernelValueSingleArray2DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array2d-i\":100}],87:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray3DI } = require('../../web-gl2/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueDynamicSingleArray3DI extends WebGL2KernelValueSingleArray3DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array3d-i\":101}],88:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleInput } = require('../../web-gl2/kernel-value/single-input');\n\nclass WebGL2KernelValueDynamicSingleInput extends WebGL2KernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-input\":102}],89:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('../../web-gl/kernel-value/dynamic-unsigned-array');\n\nclass WebGL2KernelValueDynamicUnsignedArray extends WebGLKernelValueDynamicUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-array\":54}],90:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('../../web-gl/kernel-value/dynamic-unsigned-input');\n\nclass WebGL2KernelValueDynamicUnsignedInput extends WebGLKernelValueDynamicUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-input\":55}],91:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueFloat } = require('../../web-gl/kernel-value/float');\n\nclass WebGL2KernelValueFloat extends WebGLKernelValueFloat {}\n\nmodule.exports = {\n  WebGL2KernelValueFloat\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/float\":56}],92:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('../../web-gl/kernel-value/array');\n\nclass WebGL2KernelValueHTMLImageArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.checkSize(value[0].width, value[0].height);\n    this.dimensions = [value[0].width, value[0].height, value.length];\n    this.textureSize = [value[0].width, value[0].height];\n  }\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage3D(\n      gl.TEXTURE_2D_ARRAY,\n      0,\n      gl.RGBA,\n      images[0].width,\n      images[0].height,\n      images.length,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      null\n    );\n    for (let i = 0; i < images.length; i++) {\n      const xOffset = 0;\n      const yOffset = 0;\n      const imageDepth = 1;\n      gl.texSubImage3D(\n        gl.TEXTURE_2D_ARRAY,\n        0,\n        xOffset,\n        yOffset,\n        i,\n        images[i].width,\n        images[i].height,\n        imageDepth,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.uploadValue = images[i]\n      );\n    }\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImageArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/array\":40}],93:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('../../web-gl/kernel-value/html-image');\n\nclass WebGL2KernelValueHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/html-image\":57}],94:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImage } = require('./html-image');\n\nclass WebGL2KernelValueHTMLVideo extends WebGL2KernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLVideo\n};\n},{\"../../../utils\":114,\"./html-image\":93}],95:[function(require,module,exports){\nconst { WebGLKernelValueInteger } = require('../../web-gl/kernel-value/integer');\n\nclass WebGL2KernelValueInteger extends WebGLKernelValueInteger {\n  getSource(value) {\n    const variablePrecision = this.getVariablePrecisionString();\n    if (this.origin === 'constants') {\n      return `const ${ variablePrecision } int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform ${ variablePrecision } int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueInteger\n};\n},{\"../../web-gl/kernel-value/integer\":60}],96:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/memory-optimized-number-texture');\n\nclass WebGL2KernelValueMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/memory-optimized-number-texture\":61}],97:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('../../web-gl/kernel-value/number-texture');\n\nclass WebGL2KernelValueNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/number-texture\":62}],98:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('../../web-gl/kernel-value/single-array');\n\nclass WebGL2KernelValueSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array\":63}],99:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('../../web-gl/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array1d-i\":64}],100:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('../../web-gl/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array2d-i\":65}],101:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('../../web-gl/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array3d-i\":66}],102:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('../../web-gl/kernel-value/single-input');\n\nclass WebGL2KernelValueSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-input\":67}],103:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('../../web-gl/kernel-value/unsigned-array');\n\nclass WebGL2KernelValueUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-array\":68}],104:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('../../web-gl/kernel-value/unsigned-input');\n\nclass WebGL2KernelValueUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-input\":69}],105:[function(require,module,exports){\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { WebGL2FunctionNode } = require('./function-node');\nconst { FunctionBuilder } = require('../function-builder');\nconst { utils } = require('../../utils');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\n\nlet features = null;\n\nclass WebGL2Kernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl2');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      EXT_color_buffer_float: testContext.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGL2RenderingContext !== 'undefined') {\n      return context instanceof WebGL2RenderingContext;\n    }\n    return false;\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      kernelMap: true,\n      isTextureFloat: true,\n      isDrawBuffers: true,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static getIsTextureFloat() {\n    return true;\n  }\n\n  static getChannelCount() {\n    return testContext.getParameter(testContext.MAX_DRAW_BUFFERS);\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl2', settings);\n  }\n\n  initExtensions() {\n    this.extensions = {\n      EXT_color_buffer_float: this.context.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n    if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Float texture outputs are not supported');\n    } else if (!this.graphical && this.precision === null) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'single') {\n        console.warn('Cannot use graphical mode and single precision at the same time');\n        this.precision = 'unsigned';\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGL2FunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  drawBuffers() {\n    this.context.drawBuffers(this.drawBuffersMap);\n  }\n\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.R32F:\n        return gl.RED;\n      case gl.RG32F:\n        return gl.RG;\n      case gl.RGBA32F:\n        return gl.RGBA;\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n  getInternalFormat() {\n    const { context: gl } = this;\n\n    if (this.precision === 'single') {\n      if (this.pipeline) {\n        switch (this.returnType) {\n          case 'Number':\n          case 'Float':\n          case 'Integer':\n            if (this.optimizeFloatMemory) {\n              return gl.RGBA32F;\n            } else {\n              return gl.R32F;\n            }\n            case 'Array(2)':\n              return gl.RG32F;\n            case 'Array(3)': \n            case 'Array(4)':\n              return gl.RGBA32F;\n            default:\n              throw new Error('Unhandled return type');\n        }\n      }\n      return gl.RGBA32F;\n    }\n    return gl.RGBA;\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    const texture = gl.createTexture();\n    const texSize = this.texSize;\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      const format = this.getInternalFormat();\n      if (this.precision === 'single') {\n        gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  _getHeaderString() {\n    return '';\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    if (subKernels === null || subKernels.length < 1) {\n      return `in ${ variablePrecision } vec2 vTexCoord;\\n`;\n    } else {\n      return `out ${ variablePrecision } vec2 vTexCoord;\\n`;\n    }\n  }\n\n  _getMainArgumentsString(args) {\n    const result = [];\n    const argumentNames = this.argumentNames;\n    for (let i = 0; i < argumentNames.length; i++) {\n      result.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return result.join('');\n  }\n\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const subKernels = this.subKernels;\n    if (subKernels !== null) {\n      result.push(\n        'layout(location = 0) out vec4 data0'\n      );\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n      }\n    } else {\n      result.push(\n        'out vec4 data0'\n      );\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0 = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0.${channel} = kernelResult`\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}.${channel} = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  data${i + 1}.${channel} = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}[0] = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  data${i + 1}[0] = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n      '  data0[2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n        `  data${i + 1}[2] = subKernelResult_${subKernel.name}[2]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  data${i + 1} = subKernelResult_${this.subKernels[i].name}`\n      );\n    }\n    return result;\n  }\n\n  destroyExtensions() {\n    this.extensions.EXT_color_buffer_float = null;\n    this.extensions.OES_texture_float_linear = null;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGL2FunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGL2Kernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../web-gl/kernel\":70,\"./fragment-shader\":72,\"./function-node\":73,\"./kernel-value-maps\":74,\"./vertex-shader\":106}],106:[function(require,module,exports){\nconst vertexShader = `#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],107:[function(require,module,exports){\nconst lib = require('./index');\nconst GPU = lib.GPU;\nfor (const p in lib) {\n  if (!lib.hasOwnProperty(p)) continue;\n  if (p === 'GPU') continue; \n  GPU[p] = lib[p];\n}\n\nif (typeof window !== 'undefined') {\n  bindTo(window);\n}\nif (typeof self !== 'undefined') {\n  bindTo(self);\n}\n\nfunction bindTo(target) {\n  if (target.GPU) return;\n  Object.defineProperty(target, 'GPU', {\n    get() {\n      return GPU;\n    }\n  });\n}\n\nmodule.exports = lib;\n},{\"./index\":109}],108:[function(require,module,exports){\nconst { gpuMock } = require('gpu-mock.js');\nconst { utils } = require('./utils');\nconst { Kernel } = require('./backend/kernel');\nconst { CPUKernel } = require('./backend/cpu/kernel');\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelRunShortcut } = require('./kernel-run-shortcut');\n\n\nconst kernelOrder = [HeadlessGLKernel, WebGL2Kernel, WebGLKernel];\n\nconst kernelTypes = ['gpu', 'cpu'];\n\nconst internalKernels = {\n  'headlessgl': HeadlessGLKernel,\n  'webgl2': WebGL2Kernel,\n  'webgl': WebGLKernel,\n};\n\nlet validate = true;\n\nclass GPU {\n  static disableValidation() {\n    validate = false;\n  }\n\n  static enableValidation() {\n    validate = true;\n  }\n\n  static get isGPUSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported);\n  }\n\n  static get isKernelMapSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.kernelMap);\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return (typeof Worker !== 'undefined' && typeof OffscreenCanvas !== 'undefined') || typeof importScripts !== 'undefined';\n  }\n\n  static get isWebGLSupported() {\n    return WebGLKernel.isSupported;\n  }\n\n  static get isWebGL2Supported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isHeadlessGLSupported() {\n    return HeadlessGLKernel.isSupported;\n  }\n\n  static get isCanvasSupported() {\n    return typeof HTMLCanvasElement !== 'undefined';\n  }\n\n  static get isGPUHTMLImageArraySupported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isSinglePrecisionSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.isFloatRead && Kernel.features.isTextureFloat);\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.canvas = settings.canvas || null;\n    this.context = settings.context || null;\n    this.mode = settings.mode;\n    this.Kernel = null;\n    this.kernels = [];\n    this.functions = [];\n    this.nativeFunctions = [];\n    this.injectedNative = null;\n    if (this.mode === 'dev') return;\n    this.chooseKernel();\n    if (settings.functions) {\n      for (let i = 0; i < settings.functions.length; i++) {\n        this.addFunction(settings.functions[i]);\n      }\n    }\n\n    if (settings.nativeFunctions) {\n      for (const p in settings.nativeFunctions) {\n        if (!settings.nativeFunctions.hasOwnProperty(p)) continue;\n        const s = settings.nativeFunctions[p];\n        const { name, source } = s;\n        this.addNativeFunction(name, source, s);\n      }\n    }\n  }\n\n  chooseKernel() {\n    if (this.Kernel) return;\n\n    let Kernel = null;\n\n    if (this.context) {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        const ExternalKernel = kernelOrder[i];\n        if (ExternalKernel.isContextMatch(this.context)) {\n          if (!ExternalKernel.isSupported) {\n            throw new Error(`Kernel type ${ExternalKernel.name} not supported`);\n          }\n          Kernel = ExternalKernel;\n          break;\n        }\n      }\n      if (Kernel === null) {\n        throw new Error('unknown Context');\n      }\n    } else if (this.mode) {\n      if (this.mode in internalKernels) {\n        if (!validate || internalKernels[this.mode].isSupported) {\n          Kernel = internalKernels[this.mode];\n        }\n      } else if (this.mode === 'gpu') {\n        for (let i = 0; i < kernelOrder.length; i++) {\n          if (kernelOrder[i].isSupported) {\n            Kernel = kernelOrder[i];\n            break;\n          }\n        }\n      } else if (this.mode === 'cpu') {\n        Kernel = CPUKernel;\n      }\n      if (!Kernel) {\n        throw new Error(`A requested mode of \"${this.mode}\" and is not supported`);\n      }\n    } else {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        if (kernelOrder[i].isSupported) {\n          Kernel = kernelOrder[i];\n          break;\n        }\n      }\n      if (!Kernel) {\n        Kernel = CPUKernel;\n      }\n    }\n\n    if (!this.mode) {\n      this.mode = Kernel.mode;\n    }\n    this.Kernel = Kernel;\n  }\n\n  createKernel(source, settings) {\n    if (typeof source === 'undefined') {\n      throw new Error('Missing source parameter');\n    }\n    if (typeof source !== 'object' && !utils.isFunction(source) && typeof source !== 'string') {\n      throw new Error('source parameter not a function');\n    }\n\n    const kernels = this.kernels;\n    if (this.mode === 'dev') {\n      const devKernel = gpuMock(source, upgradeDeprecatedCreateKernelSettings(settings));\n      kernels.push(devKernel);\n      return devKernel;\n    }\n\n    source = typeof source === 'function' ? source.toString() : source;\n    const switchableKernels = {};\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings) || {};\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    function onRequestFallback(args) {\n      console.warn('Falling back to CPU');\n      const fallbackKernel = new CPUKernel(source, {\n        argumentTypes: kernelRun.argumentTypes,\n        constantTypes: kernelRun.constantTypes,\n        graphical: kernelRun.graphical,\n        loopMaxIterations: kernelRun.loopMaxIterations,\n        constants: kernelRun.constants,\n        dynamicOutput: kernelRun.dynamicOutput,\n        dynamicArgument: kernelRun.dynamicArguments,\n        output: kernelRun.output,\n        precision: kernelRun.precision,\n        pipeline: kernelRun.pipeline,\n        immutable: kernelRun.immutable,\n        optimizeFloatMemory: kernelRun.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: kernelRun.fixIntegerDivisionAccuracy,\n        functions: kernelRun.functions,\n        nativeFunctions: kernelRun.nativeFunctions,\n        injectedNative: kernelRun.injectedNative,\n        subKernels: kernelRun.subKernels,\n        strictIntegers: kernelRun.strictIntegers,\n        debug: kernelRun.debug,\n      });\n      fallbackKernel.build.apply(fallbackKernel, args);\n      const result = fallbackKernel.run.apply(fallbackKernel, args);\n      kernelRun.replaceKernel(fallbackKernel);\n      return result;\n    }\n\n    function onRequestSwitchKernel(reasons, args, _kernel) {\n      if (_kernel.debug) {\n        console.warn('Switching kernels');\n      }\n      let newOutput = null;\n      if (_kernel.signature && !switchableKernels[_kernel.signature]) {\n        switchableKernels[_kernel.signature] = _kernel;\n      }\n      if (_kernel.dynamicOutput) {\n        for (let i = reasons.length - 1; i >= 0; i--) {\n          const reason = reasons[i];\n          if (reason.type === 'outputPrecisionMismatch') {\n            newOutput = reason.needed;\n          }\n        }\n      }\n\n      const Constructor = _kernel.constructor;\n      const argumentTypes = Constructor.getArgumentTypes(_kernel, args);\n      const signature = Constructor.getSignature(_kernel, argumentTypes);\n      const existingKernel = switchableKernels[signature];\n      if (existingKernel) {\n        existingKernel.onActivate(_kernel);\n        return existingKernel;\n      }\n\n      const newKernel = switchableKernels[signature] = new Constructor(source, {\n        argumentTypes,\n        constantTypes: _kernel.constantTypes,\n        graphical: _kernel.graphical,\n        loopMaxIterations: _kernel.loopMaxIterations,\n        constants: _kernel.constants,\n        dynamicOutput: _kernel.dynamicOutput,\n        dynamicArgument: _kernel.dynamicArguments,\n        context: _kernel.context,\n        canvas: _kernel.canvas,\n        output: newOutput || _kernel.output,\n        precision: _kernel.precision,\n        pipeline: _kernel.pipeline,\n        immutable: _kernel.immutable,\n        optimizeFloatMemory: _kernel.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: _kernel.fixIntegerDivisionAccuracy,\n        functions: _kernel.functions,\n        nativeFunctions: _kernel.nativeFunctions,\n        injectedNative: _kernel.injectedNative,\n        subKernels: _kernel.subKernels,\n        strictIntegers: _kernel.strictIntegers,\n        debug: _kernel.debug,\n        gpu: _kernel.gpu,\n        validate,\n        returnType: _kernel.returnType,\n        tactic: _kernel.tactic,\n        onRequestFallback,\n        onRequestSwitchKernel,\n        texture: _kernel.texture,\n        mappedTextures: _kernel.mappedTextures,\n        drawBuffersMap: _kernel.drawBuffersMap,\n      });\n      newKernel.build.apply(newKernel, args);\n      kernelRun.replaceKernel(newKernel);\n      kernels.push(newKernel);\n      return newKernel;\n    }\n    const mergedSettings = Object.assign({\n      context: this.context,\n      canvas: this.canvas,\n      functions: this.functions,\n      nativeFunctions: this.nativeFunctions,\n      injectedNative: this.injectedNative,\n      gpu: this,\n      validate,\n      onRequestFallback,\n      onRequestSwitchKernel\n    }, settingsCopy);\n\n    const kernel = new this.Kernel(source, mergedSettings);\n    const kernelRun = kernelRunShortcut(kernel);\n\n    if (!this.canvas) {\n      this.canvas = kernel.canvas;\n    }\n\n    if (!this.context) {\n      this.context = kernel.context;\n    }\n\n    kernels.push(kernel);\n\n    return kernelRun;\n  }\n\n  createKernelMap() {\n    let fn;\n    let settings;\n    const argument2Type = typeof arguments[arguments.length - 2];\n    if (argument2Type === 'function' || argument2Type === 'string') {\n      fn = arguments[arguments.length - 2];\n      settings = arguments[arguments.length - 1];\n    } else {\n      fn = arguments[arguments.length - 1];\n    }\n\n    if (this.mode !== 'dev') {\n      if (!this.Kernel.isSupported || !this.Kernel.features.kernelMap) {\n        if (this.mode && kernelTypes.indexOf(this.mode) < 0) {\n          throw new Error(`kernelMap not supported on ${this.Kernel.name}`);\n        }\n      }\n    }\n\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings);\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    if (Array.isArray(arguments[0])) {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let i = 0; i < functions.length; i++) {\n        const source = functions[i].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name,\n          source,\n          property: i,\n        });\n      }\n    } else {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let p in functions) {\n        if (!functions.hasOwnProperty(p)) continue;\n        const source = functions[p].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name: name || p,\n          source,\n          property: p,\n        });\n      }\n    }\n    return this.createKernel(fn, settingsCopy);\n  }\n\n  combineKernels() {\n    const firstKernel = arguments[0];\n    const combinedKernel = arguments[arguments.length - 1];\n    if (firstKernel.kernel.constructor.mode === 'cpu') return combinedKernel;\n    const canvas = arguments[0].canvas;\n    const context = arguments[0].context;\n    const max = arguments.length - 1;\n    for (let i = 0; i < max; i++) {\n      arguments[i]\n        .setCanvas(canvas)\n        .setContext(context)\n        .setPipeline(true);\n    }\n\n    return function() {\n      const texture = combinedKernel.apply(this, arguments);\n      if (texture.toArray) {\n        return texture.toArray();\n      }\n      return texture;\n    };\n  }\n\n  setFunctions(functions) {\n    this.functions = functions;\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    this.nativeFunctions = nativeFunctions;\n    return this;\n  }\n\n  addFunction(source, settings) {\n    this.functions.push({ source, settings });\n    return this;\n  }\n\n  addNativeFunction(name, source, settings) {\n    if (this.kernels.length > 0) {\n      throw new Error('Cannot call \"addNativeFunction\" after \"createKernels\" has been called.');\n    }\n    this.nativeFunctions.push(Object.assign({ name, source }, settings));\n    return this;\n  }\n\n  injectNative(source) {\n    this.injectedNative = source;\n    return this;\n  }\n\n  destroy() {\n    return new Promise((resolve, reject) => {\n      if (!this.kernels) {\n        resolve();\n      }\n      setTimeout(() => {\n        try {\n          for (let i = 0; i < this.kernels.length; i++) {\n            this.kernels[i].destroy(true); \n          }\n          let firstKernel = this.kernels[0];\n          if (firstKernel) {\n            if (firstKernel.kernel) {\n              firstKernel = firstKernel.kernel;\n            }\n            if (firstKernel.constructor.destroyContext) {\n              firstKernel.constructor.destroyContext(this.context);\n            }\n          }\n        } catch (e) {\n          reject(e);\n        }\n        resolve();\n      }, 0);\n    });\n  }\n}\n\n\nfunction upgradeDeprecatedCreateKernelSettings(settings) {\n  if (!settings) {\n    return {};\n  }\n  const upgradedSettings = Object.assign({}, settings);\n\n  if (settings.hasOwnProperty('floatOutput')) {\n    utils.warnDeprecated('setting', 'floatOutput', 'precision');\n    upgradedSettings.precision = settings.floatOutput ? 'single' : 'unsigned';\n  }\n  if (settings.hasOwnProperty('outputToTexture')) {\n    utils.warnDeprecated('setting', 'outputToTexture', 'pipeline');\n    upgradedSettings.pipeline = Boolean(settings.outputToTexture);\n  }\n  if (settings.hasOwnProperty('outputImmutable')) {\n    utils.warnDeprecated('setting', 'outputImmutable', 'immutable');\n    upgradedSettings.immutable = Boolean(settings.outputImmutable);\n  }\n  if (settings.hasOwnProperty('floatTextures')) {\n    utils.warnDeprecated('setting', 'floatTextures', 'optimizeFloatMemory');\n    upgradedSettings.optimizeFloatMemory = Boolean(settings.floatTextures);\n  }\n  return upgradedSettings;\n}\n\nmodule.exports = {\n  GPU,\n  kernelOrder,\n  kernelTypes\n};\n},{\"./backend/cpu/kernel\":8,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/kernel\":70,\"./backend/web-gl2/kernel\":105,\"./kernel-run-shortcut\":111,\"./utils\":114,\"gpu-mock.js\":4}],109:[function(require,module,exports){\nconst { GPU } = require('./gpu');\nconst { alias } = require('./alias');\nconst { utils } = require('./utils');\nconst { Input, input } = require('./input');\nconst { Texture } = require('./texture');\nconst { FunctionBuilder } = require('./backend/function-builder');\nconst { FunctionNode } = require('./backend/function-node');\nconst { CPUFunctionNode } = require('./backend/cpu/function-node');\nconst { CPUKernel } = require('./backend/cpu/kernel');\n\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\n\nconst { WebGLFunctionNode } = require('./backend/web-gl/function-node');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelValueMaps: webGLKernelValueMaps } = require('./backend/web-gl/kernel-value-maps');\n\nconst { WebGL2FunctionNode } = require('./backend/web-gl2/function-node');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { kernelValueMaps: webGL2KernelValueMaps } = require('./backend/web-gl2/kernel-value-maps');\n\nconst { GLKernel } = require('./backend/gl/kernel');\n\nconst { Kernel } = require('./backend/kernel');\n\nconst { FunctionTracer } = require('./backend/function-tracer');\n\nconst mathRandom = require('./plugins/math-random-uniformly-distributed');\n\nmodule.exports = {\n  alias,\n  CPUFunctionNode,\n  CPUKernel,\n  GPU,\n  FunctionBuilder,\n  FunctionNode,\n  HeadlessGLKernel,\n  Input,\n  input,\n  Texture,\n  utils,\n\n  WebGL2FunctionNode,\n  WebGL2Kernel,\n  webGL2KernelValueMaps,\n\n  WebGLFunctionNode,\n  WebGLKernel,\n  webGLKernelValueMaps,\n\n  GLKernel,\n  Kernel,\n  FunctionTracer,\n\n  plugins: {\n    mathRandom\n  }\n};\n},{\"./alias\":5,\"./backend/cpu/function-node\":6,\"./backend/cpu/kernel\":8,\"./backend/function-builder\":9,\"./backend/function-node\":10,\"./backend/function-tracer\":11,\"./backend/gl/kernel\":13,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/function-node\":38,\"./backend/web-gl/kernel\":70,\"./backend/web-gl/kernel-value-maps\":39,\"./backend/web-gl2/function-node\":73,\"./backend/web-gl2/kernel\":105,\"./backend/web-gl2/kernel-value-maps\":74,\"./gpu\":108,\"./input\":110,\"./plugins/math-random-uniformly-distributed\":112,\"./texture\":113,\"./utils\":114}],110:[function(require,module,exports){\nclass Input {\n  constructor(value, size) {\n    this.value = value;\n    if (Array.isArray(size)) {\n      this.size = size;\n    } else {\n      this.size = new Int32Array(3);\n      if (size.z) {\n        this.size = new Int32Array([size.x, size.y, size.z]);\n      } else if (size.y) {\n        this.size = new Int32Array([size.x, size.y]);\n      } else {\n        this.size = new Int32Array([size.x]);\n      }\n    }\n\n    const [w, h, d] = this.size;\n    if (d) {\n      if (this.value.length !== (w * h * d)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} * ${d} = ${(h * w * d)}`);\n      }\n    } else if (h) {\n      if (this.value.length !== (w * h)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} = ${(h * w)}`);\n      }\n    } else {\n      if (this.value.length !== w) {\n        throw new Error(`Input size ${this.value.length} does not match ${w}`);\n      }\n    }\n\n  }\n\n  toArray() {\n    const { utils } = require('./utils');\n    const [w, h, d] = this.size;\n    if (d) {\n      return utils.erectMemoryOptimized3DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h, d);\n    } else if (h) {\n      return utils.erectMemoryOptimized2DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h);\n    } else {\n      return this.value;\n    }\n  }\n}\n\nfunction input(value, size) {\n  return new Input(value, size);\n}\n\nmodule.exports = {\n  Input,\n  input\n};\n},{\"./utils\":114}],111:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction kernelRunShortcut(kernel) {\n  let run = function() {\n    kernel.build.apply(kernel, arguments);\n    run = function() {\n      let result = kernel.run.apply(kernel, arguments);\n      if (kernel.switchingKernels) {\n        const reasons = kernel.resetSwitchingKernels();\n        const newKernel = kernel.onRequestSwitchKernel(reasons, arguments, kernel);\n        shortcut.kernel = kernel = newKernel;\n        result = newKernel.run.apply(newKernel, arguments);\n      }\n      if (kernel.renderKernels) {\n        return kernel.renderKernels();\n      } else if (kernel.renderOutput) {\n        return kernel.renderOutput();\n      } else {\n        return result;\n      }\n    };\n    return run.apply(kernel, arguments);\n  };\n  const shortcut = function() {\n    return run.apply(kernel, arguments);\n  };\n  shortcut.exec = function() {\n    return new Promise((accept, reject) => {\n      try {\n        accept(run.apply(this, arguments));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n  shortcut.replaceKernel = function(replacementKernel) {\n    kernel = replacementKernel;\n    bindKernelToShortcut(kernel, shortcut);\n  };\n\n  bindKernelToShortcut(kernel, shortcut);\n  return shortcut;\n}\n\nfunction bindKernelToShortcut(kernel, shortcut) {\n  if (shortcut.kernel) {\n    shortcut.kernel = kernel;\n    return;\n  }\n  const properties = utils.allPropertiesOf(kernel);\n  for (let i = 0; i < properties.length; i++) {\n    const property = properties[i];\n    if (property[0] === '_' && property[1] === '_') continue;\n    if (typeof kernel[property] === 'function') {\n      if (property.substring(0, 3) === 'add' || property.substring(0, 3) === 'set') {\n        shortcut[property] = function() {\n          shortcut.kernel[property].apply(shortcut.kernel, arguments);\n          return shortcut;\n        };\n      } else {\n        shortcut[property] = function() {\n          return shortcut.kernel[property].apply(shortcut.kernel, arguments);\n        };\n      }\n    } else {\n      shortcut.__defineGetter__(property, () => shortcut.kernel[property]);\n      shortcut.__defineSetter__(property, (value) => {\n        shortcut.kernel[property] = value;\n      });\n    }\n  }\n  shortcut.kernel = kernel;\n}\nmodule.exports = {\n  kernelRunShortcut\n};\n},{\"./utils\":114}],112:[function(require,module,exports){\nconst source = `// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}`;\n\nconst name = 'math-random-uniformly-distributed';\n\nconst functionMatch = `Math.random()`;\n\nconst functionReplace = `nrand(vTexCoord)`;\n\nconst functionReturnType = 'Number';\nconst onBeforeRun = (kernel) => {\n  kernel.setUniform1f('randomSeed1', Math.random());\n  kernel.setUniform1f('randomSeed2', Math.random());\n};\n\nconst plugin = {\n  name,\n  onBeforeRun,\n  functionMatch,\n  functionReplace,\n  functionReturnType,\n  source\n};\n\nmodule.exports = plugin;\n},{}],113:[function(require,module,exports){\nclass Texture {\n  constructor(settings) {\n    const {\n      texture,\n      size,\n      dimensions,\n      output,\n      context,\n      type = 'NumberTexture',\n      kernel,\n      internalFormat,\n      textureFormat\n    } = settings;\n    if (!output) throw new Error('settings property \"output\" required.');\n    if (!context) throw new Error('settings property \"context\" required.');\n    if (!texture) throw new Error('settings property \"texture\" required.');\n    if (!kernel) throw new Error('settings property \"kernel\" required.');\n    this.texture = texture;\n    if (texture._refs) {\n      texture._refs++;\n    } else {\n      texture._refs = 1;\n    }\n    this.size = size;\n    this.dimensions = dimensions;\n    this.output = output;\n    this.context = context;\n    this.kernel = kernel;\n    this.type = type;\n    this._deleted = false;\n    this.internalFormat = internalFormat;\n    this.textureFormat = textureFormat;\n  }\n\n  toArray() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clone() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  delete() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clear() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n}\n\nmodule.exports = {\n  Texture\n};\n},{}],114:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { Input } = require('./input');\nconst { Texture } = require('./texture');\n\nconst FUNCTION_NAME = /function ([^(]*)/;\nconst STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nconst ARGUMENT_NAMES = /([^\\s,]+)/g;\n\nconst utils = {\n  systemEndianness() {\n    return _systemEndianness;\n  },\n  getSystemEndianness() {\n    const b = new ArrayBuffer(4);\n    const a = new Uint32Array(b);\n    const c = new Uint8Array(b);\n    a[0] = 0xdeadbeef;\n    if (c[0] === 0xef) return 'LE';\n    if (c[0] === 0xde) return 'BE';\n    throw new Error('unknown endianness');\n  },\n\n  isFunction(funcObj) {\n    return typeof(funcObj) === 'function';\n  },\n\n  isFunctionString(fn) {\n    if (typeof fn === 'string') {\n      return (fn\n        .slice(0, 'function'.length)\n        .toLowerCase() === 'function');\n    }\n    return false;\n  },\n\n  getFunctionNameFromString(funcStr) {\n    const result = FUNCTION_NAME.exec(funcStr);\n    if (!result || result.length === 0) return null;\n    return result[1].trim();\n  },\n\n  getFunctionBodyFromString(funcStr) {\n    return funcStr.substring(funcStr.indexOf('{') + 1, funcStr.lastIndexOf('}'));\n  },\n\n  getArgumentNamesFromString(fn) {\n    const fnStr = fn.replace(STRIP_COMMENTS, '');\n    let result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n    if (result === null) {\n      result = [];\n    }\n    return result;\n  },\n\n  clone(obj) {\n    if (obj === null || typeof obj !== 'object' || obj.hasOwnProperty('isActiveClone')) return obj;\n\n    const temp = obj.constructor(); \n\n    for (let key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        obj.isActiveClone = null;\n        temp[key] = utils.clone(obj[key]);\n        delete obj.isActiveClone;\n      }\n    }\n\n    return temp;\n  },\n\n  isArray(array) {\n    return !isNaN(array.length);\n  },\n\n  getVariableType(value, strictIntegers) {\n    if (utils.isArray(value)) {\n      if (value.length > 0 && value[0].nodeName === 'IMG') {\n        return 'HTMLImageArray';\n      }\n      return 'Array';\n    }\n\n    switch (value.constructor) {\n      case Boolean:\n        return 'Boolean';\n      case Number:\n        if (strictIntegers && Number.isInteger(value)) {\n          return 'Integer';\n        }\n        return 'Float';\n      case Texture:\n        return value.type;\n      case Input:\n        return 'Input';\n    }\n    if ('nodeName' in value) {\n      switch (value.nodeName) {\n        case 'IMG':\n          return 'HTMLImage';\n        case 'CANVAS':\n          return 'HTMLImage';\n        case 'VIDEO':\n          return 'HTMLVideo';\n      }\n    } else if (value.hasOwnProperty('type')) {\n      return value.type;\n    } else if (typeof OffscreenCanvas !== 'undefined' && value instanceof OffscreenCanvas) {\n      return 'OffscreenCanvas';\n    } else if (typeof ImageBitmap !== 'undefined' && value instanceof ImageBitmap) {\n      return 'ImageBitmap';\n    } else if (typeof ImageData !== 'undefined' && value instanceof ImageData) {\n      return 'ImageData';\n    }\n    return 'Unknown';\n  },\n\n  getKernelTextureSize(settings, dimensions) {\n    let [w, h, d] = dimensions;\n    let texelCount = (w || 1) * (h || 1) * (d || 1);\n\n    if (settings.optimizeFloatMemory && settings.precision === 'single') {\n      w = texelCount = Math.ceil(texelCount / 4);\n    }\n    if (h > 1 && w * h === texelCount) {\n      return new Int32Array([w, h]);\n    }\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  closestSquareDimensions(length) {\n    const sqrt = Math.sqrt(length);\n    let high = Math.ceil(sqrt);\n    let low = Math.floor(sqrt);\n    while (high * low < length) {\n      high--;\n      low = Math.ceil(length / high);\n    }\n    return new Int32Array([low, Math.ceil(length / low)]);\n  },\n\n  getMemoryOptimizedFloatTextureSize(dimensions, bitRatio) {\n    const totalArea = utils.roundTo((dimensions[0] || 1) * (dimensions[1] || 1) * (dimensions[2] || 1) * (dimensions[3] || 1), 4);\n    const texelCount = totalArea / bitRatio;\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  getMemoryOptimizedPackedTextureSize(dimensions, bitRatio) {\n    const [w, h, d] = dimensions;\n    const totalArea = utils.roundTo((w || 1) * (h || 1) * (d || 1), 4);\n    const texelCount = totalArea / (4 / bitRatio);\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  roundTo(n, d) {\n    return Math.floor((n + d - 1) / d) * d;\n  },\n  getDimensions(x, pad) {\n    let ret;\n    if (utils.isArray(x)) {\n      const dim = [];\n      let temp = x;\n      while (utils.isArray(temp)) {\n        dim.push(temp.length);\n        temp = temp[0];\n      }\n      ret = dim.reverse();\n    } else if (x instanceof Texture) {\n      ret = x.output;\n    } else if (x instanceof Input) {\n      ret = x.size;\n    } else {\n      throw new Error(`Unknown dimensions of ${x}`);\n    }\n\n    if (pad) {\n      ret = Array.from(ret);\n      while (ret.length < 3) {\n        ret.push(1);\n      }\n    }\n\n    return new Int32Array(ret);\n  },\n\n  flatten2dArrayTo(array, target) {\n    let offset = 0;\n    for (let y = 0; y < array.length; y++) {\n      target.set(array[y], offset);\n      offset += array[y].length;\n    }\n  },\n\n  flatten3dArrayTo(array, target) {\n    let offset = 0;\n    for (let z = 0; z < array.length; z++) {\n      for (let y = 0; y < array[z].length; y++) {\n        target.set(array[z][y], offset);\n        offset += array[z][y].length;\n      }\n    }\n  },\n\n  flatten4dArrayTo(array, target) {\n    let offset = 0;\n    for (let l = 0; l < array.length; l++) {\n      for (let z = 0; z < array[l].length; z++) {\n        for (let y = 0; y < array[l][z].length; y++) {\n          target.set(array[l][z][y], offset);\n          offset += array[l][z][y].length;\n        }\n      }\n    }\n  },\n\n  flattenTo(array, target) {\n    if (utils.isArray(array[0])) {\n      if (utils.isArray(array[0][0])) {\n        if (utils.isArray(array[0][0][0])) {\n          utils.flatten4dArrayTo(array, target);\n        } else {\n          utils.flatten3dArrayTo(array, target);\n        }\n      } else {\n        utils.flatten2dArrayTo(array, target);\n      }\n    } else {\n      target.set(array);\n    }\n  },\n\n  splitArray(array, part) {\n    const result = [];\n    for (let i = 0; i < array.length; i += part) {\n      result.push(new array.constructor(array.buffer, i * 4 + array.byteOffset, part));\n    }\n    return result;\n  },\n\n  getAstString(source, ast) {\n    const lines = Array.isArray(source) ? source : source.split(/\\r?\\n/g);\n    const start = ast.loc.start;\n    const end = ast.loc.end;\n    const result = [];\n    if (start.line === end.line) {\n      result.push(lines[start.line - 1].substring(start.column, end.column));\n    } else {\n      result.push(lines[start.line - 1].slice(start.column));\n      for (let i = start.line; i < end.line; i++) {\n        result.push(lines[i]);\n      }\n      result.push(lines[end.line - 1].slice(0, end.column));\n    }\n    return result.join('\\n');\n  },\n\n  allPropertiesOf(obj) {\n    const props = [];\n\n    do {\n      props.push.apply(props, Object.getOwnPropertyNames(obj));\n    } while (obj = Object.getPrototypeOf(obj));\n\n    return props;\n  },\n\n  linesToString(lines) {\n    if (lines.length > 0) {\n      return lines.join(';\\n') + ';\\n';\n    } else {\n      return '\\n';\n    }\n  },\n  warnDeprecated(type, oldName, newName) {\n    if (newName) {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been replaced with \"${ newName }\". Fixing, but please upgrade as it will soon be removed.`);\n    } else {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been removed. Fixing, but please upgrade as it will soon be removed.`);\n    }\n  },\n  flipPixels: (pixels, width, height) => {\n    const halfHeight = height / 2 | 0; \n    const bytesPerRow = width * 4;\n    const temp = new Uint8ClampedArray(width * 4);\n    const result = pixels.slice(0);\n    for (let y = 0; y < halfHeight; ++y) {\n      const topOffset = y * bytesPerRow;\n      const bottomOffset = (height - y - 1) * bytesPerRow;\n\n      temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n      result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n      result.set(temp, bottomOffset);\n    }\n    return result;\n  },\n  erectPackedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erect2DPackedFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xStart = y * width;\n      const xEnd = xStart + width;\n      yResults[y] = array.subarray(xStart, xEnd);\n    }\n    return yResults;\n  },\n  erect3DPackedFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xStart = (z * height * width) + y * width;\n        const xEnd = xStart + width;\n        yResults[y] = array.subarray(xStart, xEnd);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectMemoryOptimizedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erectMemoryOptimized2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const offset = y * width;\n      yResults[y] = array.subarray(offset, offset + width);\n    }\n    return yResults;\n  },\n  erectMemoryOptimized3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const offset = (z * height * width) + (y * width);\n        yResults[y] = array.subarray(offset, offset + width);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectFloat: (array, width) => {\n    const xResults = new Float32Array(width);\n    let i = 0;\n    for (let x = 0; x < width; x++) {\n      xResults[x] = array[i];\n      i += 4;\n    }\n    return xResults;\n  },\n  erect2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    let i = 0;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Float32Array(width);\n      for (let x = 0; x < width; x++) {\n        xResults[x] = array[i];\n        i += 4;\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    let i = 0;\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Float32Array(width);\n        for (let x = 0; x < width; x++) {\n          xResults[x] = array[i];\n          i += 4;\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray2: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 2);\n    }\n    return xResults;\n  },\n  erect2DArray2: (array, width, height) => {\n    const yResults = new Array(height);\n    const XResultsMax = width * 4;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * XResultsMax;\n      let i = 0;\n      for (let x = 0; x < XResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 2);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray2: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 2);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray3: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 3);\n    }\n    return xResults;\n  },\n  erect2DArray3: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 3);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray3: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 3);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray4: (array, width) => {\n    const xResults = new Array(array);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 4);\n    }\n    return xResults;\n  },\n  erect2DArray4: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 4);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray4: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 4);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n\n  flattenFunctionToString: (source, settings) => {\n    const { findDependency, thisLookup, doNotDefine } = settings;\n    let flattened = settings.flattened;\n    if (!flattened) {\n      flattened = settings.flattened = {};\n    }\n    const ast = acorn.parse(source);\n    const functionDependencies = [];\n    let indent = 0;\n\n    function flatten(ast) {\n      if (Array.isArray(ast)) {\n        const results = [];\n        for (let i = 0; i < ast.length; i++) {\n          results.push(flatten(ast[i]));\n        }\n        return results.join('');\n      }\n      switch (ast.type) {\n        case 'Program':\n          return flatten(ast.body) + (ast.body[0].type === 'VariableDeclaration' ? ';' : '');\n        case 'FunctionDeclaration':\n          return `function ${ast.id.name}(${ast.params.map(flatten).join(', ')}) ${ flatten(ast.body) }`;\n        case 'BlockStatement': {\n          const result = [];\n          indent += 2;\n          for (let i = 0; i < ast.body.length; i++) {\n            const flat = flatten(ast.body[i]);\n            if (flat) {\n              result.push(' '.repeat(indent) + flat, ';\\n');\n            }\n          }\n          indent -= 2;\n          return `{\\n${result.join('')}}`;\n        }\n        case 'VariableDeclaration':\n          const declarations = utils.normalizeDeclarations(ast)\n            .map(flatten)\n            .filter(r => r !== null);\n          if (declarations.length < 1) {\n            return '';\n          } else {\n            return `${ast.kind} ${declarations.join(',')}`;\n          }\n          case 'VariableDeclarator':\n            if (ast.init.object && ast.init.object.type === 'ThisExpression') {\n              const lookup = thisLookup(ast.init.property.name, true);\n              if (lookup) {\n                return `${ast.id.name} = ${flatten(ast.init)}`;\n              } else {\n                return null;\n              }\n            } else {\n              return `${ast.id.name} = ${flatten(ast.init)}`;\n            }\n            case 'CallExpression': {\n              if (ast.callee.property.name === 'subarray') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.name === 'gl' || ast.callee.object.name === 'context') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.type === 'ThisExpression') {\n                functionDependencies.push(findDependency('this', ast.callee.property.name));\n                return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else if (ast.callee.object.name) {\n                const foundSource = findDependency(ast.callee.object.name, ast.callee.property.name);\n                if (foundSource === null) {\n                  return `${ast.callee.object.name}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                } else {\n                  functionDependencies.push(foundSource);\n                  return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                }\n              } else if (ast.callee.object.type === 'MemberExpression') {\n                return `${flatten(ast.callee.object)}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else {\n                throw new Error('unknown ast.callee');\n              }\n            }\n            case 'ReturnStatement':\n              return `return ${flatten(ast.argument)}`;\n            case 'BinaryExpression':\n              return `(${flatten(ast.left)}${ast.operator}${flatten(ast.right)})`;\n            case 'UnaryExpression':\n              if (ast.prefix) {\n                return `${ast.operator} ${flatten(ast.argument)}`;\n              } else {\n                return `${flatten(ast.argument)} ${ast.operator}`;\n              }\n              case 'ExpressionStatement':\n                return `${flatten(ast.expression)}`;\n              case 'SequenceExpression':\n                return `(${flatten(ast.expressions)})`;\n              case 'ArrowFunctionExpression':\n                return `(${ast.params.map(flatten).join(', ')}) => ${flatten(ast.body)}`;\n              case 'Literal':\n                return ast.raw;\n              case 'Identifier':\n                return ast.name;\n              case 'MemberExpression':\n                if (ast.object.type === 'ThisExpression') {\n                  return thisLookup(ast.property.name);\n                }\n                if (ast.computed) {\n                  return `${flatten(ast.object)}[${flatten(ast.property)}]`;\n                }\n                return flatten(ast.object) + '.' + flatten(ast.property);\n              case 'ThisExpression':\n                return 'this';\n              case 'NewExpression':\n                return `new ${flatten(ast.callee)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              case 'ForStatement':\n                return `for (${flatten(ast.init)};${flatten(ast.test)};${flatten(ast.update)}) ${flatten(ast.body)}`;\n              case 'AssignmentExpression':\n                return `${flatten(ast.left)}${ast.operator}${flatten(ast.right)}`;\n              case 'UpdateExpression':\n                return `${flatten(ast.argument)}${ast.operator}`;\n              case 'IfStatement':\n                return `if (${flatten(ast.test)}) ${flatten(ast.consequent)}`;\n              case 'ThrowStatement':\n                return `throw ${flatten(ast.argument)}`;\n              case 'ObjectPattern':\n                return ast.properties.map(flatten).join(', ');\n              case 'ArrayPattern':\n                return ast.elements.map(flatten).join(', ');\n              case 'DebuggerStatement':\n                return 'debugger;';\n              case 'ConditionalExpression':\n                return `${flatten(ast.test)}?${flatten(ast.consequent)}:${flatten(ast.alternate)}`;\n              case 'Property':\n                if (ast.kind === 'init') {\n                  return flatten(ast.key);\n                }\n      }\n      throw new Error(`unhandled ast.type of ${ ast.type }`);\n    }\n    const result = flatten(ast);\n    if (functionDependencies.length > 0) {\n      const flattenedFunctionDependencies = [];\n      for (let i = 0; i < functionDependencies.length; i++) {\n        const functionDependency = functionDependencies[i];\n        if (!flattened[functionDependency]) {\n          flattened[functionDependency] = true;\n        }\n        functionDependency ? flattenedFunctionDependencies.push(utils.flattenFunctionToString(functionDependency, settings) + '\\n') : '';\n      }\n      return flattenedFunctionDependencies.join('') + result;\n    }\n    return result;\n  },\n\n  normalizeDeclarations: (ast) => {\n    if (ast.type !== 'VariableDeclaration') throw new Error('Ast is not of type \"VariableDeclaration\"');\n    const normalizedDeclarations = [];\n    for (let declarationIndex = 0; declarationIndex < ast.declarations.length; declarationIndex++) {\n      const declaration = ast.declarations[declarationIndex];\n      if (declaration.id && declaration.id.type === 'ObjectPattern' && declaration.id.properties) {\n        const { properties } = declaration.id;\n        for (let propertyIndex = 0; propertyIndex < properties.length; propertyIndex++) {\n          const property = properties[propertyIndex];\n          if (property.value.type === 'ObjectPattern' && property.value.properties) {\n            for (let subPropertyIndex = 0; subPropertyIndex < property.value.properties.length; subPropertyIndex++) {\n              const subProperty = property.value.properties[subPropertyIndex];\n              if (subProperty.type === 'Property') {\n                normalizedDeclarations.push({\n                  type: 'VariableDeclarator',\n                  id: {\n                    type: 'Identifier',\n                    name: subProperty.key.name\n                  },\n                  init: {\n                    type: 'MemberExpression',\n                    object: {\n                      type: 'MemberExpression',\n                      object: declaration.init,\n                      property: {\n                        type: 'Identifier',\n                        name: property.key.name\n                      },\n                      computed: false\n                    },\n                    property: {\n                      type: 'Identifier',\n                      name: subProperty.key.name\n                    },\n                    computed: false\n                  }\n                });\n              } else {\n                throw new Error('unexpected state');\n              }\n            }\n          } else if (property.value.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: property.value && property.value.name ? property.value.name : property.key.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Identifier',\n                  name: property.key.name\n                },\n                computed: false\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else if (declaration.id && declaration.id.type === 'ArrayPattern' && declaration.id.elements) {\n        const { elements } = declaration.id;\n        for (let elementIndex = 0; elementIndex < elements.length; elementIndex++) {\n          const element = elements[elementIndex];\n          if (element.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: element.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Literal',\n                  value: elementIndex,\n                  raw: elementIndex.toString(),\n                  start: element.start,\n                  end: element.end\n                },\n                computed: true\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else {\n        normalizedDeclarations.push(declaration);\n      }\n    }\n    return normalizedDeclarations;\n  },\n\n  splitHTMLImageToRGB: (gpu, image) => {\n    const rKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.r * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const gKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.g * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const bKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.b * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const aKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.a * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const result = [\n      rKernel(image),\n      gKernel(image),\n      bKernel(image),\n      aKernel(image),\n    ];\n    result.rKernel = rKernel;\n    result.gKernel = gKernel;\n    result.bKernel = bKernel;\n    result.aKernel = aKernel;\n    result.gpu = gpu;\n    return result;\n  },\n\n  splitRGBAToCanvases: (gpu, rgba, width, height) => {\n    const visualKernelR = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(pixel.r / 255, 0, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelR(rgba);\n\n    const visualKernelG = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, pixel.g / 255, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelG(rgba);\n\n    const visualKernelB = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, 0, pixel.b / 255, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelB(rgba);\n\n    const visualKernelA = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(255, 255, 255, pixel.a / 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelA(rgba);\n    return [\n      visualKernelR.canvas,\n      visualKernelG.canvas,\n      visualKernelB.canvas,\n      visualKernelA.canvas,\n    ];\n  },\n\n  getMinifySafeName: (fn) => {\n    try {\n      const ast = acorn.parse(`const value = ${fn.toString()}`);\n      const { init } = ast.body[0].declarations[0];\n      return init.body.name || init.body.body[0].argument.name;\n    } catch (e) {\n      throw new Error('Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }');\n    }\n  },\n  sanitizeName: function(name) {\n    if (dollarSign.test(name)) {\n      name = name.replace(dollarSign, 'S_S');\n    }\n    if (doubleUnderscore.test(name)) {\n      name = name.replace(doubleUnderscore, 'U_U');\n    } else if (singleUnderscore.test(name)) {\n      name = name.replace(singleUnderscore, 'u_u');\n    }\n    return name;\n  }\n};\n\nconst dollarSign = /\\$/;\nconst doubleUnderscore = /__/;\nconst singleUnderscore = /_/;\n\nconst _systemEndianness = utils.getSystemEndianness();\n\nmodule.exports = {\n  utils\n};\n},{\"./input\":110,\"./texture\":113,\"acorn\":1}]},{},[107])(107)\n});\n","import { KernelOutput } from 'gpu.js';\n\nexport interface INumberHash {\n  [character: string]: number;\n}\n\nexport interface INumberArray {\n  length: number;\n  buffer?: ArrayBuffer;\n  [index: number]: number;\n}\n\nexport type InputOutputValue = INumberArray | Partial<INumberHash>;\n\nexport interface ITrainingDatum {\n  input: InputOutputValue | InputOutputValue[] | KernelOutput;\n  output: InputOutputValue | InputOutputValue[] | KernelOutput;\n}\n\nexport type FormattableData =\n  | number\n  | ITrainingDatum\n  | InputOutputValue\n  | InputOutputValue[];\n\n/* Functions for turning sparse hashes into arrays and vice versa */\nexport const lookup = {\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} hashes\n   * @returns {Object}\n   */\n  toTable(hashes: INumberHash[]): INumberHash {\n    const hash = hashes.reduce((memo, hash) => {\n      return Object.assign(memo, hash);\n    }, {});\n\n    return lookup.toHash(hash);\n  },\n\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   */\n  toTable2D(objects2D: INumberHash[][]): INumberHash {\n    const table: INumberHash = {};\n    let valueIndex = 0;\n    for (let i = 0; i < objects2D.length; i++) {\n      const objects = objects2D[i];\n      for (let j = 0; j < objects.length; j++) {\n        const object = objects[j];\n        for (const p in object) {\n          if (object.hasOwnProperty(p) && !table.hasOwnProperty(p)) {\n            table[p] = valueIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  },\n\n  toInputTable2D(\n    data: Array<{ input: Array<{ [key: string]: number }> }>\n  ): INumberHash {\n    const table: INumberHash = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const input = data[dataIndex].input;\n      for (let i = 0; i < input.length; i++) {\n        const object = input[i];\n        for (const p in object) {\n          if (!object.hasOwnProperty(p)) continue;\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  },\n\n  toOutputTable2D(\n    data: Array<{ output: Array<{ [key: string]: number }> }>\n  ): INumberHash {\n    const table: INumberHash = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const output = data[dataIndex].output;\n      for (let i = 0; i < output.length; i++) {\n        const object = output[i];\n        for (const p in object) {\n          if (!object.hasOwnProperty(p)) continue;\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  },\n\n  /**\n   * performs `{a: 6, b: 7} -> {a: 0, b: 1}`\n   */\n  toHash(hash: INumberHash): INumberHash {\n    const lookup: INumberHash = {};\n    let index = 0;\n    const keys = Object.keys(hash);\n    for (let i = 0; i < keys.length; i++) {\n      lookup[keys[i]] = index++;\n    }\n    return lookup;\n  },\n\n  /**\n   * performs `{a: 0, b: 1}, {a: 6} -> [6, 0]`\n   */\n  toArray(\n    lookup: INumberHash,\n    object: INumberHash,\n    arrayLength: number\n  ): Float32Array {\n    const result = new Float32Array(arrayLength);\n    for (const p in lookup) {\n      if (!lookup.hasOwnProperty(p)) continue;\n      result[lookup[p]] = object.hasOwnProperty(p) ? object[p] : 0;\n    }\n    return result;\n  },\n\n  toArrayShort(lookup: INumberHash, object: INumberHash): Float32Array {\n    const result = [];\n    for (const p in lookup) {\n      if (!lookup.hasOwnProperty(p)) continue;\n      if (!object.hasOwnProperty(p)) break;\n      result[lookup[p]] = object[p];\n    }\n    return Float32Array.from(result);\n  },\n\n  toArrays(\n    lookup: INumberHash,\n    objects: INumberHash[],\n    arrayLength: number\n  ): Float32Array[] {\n    const result = [];\n    for (let i = 0; i < objects.length; i++) {\n      result.push(this.toArray(lookup, objects[i], arrayLength));\n    }\n    return result;\n  },\n\n  /**\n   * performs `{a: 0, b: 1}, [6, 7] -> {a: 6, b: 7}`\n   * @param {Object} lookup\n   * @param {Array} array\n   * @returns {Object}\n   */\n  toObject(lookup: INumberHash, array: number[] | Float32Array): INumberHash {\n    const object: INumberHash = {};\n    for (const p in lookup) {\n      if (!lookup.hasOwnProperty(p)) continue;\n      object[p] = array[lookup[p]];\n    }\n    return object;\n  },\n\n  toObjectPartial(\n    lookup: INumberHash,\n    array: number[] | Float32Array,\n    offset = 0,\n    limit = 0\n  ): INumberHash {\n    const object: INumberHash = {};\n    let i = 0;\n    for (const p in lookup) {\n      if (!lookup.hasOwnProperty(p)) continue;\n      if (offset > 0) {\n        if (i++ < offset) continue;\n      }\n      if (limit > 0) {\n        if (i++ >= limit) continue;\n      }\n      object[p] = array[lookup[p] - offset];\n    }\n    return object;\n  },\n\n  dataShape(data: FormattableData[] | FormattableData): string[] {\n    const shape = [];\n    let lastData;\n    if (data.hasOwnProperty('input')) {\n      shape.push('datum');\n      lastData = (data as ITrainingDatum).input;\n    } else if (Array.isArray(data)) {\n      if (\n        (data as ITrainingDatum[])[0] &&\n        (data as ITrainingDatum[])[0].input\n      ) {\n        shape.push('array', 'datum');\n        lastData = (data as ITrainingDatum[])[0].input;\n      } else if (Array.isArray(data[0])) {\n        shape.push('array');\n        lastData = data[0];\n      } else {\n        lastData = data as\n          | InputOutputValue\n          | InputOutputValue[]\n          | InputOutputValue[][];\n      }\n    } else {\n      lastData = data as\n        | InputOutputValue\n        | InputOutputValue[]\n        | InputOutputValue[][];\n    }\n\n    let p;\n    while (lastData) {\n      p = Object.keys(lastData)[0];\n      if (\n        Array.isArray(lastData) ||\n        typeof (lastData as Float32Array).buffer === 'object'\n      ) {\n        shape.push('array');\n        const possibleNumber:\n          | number\n          | INumberArray = (lastData as INumberArray[])[parseInt(p)];\n        if (typeof possibleNumber === 'number') {\n          shape.push('number');\n          break;\n        } else {\n          lastData = possibleNumber;\n        }\n      } else if (\n        typeof lastData === 'object' &&\n        typeof (lastData as Float32Array).buffer !== 'object'\n      ) {\n        shape.push('object');\n        const possibleNumber: number | INumberHash = (lastData as INumberHash)[\n          p\n        ];\n        if (typeof possibleNumber === 'number') {\n          shape.push('number');\n          break;\n        } else {\n          lastData = possibleNumber;\n        }\n      } else {\n        throw new Error('unhandled signature');\n      }\n    }\n    return shape;\n  },\n\n  addKeys(value: number[] | INumberHash, table: INumberHash): INumberHash {\n    if (Array.isArray(value)) return table;\n    let i = Object.keys(table).length;\n    for (const p in value) {\n      if (!value.hasOwnProperty(p)) continue;\n      if (table.hasOwnProperty(p)) continue;\n      table[p] = i++;\n    }\n    return table;\n  },\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thaw = exports.Block = exports.Thaw = void 0;\n/**\n * thaw an array of items\n */\nvar Thaw = /** @class */ (function () {\n    function Thaw(items, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var _a = __assign(__assign({}, Thaw.defaultSettings), options), each = _a.each, done = _a.done;\n        this.i = 0;\n        this.isStopped = false;\n        this.items = items;\n        this.options = options;\n        this.tick = function () {\n            if (_this.isStopped)\n                return;\n            _this.timeout = setTimeout(_this.tick, 0);\n            if (Thaw.thawing)\n                return;\n            var item = _this.items[_this.i];\n            if (_this.i >= _this.items.length) {\n                if (done !== null) {\n                    Thaw.thawing = true;\n                    done();\n                    Thaw.thawing = false;\n                }\n                _this.isStopped = true;\n                clearTimeout(_this.timeout);\n                return;\n            }\n            if (each !== null) {\n                Thaw.thawing = true;\n                each(item, _this.i);\n                Thaw.thawing = false;\n            }\n            else if (item !== undefined) {\n                item();\n            }\n            _this.i++;\n        };\n        Thaw.thaws.push(this);\n        if (!options.delay) {\n            this.tick();\n        }\n    }\n    Object.defineProperty(Thaw, \"isThawing\", {\n        /**\n         * returns if Thaw.js is thawing\n         */\n        get: function () {\n            return Thaw.thawing;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Stops all Thaw instances\n     */\n    Thaw.stopAll = function () {\n        for (var i = 0; i < Thaw.thaws.length; i++) {\n            Thaw.thaws[i].stop();\n        }\n    };\n    /**\n     * readies thaw to continue\n     */\n    Thaw.prototype.makeReady = function () {\n        if (this.isStopped) {\n            this.isStopped = false;\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Adds an item to the end of this instance of Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.add = function (item) {\n        this.items.push(item);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Inserts an item just after the current item being processed in Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.insert = function (item) {\n        this.items.splice(this.i, 0, item);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Adds an Array to the end of this instance of Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.addArray = function (items) {\n        this.items = this.items.concat(items);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Inserts an Array just after the current item being processed in Thaw and readies Thaw to process them\n     */\n    Thaw.prototype.insertArray = function (items) {\n        var before = this.items.splice(0, this.i);\n        var after = this.items;\n        this.items = before.concat(items, after);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Stops this instance of Thaw\n     */\n    Thaw.prototype.stop = function () {\n        this.isStopped = true;\n        clearTimeout(this.timeout);\n        if (this.options.done) {\n            this.options.done();\n        }\n        return this;\n    };\n    Thaw.thawing = false;\n    Thaw.thaws = [];\n    Thaw.defaultSettings = {\n        each: null,\n        done: null\n    };\n    return Thaw;\n}());\nexports.Thaw = Thaw;\n/**\n * simple thaw\n */\nfunction thaw(items, options) {\n    return new Thaw(items, options);\n}\nexports.thaw = thaw;\nvar Block = /** @class */ (function () {\n    function Block(options, count) {\n        if (count === void 0) { count = 200; }\n        this.index = 0;\n        this.thaws = [];\n        this.count = count;\n        this.options = options;\n    }\n    /**\n     * add an item to the end of items\n     */\n    Block.prototype.add = function (item) {\n        var next = this.next();\n        next.add(item);\n        return this;\n    };\n    /**\n     * add an Array to the end of items\n     */\n    Block.prototype.addArray = function (items) {\n        var next = this.next();\n        next.addArray(items);\n        return this;\n    };\n    /**\n     * insert an item into items @ current position\n     */\n    Block.prototype.insert = function (item) {\n        var next = this.next();\n        next.insert(item);\n        return this;\n    };\n    /**\n     * insert and array into items @ current position\n     */\n    Block.prototype.insertArray = function (items) {\n        var next = this.next();\n        next.insertArray(items);\n        return this;\n    };\n    /**\n     * Stops all thaws in this block\n     */\n    Block.prototype.stop = function () {\n        for (var i = 0; i < this.thaws.length; i++) {\n            this.thaws[i].stop();\n        }\n        return this;\n    };\n    /**\n     * Get next available in block\n     */\n    Block.prototype.next = function () {\n        var thaw;\n        var thaws = this.thaws;\n        if (thaws.length < this.count) {\n            thaw = new Thaw([], this.options);\n            thaws.push(thaw);\n        }\n        else {\n            thaw = thaws[this.index] || null;\n        }\n        this.index++;\n        if (this.index >= this.count) {\n            this.index = 0;\n        }\n        return thaw;\n    };\n    return Block;\n}());\nexports.Block = Block;\nif (typeof window !== 'undefined') {\n    // @ts-ignore\n    window.Thaw = Thaw;\n    // @ts-ignore\n    window.thaw = thaw;\n    // @ts-ignore\n    window.Thaw.Block = Block;\n}\n","export function arraysToFloat32Arrays(arrays: number[][]): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (let i = 0; i < arrays.length; i++) {\n    result.push(Float32Array.from(arrays[i]));\n  }\n  return result;\n}\n\nexport function inputOutputArraysToFloat32Arrays(\n  input: number[][],\n  output: number[][]\n): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (let i = 0; i < input.length; i++) {\n    result.push(Float32Array.from(input[i]));\n  }\n  for (let i = 0; i < output.length; i++) {\n    result.push(Float32Array.from(output[i]));\n  }\n  return result;\n}\n\nexport function arrayToFloat32Arrays(array: number[]): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (let i = 0; i < array.length; i++) {\n    result.push(Float32Array.from([array[i]]));\n  }\n  return result;\n}\n\nexport function inputOutputArrayToFloat32Arrays(\n  input: number[],\n  output: number[]\n): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (let i = 0; i < input.length; i++) {\n    result.push(Float32Array.from([input[i]]));\n  }\n  for (let i = 0; i < output.length; i++) {\n    result.push(Float32Array.from([output[i]]));\n  }\n  return result;\n}\n\nexport function arrayToFloat32Array(array: number[]): Float32Array {\n  return Float32Array.from(array);\n}\n\nexport function objectsToFloat32Arrays(\n  objects: Array<Record<string, number>>,\n  table: Record<string, number>,\n  length: number\n): Float32Array[] {\n  const results: Float32Array[] = [];\n  for (let i = 0; i < objects.length; i++) {\n    const object = objects[i];\n    const result = new Float32Array(length);\n    for (const p in object) {\n      if (object.hasOwnProperty(p)) {\n        result[table[p]] = object[p];\n      }\n    }\n    results.push(result);\n  }\n  return results;\n}\n\nexport function inputOutputObjectsToFloat32Arrays(\n  input: Array<Record<string, number>>,\n  output: Array<Record<string, number>>,\n  inputTable: Record<string, number>,\n  outputTable: Record<string, number>,\n  inputLength: number,\n  outputLength: number\n): Float32Array[] {\n  const results: Float32Array[] = [];\n  for (let i = 0; i < input.length; i++) {\n    const object = input[i];\n    const result = new Float32Array(inputLength);\n    for (const p in object) {\n      if (object.hasOwnProperty(p)) {\n        result[inputTable[p]] = object[p];\n      }\n    }\n    results.push(result);\n  }\n  for (let i = 0; i < output.length; i++) {\n    const object = output[i];\n    const result = new Float32Array(outputLength);\n    for (const p in object) {\n      if (object.hasOwnProperty(p)) {\n        result[outputTable[p]] = object[p];\n      }\n    }\n    results.push(result);\n  }\n  return results;\n}\n\nexport function objectToFloat32Arrays(\n  object: Record<string, number>\n): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (const p in object) {\n    if (!object.hasOwnProperty(p)) continue;\n    result.push(Float32Array.from([object[p]]));\n  }\n  return result;\n}\n\nexport function inputOutputObjectToFloat32Arrays(\n  input: Record<string, number>,\n  output: Record<string, number>\n): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (const p in input) {\n    if (!input.hasOwnProperty(p)) continue;\n    result.push(Float32Array.from([input[p]]));\n  }\n  for (const p in output) {\n    if (!output.hasOwnProperty(p)) continue;\n    result.push(Float32Array.from([output[p]]));\n  }\n  return result;\n}\n\nexport function objectToFloat32Array(\n  object: Record<string, number>,\n  table: Record<string, number>,\n  length: number\n): Float32Array {\n  const result = new Float32Array(length);\n  for (const p in object) {\n    if (object.hasOwnProperty(p)) {\n      result[table[p]] = object[p];\n    }\n  }\n  return result;\n}\n","import { InputOutputValue, INumberHash, ITrainingDatum } from '../lookup';\n\nexport type LookupTableProp = 'input' | 'output';\n\nexport class LookupTable {\n  length: number;\n  prop: LookupTableProp | null = null;\n  table: INumberHash = {};\n  constructor(\n    data: ITrainingDatum[] | InputOutputValue[] | InputOutputValue[][],\n    prop?: LookupTableProp\n  ) {\n    this.length = 0;\n    const table = this.table;\n    if (prop) {\n      this.prop = prop;\n      for (let i = 0; i < data.length; i++) {\n        const datum = (data as ITrainingDatum[])[i];\n        const object = datum[prop] as INumberHash;\n        for (const p in object) {\n          if (!object.hasOwnProperty(p)) continue;\n          if (table.hasOwnProperty(p)) continue;\n          table[p] = this.length++;\n        }\n      }\n    } else if (Array.isArray(data) && Array.isArray(data[0])) {\n      for (let i = 0; i < data.length; i++) {\n        const array = (data as InputOutputValue[][])[i];\n        for (let j = 0; j < array.length; j++) {\n          const object = array[j];\n          for (const p in object) {\n            if (!object.hasOwnProperty(p)) continue;\n            if (table.hasOwnProperty(p)) continue;\n            table[p] = this.length++;\n          }\n        }\n      }\n    } else {\n      for (let i = 0; i < data.length; i++) {\n        const object = (data as INumberHash[])[i];\n        for (const p in object) {\n          if (!object.hasOwnProperty(p)) continue;\n          if (table.hasOwnProperty(p)) continue;\n          table[p] = this.length++;\n        }\n      }\n    }\n  }\n}\n","export function max(\n  values:\n    | Float32Array\n    | {\n        [key: string]: number;\n      }\n): number {\n  if (Array.isArray(values) || values instanceof Float32Array) {\n    return Math.max(...values);\n  } else {\n    return Math.max(...Object.values(values));\n  }\n}\n","export function mse(errors: Float32Array): number {\n  // mean squared error\n  let sum = 0;\n  for (let i = 0; i < errors.length; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / errors.length;\n}\n","export function randomWeight(): number {\n  return Math.random() * 0.4 - 0.2;\n}\n","/**\n * Returns a random float between given min and max bounds (inclusive)\n * @param min Minimum value of the ranfom float\n * @param max Maximum value of the random float\n */\nexport function randomFloat(min: number, max: number): number {\n  return Math.random() * (max - min) + min;\n}\n\n/**\n * Complicated math. All you need to know is that it returns a random number.\n * More info: https://en.wikipedia.org/wiki/Normal_distribution\n */\nexport function gaussRandom(): number {\n  if (gaussRandom.returnV) {\n    gaussRandom.returnV = false;\n    return gaussRandom.vVal;\n  }\n  const u = 2 * Math.random() - 1;\n  const v = 2 * Math.random() - 1;\n  const r = u * u + v * v;\n  if (r === 0 || r > 1) {\n    return gaussRandom();\n  }\n  const c = Math.sqrt((-2 * Math.log(r)) / r);\n  gaussRandom.vVal = v * c; // cache this\n  gaussRandom.returnV = true;\n  return u * c;\n}\n\n/**\n * Returns a random integer between given min and max bounds\n * @param min Minimum value of the random integer\n * @param max Maximum value of the random integer\n */\nexport function randomInteger(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\n/**\n * If you know what this is: https://en.wikipedia.org/wiki/Normal_distribution\n * @param mu\n * @param std\n */\nexport function randomN(mu: number, std: number): number {\n  return mu + gaussRandom() * std;\n}\n\ngaussRandom.returnV = false;\ngaussRandom.vVal = 0;\n","import { randomWeight } from './random-weight';\nimport { randomFloat } from './random';\n\n/**\n * Returns an array of given size, full of randomness\n */\nexport function randos(size: number, std: number | null = null): Float32Array {\n  const array: Float32Array = new Float32Array(size);\n  if (std === null) {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomWeight();\n    }\n  } else {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomFloat(-std, std);\n    }\n  }\n  return array;\n}\n\n/**\n * Returns a 2D matrix of given size, full of randomness\n */\nexport function randos2D(\n  width: number,\n  height: number,\n  std?: number | null\n): Float32Array[] {\n  const result: Float32Array[] = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = randos(width, std);\n  }\n  return result;\n}\n\n/**\n * Returns a 3D tensor of given size, full of randomness\n */\nexport function randos3D(\n  width: number,\n  height: number,\n  depth: number,\n  std?: number | null\n): Float32Array[][] {\n  const result: Float32Array[][] = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = randos2D(width, height, std);\n  }\n  return result;\n}\n","/**\n * Returns an array of zeros\n */\nexport function zeros(size: number): Float32Array {\n  return new Float32Array(size);\n}\n","import { Thaw } from 'thaw.js';\nimport { ITrainingStatus } from './feed-forward';\nimport { INumberHash, lookup } from './lookup';\nimport {\n  INeuralNetworkBinaryTestResult,\n  INeuralNetworkState,\n  INeuralNetworkTestResult,\n} from './neural-network-types';\nimport { arrayToFloat32Array } from './utilities/cast';\nimport { LookupTable } from './utilities/lookup-table';\nimport { max } from './utilities/max';\nimport { mse } from './utilities/mse';\nimport { randos } from './utilities/randos';\nimport { zeros } from './utilities/zeros';\n\ntype NeuralNetworkFormatter =\n  | ((v: INumberHash) => Float32Array)\n  | ((v: number[]) => Float32Array);\n\nexport function getTypedArrayFn(\n  value: INeuralNetworkData,\n  table: INumberHash | null\n): null | NeuralNetworkFormatter {\n  if ((value as Float32Array).buffer instanceof ArrayBuffer) {\n    return null;\n  }\n  if (Array.isArray(value)) {\n    return arrayToFloat32Array;\n  }\n  if (!table) throw new Error('table is not Object');\n  const { length } = Object.keys(table);\n  return (v: INumberHash): Float32Array => {\n    const array = new Float32Array(length);\n    for (const p in table) {\n      if (!table.hasOwnProperty(p)) continue;\n      if (typeof v[p] !== 'number') continue;\n      array[table[p]] = v[p] || 0;\n    }\n    return array;\n  };\n}\n\nexport type NeuralNetworkActivation =\n  | 'sigmoid'\n  | 'relu'\n  | 'leaky-relu'\n  | 'tanh';\n\nexport interface IJSONLayer {\n  biases: number[];\n  weights: number[][];\n}\n\nexport interface INeuralNetworkJSON {\n  type: string;\n  sizes: number[];\n  layers: IJSONLayer[];\n  inputLookup: INumberHash | null;\n  inputLookupLength: number;\n  outputLookup: INumberHash | null;\n  outputLookupLength: number;\n  options: INeuralNetworkOptions;\n  trainOpts: INeuralNetworkTrainOptionsJSON;\n}\n\nexport interface INeuralNetworkOptions {\n  inputSize: number;\n  outputSize: number;\n  binaryThresh: number;\n  hiddenLayers?: number[];\n}\n\nexport function defaults(): INeuralNetworkOptions {\n  return {\n    inputSize: 0,\n    outputSize: 0,\n    binaryThresh: 0.5,\n  };\n}\n\nexport interface INeuralNetworkTrainOptionsJSON {\n  activation: NeuralNetworkActivation | string;\n  iterations: number;\n  errorThresh: number;\n  log: boolean;\n  logPeriod: number;\n  leakyReluAlpha: number;\n  learningRate: number;\n  momentum: number;\n  callbackPeriod: number;\n  timeout: number | 'Infinity';\n  praxis?: 'adam';\n  beta1: number;\n  beta2: number;\n  epsilon: number;\n}\n\nexport interface INeuralNetworkPreppedTrainingData<T> {\n  status: ITrainingStatus;\n  preparedData: Array<INeuralNetworkDatumFormatted<T>>;\n  endTime: number;\n}\n\nexport interface INeuralNetworkTrainOptions {\n  activation: NeuralNetworkActivation | string;\n  iterations: number;\n  errorThresh: number;\n  log: boolean | ((status: INeuralNetworkState) => void);\n  logPeriod: number;\n  leakyReluAlpha: number;\n  learningRate: number;\n  momentum: number;\n  callback?: (status: { iterations: number; error: number }) => void;\n  callbackPeriod: number;\n  timeout: number;\n  praxis?: 'adam';\n  beta1: number;\n  beta2: number;\n  epsilon: number;\n}\n\nexport function trainDefaults(): INeuralNetworkTrainOptions {\n  return {\n    activation: 'sigmoid',\n    iterations: 20000, // the maximum times to iterate the training data\n    errorThresh: 0.005, // the acceptable error percentage from training data\n    log: false, // true to use console.log, when a function is supplied it is used\n    logPeriod: 10, // iterations between logging out\n    leakyReluAlpha: 0.01,\n    learningRate: 0.3, // multiply's against the input and the delta then adds to momentum\n    momentum: 0.1, // multiply's against the specified \"change\" then adds to learning rate for change\n    callbackPeriod: 10, // the number of iterations through the training data between callback calls\n    timeout: Infinity, // the max number of milliseconds to train for\n    beta1: 0.9,\n    beta2: 0.999,\n    epsilon: 1e-8,\n  };\n}\n\nexport type INeuralNetworkData = number[] | Float32Array | Partial<INumberHash>;\n\n// TODO: should be replaced by ITrainingDatum\nexport interface INeuralNetworkDatum<InputType, OutputType> {\n  input: InputType;\n  output: OutputType;\n}\n\nexport interface INeuralNetworkDatumFormatted<T> {\n  input: T;\n  output: T;\n}\n\nexport class NeuralNetwork<\n  InputType extends INeuralNetworkData,\n  OutputType extends INeuralNetworkData\n> {\n  options: INeuralNetworkOptions = defaults();\n  trainOpts: INeuralNetworkTrainOptions = trainDefaults();\n  sizes: number[] = [];\n  outputLayer = -1;\n  biases: Float32Array[] = [];\n  weights: Float32Array[][] = []; // weights for bias nodes\n  outputs: Float32Array[] = [];\n  // state for training\n  deltas: Float32Array[] = [];\n  changes: Float32Array[][] = []; // for momentum\n  errors: Float32Array[] = [];\n\n  errorCheckInterval = 1;\n\n  inputLookup: INumberHash | null = null;\n  inputLookupLength = 0;\n  outputLookup: INumberHash | null = null;\n  outputLookupLength = 0;\n\n  _formatInput: NeuralNetworkFormatter | null = null;\n  _formatOutput: NeuralNetworkFormatter | null = null;\n\n  runInput: (input: Float32Array) => Float32Array = (input: Float32Array) => {\n    this.setActivation();\n    return this.runInput(input);\n  };\n\n  calculateDeltas: (output: Float32Array) => void = (\n    output: Float32Array\n  ): void => {\n    this.setActivation();\n    return this.calculateDeltas(output);\n  };\n\n  // adam\n  biasChangesLow: Float32Array[] = [];\n  biasChangesHigh: Float32Array[] = [];\n  changesLow: Float32Array[][] = [];\n  changesHigh: Float32Array[][] = [];\n  iterations = 0;\n\n  constructor(\n    options: Partial<INeuralNetworkOptions & INeuralNetworkTrainOptions> = {}\n  ) {\n    this.options = { ...this.options, ...options };\n    this.updateTrainingOptions(options);\n\n    const { inputSize, hiddenLayers, outputSize } = this.options;\n    if (inputSize && outputSize) {\n      this.sizes = [inputSize].concat(hiddenLayers ?? []).concat([outputSize]);\n    }\n  }\n\n  /**\n   *\n   * Expects this.sizes to have been set\n   */\n  initialize(): void {\n    if (!this.sizes.length) {\n      throw new Error('Sizes must be set before initializing');\n    }\n\n    this.outputLayer = this.sizes.length - 1;\n    this.biases = new Array(this.outputLayer); // weights for bias nodes\n    this.weights = new Array(this.outputLayer);\n    this.outputs = new Array(this.outputLayer);\n\n    // state for training\n    this.deltas = new Array(this.outputLayer);\n    this.changes = new Array(this.outputLayer); // for momentum\n    this.errors = new Array(this.outputLayer);\n\n    for (let layerIndex = 0; layerIndex <= this.outputLayer; layerIndex++) {\n      const size = this.sizes[layerIndex];\n      this.deltas[layerIndex] = zeros(size);\n      this.errors[layerIndex] = zeros(size);\n      this.outputs[layerIndex] = zeros(size);\n\n      if (layerIndex > 0) {\n        this.biases[layerIndex] = randos(size);\n        this.weights[layerIndex] = new Array(size);\n        this.changes[layerIndex] = new Array(size);\n\n        for (let nodeIndex = 0; nodeIndex < size; nodeIndex++) {\n          const prevSize = this.sizes[layerIndex - 1];\n          this.weights[layerIndex][nodeIndex] = randos(prevSize);\n          this.changes[layerIndex][nodeIndex] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.setActivation();\n    if (this.trainOpts.praxis === 'adam') {\n      this._setupAdam();\n    }\n  }\n\n  setActivation(activation?: NeuralNetworkActivation): void {\n    const value = activation ?? this.trainOpts.activation;\n    switch (value) {\n      case 'sigmoid':\n        this.runInput = this._runInputSigmoid;\n        this.calculateDeltas = this._calculateDeltasSigmoid;\n        break;\n      case 'relu':\n        this.runInput = this._runInputRelu;\n        this.calculateDeltas = this._calculateDeltasRelu;\n        break;\n      case 'leaky-relu':\n        this.runInput = this._runInputLeakyRelu;\n        this.calculateDeltas = this._calculateDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        this.runInput = this._runInputTanh;\n        this.calculateDeltas = this._calculateDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${value}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n  }\n\n  get isRunnable(): boolean {\n    return this.sizes.length > 0;\n  }\n\n  run(input: Partial<InputType>): OutputType {\n    if (!this.isRunnable) {\n      throw new Error('network not runnable');\n    }\n    let formattedInput: Float32Array;\n    if (this.inputLookup) {\n      formattedInput = lookup.toArray(\n        this.inputLookup,\n        (input as unknown) as INumberHash,\n        this.inputLookupLength\n      );\n    } else {\n      formattedInput = (input as unknown) as Float32Array;\n    }\n    this.validateInput(formattedInput);\n    const output = this.runInput(formattedInput).slice(0);\n    if (this.outputLookup) {\n      return (lookup.toObject(\n        this.outputLookup,\n        output\n      ) as unknown) as OutputType;\n    }\n    return (output as unknown) as OutputType;\n  }\n\n  _runInputSigmoid(input: Float32Array): Float32Array {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeLayer = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeLayer; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // sigmoid\n        activeOutputs[node] = 1 / (1 + Math.exp(-sum));\n      }\n      output = input = activeOutputs;\n    }\n    if (!output) {\n      throw new Error('output was empty');\n    }\n    return output;\n  }\n\n  _runInputRelu(input: Float32Array): Float32Array {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeSize = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeSize; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // relu\n        activeOutputs[node] = sum < 0 ? 0 : sum;\n      }\n      output = input = activeOutputs;\n    }\n    if (!output) {\n      throw new Error('output was empty');\n    }\n    return output;\n  }\n\n  _runInputLeakyRelu(input: Float32Array): Float32Array {\n    this.outputs[0] = input; // set output state of input layer\n    const { leakyReluAlpha } = this.trainOpts;\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeSize = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeSize; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // leaky relu\n        activeOutputs[node] = Math.max(sum, leakyReluAlpha * sum);\n      }\n      output = input = activeOutputs;\n    }\n    if (!output) {\n      throw new Error('output was empty');\n    }\n    return output;\n  }\n\n  _runInputTanh(input: Float32Array): Float32Array {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeSize = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeSize; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // tanh\n        activeOutputs[node] = Math.tanh(sum);\n      }\n      output = input = activeOutputs;\n    }\n    if (!output) {\n      throw new Error('output was empty');\n    }\n    return output;\n  }\n\n  /**\n   *\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(\n    preparedData: Array<INeuralNetworkDatumFormatted<Float32Array>>\n  ): void {\n    if (this.sizes.length && this.outputLayer > 0) return;\n\n    this.sizes = [];\n    this.sizes.push(preparedData[0].input.length);\n    if (!this.options.hiddenLayers) {\n      this.sizes.push(\n        Math.max(3, Math.floor(preparedData[0].input.length / 2))\n      );\n    } else {\n      this.options.hiddenLayers.forEach((size) => {\n        this.sizes.push(size);\n      });\n    }\n    this.sizes.push(preparedData[0].output.length);\n\n    this.initialize();\n  }\n\n  updateTrainingOptions(trainOpts: Partial<INeuralNetworkTrainOptions>): void {\n    const merged = { ...this.trainOpts, ...trainOpts };\n    this.validateTrainingOptions(merged);\n    this.trainOpts = merged;\n    this.setLogMethod(this.trainOpts.log);\n  }\n\n  validateTrainingOptions(options: INeuralNetworkTrainOptions): void {\n    const validations: { [fnName: string]: () => boolean } = {\n      activation: () => {\n        return ['sigmoid', 'relu', 'leaky-relu', 'tanh'].includes(\n          options.activation\n        );\n      },\n      iterations: () => {\n        const val = options.iterations;\n        return typeof val === 'number' && val > 0;\n      },\n      errorThresh: () => {\n        const val = options.errorThresh;\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      log: () => {\n        const val = options.log;\n        return typeof val === 'function' || typeof val === 'boolean';\n      },\n      logPeriod: () => {\n        const val = options.logPeriod;\n        return typeof val === 'number' && val > 0;\n      },\n      leakyReluAlpha: () => {\n        const val = options.leakyReluAlpha;\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      learningRate: () => {\n        const val = options.learningRate;\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      momentum: () => {\n        const val = options.momentum;\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      callback: () => {\n        const val = options.callback;\n        return typeof val === 'function' || val === undefined;\n      },\n      callbackPeriod: () => {\n        const val = options.callbackPeriod;\n        return typeof val === 'number' && val > 0;\n      },\n      timeout: () => {\n        const val = options.timeout;\n        return typeof val === 'number' && val > 0;\n      },\n      praxis: () => {\n        const val = options.praxis;\n        return !val || val === 'adam';\n      },\n      beta1: () => {\n        const val = options.beta1;\n        return val > 0 && val < 1;\n      },\n      beta2: () => {\n        const val = options.beta2;\n        return val > 0 && val < 1;\n      },\n      epsilon: () => {\n        const val = options.epsilon;\n        return val > 0 && val < 1;\n      },\n    };\n    for (const p in validations) {\n      const v = (options as unknown) as { [v: string]: string };\n      if (!validations[p]()) {\n        throw new Error(\n          `[${p}, ${v[p]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    }\n  }\n\n  /**\n   *\n   *  Gets JSON of trainOpts object\n   *    NOTE: Activation is stored directly on JSON object and not in the training options\n   */\n  getTrainOptsJSON(): INeuralNetworkTrainOptionsJSON {\n    const {\n      activation,\n      iterations,\n      errorThresh,\n      log,\n      logPeriod,\n      leakyReluAlpha,\n      learningRate,\n      momentum,\n      callbackPeriod,\n      timeout,\n      praxis,\n      beta1,\n      beta2,\n      epsilon,\n    } = this.trainOpts;\n    return {\n      activation,\n      iterations,\n      errorThresh,\n      log:\n        typeof log === 'function'\n          ? true\n          : typeof log === 'boolean'\n          ? log\n          : false,\n      logPeriod,\n      leakyReluAlpha,\n      learningRate,\n      momentum,\n      callbackPeriod,\n      timeout: timeout === Infinity ? 'Infinity' : timeout,\n      praxis,\n      beta1,\n      beta2,\n      epsilon,\n    };\n  }\n\n  setLogMethod(log: boolean | ((state: INeuralNetworkState) => void)): void {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = this.logTrainingStatus;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  logTrainingStatus(status: INeuralNetworkState): void {\n    console.log(\n      `iterations: ${status.iterations}, training error: ${status.error}`\n    );\n  }\n\n  calculateTrainingError(\n    data: Array<INeuralNetworkDatumFormatted<Float32Array>>\n  ): number {\n    let sum = 0;\n    for (let i = 0; i < data.length; ++i) {\n      sum += this.trainPattern(data[i], true) as number;\n    }\n    return sum / data.length;\n  }\n\n  trainPatterns(data: Array<INeuralNetworkDatumFormatted<Float32Array>>): void {\n    for (let i = 0; i < data.length; ++i) {\n      this.trainPattern(data[i]);\n    }\n  }\n\n  trainingTick(\n    data: Array<INeuralNetworkDatumFormatted<Float32Array>>,\n    status: INeuralNetworkState,\n    endTime: number\n  ): boolean {\n    const {\n      callback,\n      callbackPeriod,\n      errorThresh,\n      iterations,\n      log,\n      logPeriod,\n    } = this.trainOpts;\n\n    if (\n      status.iterations >= iterations ||\n      status.error <= errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    status.iterations++;\n\n    if (log && status.iterations % logPeriod === 0) {\n      status.error = this.calculateTrainingError(data);\n      (log as (state: INeuralNetworkState) => void)(status);\n    } else if (status.iterations % this.errorCheckInterval === 0) {\n      status.error = this.calculateTrainingError(data);\n    } else {\n      this.trainPatterns(data);\n    }\n\n    if (callback && status.iterations % callbackPeriod === 0) {\n      callback({\n        iterations: status.iterations,\n        error: status.error,\n      });\n    }\n    return true;\n  }\n\n  prepTraining(\n    data: Array<INeuralNetworkDatum<InputType, OutputType>>,\n    options: Partial<INeuralNetworkTrainOptions> = {}\n  ): INeuralNetworkPreppedTrainingData<Float32Array> {\n    this.updateTrainingOptions(options);\n    const preparedData = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(preparedData);\n    this.validateData(preparedData);\n    return {\n      preparedData,\n      status,\n      endTime,\n    };\n  }\n\n  train(\n    data: Array<INeuralNetworkDatum<Partial<InputType>, Partial<OutputType>>>,\n    options: Partial<INeuralNetworkTrainOptions> = {}\n  ): INeuralNetworkState {\n    const { preparedData, status, endTime } = this.prepTraining(\n      data as Array<INeuralNetworkDatum<InputType, OutputType>>,\n      options\n    );\n\n    while (true) {\n      if (!this.trainingTick(preparedData, status, endTime)) {\n        break;\n      }\n    }\n    return status;\n  }\n\n  async trainAsync(\n    data: Array<INeuralNetworkDatum<InputType, OutputType>>,\n    options: Partial<INeuralNetworkTrainOptions> = {}\n  ): Promise<ITrainingStatus> {\n    const { preparedData, status, endTime } = this.prepTraining(data, options);\n\n    return await new Promise((resolve, reject) => {\n      try {\n        const thawedTrain: Thaw = new Thaw(\n          new Array(this.trainOpts.iterations),\n          {\n            delay: true,\n            each: () =>\n              this.trainingTick(preparedData, status, endTime) ||\n              thawedTrain.stop(),\n            done: () => resolve(status),\n          }\n        );\n        thawedTrain.tick();\n      } catch (trainError) {\n        reject(trainError);\n      }\n    });\n  }\n\n  trainPattern(\n    value: INeuralNetworkDatumFormatted<Float32Array>,\n    logErrorRate?: boolean\n  ): number | null {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return mse(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  _calculateDeltasSigmoid(target: Float32Array): void {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const activeSize = this.sizes[layer];\n      const activeOutput = this.outputs[layer];\n      const activeError = this.errors[layer];\n      const activeDeltas = this.deltas[layer];\n      const nextLayer = this.weights[layer + 1];\n\n      for (let node = 0; node < activeSize; node++) {\n        const output = activeOutput[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          const deltas = this.deltas[layer + 1];\n          for (let k = 0; k < deltas.length; k++) {\n            error += deltas[k] * nextLayer[k][node];\n          }\n        }\n        activeError[node] = error;\n        activeDeltas[node] = error * output * (1 - output);\n      }\n    }\n  }\n\n  _calculateDeltasRelu(target: Float32Array): void {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextWeights = this.weights[layer + 1];\n      const nextDeltas = this.deltas[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : 0;\n      }\n    }\n  }\n\n  _calculateDeltasLeakyRelu(target: Float32Array): void {\n    const alpha = this.trainOpts.leakyReluAlpha;\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : alpha * error;\n      }\n    }\n  }\n\n  _calculateDeltasTanh(target: Float32Array): void {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = (1 - output * output) * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * Changes weights of networks\n   */\n  adjustWeights(): void {\n    const { learningRate, momentum } = this.trainOpts;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const activeSize = this.sizes[layer];\n      const activeDelta = this.deltas[layer];\n      const activeChanges = this.changes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n\n      for (let node = 0; node < activeSize; node++) {\n        const delta = activeDelta[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          let change = activeChanges[node][k];\n\n          change = learningRate * delta * incoming[k] + momentum * change;\n\n          activeChanges[node][k] = change;\n          activeWeights[node][k] += change;\n        }\n        activeBiases[node] += learningRate * delta;\n      }\n    }\n  }\n\n  _setupAdam(): void {\n    this.biasChangesLow = [];\n    this.biasChangesHigh = [];\n    this.changesLow = [];\n    this.changesHigh = [];\n    this.iterations = 0;\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      if (layer > 0) {\n        this.biasChangesLow[layer] = zeros(size);\n        this.biasChangesHigh[layer] = zeros(size);\n        this.changesLow[layer] = new Array(size);\n        this.changesHigh[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.changesLow[layer][node] = zeros(prevSize);\n          this.changesHigh[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.adjustWeights = this._adjustWeightsAdam;\n  }\n\n  _adjustWeightsAdam(): void {\n    this.iterations++;\n\n    const { iterations } = this;\n    const { beta1, beta2, epsilon, learningRate } = this.trainOpts;\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const currentSize = this.sizes[layer];\n      const currentDeltas = this.deltas[layer];\n      const currentChangesLow = this.changesLow[layer];\n      const currentChangesHigh = this.changesHigh[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentBiasChangesLow = this.biasChangesLow[layer];\n      const currentBiasChangesHigh = this.biasChangesHigh[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const delta = currentDeltas[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          const gradient = delta * incoming[k];\n          const changeLow =\n            currentChangesLow[node][k] * beta1 + (1 - beta1) * gradient;\n          const changeHigh =\n            currentChangesHigh[node][k] * beta2 +\n            (1 - beta2) * gradient * gradient;\n\n          const momentumCorrection =\n            changeLow / (1 - Math.pow(beta1, iterations));\n          const gradientCorrection =\n            changeHigh / (1 - Math.pow(beta2, iterations));\n\n          currentChangesLow[node][k] = changeLow;\n          currentChangesHigh[node][k] = changeHigh;\n          currentWeights[node][k] +=\n            (learningRate * momentumCorrection) /\n            (Math.sqrt(gradientCorrection) + epsilon);\n        }\n\n        const biasGradient = currentDeltas[node];\n        const biasChangeLow =\n          currentBiasChangesLow[node] * beta1 + (1 - beta1) * biasGradient;\n        const biasChangeHigh =\n          currentBiasChangesHigh[node] * beta2 +\n          (1 - beta2) * biasGradient * biasGradient;\n\n        const biasMomentumCorrection =\n          currentBiasChangesLow[node] / (1 - Math.pow(beta1, iterations));\n        const biasGradientCorrection =\n          currentBiasChangesHigh[node] / (1 - Math.pow(beta2, iterations));\n\n        currentBiasChangesLow[node] = biasChangeLow;\n        currentBiasChangesHigh[node] = biasChangeHigh;\n        currentBiases[node] +=\n          (learningRate * biasMomentumCorrection) /\n          (Math.sqrt(biasGradientCorrection) + epsilon);\n      }\n    }\n  }\n\n  validateData(data: Array<INeuralNetworkDatumFormatted<Float32Array>>): void {\n    const inputSize = this.sizes[0];\n    const outputSize = this.sizes[this.sizes.length - 1];\n    const { length } = data;\n    for (let i = 0; i < length; i++) {\n      const { input, output } = data[i];\n      if (input.length !== inputSize) {\n        throw new Error(\n          `input at index ${i} length ${input.length} must be ${inputSize}`\n        );\n      }\n      if (data[i].output.length !== outputSize) {\n        throw new Error(\n          `output at index ${i} length ${output.length} must be ${outputSize}`\n        );\n      }\n    }\n  }\n\n  validateInput(formattedInput: Float32Array): void {\n    const inputSize = this.sizes[0];\n    if (formattedInput.length !== inputSize) {\n      throw new Error(\n        `input length ${formattedInput.length} must match options.inputSize of ${inputSize}`\n      );\n    }\n  }\n\n  formatData(\n    data: Array<INeuralNetworkDatum<InputType, OutputType>>\n  ): Array<INeuralNetworkDatumFormatted<Float32Array>> {\n    if (!Array.isArray(data[0].input)) {\n      if (this.inputLookup) {\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else {\n        const inputLookup = new LookupTable(data, 'input');\n        this.inputLookup = inputLookup.table;\n        this.inputLookupLength = inputLookup.length;\n      }\n    }\n\n    if (!Array.isArray(data[0].output)) {\n      if (this.outputLookup) {\n        this.outputLookupLength = Object.keys(this.outputLookup).length;\n      } else {\n        const lookup = new LookupTable(data, 'output');\n        this.outputLookup = lookup.table;\n        this.outputLookupLength = lookup.length;\n      }\n    }\n\n    if (!this._formatInput) {\n      this._formatInput = getTypedArrayFn(data[0].input, this.inputLookup);\n    }\n\n    if (!this._formatOutput) {\n      this._formatOutput = getTypedArrayFn(data[0].output, this.outputLookup);\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    if (this._formatInput && this._formatOutput) {\n      const result: Array<INeuralNetworkDatumFormatted<Float32Array>> = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: (this._formatInput as (v: INumberHash) => Float32Array)(\n            (data[i].input as unknown) as INumberHash\n          ),\n          output: (this._formatOutput as (v: INumberHash) => Float32Array)(\n            (data[i].output as unknown) as INumberHash\n          ),\n        });\n      }\n      return result;\n    }\n    if (this._formatInput) {\n      const result: Array<INeuralNetworkDatumFormatted<Float32Array>> = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: (this._formatInput as (v: INumberHash) => Float32Array)(\n            (data[i].input as unknown) as INumberHash\n          ),\n          output: (data[i].output as unknown) as Float32Array,\n        });\n      }\n      return result;\n    }\n    if (this._formatOutput) {\n      const result: Array<INeuralNetworkDatumFormatted<Float32Array>> = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: (data[i].input as unknown) as Float32Array,\n          output: (this._formatOutput as (v: INumberHash) => Float32Array)(\n            (data[i].output as unknown) as INumberHash\n          ),\n        });\n      }\n      return result;\n    }\n    return (data as unknown) as Array<\n      INeuralNetworkDatumFormatted<Float32Array>\n    >;\n  }\n\n  addFormat(data: INeuralNetworkDatum<InputType, OutputType>): void {\n    if (!Array.isArray(data.input) || typeof data.input[0] !== 'number') {\n      this.inputLookup = lookup.addKeys(\n        (data.input as unknown) as INumberHash,\n        this.inputLookup ?? {}\n      );\n      if (this.inputLookup) {\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      }\n    }\n    if (!Array.isArray(data.output) || typeof data.output[0] !== 'number') {\n      this.outputLookup = lookup.addKeys(\n        (data.output as unknown) as INumberHash,\n        this.outputLookup ?? {}\n      );\n      if (this.outputLookup) {\n        this.outputLookupLength = Object.keys(this.outputLookup).length;\n      }\n    }\n  }\n\n  test(\n    data: Array<INeuralNetworkDatum<Partial<InputType>, Partial<OutputType>>>\n  ): INeuralNetworkTestResult | INeuralNetworkBinaryTestResult {\n    const { preparedData } = this.prepTraining(\n      data as Array<INeuralNetworkDatum<InputType, OutputType>>\n    );\n    // for binary classification problems with one output node\n    const isBinary = preparedData[0].output.length === 1;\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n    if (isBinary) {\n      let falsePos = 0;\n      let falseNeg = 0;\n      let truePos = 0;\n      let trueNeg = 0;\n\n      for (let i = 0; i < preparedData.length; i++) {\n        const output = this.runInput(preparedData[i].input);\n        const target = preparedData[i].output;\n        const actual = output[0] > this.options.binaryThresh ? 1 : 0;\n        const expected = target[0];\n\n        if (actual !== expected) {\n          const misclass = preparedData[i];\n          misclasses.push({\n            input: misclass.input,\n            output: misclass.output,\n            actual,\n            expected,\n          });\n        }\n\n        if (actual === 0 && expected === 0) {\n          trueNeg++;\n        } else if (actual === 1 && expected === 1) {\n          truePos++;\n        } else if (actual === 0 && expected === 1) {\n          falseNeg++;\n        } else if (actual === 1 && expected === 0) {\n          falsePos++;\n        }\n\n        errorSum += mse(\n          output.map((value, i) => {\n            return target[i] - value;\n          })\n        );\n      }\n\n      return {\n        error: errorSum / preparedData.length,\n        misclasses,\n        total: preparedData.length,\n        trueNeg,\n        truePos,\n        falseNeg,\n        falsePos,\n        precision: truePos > 0 ? truePos / (truePos + falsePos) : 0,\n        recall: truePos > 0 ? truePos / (truePos + falseNeg) : 0,\n        accuracy: (trueNeg + truePos) / preparedData.length,\n      };\n    }\n\n    for (let i = 0; i < preparedData.length; i++) {\n      const output = this.runInput(preparedData[i].input);\n      const target = preparedData[i].output;\n      const actual = output.indexOf(max(output));\n      const expected = target.indexOf(max(target));\n\n      if (actual !== expected) {\n        const misclass = preparedData[i];\n        misclasses.push({\n          input: misclass.input,\n          output: misclass.output,\n          actual,\n          expected,\n        });\n      }\n\n      errorSum += mse(\n        output.map((value, i) => {\n          return target[i] - value;\n        })\n      );\n    }\n    return {\n      error: errorSum / preparedData.length,\n      misclasses,\n      total: preparedData.length,\n    };\n  }\n\n  toJSON(): INeuralNetworkJSON {\n    if (!this.isRunnable) {\n      this.initialize();\n    }\n    // use Array.from, keeping json small\n    const jsonLayerWeights = this.weights.map((layerWeights) => {\n      return layerWeights.map((layerWeights) => Array.from(layerWeights));\n    });\n    const jsonLayerBiases = this.biases.map((layerBiases) =>\n      Array.from(layerBiases)\n    );\n    const jsonLayers: IJSONLayer[] = [];\n    const outputLength = this.sizes.length - 1;\n    for (let i = 0; i <= outputLength; i++) {\n      jsonLayers.push({\n        weights: jsonLayerWeights[i] ?? [],\n        biases: jsonLayerBiases[i] ?? [],\n      });\n    }\n    return {\n      type: 'NeuralNetwork',\n      sizes: [...this.sizes],\n      layers: jsonLayers,\n      inputLookup: this.inputLookup ? { ...this.inputLookup } : null,\n      inputLookupLength: this.inputLookupLength,\n      outputLookup: this.outputLookup ? { ...this.outputLookup } : null,\n      outputLookupLength: this.outputLookupLength,\n      options: { ...this.options },\n      trainOpts: this.getTrainOptsJSON(),\n    };\n  }\n\n  fromJSON(json: INeuralNetworkJSON): this {\n    this.options = { ...defaults(), ...json.options };\n    if (json.hasOwnProperty('trainOpts')) {\n      const trainOpts = {\n        ...json.trainOpts,\n        timeout:\n          json.trainOpts.timeout === 'Infinity'\n            ? Infinity\n            : json.trainOpts.timeout,\n      };\n      this.updateTrainingOptions(trainOpts);\n    }\n    this.sizes = json.sizes;\n    this.initialize();\n\n    this.inputLookup = json.inputLookup ? { ...json.inputLookup } : null;\n    this.inputLookupLength = json.inputLookupLength;\n    this.outputLookup = json.outputLookup ? { ...json.outputLookup } : null;\n    this.outputLookupLength = json.outputLookupLength;\n\n    const jsonLayers = json.layers;\n    const layerWeights = this.weights.map((layerWeights, layerIndex) => {\n      return jsonLayers[layerIndex].weights.map((layerWeights) =>\n        Float32Array.from(layerWeights)\n      );\n    });\n    const layerBiases = this.biases.map((layerBiases, layerIndex) =>\n      Float32Array.from(jsonLayers[layerIndex].biases)\n    );\n    for (let i = 0; i <= this.outputLayer; i++) {\n      this.weights[i] = layerWeights[i] || [];\n      this.biases[i] = layerBiases[i] || [];\n    }\n    return this;\n  }\n\n  toFunction(\n    cb?: (source: string) => string\n  ): (input: Partial<InputType>) => OutputType {\n    const { activation, leakyReluAlpha } = this.trainOpts;\n    let needsVar = false;\n    const nodeHandle = (layerIndex: number, nodeIndex: number): string => {\n      if (layerIndex === 0) {\n        return `(input[${nodeIndex}]||0)`;\n      }\n\n      const weights: Float32Array = this.weights[layerIndex][nodeIndex];\n      const bias: number = this.biases[layerIndex][nodeIndex];\n      if (!weights) {\n        throw new Error(\n          `weights at layerIndex ${layerIndex} & nodeIndex ${nodeIndex} not found`\n        );\n      }\n      if (!bias) {\n        throw new Error(\n          `bias as layerIndex ${layerIndex} & nodeIndex ${nodeIndex} not found`\n        );\n      }\n      const weightsArray: string[] = [];\n      weights.forEach((weight: number, subNodeIndex: number): void => {\n        if (weight < 0) {\n          weightsArray.push(\n            `${weight}*${nodeHandle(layerIndex - 1, subNodeIndex)}`\n          );\n        } else {\n          weightsArray.push(\n            `+${weight}*${nodeHandle(layerIndex - 1, subNodeIndex)}`\n          );\n        }\n      });\n      const result = `(${bias.toString()}${weightsArray.join('')})`;\n\n      switch (activation) {\n        case 'sigmoid':\n          return `1/(1+1/Math.exp(${result}))`;\n        case 'relu': {\n          needsVar = true;\n          return `((v=${result})<0?0:v)`;\n        }\n        case 'leaky-relu': {\n          needsVar = true;\n          return `Math.max((v=${result}),${leakyReluAlpha}*v)`;\n        }\n        case 'tanh':\n          return `Math.tanh(${result})`;\n        default:\n          throw new Error(\n            `Unknown activation ${activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n          );\n      }\n    };\n\n    function checkKeys(keys: string[]): void {\n      if (keys.find((v) => v.includes('\"'))) {\n        throw new Error(`key contains '\"', which is not compatible`);\n      }\n    }\n\n    const layersAsMath: string[] = [];\n    let result: string;\n\n    let inputLookup = '';\n    if (this.inputLookup) {\n      const keys = Object.keys(this.inputLookup);\n      checkKeys(keys);\n      inputLookup = `input = new Float32Array([${Object.keys(this.inputLookup)\n        .map((key) => `input[\"${key}\"]`)\n        .join(',')}]);`;\n    }\n    if (this.sizes.length < 1) throw new Error('No layers');\n    for (\n      let nodeIndex = 0;\n      nodeIndex < this.sizes[this.outputLayer];\n      nodeIndex++\n    ) {\n      layersAsMath.push(nodeHandle(this.outputLayer, nodeIndex));\n    }\n    if (this.outputLookup) {\n      const keys = Object.keys(this.outputLookup);\n      checkKeys(keys);\n      const values = keys\n        .map((key, i) => `\"${key}\":${layersAsMath[i]}`)\n        .join(',');\n      result = `{${values}}`;\n    } else {\n      result = `[${layersAsMath.join(',')}]`;\n    }\n\n    const source = `${inputLookup}${needsVar ? 'var v;' : ''}return ${result};`;\n    // eslint-disable-next-line @typescript-eslint/no-implied-eval,no-new-func\n    return new Function('input', cb ? cb(source) : source) as (\n      input: Partial<InputType>\n    ) => OutputType;\n  }\n}\n","import {\n  GPU,\n  IConstantsThis,\n  IGPUKernelSettings,\n  IKernelMapRunShortcut,\n  IKernelRunShortcut,\n  Input,\n  ISubKernelObject,\n  KernelFunction,\n  KernelOutput,\n  OutputDimensions,\n  Texture,\n  ThreadFunction,\n  ThreadKernelVariable,\n} from 'gpu.js';\n\nlet gpuInstance: GPU | null = null;\n\n/**\n * Sets up the gpu.js instance\n */\nexport function setup(value: GPU): void {\n  gpuInstance = value;\n}\n\n/**\n * Destroys any existing gpu.js instance\n */\nexport function teardown(): void {\n  if (gpuInstance !== null) {\n    gpuInstance.destroy().catch(console.log);\n  }\n  gpuInstance = null;\n}\n\nexport function makeKernel<\n  ArgTypes extends ThreadKernelVariable[] = ThreadKernelVariable[],\n  ConstantsTypes extends IConstantsThis = IConstantsThis\n>(\n  fn: KernelFunction<ArgTypes, ConstantsTypes>,\n  settings: IGPUKernelSettings & { constants?: ConstantsTypes }\n): IKernelRunShortcut {\n  let _gpuInstance: GPU = gpuInstance as GPU;\n  if (_gpuInstance === null) {\n    _gpuInstance = new GPU({ mode: 'gpu' });\n    setup(_gpuInstance);\n  }\n\n  return _gpuInstance\n    .createKernel<ArgTypes, ConstantsTypes>(fn, settings)\n    .setPipeline(true);\n}\n\nexport function makeKernelMap<\n  ArgTypes extends ThreadKernelVariable[],\n  ConstantsTypes extends IConstantsThis\n>(\n  map: ISubKernelObject,\n  fn: ThreadFunction<ArgTypes, ConstantsTypes>,\n  settings: IGPUKernelSettings & { constants?: ConstantsTypes }\n): IKernelMapRunShortcut<ISubKernelObject> {\n  let _gpuInstance: GPU = gpuInstance as GPU;\n  if (_gpuInstance === null) {\n    _gpuInstance = new GPU({ mode: 'gpu' });\n    setup(_gpuInstance);\n  }\n\n  return _gpuInstance\n    .createKernelMap<ArgTypes, ConstantsTypes>(map, fn, settings)\n    .setPipeline(true);\n}\n\n/**\n * Compiles a function into a gpu.js dev mode kernel\n */\n// export function makeDevKernel(\n//   fn: ThreadFunction,\n//   settings: makeKernelSettings\n// ): IKernelRunShortcut {\n//   if ('map' in settings) {\n//     throw new Error('map kernels are not supported by dev kernels');\n//   }\n//   const gpu = new GPU({ mode: 'dev' });\n//   return gpu.createKernel(fn, settings);\n// }\n\nexport function kernelInput(value: number[], size: OutputDimensions): Input {\n  return new Input(value, size);\n}\n\n/**\n * Deletes a gpu.js texture and frees VRAM\n */\nexport function release(possibleTexture: KernelOutput | Input): void {\n  if (possibleTexture instanceof Texture) {\n    possibleTexture.delete();\n  }\n}\n\n/**\n * Cleans ie sets all elements to 0 of a Texture or a js array\n */\nexport function clear(value: KernelOutput): void {\n  if (value instanceof Texture) {\n    value.clear();\n    return;\n  }\n\n  // array\n  if (Array.isArray(value)) {\n    if (typeof value[0] === 'number') {\n      (value as number[]).fill(0);\n    } else if (typeof value[0][0] === 'number') {\n      for (let x = 0; x < value.length; x++) {\n        (value[x] as number[]).fill(0);\n      }\n      return;\n    } else if (typeof value[0][0][0] === 'number') {\n      // cube\n      for (let y = 0; y < value.length; y++) {\n        const row: number[][] = value[y] as number[][];\n        for (let x = 0; x < row.length; x++) {\n          row[x].fill(0);\n        }\n      }\n      return;\n    }\n  }\n\n  if (value instanceof Float32Array) {\n    value.fill(0);\n    return;\n  }\n\n  throw new Error('unhandled value');\n}\n\n/**\n * Clones a value\n */\nexport function clone(value: KernelOutput): KernelOutput {\n  if (value instanceof Texture) {\n    return value.clone();\n  }\n  if (value instanceof Float32Array) {\n    return value.slice(0);\n  }\n  if (Array.isArray(value)) {\n    if (typeof value[0] === 'number') {\n      return value.slice(0);\n    } else if (typeof value[0][0] === 'number') {\n      const matrix = new Array(value.length);\n      for (let x = 0; x < value.length; x++) {\n        matrix[x] = (value[x] as Float32Array).slice(0);\n      }\n      return matrix;\n    } else if (typeof value[0][0][0] === 'number') {\n      const cube = new Array(value.length);\n      for (let y = 0; y < value.length; y++) {\n        const row = value[y] as number[][];\n        const matrix = new Array(row.length);\n        for (let x = 0; x < row.length; x++) {\n          matrix[x] = row[x].slice(0);\n        }\n      }\n      return cube;\n    }\n  }\n  throw new Error('unhandled value');\n}\n","import {\n  alias,\n  GPU,\n  GPUFunction,\n  IKernelFunctionThis,\n  IKernelMapRunShortcut,\n  IMappedKernelResult,\n  KernelOutput,\n  Texture,\n  utils,\n} from 'gpu.js';\nimport { ITrainingStatus } from './feed-forward';\nimport { INumberHash, lookup } from './lookup';\nimport {\n  IJSONLayer,\n  INeuralNetworkData,\n  INeuralNetworkDatum,\n  INeuralNetworkJSON,\n  INeuralNetworkOptions,\n  INeuralNetworkPreppedTrainingData,\n  INeuralNetworkTrainOptions,\n  NeuralNetwork,\n} from './neural-network';\nimport { release } from './utilities/kernel';\n\nexport interface INeuralNetworkGPUDatumFormatted {\n  input: KernelOutput;\n  output: KernelOutput;\n}\n\nexport interface INeuralNetworkGPUPreppedTrainingData\n  extends INeuralNetworkPreppedTrainingData<KernelOutput> {\n  status: ITrainingStatus;\n  endTime: number;\n}\n\ninterface ISizedKernelThis extends IKernelFunctionThis {\n  constants: {\n    size: number;\n  };\n}\n\nfunction weightedSumSigmoid(\n  this: ISizedKernelThis,\n  weights: number[][],\n  biases: number[],\n  inputs: number[]\n): number {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // sigmoid\n  return 1 / (1 + Math.exp(-sum));\n}\n\nfunction weightedSumRelu(\n  this: ISizedKernelThis,\n  weights: number[][],\n  biases: number[],\n  inputs: number[]\n): number {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // relu\n  return sum < 0 ? 0 : sum;\n}\n\nfunction weightedSumLeakyRelu(\n  this: ISizedKernelThis,\n  weights: number[][],\n  biases: number[],\n  inputs: number[]\n): number {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // leaky relu\n  return sum < 0 ? 0 : 0.01 * sum;\n}\n\nfunction weightedSumTanh(\n  this: ISizedKernelThis,\n  weights: number[][],\n  biases: number[],\n  inputs: number[]\n): number {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // tanh\n  return Math.tanh(sum);\n}\n\nfunction calcErrorOutput(output: number, target: number): number {\n  return target - output;\n}\n\nfunction calcDeltasSigmoid(error: number, output: number): number {\n  // sigmoid derivative\n  return error * output * (1 - output);\n}\n\nfunction calcDeltasRelu(error: number, output: number): number {\n  // relu derivative\n  return output > 0 ? error : 0;\n}\n\nfunction calcDeltasLeakyRelu(error: number, output: number): number {\n  // leaky relu derivative\n  return output > 0 ? error : 0.01 * error;\n}\n\nfunction calcDeltasTanh(error: number, output: number): number {\n  // tanh derivative\n  return (1 - output * output) * error;\n}\n\nfunction calcError(\n  x: number,\n  size: number,\n  nextWeights: number[][],\n  nextDeltas: number[]\n): number {\n  let error = 0;\n  for (let k = 0; k < size; k++) {\n    error += nextDeltas[k] * nextWeights[k][x];\n  }\n  return error;\n}\n\ninterface ILearningKernelThis extends IKernelFunctionThis {\n  constants: {\n    momentum: number;\n    learningRate: number;\n  };\n}\n\nfunction calcChanges(\n  learningRate: number,\n  momentum: number,\n  previousChange: number,\n  delta: number,\n  previousOutput: number\n): number {\n  return learningRate * delta * previousOutput + momentum * previousChange;\n}\n\nfunction addWeights(change: number, weight: number): number {\n  return change + weight;\n}\n\nfunction addBiases(\n  this: ILearningKernelThis,\n  biases: number[],\n  deltas: number[]\n): number {\n  return (\n    biases[this.thread.x] + deltas[this.thread.x] * this.constants.learningRate\n  );\n}\n\n// mean squared error, reimplemented for GPU\nfunction mse(this: ISizedKernelThis, errors: number[]): number {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / this.constants.size;\n}\n\nexport interface INeuralNetworkGPUOptions extends INeuralNetworkOptions {\n  mode?: 'cpu' | 'gpu';\n}\n\nexport type BackPropagateOutput = (\n  this: IKernelFunctionThis,\n  outputs: KernelOutput,\n  targets: KernelOutput\n) => { result: KernelOutput; error: KernelOutput };\n\nexport type BackPropagateLayer = (\n  this: IKernelFunctionThis,\n  weights: KernelOutput,\n  outputs: KernelOutput,\n  deltas: KernelOutput\n) => { result: KernelOutput; error: KernelOutput };\n\nexport class NeuralNetworkGPU<\n  InputType extends INeuralNetworkData,\n  OutputType extends INeuralNetworkData\n> extends NeuralNetwork<InputType, OutputType> {\n  gpu: GPU;\n\n  texturizeInputData: (value: KernelOutput) => KernelOutput = () => {\n    throw new Error('not yet setup');\n  };\n\n  forwardPropagate: Array<\n    (\n      weights: KernelOutput,\n      biases: KernelOutput,\n      inputs: KernelOutput\n    ) => KernelOutput\n  > = [];\n\n  backwardPropagate: Array<BackPropagateOutput | BackPropagateLayer> = [];\n\n  changesPropagate: Array<\n    ((\n      this: IKernelFunctionThis<{\n        size: number;\n        learningRate: number;\n        momentum: number;\n      }>,\n      previousOutputs: number[],\n      deltas: number[],\n      weights: number[][],\n      previousChanges: number[][]\n    ) => IMappedKernelResult) &\n      IKernelMapRunShortcut<{ weights: number[][]; changes: number[][] }>\n  > = [];\n\n  biasesPropagate: Array<\n    (biases: KernelOutput, deltas: KernelOutput) => KernelOutput\n  > = [];\n\n  getMSE: (error: KernelOutput) => KernelOutput = () => {\n    throw new Error('not yet setup');\n  };\n\n  _addMSE: (sum: KernelOutput, error: KernelOutput) => KernelOutput = () => {\n    throw new Error('not yet setup');\n  };\n\n  _divideMSESum: (length: number, sum: KernelOutput) => KernelOutput = () => {\n    throw new Error('not yet setup');\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  outputs: KernelOutput[] = [];\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  deltas: KernelOutput[] = [];\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  errors: KernelOutput[] = [];\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  weights: KernelOutput[] = [];\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  changes: KernelOutput[] = [];\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  biases: KernelOutput[] = [];\n\n  constructor(options: Partial<INeuralNetworkGPUOptions> = {}) {\n    super(options);\n    this.errorCheckInterval = 100;\n    this.gpu = new GPU({ mode: options.mode });\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.buildRunInput();\n    this.buildCalculateDeltas();\n    this.buildGetChanges();\n    this.buildChangeBiases();\n    this.buildGetMSE();\n  }\n\n  setActivation(): void {}\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  trainPattern(\n    value: INeuralNetworkGPUDatumFormatted,\n    logErrorRate?: boolean\n  ): KernelOutput | null {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.getMSE(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  calculateTrainingError(data: INeuralNetworkGPUDatumFormatted[]): number {\n    let sum = new Float32Array([0]) as KernelOutput;\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this.trainPattern(data[i], true) as KernelOutput;\n      sum = this._addMSE(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this._divideMSESum(data.length, sum);\n    release(sum);\n    return (result instanceof Texture\n      ? (result.toArray() as number[])\n      : (result as number[]))[0];\n  }\n\n  adjustWeights(): void {\n    this.getChanges();\n    this.changeBiases();\n  }\n\n  buildRunInput(): void {\n    let weightedSum = null;\n\n    switch (this.trainOpts.activation) {\n      case 'sigmoid':\n        weightedSum = weightedSumSigmoid;\n        break;\n      case 'relu':\n        weightedSum = weightedSumRelu;\n        break;\n      case 'leaky-relu':\n        weightedSum = weightedSumLeakyRelu;\n        break;\n      case 'tanh':\n        weightedSum = weightedSumTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.forwardPropagate[layer] = this.gpu.createKernel(weightedSum, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          size: this.sizes[layer - 1],\n        },\n        immutable: true,\n      });\n    }\n\n    this.texturizeInputData = this.gpu.createKernel(\n      function (value: number[]): number {\n        return value[this.thread.x];\n      },\n      {\n        output: [this.sizes[1]],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  runInput = (input: KernelOutput): KernelOutput => {\n    let output;\n    this.outputs[0] = input;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      release(this.outputs[layer]);\n      this.outputs[layer] = this.forwardPropagate[layer](\n        this.weights[layer],\n        this.biases[layer],\n        input\n      );\n      output = input = this.outputs[layer];\n    }\n    return output;\n  };\n\n  buildCalculateDeltas(): void {\n    let calcDeltas: GPUFunction<[number, number]>;\n    switch (this.trainOpts.activation) {\n      case 'sigmoid':\n        calcDeltas = calcDeltasSigmoid;\n        break;\n      case 'relu':\n        calcDeltas = calcDeltasRelu;\n        break;\n      case 'leaky-relu':\n        calcDeltas = calcDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        calcDeltas = calcDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    calcDeltas = alias(\n      utils.getMinifySafeName(() => calcDeltas),\n      calcDeltas\n    );\n    this.gpu.addFunction(calcDeltas);\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      if (layer === this.outputLayer) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        this.backwardPropagate[this.outputLayer] = this.gpu.createKernelMap(\n          {\n            error: calcErrorOutput,\n          },\n          function (\n            this: IKernelFunctionThis,\n            outputs: number[],\n            targets: number[]\n          ): number {\n            const output = outputs[this.thread.x];\n            const target = targets[this.thread.x];\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-expect-error\n            return calcDeltas(calcErrorOutput(output, target), output);\n          },\n          {\n            output: [this.sizes[this.outputLayer]],\n            pipeline: true,\n            immutable: true,\n          }\n        );\n      } else {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        this.backwardPropagate[layer] = this.gpu.createKernelMap(\n          {\n            error: calcError,\n          },\n          function (\n            this: ISizedKernelThis,\n            nextWeights: number[][],\n            outputs: number[],\n            nextDeltas: number[]\n          ): number {\n            const output = outputs[this.thread.x];\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-expect-error\n            return calcDeltas(\n              calcError(\n                this.thread.x,\n                this.constants.size,\n                nextWeights,\n                nextDeltas\n              ),\n              output\n            );\n          },\n          {\n            output: [this.sizes[layer]],\n            pipeline: true,\n            constants: {\n              size: this.sizes[layer + 1],\n            },\n            immutable: true,\n          }\n        );\n      }\n    }\n  }\n\n  calculateDeltas = (target: KernelOutput): void => {\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      release(this.deltas[layer]);\n      release(this.errors[layer]);\n\n      let output;\n      if (layer === this.outputLayer) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        output = this.backwardPropagate[layer](this.outputs[layer], target);\n      } else {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        output = this.backwardPropagate[layer](\n          this.weights[layer + 1],\n          this.outputs[layer],\n          this.deltas[layer + 1]\n        );\n      }\n      this.deltas[layer] = output.result;\n      this.errors[layer] = output.error;\n    }\n  };\n\n  buildGetChanges(): void {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      this.changesPropagate[layer] = this.gpu.createKernelMap(\n        {\n          weights: addWeights,\n          changes: calcChanges,\n        },\n        function (\n          this: IKernelFunctionThis<{\n            size: number;\n            learningRate: number;\n            momentum: number;\n          }>,\n          previousOutputs: number[],\n          deltas: number[],\n          weights: number[][],\n          previousChanges: number[][]\n        ) {\n          const change = calcChanges(\n            this.constants.learningRate,\n            this.constants.momentum,\n            previousChanges[this.thread.y][this.thread.x],\n            deltas[this.thread.y],\n            previousOutputs[this.thread.x]\n          );\n          return addWeights(change, weights[this.thread.y][this.thread.x]);\n        },\n        {\n          output: [this.sizes[layer - 1], this.sizes[layer]],\n          pipeline: true,\n          constants: {\n            size: this.sizes[layer - 1],\n            learningRate: this.trainOpts.learningRate,\n            momentum: this.trainOpts.momentum,\n          },\n          immutable: true,\n        }\n      );\n    }\n  }\n\n  getChanges(): void {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const weights = this.weights[layer];\n      const changes = this.changes[layer];\n      const output = this.changesPropagate[layer](\n        this.outputs[layer - 1],\n        this.deltas[layer],\n        weights,\n        changes\n      );\n      release(weights);\n      release(changes);\n      this.weights[layer] = output.weights;\n      this.changes[layer] = output.changes;\n      release(output.result);\n    }\n  }\n\n  buildChangeBiases(): void {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.biasesPropagate[layer] = this.gpu.createKernel(addBiases, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          learningRate: this.trainOpts.learningRate,\n        },\n        immutable: true,\n      });\n    }\n  }\n\n  changeBiases(): void {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const biases = this.biases[layer];\n      this.biases[layer] = this.biasesPropagate[layer](\n        biases,\n        this.deltas[layer]\n      );\n      release(biases);\n    }\n  }\n\n  buildGetMSE(): void {\n    this.getMSE = this.gpu.createKernel(mse, {\n      output: [1],\n      constants: {\n        size: this.sizes[this.outputLayer],\n      },\n      pipeline: true,\n      immutable: true,\n    });\n    this._addMSE = this.gpu.createKernel(\n      function (value1: number[], value2: number[]): number {\n        return value1[0] + value2[0];\n      },\n      {\n        output: [1],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n    this._divideMSESum = this.gpu.createKernel(\n      function (length: number, mseSum: number[]): number {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      },\n      {\n        output: [1],\n      }\n    );\n  }\n\n  run(input: InputType): OutputType {\n    if (!this.isRunnable) {\n      throw new Error('network not runnable');\n    }\n    let formattedInput: Float32Array;\n    if (this.inputLookup) {\n      formattedInput = lookup.toArray(\n        this.inputLookup,\n        (input as unknown) as INumberHash,\n        this.inputLookupLength\n      );\n    } else {\n      formattedInput = (input as unknown) as Float32Array;\n    }\n    this.validateInput(formattedInput);\n    const outputTextures = this.runInput(formattedInput);\n    const output =\n      outputTextures instanceof Texture\n        ? outputTextures.toArray()\n        : outputTextures;\n\n    if (this.outputLookup) {\n      return (lookup.toObject(\n        this.outputLookup,\n        output as Float32Array\n      ) as unknown) as OutputType;\n    }\n\n    return (output as unknown) as OutputType;\n  }\n\n  // @ts-expect-error the underlying network works as normal, but we are working on the GPU\n  prepTraining(\n    data: Array<INeuralNetworkDatum<InputType, OutputType>>,\n    options: Partial<INeuralNetworkTrainOptions> = {}\n  ): INeuralNetworkGPUPreppedTrainingData {\n    this.updateTrainingOptions(options);\n    const preparedData = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(preparedData);\n\n    const texturizeOutputData = this.gpu.createKernel(\n      function (value: number[]): number {\n        return value[this.thread.x];\n      },\n      {\n        output: [preparedData[0].output.length],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n    return {\n      preparedData: preparedData.map((set) => ({\n        input: this.texturizeInputData(set.input),\n        output: texturizeOutputData(set.output),\n      })),\n      status,\n      endTime,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  toFunction(): (input: InputType) => OutputType {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  toJSON(): INeuralNetworkJSON {\n    if (this.sizes === null) {\n      this.initialize();\n    }\n    // use Array.from, keeping json small\n    const jsonLayerWeights = this.weights.map((layerWeights) => {\n      return (layerWeights instanceof Texture\n        ? (layerWeights.toArray() as Float32Array[])\n        : (layerWeights as Float32Array[])\n      ).map((layerWeights) => Array.from(layerWeights));\n    });\n    const jsonLayerBiases = this.biases.map((layerBiases) =>\n      Array.from(\n        layerBiases instanceof Texture\n          ? (layerBiases.toArray() as Float32Array)\n          : (layerBiases as Float32Array)\n      )\n    );\n    const jsonLayers: IJSONLayer[] = [];\n    for (let i = 0; i <= this.outputLayer; i++) {\n      jsonLayers.push({\n        weights: jsonLayerWeights[i] ?? [],\n        biases: jsonLayerBiases[i] ?? [],\n      });\n    }\n    return {\n      type: 'NeuralNetworkGPU',\n      sizes: [...this.sizes],\n      layers: jsonLayers,\n      inputLookup: this.inputLookup ? { ...this.inputLookup } : null,\n      inputLookupLength: this.inputLookupLength,\n      outputLookup: this.outputLookup ? { ...this.outputLookup } : null,\n      outputLookupLength: this.outputLookupLength,\n      options: { ...this.options },\n      trainOpts: this.getTrainOptsJSON(),\n    };\n  }\n}\n","export class UntrainedNeuralNetworkError<\n  T extends { constructor: { name: string } }\n> extends Error {\n  constructor(neuralNetwork: T) {\n    super(\n      `Cannot run a ${neuralNetwork.constructor.name} before it is trained.`\n    );\n  }\n}\n","import { KernelOutput, Texture, TextureArrayOutput } from 'gpu.js';\nimport {\n  IJSONLayer,\n  INeuralNetworkData,\n  INeuralNetworkDatum,\n  INeuralNetworkTrainOptions,\n} from './neural-network';\nimport {\n  INeuralNetworkGPUOptions,\n  NeuralNetworkGPU,\n} from './neural-network-gpu';\nimport { INeuralNetworkState } from './neural-network-types';\nimport { UntrainedNeuralNetworkError } from './errors/untrained-neural-network-error';\n\nexport interface IAEOptions {\n  binaryThresh: number;\n  decodedSize: number;\n  hiddenLayers: number[];\n}\n\n/**\n * An autoencoder learns to compress input data down to relevant features and reconstruct input data from its compressed representation.\n */\nexport class AE<\n  DecodedData extends INeuralNetworkData,\n  EncodedData extends INeuralNetworkData\n> {\n  private decoder?: NeuralNetworkGPU<EncodedData, DecodedData>;\n  private readonly denoiser: NeuralNetworkGPU<DecodedData, DecodedData>;\n\n  constructor(options?: Partial<IAEOptions>) {\n    // Create default options for the autoencoder.\n    options ??= {};\n\n    // Create default options for the autoencoder's denoiser subnet.\n    const denoiserOptions: Partial<INeuralNetworkGPUOptions> = {};\n\n    // Inherit the binary threshold of the parent autoencoder.\n    denoiserOptions.binaryThresh = options.binaryThresh;\n    // Inherit the hidden layers of the parent autoencoder.\n    denoiserOptions.hiddenLayers = options.hiddenLayers;\n\n    // Define the denoiser subnet's input and output sizes.\n    if (options.decodedSize)\n      denoiserOptions.inputSize = denoiserOptions.outputSize =\n        options.decodedSize;\n\n    // Create the denoiser subnet of the autoencoder.\n    this.denoiser = new NeuralNetworkGPU<DecodedData, DecodedData>(options);\n  }\n\n  /**\n   * Denoise input data, removing any anomalies from the data.\n   * @param {DecodedData} input\n   * @returns {DecodedData}\n   */\n  denoise(input: DecodedData): DecodedData {\n    // Run the input through the generic denoiser.\n    // This isn't the best denoiser implementation, but it's efficient.\n    // Efficiency is important here because training should focus on\n    // optimizing for feature extraction as quickly as possible rather than\n    // denoising and anomaly detection; there are other specialized topologies\n    // better suited for these tasks anyways, many of which can be implemented\n    // by using an autoencoder.\n    return this.denoiser.run(input);\n  }\n\n  /**\n   * Decode `EncodedData` into an approximation of its original form.\n   *\n   * @param {EncodedData} input\n   * @returns {DecodedData}\n   */\n  decode(input: EncodedData): DecodedData {\n    // If the decoder has not been trained yet, throw an error.\n    if (!this.decoder) throw new UntrainedNeuralNetworkError(this);\n\n    // Decode the encoded input.\n    return this.decoder.run(input);\n  }\n\n  /**\n   * Encode data to extract features, reduce dimensionality, etc.\n   *\n   * @param {DecodedData} input\n   * @returns {EncodedData}\n   */\n  encode(input: DecodedData): EncodedData {\n    // If the decoder has not been trained yet, throw an error.\n    if (!this.denoiser) throw new UntrainedNeuralNetworkError(this);\n\n    // Process the input.\n    this.denoiser.run(input);\n\n    // Get the auto-encoded input.\n    let encodedInput: TextureArrayOutput = this\n      .encodedLayer as TextureArrayOutput;\n\n    // If the encoded input is a `Texture`, convert it into an `Array`.\n    if (encodedInput instanceof Texture) encodedInput = encodedInput.toArray();\n    else encodedInput = encodedInput.slice(0);\n\n    // Return the encoded input.\n    return encodedInput as EncodedData;\n  }\n\n  /**\n   * Test whether or not a data sample likely contains anomalies.\n   * If anomalies are likely present in the sample, returns `true`.\n   * Otherwise, returns `false`.\n   *\n   * @param {DecodedData} input\n   * @returns {boolean}\n   */\n  likelyIncludesAnomalies(input: DecodedData, anomalyThreshold = 0.2): boolean {\n    // Create the anomaly vector.\n    const anomalies: number[] = [];\n\n    // Attempt to denoise the input.\n    const denoised = this.denoise(input);\n\n    // Calculate the anomaly vector.\n    for (let i = 0; i < (input.length ?? 0); i++) {\n      anomalies[i] = Math.abs(\n        (input as number[])[i] - (denoised as number[])[i]\n      );\n    }\n\n    // Calculate the sum of all anomalies within the vector.\n    const sum = anomalies.reduce(\n      (previousValue, value) => previousValue + value\n    );\n\n    // Calculate the mean anomaly.\n    const mean = sum / (input as number[]).length;\n\n    // Return whether or not the mean anomaly rate is greater than the anomaly threshold.\n    return mean > anomalyThreshold;\n  }\n\n  /**\n   * Train the auto encoder.\n   *\n   * @param {DecodedData[]} data\n   * @param {Partial<INeuralNetworkTrainOptions>} options\n   * @returns {INeuralNetworkState}\n   */\n  train(\n    data: DecodedData[],\n    options?: Partial<INeuralNetworkTrainOptions>\n  ): INeuralNetworkState {\n    const preprocessedData: Array<INeuralNetworkDatum<\n      Partial<DecodedData>,\n      Partial<DecodedData>\n    >> = [];\n\n    for (const datum of data) {\n      preprocessedData.push({ input: datum, output: datum });\n    }\n\n    const results = this.denoiser.train(preprocessedData, options);\n\n    this.decoder = this.createDecoder();\n\n    return results;\n  }\n\n  /**\n   * Create a new decoder from the trained denoiser.\n   *\n   * @returns {NeuralNetworkGPU<EncodedData, DecodedData>}\n   */\n  private createDecoder() {\n    const json = this.denoiser.toJSON();\n\n    const layers: IJSONLayer[] = [];\n    const sizes: number[] = [];\n\n    for (let i = this.encodedLayerIndex; i < this.denoiser.sizes.length; i++) {\n      layers.push(json.layers[i]);\n      sizes.push(json.sizes[i]);\n    }\n\n    json.layers = layers;\n    json.sizes = sizes;\n\n    json.options.inputSize = json.sizes[0];\n\n    const decoder = new NeuralNetworkGPU().fromJSON(json);\n\n    return (decoder as unknown) as NeuralNetworkGPU<EncodedData, DecodedData>;\n  }\n\n  /**\n   * Get the layer containing the encoded representation.\n   */\n  private get encodedLayer(): KernelOutput {\n    return this.denoiser.outputs[this.encodedLayerIndex];\n  }\n\n  /**\n   * Get the offset of the encoded layer.\n   */\n  private get encodedLayerIndex(): number {\n    return Math.round(this.denoiser.outputs.length * 0.5) - 1;\n  }\n}\n\nexport default AE;\n","import {\n  INeuralNetworkBinaryTestResult,\n  INeuralNetworkState,\n  INeuralNetworkTestResult,\n} from './neural-network-types';\n\nexport type InitClassifier<\n  TrainOptsType,\n  JsonType,\n  DatumType\n> = () => IClassifier<TrainOptsType, JsonType, DatumType>;\n\nexport interface IClassifier<TrainOptsType, JsonType, DatumType> {\n  trainOpts: TrainOptsType;\n  toJSON: () => JsonType;\n  fromJSON: (json: JsonType) => this;\n  train: (\n    data: DatumType[],\n    options?: Partial<TrainOptsType>\n  ) => INeuralNetworkState;\n  test: (\n    data: DatumType[]\n  ) => INeuralNetworkTestResult | INeuralNetworkBinaryTestResult;\n  initialize: () => void;\n}\n\nexport type ICrossValidateJSON<JsonType> =\n  | ICrossValidateStats<JsonType>\n  | ICrossValidateBinaryStats<JsonType>;\n\nexport interface ICrossValidateStatsAverages {\n  trainTime: number;\n  testTime: number;\n  iterations: number;\n  error: number;\n}\n\nexport interface ICrossValidateStats<JsonType> {\n  avgs: ICrossValidateStatsAverages;\n  stats: ICrossValidateStatsResultStats;\n  sets: Array<ICrossValidationTestPartitionResults<JsonType>>;\n}\n\nexport interface ICrossValidateBinaryStats<NetworkType> {\n  avgs: ICrossValidateStatsAverages;\n  stats: ICrossValidateStatsResultBinaryStats;\n  sets: Array<ICrossValidationTestPartitionBinaryResults<NetworkType>>;\n}\n\nexport interface ICrossValidateStatsResultStats {\n  total: number;\n  testSize: number;\n  trainSize: number;\n}\n\nexport interface ICrossValidateStatsResultBinaryStats\n  extends ICrossValidateStatsResultStats {\n  total: number;\n  truePos: number;\n  trueNeg: number;\n  falsePos: number;\n  falseNeg: number;\n  precision: number;\n  recall: number;\n  accuracy: number;\n}\n\nexport interface ICrossValidationTestPartitionResults<JsonType>\n  extends INeuralNetworkTestResult {\n  trainTime: number;\n  testTime: number;\n  iterations: number;\n  network: JsonType;\n  total: number;\n}\n\nexport type ICrossValidationTestPartitionBinaryResults<\n  JsonType\n> = INeuralNetworkBinaryTestResult &\n  ICrossValidationTestPartitionResults<JsonType>;\n\nexport default class CrossValidate<\n  InitClassifierType extends InitClassifier<\n    ReturnType<InitClassifierType>['trainOpts'],\n    ReturnType<ReturnType<InitClassifierType>['toJSON']>,\n    Parameters<ReturnType<InitClassifierType>['train']>[0][0]\n  >\n> {\n  initClassifier: InitClassifierType;\n  json: ICrossValidateJSON<\n    ReturnType<ReturnType<InitClassifierType>['toJSON']>\n  > = {\n    avgs: {\n      error: 0,\n      iterations: 0,\n      testTime: 0,\n      trainTime: 0,\n    },\n    stats: {\n      total: 0,\n      testSize: 0,\n      trainSize: 0,\n    },\n    sets: [],\n  };\n\n  constructor(initClassifier: InitClassifierType) {\n    this.initClassifier = initClassifier;\n  }\n\n  testPartition(\n    trainOpts: Parameters<ReturnType<InitClassifierType>['train']>[1],\n    trainSet: Parameters<ReturnType<InitClassifierType>['train']>[0],\n    testSet: Parameters<ReturnType<InitClassifierType>['train']>[0]\n  ):\n    | ICrossValidationTestPartitionResults<\n        ReturnType<ReturnType<InitClassifierType>['toJSON']>\n      >\n    | ICrossValidationTestPartitionBinaryResults<\n        ReturnType<ReturnType<InitClassifierType>['toJSON']>\n      > {\n    const classifier = this.initClassifier();\n    const beginTrain = Date.now();\n    const trainingStats = classifier.train(trainSet, trainOpts);\n    const beginTest = Date.now();\n    const testStats:\n      | INeuralNetworkTestResult\n      | INeuralNetworkBinaryTestResult = classifier.test(testSet);\n    const endTest = Date.now();\n    return {\n      ...testStats,\n      trainTime: beginTest - beginTrain,\n      testTime: endTest - beginTest,\n      iterations: trainingStats.iterations,\n      error: trainingStats.error,\n      total: testStats.total,\n      network: (classifier as {\n        toJSON: () => ReturnType<ReturnType<InitClassifierType>['toJSON']>;\n      }).toJSON(),\n    };\n  }\n\n  /**\n   * Randomize array element order in-place.\n   * Using Durstenfeld shuffle algorithm.\n   * source: http://stackoverflow.com/a/12646864/1324039\n   */\n  shuffleArray<K>(array: K[]): K[] {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      const temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array;\n  }\n\n  static isBinaryStats = (\n    stats: ICrossValidateStatsResultStats | ICrossValidateStatsResultBinaryStats\n  ): stats is ICrossValidateStatsResultBinaryStats => {\n    return (\n      (stats as ICrossValidateStatsResultBinaryStats).accuracy !== undefined\n    );\n  };\n\n  static isBinaryResults = <JsonType>(\n    stats: ICrossValidateStats<JsonType> | ICrossValidateBinaryStats<JsonType>\n  ): stats is ICrossValidateBinaryStats<JsonType> =>\n    (stats as ICrossValidateBinaryStats<JsonType>).stats.accuracy !== undefined;\n\n  static isBinaryPartitionResults = <JsonType>(\n    stats:\n      | ICrossValidationTestPartitionResults<JsonType>\n      | ICrossValidationTestPartitionBinaryResults<JsonType>\n  ): stats is ICrossValidationTestPartitionBinaryResults<JsonType> =>\n    (stats as ICrossValidationTestPartitionBinaryResults<JsonType>).accuracy !==\n    undefined;\n\n  train(\n    data: Array<Parameters<ReturnType<InitClassifierType>['train']>[0][0]>,\n    trainOpts: Partial<\n      Parameters<ReturnType<InitClassifierType>['train']>[1]\n    > = {},\n    k = 4\n  ): ICrossValidateStats<ReturnType<InitClassifierType>['toJSON']> {\n    if (data.length < k) {\n      throw new Error(\n        `Training set size is too small for ${data.length} k folds of ${k}`\n      );\n    }\n    this.shuffleArray<unknown>(data);\n    const size = data.length / k;\n\n    const avgs: ICrossValidateStatsAverages = {\n      trainTime: 0,\n      testTime: 0,\n      iterations: 0,\n      error: 0,\n    };\n\n    const stats:\n      | ICrossValidateStatsResultStats\n      | ICrossValidateStatsResultBinaryStats = {\n      total: 0,\n      testSize: 0,\n      trainSize: 0,\n    };\n\n    const binaryStats: ICrossValidateStatsResultBinaryStats = {\n      total: 0,\n      testSize: 0,\n      trainSize: 0,\n      truePos: 0,\n      trueNeg: 0,\n      falsePos: 0,\n      falseNeg: 0,\n      precision: 0,\n      recall: 0,\n      accuracy: 0,\n    };\n\n    const results = [];\n    let isBinary = null;\n\n    for (let i = 0; i < k; i++) {\n      const dclone = data.slice(0);\n      const testSet = dclone.splice(i * size, size);\n      const trainSet = dclone;\n      const result = this.testPartition(trainOpts, trainSet, testSet);\n\n      if (isBinary === null) {\n        isBinary =\n          result.hasOwnProperty('falseNeg') &&\n          result.hasOwnProperty('falsePos') &&\n          result.hasOwnProperty('trueNeg') &&\n          result.hasOwnProperty('truePos');\n        if (isBinary) {\n          Object.assign(stats, binaryStats);\n        }\n      }\n\n      avgs.iterations += result.iterations;\n      avgs.testTime += result.testTime;\n      avgs.trainTime += result.trainTime;\n      avgs.error += result.error;\n      stats.total += result.total;\n      if (\n        CrossValidate.isBinaryStats(stats) &&\n        CrossValidate.isBinaryPartitionResults(result)\n      ) {\n        stats.accuracy += result.accuracy;\n        stats.falseNeg += result.falseNeg;\n        stats.falsePos += result.falsePos;\n        stats.precision += result.precision;\n        stats.recall += result.recall;\n        stats.trueNeg += result.trueNeg;\n        stats.truePos += result.truePos;\n      }\n\n      results.push(result);\n    }\n    avgs.error /= k;\n    avgs.iterations /= k;\n    avgs.testTime /= k;\n    avgs.trainTime /= k;\n\n    if (CrossValidate.isBinaryStats(stats)) {\n      stats.precision = stats.truePos / (stats.truePos + stats.falsePos);\n      stats.recall = stats.truePos / (stats.truePos + stats.falseNeg);\n      stats.accuracy = (stats.trueNeg + stats.truePos) / stats.total;\n    }\n\n    stats.testSize = size;\n    stats.trainSize = data.length - size;\n\n    this.json = {\n      avgs: avgs,\n      stats: stats,\n      sets: results,\n    };\n    return this.json as ICrossValidateStats<\n      ReturnType<InitClassifierType>['toJSON']\n    >;\n  }\n\n  toNeuralNetwork(): ReturnType<InitClassifierType> {\n    return this.fromJSON(this.json);\n  }\n\n  toJSON(): ICrossValidateJSON<\n    ReturnType<ReturnType<InitClassifierType>['toJSON']>\n  > | null {\n    return this.json;\n  }\n\n  fromJSON(\n    crossValidateJson: ICrossValidateJSON<\n      ReturnType<ReturnType<InitClassifierType>['toJSON']>\n    >\n  ): ReturnType<InitClassifierType> {\n    const winningJSON:\n      | ICrossValidationTestPartitionResults<\n          ReturnType<ReturnType<InitClassifierType>['toJSON']>\n        >\n      | ICrossValidationTestPartitionBinaryResults<\n          ReturnType<ReturnType<InitClassifierType>['toJSON']>\n        > = (crossValidateJson as ICrossValidateStats<\n      ReturnType<ReturnType<InitClassifierType>['toJSON']>\n    >).sets.reduce((prev, cur) => (prev.error < cur.error ? prev : cur));\n    return (this.initClassifier() as ReturnType<InitClassifierType>).fromJSON(\n      winningJSON.network\n    );\n  }\n}\n","import { IKernelRunShortcut, IKernelFunctionThis } from 'gpu.js';\nimport { makeKernel } from '../utilities/kernel';\n\ninterface mse2dThis extends IKernelFunctionThis {\n  constants: { height: number; width: number; length: number };\n}\n\n/**\n * 2D Mean Squared Error\n */\nexport function mse2d(\n  this: mse2dThis,\n  errors: Array<[number, number]>\n): number {\n  let sum = 0;\n  for (let y = 0; y < this.constants.height; y++) {\n    for (let x = 0; x < this.constants.width; x++) {\n      sum += errors[y][x] ** 2;\n    }\n  }\n  return sum / this.constants.length;\n}\n\nexport class MeanSquaredError {\n  /** Calculate the mean squared error given an array of errors */\n  calculate: IKernelRunShortcut;\n  /** Returns the sum of absolute values of previuous error and previous layer errors */\n  addAbsolute: IKernelRunShortcut;\n  /** Adds two erros */\n  add: IKernelRunShortcut;\n  /** Returns the ratio of sum of errors and length (ie the average) */\n  divide: IKernelRunShortcut;\n\n  constructor({ width, height }: { width: number; height: number }) {\n    this.calculate = makeKernel(mse2d, {\n      output: [1],\n      constants: {\n        width,\n        height,\n        length: width * height,\n      },\n      immutable: true,\n    });\n\n    this.addAbsolute = makeKernel(\n      function (prevError: number[], prevLayerErrors: number[][]) {\n        return prevError[0] + Math.abs(prevLayerErrors[0][0]);\n      },\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n\n    this.add = makeKernel(\n      function (value1: number[], value2: number[]) {\n        return value1[0] + value2[0];\n      },\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n\n    this.divide = makeKernel(\n      function (length: number, mseSum: number[]) {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      },\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n  }\n}\n","import {\n  IKernelRunShortcut,\n  Input,\n  Kernel,\n  KernelOutput,\n  Texture,\n  TextureArrayOutput,\n} from 'gpu.js';\nimport { IPraxis, IPraxisSettings } from '../praxis/base-praxis';\nimport { clear } from '../utilities/kernel';\n\nexport interface ILayerJSON {\n  width?: number;\n  height?: number;\n  depth?: number;\n  weights?: number[] | number[][] | number[][][] | null;\n  type: string;\n  inputLayerIndex?: number;\n  inputLayer1Index?: number;\n  inputLayer2Index?: number;\n  praxisOpts?: Partial<IPraxisSettings> | null;\n}\n\nexport interface ILayer {\n  width: number;\n  height: number;\n  depth: number;\n  weights: KernelOutput | Input;\n  deltas: KernelOutput;\n  praxis: IPraxis | null;\n  errors?: KernelOutput | null;\n  setupKernels: (training?: boolean) => void;\n  predictKernel: IKernelRunShortcut | null;\n  compareKernel: IKernelRunShortcut | null;\n  settings: Partial<ILayerSettings>;\n  reuseKernels: (layer: ILayer) => void;\n  predict: (inputs?: KernelOutput) => void;\n  compare: (targetValues?: KernelOutput) => void;\n  learn: ((learningRate?: number) => void) | ((learningRate: number) => void);\n  toJSON: () => Partial<ILayerJSON>;\n  inputLayer?: ILayer;\n  inputLayer1?: ILayer;\n  inputLayer2?: ILayer;\n  index?: number;\n  id?: string;\n}\n\nexport interface ILayerSettings {\n  width?: number | null;\n  height?: number | null;\n  depth?: number | null;\n  weights?: KernelOutput | null;\n  deltas?: KernelOutput | null;\n  id?: string;\n  praxis?: IPraxis | null;\n  praxisOpts?: Partial<IPraxisSettings> | null;\n  initPraxis?:\n    | ((layerTemplate: ILayer, settings?: IPraxisSettings) => IPraxis)\n    | null;\n  cleanupDeltas?: boolean;\n}\n\nexport const baseLayerDefaultSettings: ILayerSettings = {\n  width: 1,\n  height: 1,\n  depth: null,\n  weights: null,\n  deltas: null,\n  praxis: null,\n  praxisOpts: null,\n  cleanupDeltas: true,\n};\n\nexport type BaseLayerType = new (settings?: Partial<ILayerSettings>) => ILayer;\n\nexport class BaseLayer implements ILayer {\n  praxis: IPraxis | null = null;\n  predictKernel: IKernelRunShortcut | null = null;\n  compareKernel: IKernelRunShortcut | null = null;\n  settings: Partial<ILayerSettings>;\n\n  get width(): number {\n    return this.settings.width ?? 0;\n  }\n\n  get height(): number {\n    return this.settings.height ?? 0;\n  }\n\n  get depth(): number {\n    return this.settings.depth ?? 0;\n  }\n\n  get weights(): KernelOutput | Input {\n    return this.settings.weights as KernelOutput;\n  }\n\n  set weights(weights: KernelOutput | Input) {\n    this.settings.weights = weights as KernelOutput;\n    if (this.settings.cleanupDeltas && this.deltas) {\n      clear(this.deltas);\n    }\n  }\n\n  get deltas(): KernelOutput {\n    return this.settings.deltas as KernelOutput;\n  }\n\n  set deltas(deltas: KernelOutput) {\n    this.settings.deltas = deltas;\n  }\n\n  get id(): string {\n    return this.settings.id ?? '';\n  }\n\n  set id(title: string) {\n    this.settings.id = title;\n  }\n\n  constructor(settings?: Partial<ILayerSettings>) {\n    if (settings) {\n      this.settings = { ...baseLayerDefaultSettings, ...settings };\n    } else {\n      this.settings = { ...baseLayerDefaultSettings };\n    }\n    this.setupPraxis();\n  }\n\n  setupPraxis(): void {\n    const { initPraxis, praxis, praxisOpts } = this.settings;\n    if (!this.praxis) {\n      if (initPraxis) {\n        if (praxisOpts) {\n          this.praxis = initPraxis(this, praxisOpts);\n        } else {\n          this.praxis = initPraxis(this);\n        }\n      } else if (praxis) {\n        this.praxis = praxis;\n      }\n    }\n  }\n\n  /*\n  get weights() {\n    return this._weights;\n  }\n\n  set weights(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      }\n    }\n    this._weights = value;\n  }\n\n  get deltas() {\n    return this._deltas;\n  }\n\n  set deltas(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      }\n    }\n    this._deltas = value;\n  } */\n\n  validate(): void {\n    if (Number.isNaN(this.height)) {\n      throw new Error(`${this.constructor.name} layer height is not a number`);\n    }\n    if (Number.isNaN(this.width)) {\n      throw new Error(`${this.constructor.name} layer width is not a number`);\n    }\n    if (this.height < 1) {\n      throw new Error(`${this.constructor.name} layer height is less than 1`);\n    }\n    if (this.width < 1) {\n      throw new Error(`${this.constructor.name} layer width is less than 1`);\n    }\n  }\n\n  setupKernels(isTraining?: boolean): void {}\n\n  reuseKernels(layer: ILayer): void {\n    if (layer.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.width} is not ${this.width}`\n      );\n    }\n    if (layer.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.height} is not ${this.height}`\n      );\n    }\n    if (layer.hasOwnProperty('predictKernel') && layer.predictKernel !== null) {\n      if (!(layer.predictKernel as Kernel).immutable) {\n        throw new Error(\n          `${layer.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`\n        );\n      }\n      this.predictKernel = layer.predictKernel;\n    }\n    if (layer.hasOwnProperty('compareKernel') && layer.compareKernel !== null) {\n      if (!(layer.compareKernel as Kernel).immutable) {\n        throw new Error(\n          `${layer.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`\n        );\n      }\n      this.compareKernel = layer.compareKernel;\n    }\n    this.praxis = layer.praxis;\n  }\n\n  predict(inputs?: KernelOutput): void {}\n\n  compare(targetValues?: KernelOutput): void {}\n\n  learn(learningRate?: number): void {}\n\n  toArray(): TextureArrayOutput {\n    return Array.isArray(this.weights)\n      ? this.weights\n      : (this.weights as Texture).toArray();\n  }\n\n  toJSON(): Partial<ILayerJSON> {\n    return BaseLayer.toJSON(this);\n  }\n\n  static toJSON(layer: ILayer): Partial<ILayerJSON> {\n    const { weights } = layer;\n    return {\n      width: layer.width,\n      height: layer.height,\n      depth: layer.depth,\n      weights: toUntypedArray(\n        (weights && weights instanceof Texture\n          ? weights.toArray()\n          : weights) as\n          | Float32Array\n          | Float32Array[]\n          | Float32Array[][]\n          | number[]\n          | number[][]\n          | number[][][]\n          | null\n      ),\n      type: layer.constructor.name,\n      praxisOpts: layer.praxis ? layer.praxis.toJSON() : null,\n    };\n  }\n}\n\nfunction toUntypedArray(\n  weights:\n    | Float32Array\n    | Float32Array[]\n    | Float32Array[][]\n    | number[]\n    | number[][]\n    | number[][][]\n    | null\n): number[][][] | number[][] | number[] | null {\n  if (weights === null) return null;\n  if (Array.isArray(weights)) {\n    if (typeof weights[0] === 'number') {\n      return weights as number[];\n    } else if (Array.isArray(weights[0]) && typeof weights[0][0] === 'number') {\n      return weights as number[][];\n    } else if (\n      Array.isArray(weights[0][0]) &&\n      typeof weights[0][0][0] === 'number'\n    ) {\n      return weights as number[][][];\n    } else if (weights[0] instanceof Float32Array) {\n      const matrix = weights as Float32Array[];\n      return matrix.map((row: Float32Array) => {\n        return Array.from(row);\n      });\n    } else if (weights[0][0] instanceof Float32Array) {\n      const cube = weights as Float32Array[][];\n      return cube.map((matrix: Float32Array[]): number[][] => {\n        return matrix.map((row: Float32Array): number[] => {\n          return Array.from(row);\n        });\n      });\n    }\n  } else if (weights) {\n    return Array.from(weights);\n  }\n  throw new Error('unexpected value');\n}\n","import { zeros } from './zeros';\n\n/**\n * Returns a 2D tensor(matrix) of zeros\n */\nexport function zeros2D(width: number, height: number): Float32Array[] {\n  const result: Float32Array[] = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = zeros(width);\n  }\n  return result;\n}\n","import { zeros2D } from './zeros-2d';\n\n/**\n * Returns a 3D tensor of arrays\n */\nexport function zeros3D(\n  width: number,\n  height: number,\n  depth: number\n): Float32Array[][] {\n  const result: Float32Array[][] = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = zeros2D(width, height);\n  }\n  return result;\n}\n","import { BaseLayer, ILayerSettings, ILayer } from './base-layer';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { zeros3D } from '../utilities/zeros-3d';\n\nexport type ActivationType = new (\n  inputLayer: ILayer,\n  settings: Partial<ILayerSettings>\n) => ILayer;\n\nexport class Activation extends BaseLayer {\n  inputLayer: ILayer;\n\n  get width(): number {\n    return this.inputLayer.width;\n  }\n\n  get height(): number {\n    return this.inputLayer.height;\n  }\n\n  get depth(): number {\n    return this.inputLayer.depth;\n  }\n\n  constructor(inputLayer: ILayer, settings?: Partial<ILayerSettings>) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    const { width, height, depth } = this;\n    this.predictKernel = null;\n    this.compareKernel = null;\n    this.validate();\n    if (depth > 0) {\n      this.weights = zeros3D(width, height, depth);\n      this.deltas = zeros3D(width, height, depth);\n    } else if (height > 0) {\n      this.weights = zeros2D(width, height);\n      this.deltas = zeros2D(width, height);\n    }\n    this.setupPraxis();\n  }\n}\n","import { KernelOutput } from 'gpu.js';\nimport { BaseLayer, ILayer, ILayerSettings } from './base-layer';\n\nexport interface IFilterSettings extends ILayerSettings {\n  filterCount: number;\n  filterWidth: number;\n  filterHeight: number;\n  filters?: KernelOutput;\n  filterDeltas?: KernelOutput;\n}\n\nexport type FilterType = new (\n  settings: Partial<IFilterSettings>,\n  inputLayer: ILayer\n) => ILayer;\n\nexport class Filter extends BaseLayer {\n  get width(): number {\n    return this.inputLayer.width;\n  }\n\n  get height(): number {\n    return this.inputLayer.height;\n  }\n\n  get depth(): number {\n    return this.inputLayer.depth;\n  }\n\n  get filterCount(): number {\n    return this.settings.filterCount as number;\n  }\n\n  get filterWidth(): number {\n    return this.settings.filterWidth as number;\n  }\n\n  get filterHeight(): number {\n    return this.settings.filterHeight as number;\n  }\n\n  get filters(): KernelOutput {\n    return this.settings.filters;\n  }\n\n  set filters(filters: KernelOutput) {\n    this.settings.filters = filters;\n  }\n\n  get filterDeltas(): KernelOutput {\n    return this.settings.filterDeltas;\n  }\n\n  set filterDeltas(filterDeltas: KernelOutput) {\n    this.settings.filterDeltas = filterDeltas;\n  }\n\n  settings: Partial<IFilterSettings>;\n  inputLayer: ILayer;\n  constructor(settings: Partial<IFilterSettings>, inputLayer: ILayer) {\n    super();\n    this.settings = settings;\n    this.inputLayer = inputLayer;\n  }\n}\n","import { BaseLayer, ILayer, ILayerJSON, ILayerSettings } from './base-layer';\nimport { IKernelRunShortcut, Input, KernelOutput } from 'gpu.js';\nimport { IPraxis } from '../praxis/base-praxis';\n\nexport type InternalType = new (settings: Partial<ILayerSettings>) => ILayer;\n\nexport abstract class Internal implements ILayer {\n  abstract settings: ILayerSettings;\n  abstract predict(inputs?: KernelOutput): void;\n  abstract compare(targetValues?: KernelOutput): void;\n  abstract learn(learningRate?: number): void;\n  abstract setupKernels(training?: boolean): void;\n  predictKernel: IKernelRunShortcut | null = null;\n  compareKernel: IKernelRunShortcut | null = null;\n  praxis: IPraxis | null = null;\n\n  get width(): number {\n    return this.settings.width as number;\n  }\n\n  get height(): number {\n    return this.settings.height as number;\n  }\n\n  get depth(): number {\n    return this.settings.depth as number;\n  }\n\n  get weights(): KernelOutput | Input {\n    return this.settings.weights as KernelOutput;\n  }\n\n  set weights(weights: KernelOutput | Input) {\n    this.settings.weights = weights as KernelOutput;\n  }\n\n  get deltas(): KernelOutput {\n    return this.settings.deltas as KernelOutput;\n  }\n\n  set deltas(deltas: KernelOutput) {\n    this.settings.deltas = deltas;\n  }\n\n  toJSON(): Partial<ILayerJSON> {\n    return BaseLayer.toJSON(this);\n  }\n\n  abstract reuseKernels(layer: ILayer): void;\n}\n","import { BaseLayer, ILayer, ILayerSettings } from './base-layer';\n\nexport type ModifierType = new (\n  inputLayer: ILayer,\n  settings?: Partial<ILayerSettings>\n) => ILayer;\n\nexport class Modifier extends BaseLayer {\n  inputLayer: ILayer;\n  constructor(inputLayer: ILayer, settings?: Partial<ILayerSettings>) {\n    super({\n      ...settings,\n      width: inputLayer.width,\n      height: inputLayer.height,\n      depth: inputLayer.depth,\n    });\n    this.inputLayer = inputLayer;\n  }\n\n  validate(): void {\n    super.validate();\n\n    if (this.width !== this.inputLayer.width) {\n      throw new Error(\n        `width of ${this.width} does not match inputLayer.width of ${this.inputLayer.width}`\n      );\n    }\n\n    if (this.height !== this.inputLayer.height) {\n      throw new Error(\n        `height of ${this.height} does not match inputLayer.height of ${this.inputLayer.height}`\n      );\n    }\n\n    if (this.depth !== (this.inputLayer.depth ?? 0)) {\n      throw new Error(\n        `depth of ${this.depth} does not match inputLayer.depth of ${this.inputLayer.depth}`\n      );\n    }\n  }\n}\n","import { BaseLayer, ILayerSettings, ILayer } from './base-layer';\nimport { zeros2D } from '../utilities/zeros-2d';\n\nexport type OperatorType = new (\n  inputLayer1: ILayer,\n  inputLayer2: ILayer,\n  settings?: Partial<ILayerSettings>\n) => ILayer;\n\nexport abstract class Operator extends BaseLayer {\n  inputLayer1: ILayer;\n  inputLayer2: ILayer;\n  constructor(\n    inputLayer1: ILayer,\n    inputLayer2: ILayer,\n    settings?: Partial<ILayerSettings>\n  ) {\n    super(settings);\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n    this.setupPraxis();\n  }\n}\n","import { IKernelFunctionThis, IKernelRunShortcut, KernelOutput } from 'gpu.js';\n\nimport { makeKernel, release, clone } from '../utilities/kernel';\nimport { zeros } from '../utilities/zeros';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { BaseLayer, ILayer, ILayerSettings } from './base-layer';\n\nexport function compare1D(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  targetValues: number[]\n): number {\n  return weights[this.thread.y][this.thread.x] - targetValues[this.thread.x];\n}\n\nexport function compare2D(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  targetValues: number[][]\n): number {\n  return (\n    weights[this.thread.y][this.thread.x] -\n    targetValues[this.thread.y][this.thread.x]\n  );\n}\n\nexport type TargetType = new (\n  settings: Partial<ILayerSettings>,\n  inputLayer: ILayer\n) => ILayer;\n\nexport class Target extends BaseLayer {\n  errors: KernelOutput;\n  inputLayer: ILayer;\n  constructor(settings: Partial<ILayerSettings>, inputLayer: ILayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n    if (this.depth) {\n      throw new Error('Target layer not implemented for depth');\n    } else if (this.height) {\n      this.weights = zeros2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n      this.errors = zeros2D(this.width, this.height);\n    } else {\n      this.weights = zeros(this.width);\n      this.deltas = zeros(this.width);\n      this.errors = zeros(this.width);\n    }\n  }\n\n  setupKernels(): void {\n    if (this.width === 1) {\n      this.compareKernel = makeKernel(compare1D, {\n        output: [this.width, this.height],\n        immutable: true,\n      });\n    } else {\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        immutable: true,\n      });\n    }\n  }\n\n  predict(): void {\n    // TODO: should we clone here?\n    // NOTE: this looks like it shouldn't be, but the weights are immutable, and this is where they are reused.\n    release(this.weights);\n    this.weights = clone(this.inputLayer.weights as KernelOutput);\n  }\n\n  compare(targetValues: KernelOutput): void {\n    // this is where weights attach to deltas\n    // deltas will be zero on learn, so save it in error for comparing to mse later\n    release(this.deltas);\n    release(this.errors);\n    release(this.inputLayer.deltas);\n    this.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.weights,\n      targetValues\n    );\n    this.inputLayer.deltas = clone(this.deltas);\n    this.errors = clone(this.deltas);\n  }\n\n  setupPraxis(): void {}\n}\n\nexport function target(settings: ILayerSettings, inputLayer: ILayer): Target {\n  return new Target(settings, inputLayer);\n}\n","import { release } from '../utilities/kernel';\nimport { BaseLayer, ILayer, ILayerSettings } from './base-layer';\nexport { Activation } from './activation';\nexport { Filter } from './filter';\nexport { Internal } from './internal';\nexport { Modifier } from './modifier';\nexport { Operator } from './operator';\nexport { Target } from './target';\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class InternalModel {}\n\nexport type EntryPointType = new (settings: Partial<ILayerSettings>) => ILayer;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class EntryPoint extends BaseLayer {}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Model extends BaseLayer {\n  learn(learningRate?: number): void {\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    if (!this.praxis) throw new Error('this.praxis not defined');\n    this.weights = this.praxis.run(this, learningRate as number);\n    release(oldWeights);\n  }\n}\n","import { ILayer } from '../layer';\nimport { IKernelRunShortcut, KernelOutput } from 'gpu.js';\n\nexport interface ILayerTemplate {\n  width: number;\n  height: number;\n  depth: number;\n}\n\nexport interface IPraxisJSON {\n  width: number;\n  height: number;\n  depth: number;\n}\n\nexport interface IPraxisSettings {\n  width?: number;\n  height?: number;\n  depth?: number;\n  kernel?: IKernelRunShortcut | null;\n}\n\nexport interface IPraxis {\n  layerTemplate: ILayerTemplate | null;\n  kernel: IKernelRunShortcut | null;\n  settings: Partial<IPraxisSettings>;\n  setupKernels: () => void;\n  width: number;\n  height: number;\n  depth: number;\n  run:\n    | ((layer: ILayer, learningRate: number) => KernelOutput)\n    | ((layer: ILayer, learningRate?: number) => KernelOutput);\n  toJSON: () => Partial<IPraxisSettings>;\n}\n\nexport abstract class BasePraxis implements IPraxis {\n  layerTemplate: ILayerTemplate;\n  kernel: IKernelRunShortcut | null;\n  settings: Partial<IPraxisSettings>;\n\n  get width(): number {\n    return this.layerTemplate.width;\n  }\n\n  get height(): number {\n    return this.layerTemplate.height;\n  }\n\n  get depth(): number {\n    return this.layerTemplate.depth;\n  }\n\n  constructor(\n    layerTemplate: ILayerTemplate,\n    settings: Partial<IPraxisSettings> = {}\n  ) {\n    this.layerTemplate = layerTemplate;\n    this.settings = { ...settings };\n    this.kernel = null;\n  }\n\n  setupKernels(): void {}\n\n  reuseKernels(praxis: IPraxis): void {\n    if (praxis.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.width} is not ${this.width}`\n      );\n    }\n    if (praxis.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.height} is not ${this.height}`\n      );\n    }\n    if (praxis.hasOwnProperty('kernel')) {\n      this.kernel = praxis.kernel;\n    }\n  }\n\n  abstract run(layer: ILayer, learningRate?: number): KernelOutput;\n\n  toJSON(): Partial<IPraxisSettings> {\n    return { ...this.settings };\n  }\n}\n","import { makeKernel } from '../utilities/kernel';\nimport { BasePraxis, IPraxisSettings } from './base-praxis';\nimport { ILayer } from '../layer/base-layer';\nimport { IKernelFunctionThis, IKernelRunShortcut, KernelOutput } from 'gpu.js';\n\nexport interface IUpdateThis extends IKernelFunctionThis {\n  constants: {\n    learningRate: number;\n  };\n}\n\nexport function update(\n  this: IUpdateThis,\n  weights: number[][],\n  deltas: number[][]\n): number {\n  return (\n    weights[this.thread.y][this.thread.x] +\n    this.constants.learningRate * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nexport interface IArthurDeviationBiasesSettings extends IPraxisSettings {\n  learningRate?: number;\n}\n\nexport const defaultSettings = {\n  learningRate: 0.3,\n};\n\nexport class ArthurDeviationBiases extends BasePraxis {\n  settings: IArthurDeviationBiasesSettings;\n  kernel: IKernelRunShortcut | null;\n  constructor(layer: ILayer, settings?: IArthurDeviationBiasesSettings) {\n    super(layer);\n    this.settings = { ...defaultSettings, ...settings };\n    this.kernel = null;\n  }\n\n  run(layer: ILayer): KernelOutput {\n    return (this.kernel as IKernelRunShortcut)(layer.weights, layer.deltas);\n  }\n\n  setupKernels(): void {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        learningRate: this.settings.learningRate ?? 0.01,\n      },\n    });\n  }\n}\n\nexport function arthurDeviationBiases(\n  layer: ILayer,\n  settings?: Partial<IArthurDeviationBiasesSettings>\n): ArthurDeviationBiases {\n  return new ArthurDeviationBiases(layer, settings);\n}\n","import { makeKernelMap } from '../utilities/kernel';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { BasePraxis, IPraxisSettings } from './base-praxis';\nimport { ILayer } from '../layer/base-layer';\nimport {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelMapRunShortcut,\n  ISubKernelObject,\n  ISubKernelsResults,\n  KernelOutput,\n} from 'gpu.js';\n\nexport function updateChange(value: number): number {\n  return value;\n}\n\nexport interface IUpdateConstants extends IConstantsThis {\n  learningRate: number;\n  momentum: number;\n}\n\nexport function update(\n  this: IKernelFunctionThis<IUpdateConstants>,\n  changes: number[][],\n  weights: number[][],\n  incomingWeights: number[][],\n  inputDeltas: number[][]\n): number {\n  const lastChange: number = changes[this.thread.y][this.thread.x];\n  const inputDelta: number = inputDeltas[this.thread.y][0];\n  const weight: number = weights[this.thread.y][this.thread.x];\n  const incoming: number = incomingWeights[this.thread.x][0];\n\n  const change =\n    this.constants.learningRate * inputDelta * incoming +\n    this.constants.momentum * lastChange;\n  updateChange(change);\n  return weight + change;\n}\n\nexport interface IArthurDeviationWeightsSettings extends IPraxisSettings {\n  learningRate?: number;\n  momentum?: number;\n  weightsLayer?: ILayer | null;\n  incomingLayer?: ILayer | null;\n  deltaLayer?: ILayer | null;\n}\n\nexport interface IKernelMapResults extends ISubKernelsResults {\n  changes: KernelOutput;\n}\n\nexport const defaultSettings: IArthurDeviationWeightsSettings = {\n  learningRate: 0.3,\n  momentum: 0.1,\n  weightsLayer: null,\n  incomingLayer: null,\n  deltaLayer: null,\n};\n\nexport class ArthurDeviationWeights extends BasePraxis {\n  changes: KernelOutput;\n  kernelMap: IKernelMapRunShortcut<ISubKernelObject> | null = null;\n  settings: IArthurDeviationWeightsSettings;\n  get learningRate(): number {\n    return this.settings.learningRate as number;\n  }\n\n  get momentum(): number {\n    return this.settings.momentum as number;\n  }\n\n  get weightsLayer(): ILayer {\n    return this.settings.weightsLayer as ILayer;\n  }\n\n  set weightsLayer(layer: ILayer) {\n    this.settings.weightsLayer = layer;\n  }\n\n  get deltaLayer(): ILayer {\n    return this.settings.deltaLayer as ILayer;\n  }\n\n  set deltaLayer(layer: ILayer) {\n    this.settings.deltaLayer = layer;\n  }\n\n  get incomingLayer(): ILayer {\n    return this.settings.incomingLayer as ILayer;\n  }\n\n  set incomingLayer(layer: ILayer) {\n    this.settings.incomingLayer = layer;\n  }\n\n  constructor(layer: ILayer, settings?: IArthurDeviationWeightsSettings) {\n    super(layer);\n    this.settings = { ...defaultSettings, ...settings };\n    this.changes = zeros2D(layer.width, layer.height);\n  }\n\n  run(): KernelOutput {\n    const output = (this.kernelMap as IKernelMapRunShortcut<IKernelMapResults>)(\n      this.changes,\n      this.weightsLayer.weights,\n      this.incomingLayer.weights,\n      this.deltaLayer.deltas\n    );\n    this.changes = output.changes;\n    return output.result;\n  }\n\n  setupKernels(): void {\n    this.kernelMap = makeKernelMap<Parameters<typeof update>, IUpdateConstants>(\n      {\n        changes: updateChange,\n      },\n      update,\n      {\n        output: [this.width, this.height],\n        constants: {\n          learningRate: this.learningRate,\n          momentum: this.momentum,\n        },\n      }\n    );\n  }\n}\n\nexport function arthurDeviationWeights(\n  layer: ILayer,\n  settings?: Partial<IArthurDeviationWeightsSettings>\n): ArthurDeviationWeights {\n  return new ArthurDeviationWeights(layer, settings);\n}\n","import { BasePraxis, ILayerTemplate, IPraxisSettings } from './base-praxis';\n\nimport { makeKernelMap, release } from '../utilities/kernel';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelMapRunShortcut,\n  ISubKernelObject,\n  KernelOutput,\n} from 'gpu.js';\nimport { ILayer } from '../layer';\n\nexport function getMomentum(\n  delta: number,\n  decay: number,\n  previousMomentum: number\n): number {\n  return previousMomentum * decay + (1 - decay) * delta * delta;\n}\n\nexport function clipByValue(value: number, max: number, min: number): number {\n  if (value > max) {\n    return max;\n  }\n  if (value < min) {\n    return min;\n  }\n  return value;\n}\n\ninterface IUpdate extends IConstantsThis {\n  clipValue: number;\n  decayRate: number;\n  smoothEps: number;\n  regularizationStrength: number;\n}\n/**\n * @description Momentum Root Mean Square Propagation Function\n */\nexport function update(\n  this: IKernelFunctionThis<IUpdate>,\n  weights: number[][],\n  deltas: number[][],\n  previousMomenta: number[][]\n): number {\n  const delta = deltas[this.thread.y][this.thread.x];\n  const clippedDelta = clipByValue(\n    delta,\n    this.constants.clipValue,\n    -this.constants.clipValue\n  );\n  const weight = weights[this.thread.y][this.thread.x];\n  const previousMomentum = previousMomenta[this.thread.y][this.thread.x];\n  const momentum = getMomentum(\n    delta,\n    this.constants.decayRate,\n    previousMomentum\n  );\n  return (\n    weight +\n    (-this.constants.learningRate * clippedDelta) /\n      Math.sqrt(momentum + this.constants.smoothEps) -\n    this.constants.regularizationStrength * weight\n  );\n}\n\nexport function isClippedByValue(\n  value: number,\n  max: number,\n  min: number\n): number {\n  if (value > max) {\n    return 1;\n  }\n  if (value < min) {\n    return 1;\n  }\n  return 0;\n}\n\nexport interface IMomentumRootMeanSquaredPropagationSettings\n  extends IPraxisSettings {\n  decayRate?: number;\n  regularizationStrength?: number;\n  learningRate?: number;\n  smoothEps: number;\n  clipValue: number;\n}\n\nexport const defaults: IMomentumRootMeanSquaredPropagationSettings = {\n  decayRate: 0.999,\n  regularizationStrength: 0.000001,\n  learningRate: 0.01,\n  smoothEps: 1e-8,\n  clipValue: 5,\n};\n\nexport class MomentumRootMeanSquaredPropagation extends BasePraxis {\n  momenta: KernelOutput;\n  kernelMap: IKernelMapRunShortcut<ISubKernelObject> | null = null;\n  settings: Partial<IMomentumRootMeanSquaredPropagationSettings>;\n\n  get clipValue(): number {\n    return this.settings.clipValue as number;\n  }\n\n  get decayRate(): number {\n    return this.settings.decayRate as number;\n  }\n\n  get learningRate(): number {\n    return this.settings.learningRate as number;\n  }\n\n  get regularizationStrength(): number {\n    return this.settings.regularizationStrength as number;\n  }\n\n  get smoothEps(): number {\n    return this.settings.smoothEps as number;\n  }\n\n  constructor(\n    layerTemplate: ILayerTemplate,\n    settings: Partial<IMomentumRootMeanSquaredPropagationSettings> = {}\n  ) {\n    super(layerTemplate);\n    this.settings = { ...defaults, ...settings };\n    this.momenta = zeros2D(layerTemplate.width, layerTemplate.height);\n  }\n\n  run(layer: ILayer): KernelOutput {\n    const { momenta, result } = (this.kernelMap as IKernelMapRunShortcut<\n      ISubKernelObject\n    >)(layer.weights, layer.deltas, this.momenta);\n    release(this.momenta);\n    this.momenta = momenta;\n    return result;\n  }\n\n  setupKernels(): void {\n    this.kernelMap = makeKernelMap(\n      {\n        momenta: getMomentum,\n      },\n      update,\n      {\n        output: [this.width, this.height],\n        constants: {\n          clipValue: this.clipValue,\n          decayRate: this.decayRate,\n          learningRate: this.learningRate,\n          regularizationStrength: this.regularizationStrength,\n          smoothEps: this.smoothEps,\n        },\n        functions: [clipByValue],\n        immutable: true,\n      }\n    );\n  }\n}\n\nexport function momentumRootMeanSquaredPropagation(\n  layer: ILayer,\n  settings: Partial<IMomentumRootMeanSquaredPropagationSettings>\n): MomentumRootMeanSquaredPropagation {\n  return new MomentumRootMeanSquaredPropagation(layer, settings);\n}\n\n/**\n * @description Mathematician friendly name of MomentumRootMeanSquaredPropagation class. For those that are not mere mortals\n */\nexport const MRmsProp = MomentumRootMeanSquaredPropagation;\nexport const mRmsProp = momentumRootMeanSquaredPropagation;\n","import { ILayer } from '../layer/base-layer';\n\nexport function traverseLayersFrom(\n  layer: ILayer,\n  cb: (layer: ILayer) => void\n): void {\n  if (layer.hasOwnProperty('inputLayer')) {\n    traverseLayersFrom(\n      (layer as ILayer & { inputLayer: ILayer }).inputLayer,\n      cb\n    );\n  } else {\n    if (layer.hasOwnProperty('inputLayer1')) {\n      traverseLayersFrom(\n        (layer as ILayer & { inputLayer1: ILayer }).inputLayer1,\n        cb\n      );\n    }\n    if (layer.hasOwnProperty('inputLayer2')) {\n      traverseLayersFrom(\n        (layer as ILayer & { inputLayer2: ILayer }).inputLayer2,\n        cb\n      );\n    }\n  }\n  cb(layer);\n}\n","import { ILayer } from '../layer/base-layer';\nimport { traverseLayersFrom } from './traverse-layers-from';\n\nexport function flattenLayers(layers: ILayer[]): ILayer[] {\n  const result = layers.slice(0);\n  for (let i = 0; i < result.length; i++) {\n    let offset = 0;\n    traverseLayersFrom(result[i], (layer: ILayer) => {\n      if (!result.includes(layer)) {\n        result.splice(i + offset, 0, layer);\n        offset++;\n      }\n    });\n  }\n  return result;\n}\n","import { ILayer } from '../layer/base-layer';\n\nexport function checkSameSize(layer1: ILayer, layer2: ILayer): void {\n  if (layer1.width !== layer2.width) {\n    throw new Error(\n      `Layer width mismatch of ${layer1.width} and ${layer2.width}`\n    );\n  }\n\n  if (layer1.height !== layer2.height) {\n    throw new Error(\n      `Layer height mismatch of ${layer1.height} and ${layer2.height}`\n    );\n  }\n}\n","import { makeKernel, release, clone } from '../utilities/kernel';\nimport { checkSameSize } from '../utilities/layer-size';\nimport { Operator } from './operator';\nimport { IKernelFunctionThis, IKernelRunShortcut, Texture } from 'gpu.js';\nimport { ILayerSettings, ILayer } from './base-layer';\n\nexport function predict(\n  this: IKernelFunctionThis,\n  inputWeights1: number[][],\n  inputWeights2: number[][]\n): number {\n  return (\n    inputWeights1[this.thread.y][this.thread.x] +\n    inputWeights2[this.thread.y][this.thread.x]\n  );\n}\n\nexport class Add extends Operator {\n  get width(): number {\n    return this.inputLayer1.width;\n  }\n\n  get height(): number {\n    return this.inputLayer1.height;\n  }\n\n  get depth(): number {\n    return this.inputLayer1.depth;\n  }\n\n  validate(): void {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    ) as Texture;\n  }\n\n  compare(): void {\n    // TODO: Do we need release and clone here?\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = clone(this.deltas);\n    this.inputLayer2.deltas = clone(this.deltas);\n  }\n}\n\nexport function add(\n  inputLayer1: ILayer,\n  inputLayer2: ILayer,\n  settings?: ILayerSettings\n): Add {\n  return new Add(inputLayer1, inputLayer2, settings);\n}\n","import { randos2D } from '../utilities/randos';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { baseLayerDefaultSettings, ILayer, ILayerSettings } from './base-layer';\nimport { Model } from './types';\n\nexport interface IRandomSettings extends ILayerSettings {\n  std?: number | null;\n}\n\nexport const defaults: IRandomSettings = {\n  ...baseLayerDefaultSettings,\n  std: null,\n};\n\nexport class Random extends Model implements ILayer {\n  settings: IRandomSettings;\n  constructor(settings: Partial<IRandomSettings>) {\n    super();\n    this.settings = { ...defaults, ...settings };\n    this.setupPraxis();\n    this.validate();\n\n    if (!this.weights) {\n      this.weights = randos2D(this.width, this.height, settings.std);\n    }\n    if (!this.deltas) {\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  predict(): void {}\n\n  compare(): void {}\n}\n\nexport function random(settings: IRandomSettings): Random {\n  return new Random(settings);\n}\n","import { makeKernel, release } from '../utilities/kernel';\nimport { Operator } from './operator';\nimport {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelRunShortcut,\n  Texture,\n} from 'gpu.js';\nimport { ILayer, ILayerJSON, ILayerSettings } from './base-layer';\n\nexport interface IMultiplyConstants extends IConstantsThis {\n  size: number;\n}\n\nexport function predict(\n  this: IKernelFunctionThis<IMultiplyConstants>,\n  weights1: number[][],\n  weights2: number[][]\n): number {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += weights1[this.thread.y][i] * weights2[i][this.thread.x];\n  }\n  return sum;\n}\n\nexport function compareFromX(\n  this: IKernelFunctionThis<IMultiplyConstants>,\n  deltas: number[][],\n  inputDeltas: number[][],\n  inputWeights: number[][]\n): number {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[this.thread.y][i] * inputWeights[this.thread.x][i];\n  }\n  return sum;\n}\n\nexport function compareFromY(\n  this: IKernelFunctionThis<IMultiplyConstants>,\n  deltas: number[][],\n  inputDeltas: number[][],\n  inputWeights: number[][]\n): number {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[i][this.thread.x] * inputWeights[i][this.thread.y];\n  }\n  return sum;\n}\n\nexport class Multiply extends Operator {\n  compareKernel1: IKernelRunShortcut | null = null;\n  compareKernel2: IKernelRunShortcut | null = null;\n\n  get width(): number {\n    return this.inputLayer2.width;\n  }\n\n  set width(width: number) {\n    throw new Error('Cannot set width on Multiply');\n  }\n\n  get height(): number {\n    return this.inputLayer1.height;\n  }\n\n  set height(height: number) {\n    throw new Error('Cannot set height on Multiply');\n  }\n\n  get depth(): number {\n    return this.inputLayer1.depth;\n  }\n\n  set depth(depth: number) {\n    throw new Error('Cannot set depth on Multiply');\n  }\n\n  validate(): void {\n    super.validate();\n    if (this.inputLayer1.width !== this.inputLayer2.height) {\n      throw new Error(\n        `Layer width mismatch of ${this.inputLayer1.width} and ${this.inputLayer2.height}`\n      );\n    }\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      constants: {\n        size: this.inputLayer2.height,\n      },\n      immutable: true,\n    });\n    this.compareKernel1 = makeKernel(compareFromX, {\n      output: [this.inputLayer1.width, this.inputLayer1.height],\n      constants: {\n        size: this.inputLayer2.width,\n      },\n      immutable: true,\n    });\n    this.compareKernel2 = makeKernel(compareFromY, {\n      output: [this.inputLayer2.width, this.inputLayer2.height],\n      constants: {\n        size: this.inputLayer1.height,\n      },\n      immutable: true,\n    });\n  }\n\n  reuseKernels(layer: ILayer): void {\n    super.reuseKernels(layer);\n    this.compareKernel1 = (layer as Multiply).compareKernel1;\n    this.compareKernel2 = (layer as Multiply).compareKernel2;\n  }\n\n  predict(): void {\n    release(this.weights);\n    if (!this.predictKernel) throw new Error('this.predictKernel is not set');\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    ) as Texture;\n  }\n\n  compare(): void {\n    if (!this.compareKernel1) throw new Error('this.compareKernel1 not set');\n    if (!this.compareKernel2) throw new Error('this.compareKernel2 not set');\n\n    const inputLayer1Deltas = this.inputLayer1.deltas;\n    const inputLayer2Deltas = this.inputLayer2.deltas;\n\n    const newDeltas1 = this.compareKernel1(\n      this.deltas,\n      this.inputLayer1.deltas,\n      this.inputLayer2.weights\n    );\n    const newDeltas2 = this.compareKernel2(\n      this.deltas,\n      this.inputLayer2.deltas,\n      this.inputLayer1.weights\n    );\n\n    this.inputLayer2.deltas = newDeltas2 as Texture;\n    this.inputLayer1.deltas = newDeltas1 as Texture;\n\n    release(inputLayer1Deltas);\n    release(inputLayer2Deltas);\n  }\n\n  setupPraxis(): void {}\n\n  toJSON(): Partial<ILayerJSON> {\n    return {\n      ...super.toJSON(),\n      width: this.width,\n      height: this.height,\n    };\n  }\n}\n\nexport function multiply(\n  inputLayer1: ILayer,\n  inputLayer2: ILayer,\n  settings?: ILayerSettings\n): Multiply {\n  return new Multiply(inputLayer1, inputLayer2, settings);\n}\n","import { ILayer, ILayerSettings } from './base-layer';\nimport { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\n\nimport { Activation } from './types';\nimport { makeKernel, release } from '../utilities/kernel';\nimport { activate, measure } from '../activation/sigmoid';\n\nexport function predict2D(\n  this: IKernelFunctionThis,\n  inputs: number[][]\n): number {\n  return 1 / (1 + Math.exp(-inputs[this.thread.y][this.thread.x]));\n}\n\nexport function predict3D(\n  this: IKernelFunctionThis,\n  inputs: number[][][]\n): number {\n  return (\n    1 / (1 + Math.exp(-inputs[this.thread.z][this.thread.y][this.thread.x]))\n  );\n}\n\nexport function compare2D(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  deltas: number[][]\n): number {\n  const weight = weights[this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nexport function compare3D(\n  this: IKernelFunctionThis,\n  weights: number[][][],\n  deltas: number[][][]\n): number {\n  const weight = weights[this.thread.z][this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.z][this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nexport class Sigmoid extends Activation {\n  setupKernels(): void {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n  }\n\n  compare(): void {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.weights,\n      this.deltas\n    );\n  }\n\n  learn(learningRate?: number): void {}\n}\n\nexport function sigmoid(\n  inputLayer: ILayer,\n  settings?: ILayerSettings\n): Sigmoid {\n  return new Sigmoid(inputLayer, settings);\n}\n","import {\n  ArthurDeviationWeights,\n  arthurDeviationWeights,\n  IArthurDeviationWeightsSettings,\n} from '../praxis/arthur-deviation-weights';\nimport {\n  arthurDeviationBiases,\n  IArthurDeviationBiasesSettings,\n} from '../praxis/arthur-deviation-biases';\nimport { ILayer } from './base-layer';\nimport { add } from './add';\nimport { IRandomSettings, random } from './random';\nimport { multiply } from './multiply';\nimport { Sigmoid, sigmoid } from './sigmoid';\nimport { IPraxis } from '../praxis/base-praxis';\n\nexport interface IArthurFeedForwardPraxisSettings\n  extends IArthurDeviationBiasesSettings,\n    IArthurDeviationWeightsSettings {}\n\nexport interface IArthurFeedForwardSettings extends IRandomSettings {\n  initPraxis?: (\n    layerTemplate: ILayer,\n    settings?: IArthurFeedForwardPraxisSettings | null\n  ) => IPraxis;\n}\n\nexport function arthurFeedForward(\n  settings: IArthurFeedForwardPraxisSettings,\n  inputLayer: ILayer\n): Sigmoid {\n  const { height } = settings;\n  function initWeightsPraxis(\n    layerTemplate: ILayer,\n    settings?: IArthurDeviationWeightsSettings\n  ): IPraxis {\n    const praxis = arthurDeviationWeights(layerTemplate, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  function initBiasesPraxis(\n    layerTemplate: ILayer,\n    settings?: IArthurDeviationBiasesSettings\n  ): IPraxis {\n    const praxis = arthurDeviationBiases(layerTemplate, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  const weightsLayer = random({\n    id: 'weights',\n    height,\n    width: inputLayer.height,\n    initPraxis: initWeightsPraxis,\n  });\n\n  const biasesLayer = random({\n    id: 'biases',\n    height,\n    initPraxis: initBiasesPraxis,\n  });\n\n  const multiplyLayer = multiply(weightsLayer, inputLayer);\n  const addLayer = add(multiplyLayer, biasesLayer);\n  const sigmoidLayer = sigmoid(addLayer);\n\n  const weightsPraxis = weightsLayer.praxis as ArthurDeviationWeights;\n  weightsPraxis.weightsLayer = weightsLayer;\n  weightsPraxis.incomingLayer = inputLayer;\n  weightsPraxis.deltaLayer = sigmoidLayer;\n  return sigmoidLayer;\n}\n","import { IConvolutionSettingsBase } from '../layer/convolution';\n\nexport interface IStride {\n  strideX: number;\n  strideY: number;\n}\n\nexport function getStride(\n  settings: IConvolutionSettingsBase,\n  defaults: IConvolutionSettingsBase\n): IStride {\n  if (typeof settings.stride === 'number') {\n    return { strideX: settings.stride, strideY: settings.stride };\n  } else {\n    let strideX: number = defaults.stride as number;\n    let strideY: number = defaults.stride as number;\n    if (typeof settings.strideX === 'number') {\n      strideX = settings.strideX;\n    }\n    if (typeof settings.strideY === 'number') {\n      strideY = settings.strideY;\n    }\n    return { strideX, strideY };\n  }\n}\n\nexport interface IPadding {\n  paddingX: number;\n  paddingY: number;\n}\n\nexport function getPadding(\n  settings: IConvolutionSettingsBase,\n  defaults: IConvolutionSettingsBase\n): IPadding {\n  if (typeof settings.padding === 'number') {\n    return { paddingX: settings.padding, paddingY: settings.padding };\n  } else {\n    let paddingX: number = defaults.padding as number;\n    let paddingY: number = defaults.padding as number;\n    if (typeof settings.paddingX === 'number') {\n      paddingX = settings.paddingX;\n    }\n    if (typeof settings.paddingY === 'number') {\n      paddingY = settings.paddingY;\n    }\n    return { paddingX, paddingY };\n  }\n}\n","/**\n * Returns an array of a given size with each element filled with a single value\n */\nexport function values(size: number, value: number): Float32Array {\n  return new Float32Array(size).fill(value);\n}\n","import { makeKernel, release, clone } from '../utilities/kernel';\nimport { getStride, getPadding } from '../utilities/layer-setup';\nimport { Filter } from './filter';\nimport { randos, randos3D } from '../utilities/randos';\nimport { zeros3D } from '../utilities/zeros-3d';\nimport { values } from '../utilities/values';\nimport {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelRunShortcut,\n  KernelOutput,\n} from 'gpu.js';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { IPraxis } from '../praxis/base-praxis';\n\nexport interface IConvolutionConstantsBase extends IConstantsThis {\n  paddingX: number;\n  paddingY: number;\n  strideX: number;\n  strideY: number;\n  filterWidth: number;\n  filterHeight: number;\n}\n\nexport interface IPredictConstants extends IConvolutionConstantsBase {\n  inputWidth: number;\n  inputHeight: number;\n  inputDepth: number;\n}\n\nexport function predict(\n  this: IKernelFunctionThis<IPredictConstants>,\n  inputs: number[][][],\n  filters: number[][][],\n  biases: number[]\n): number {\n  const startFilterX =\n    this.constants.paddingX - this.thread.x * this.constants.strideX;\n  const startInputX =\n    this.thread.x * this.constants.strideX - this.constants.paddingX;\n  const endFilterX = Math.min(\n    this.constants.filterWidth,\n    startFilterX + this.constants.inputWidth\n  );\n\n  const startFilterY =\n    this.constants.paddingY - this.thread.y * this.constants.strideY;\n  const startInputY =\n    this.thread.y * this.constants.strideY - this.constants.paddingY;\n  const endFilterY = Math.min(\n    this.constants.filterHeight,\n    startFilterY + this.constants.inputHeight\n  );\n\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (\n      let filterY = Math.max(0, startFilterY),\n        inputY = Math.max(0, startInputY);\n      filterY < endFilterY;\n      filterY++, inputY++\n    ) {\n      for (\n        let filterX = Math.max(0, startFilterX),\n          inputX = Math.max(0, startInputX);\n        filterX < endFilterX;\n        filterX++, inputX++\n      ) {\n        sum += filters[z][filterY][filterX] * inputs[z][inputY][inputX];\n      }\n    }\n  }\n  return sum + biases[this.thread.z];\n}\n\nexport interface ICompareFilterDeltasConstants\n  extends IConvolutionConstantsBase {\n  deltaWidth: number;\n  deltaHeight: number;\n  inputWidth: number;\n  inputHeight: number;\n  deltaZ: number;\n}\n\nexport function compareFilterDeltas(\n  this: IKernelFunctionThis<ICompareFilterDeltasConstants>,\n  filterDeltas: number[][][],\n  inputs: number[][][],\n  deltas: number[][][]\n): number {\n  const startDeltaX = Math.max(\n    0,\n    Math.ceil(\n      (this.constants.paddingX - this.thread.x) / this.constants.strideX\n    )\n  );\n  const startInputX =\n    startDeltaX * this.constants.strideX +\n    this.thread.x -\n    this.constants.paddingX;\n  const endDeltaX = Math.min(\n    this.constants.deltaWidth,\n    Math.floor(\n      (this.constants.inputWidth -\n        1 -\n        this.thread.x +\n        this.constants.paddingX) /\n        this.constants.strideX\n    ) + 1\n  );\n\n  const startDeltaY = Math.max(\n    0,\n    Math.ceil(\n      (this.constants.paddingY - this.thread.y) / this.constants.strideY\n    )\n  );\n  const startInputY =\n    startDeltaY * this.constants.strideY +\n    this.thread.y -\n    this.constants.paddingY;\n  const endDeltaY = Math.min(\n    this.constants.deltaHeight,\n    Math.floor(\n      (this.constants.inputHeight -\n        1 -\n        this.thread.y +\n        this.constants.paddingY) /\n        this.constants.strideY\n    ) + 1\n  );\n\n  let sum = filterDeltas[this.thread.z][this.thread.y][this.thread.x];\n  for (\n    let deltaY = startDeltaY, inputY = startInputY;\n    deltaY < endDeltaY;\n    deltaY++, inputY += this.constants.strideY\n  ) {\n    for (\n      let deltaX = startDeltaX, inputX = startInputX;\n      deltaX < endDeltaX;\n      deltaX++, inputX += this.constants.strideX\n    ) {\n      sum +=\n        inputs[this.thread.z][inputY][inputX] *\n        deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nexport interface ICompareInputDeltasConstants\n  extends IConvolutionConstantsBase {\n  deltaHeight: number;\n  deltaWidth: number;\n  deltaZ: number;\n}\n\nexport function compareInputDeltas(\n  this: IKernelFunctionThis<ICompareInputDeltasConstants>,\n  inputDeltas: number[][][],\n  filters: number[][][],\n  deltas: number[][][]\n): number {\n  const x = this.thread.x + this.constants.paddingX;\n  const startDeltaX =\n    x < this.constants.filterWidth\n      ? 0\n      : Math.floor(\n          (x - this.constants.filterWidth + this.constants.strideX) /\n            this.constants.strideX\n        );\n  const startFilterX = x - startDeltaX * this.constants.strideX;\n  const endDeltaX = Math.min(\n    startDeltaX + Math.floor(startFilterX / this.constants.strideX) + 1,\n    this.constants.deltaWidth\n  );\n\n  const y = this.thread.y + this.constants.paddingY;\n  const startDeltaY =\n    y < this.constants.filterHeight\n      ? 0\n      : Math.floor(\n          (y - this.constants.filterHeight + this.constants.strideY) /\n            this.constants.strideY\n        );\n  const startFilterY = y - startDeltaY * this.constants.strideY;\n  const endDeltaY = Math.min(\n    startDeltaY + Math.floor(startFilterY / this.constants.strideY) + 1,\n    this.constants.deltaHeight\n  );\n\n  let sum = inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n  let deltaY = startDeltaY;\n  for (\n    let filterY = startFilterY;\n    deltaY < endDeltaY;\n    filterY -= this.constants.strideY, deltaY++\n  ) {\n    let deltaX = startDeltaX;\n    for (\n      let filterX = startFilterX;\n      deltaX < endDeltaX;\n      filterX -= this.constants.strideX, deltaX++\n    ) {\n      sum +=\n        filters[this.thread.z][filterY][filterX] *\n        deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nexport interface ICompareBiasesConstants extends IConstantsThis {\n  deltaHeight: number;\n  deltaWidth: number;\n}\n\nexport function compareBiases(\n  this: IKernelFunctionThis<ICompareBiasesConstants>,\n  biasDeltas: number[][][],\n  deltas: number[][][]\n): number {\n  let sum = 0;\n  for (let y = 0; y < this.constants.deltaHeight; y++) {\n    for (let x = 0; x < this.constants.deltaWidth; x++) {\n      sum += deltas[this.thread.z][y][x];\n    }\n  }\n  return biasDeltas[this.thread.z][this.thread.y][this.thread.x] + sum;\n}\n\nexport interface IConvolutionSettingsBase {\n  stride?: number;\n  strideX?: number;\n  strideY?: number;\n  padding?: number;\n  paddingX?: number;\n  paddingY?: number;\n  filterCount?: number;\n  filterWidth?: number;\n  filterHeight?: number;\n}\n\nexport interface IConvolutionSettings\n  extends ILayerSettings,\n    IConvolutionSettingsBase {\n  bias?: number;\n  biases?: KernelOutput;\n  biasDeltas?: KernelOutput;\n  filters?: KernelOutput;\n  filterDeltas?: KernelOutput;\n}\n\nexport const defaults: IConvolutionSettings = {\n  stride: 0,\n  padding: 0,\n  bias: 0.1,\n  filterCount: 1,\n  filterWidth: 0,\n  filterHeight: 0,\n};\n\nexport class Convolution extends Filter {\n  settings: Partial<IConvolutionSettings>;\n\n  get strideX(): number {\n    return this.settings.strideX as number;\n  }\n\n  get strideY(): number {\n    return this.settings.strideY as number;\n  }\n\n  get paddingX(): number {\n    return this.settings.paddingX as number;\n  }\n\n  get paddingY(): number {\n    return this.settings.paddingX as number;\n  }\n\n  get width(): number {\n    return Math.floor(\n      (this.inputLayer.width + this.paddingX * 2 - this.filterWidth) /\n        this.strideX +\n        1\n    );\n  }\n\n  get height(): number {\n    return Math.floor(\n      (this.inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n  }\n\n  get bias(): number {\n    return this.settings.bias as number;\n  }\n\n  get depth(): number {\n    return this.filterCount;\n  }\n\n  get biases(): KernelOutput {\n    return this.settings.biases;\n  }\n\n  set biases(biases: KernelOutput) {\n    this.settings.biases = biases;\n  }\n\n  get biasDeltas(): KernelOutput {\n    return this.settings.biasDeltas;\n  }\n\n  set biasDeltas(weights: KernelOutput) {\n    this.settings.biasDeltas = weights;\n  }\n\n  get filters(): KernelOutput {\n    return this.settings.filters;\n  }\n\n  set filters(filters: KernelOutput) {\n    this.settings.filters = filters;\n  }\n\n  get filterDeltas(): KernelOutput {\n    return this.settings.filterDeltas;\n  }\n\n  set filterDeltas(filterDeltas: KernelOutput) {\n    this.settings.filterDeltas = filterDeltas;\n  }\n\n  constructor(settings: IConvolutionSettings, inputLayer: ILayer) {\n    super(settings, inputLayer);\n    this.settings = {\n      ...defaults,\n      ...settings,\n      ...getPadding(settings, defaults),\n      ...getStride(settings, defaults),\n    };\n\n    this.weights =\n      settings.weights ?? randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.biases = values(this.depth, this.bias);\n    this.biasDeltas = settings.biasDeltas ?? randos(this.depth);\n\n    this.filters =\n      settings.filters ??\n      randos3D(this.filterWidth, this.filterHeight, this.filterCount);\n    this.filterDeltas = zeros3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n    this.validate();\n  }\n\n  compareFilterDeltasKernel: IKernelRunShortcut | null = null;\n  compareInputDeltasKernel: IKernelRunShortcut | null = null;\n  compareBiasesKernel: IKernelRunShortcut | null = null;\n  setupKernels(): void {\n    this.predictKernel = makeKernel<\n      Parameters<typeof predict>,\n      IPredictConstants\n    >(predict, {\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n      constants: {\n        deltaWidth: this.width,\n        deltaHeight: this.height,\n        deltaZ: this.depth,\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n      constants: {\n        deltaWidth: this.width,\n        deltaHeight: this.height,\n        deltaZ: this.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n        filterCount: this.filterCount,\n      },\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      immutable: true,\n    });\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [1, 1, this.depth],\n      constants: {\n        deltaWidth: this.width,\n        deltaHeight: this.height,\n      },\n      immutable: true,\n    });\n  }\n\n  predict(): void {\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare(): void {\n    const { filterDeltas, biasDeltas } = this;\n    this.filterDeltas = (this.compareFilterDeltasKernel as IKernelRunShortcut)(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(filterDeltas);\n    this.biasDeltas = (this.compareBiasesKernel as IKernelRunShortcut)(\n      biasDeltas,\n      this.deltas\n    );\n    release(biasDeltas);\n    release(this.deltas);\n    this.deltas = (this.compareInputDeltasKernel as IKernelRunShortcut)(\n      this.filters,\n      this.inputLayer.deltas\n    );\n\n    release(this.inputLayer.deltas);\n    // TODO: do we need to clone here?\n    this.inputLayer.deltas = clone(this.deltas);\n  }\n\n  learn(learningRate: number): void {\n    // TODO: handle filters\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    this.weights = (this.praxis as IPraxis).run(this, learningRate);\n    release(oldWeights);\n  }\n}\n\nexport function convolution(\n  settings: IConvolutionSettings,\n  inputLayer: ILayer\n): Convolution {\n  return new Convolution(settings, inputLayer);\n}\n","import { Filter, IFilterSettings } from './filter';\nimport { makeKernel, makeKernelMap, release } from '../utilities/kernel';\nimport {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelMapRunShortcut,\n  IKernelRunShortcut,\n  ISubKernelObject,\n  KernelOutput,\n} from 'gpu.js';\nimport { ILayer, ILayerSettings, baseLayerDefaultSettings } from './base-layer';\n\nexport function setDropout(dropout: number): number {\n  return dropout;\n}\n\nexport interface IDropoutConstants extends IConstantsThis {\n  probability: number;\n}\n\nexport function trainingPredict(\n  this: IKernelFunctionThis<IDropoutConstants>,\n  inputs: number[][]\n): number {\n  if (setDropout(Math.random()) < this.constants.probability) {\n    return 0;\n  }\n  return inputs[this.thread.y][this.thread.x];\n}\n\nexport function predict(\n  this: IKernelFunctionThis<IDropoutConstants>,\n  inputs: number[][]\n): number {\n  return inputs[this.thread.y][this.thread.x] * this.constants.probability;\n}\n\nexport function compare(\n  this: IKernelFunctionThis,\n  dropouts: number[][],\n  deltas: number[][]\n): number {\n  if (dropouts[this.thread.y][this.thread.x] === 0) {\n    return 0;\n  }\n  return deltas[this.thread.y][this.thread.x];\n}\n\nexport interface IDropoutSettings extends ILayerSettings {\n  probability: number;\n}\n\nexport const dropoutDefaults: IDropoutSettings = {\n  ...baseLayerDefaultSettings,\n  probability: 0.5,\n};\n\nexport class Dropout extends Filter {\n  dropouts: KernelOutput | null;\n  predictKernelMap: IKernelMapRunShortcut<ISubKernelObject> | null = null;\n  settings: Partial<IDropoutSettings>;\n  constructor(\n    inputLayer: ILayer,\n    settings?: Partial<IDropoutSettings> & Partial<IFilterSettings>\n  ) {\n    super(settings as Partial<IFilterSettings>, inputLayer);\n    this.settings = { ...dropoutDefaults, ...settings };\n    this.dropouts = null;\n    this.validate();\n  }\n\n  setupKernels(isTraining?: boolean): void {\n    const output = [this.width, this.height];\n\n    if (isTraining) {\n      this.predictKernelMap = makeKernelMap<\n        Parameters<typeof trainingPredict>,\n        IDropoutConstants\n      >({ dropouts: setDropout }, trainingPredict, {\n        output,\n        immutable: true,\n      });\n      this.compareKernel = makeKernel(compare, { output, immutable: true });\n    } else {\n      this.predictKernelMap = makeKernelMap<\n        Parameters<typeof predict>,\n        IDropoutConstants\n      >({}, predict, { output, immutable: true });\n    }\n  }\n\n  predict(): void {\n    release(this.weights);\n    if (this.dropouts) {\n      release(this.dropouts);\n    }\n    const { result, dropouts } = (this\n      .predictKernelMap as IKernelMapRunShortcut<ISubKernelObject>)(\n      this.inputLayer.weights\n    );\n    this.weights = result;\n    this.dropouts = dropouts;\n  }\n\n  compare(): void {\n    release(this.deltas);\n    this.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.dropouts as KernelOutput,\n      this.inputLayer.deltas\n    );\n  }\n}\n\nexport function dropout(\n  inputLayer: ILayer,\n  settings?: Partial<IDropoutSettings>\n): Dropout {\n  return new Dropout(inputLayer, settings);\n}\n","import { random } from './random';\nimport { add } from './add';\nimport { multiply } from './multiply';\nimport { sigmoid } from './sigmoid';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function feedForward(settings: ILayerSettings, input: ILayer): ILayer {\n  const { height, praxisOpts = null } = settings;\n  const weights = random({\n    id: 'weights',\n    height,\n    width: input.height,\n    praxisOpts,\n  });\n  const biases = random({ id: 'biases', height, praxisOpts });\n  return sigmoid(\n    add(multiply(weights, input, { praxisOpts }), biases, { praxisOpts }),\n    { praxisOpts }\n  );\n}\n","import {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelRunShortcut,\n  KernelOutput,\n} from 'gpu.js';\nimport { Filter, IFilterSettings } from './filter';\nimport { makeKernel, release } from '../utilities/kernel';\nimport { values } from '../utilities/values';\nimport { randos2D, randos3D } from '../utilities/randos';\nimport { zeros } from '../utilities/zeros';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { zeros3D } from '../utilities/zeros-3d';\nimport { ILayer } from './base-layer';\n\nexport interface IPredictConstants extends IConstantsThis {\n  inputWidth: number;\n  inputHeight: number;\n}\n\nexport function predict(\n  this: IKernelFunctionThis<IPredictConstants>,\n  inputs: number[][],\n  filters: number[][],\n  biases: number[]\n): number {\n  let output = 0;\n  let i = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      output += inputs[y][x] * filters[this.thread.x][i];\n      i++;\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nexport function predict3D(\n  this: IKernelFunctionThis<IPredictConstants>,\n  inputs: number[][][],\n  filters: number[][],\n  biases: number[]\n): number {\n  let output = 0;\n  let i = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        output += inputs[z][y][x] * filters[this.thread.x][i];\n        i++;\n      }\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nexport interface ICompareInputDeltasConstants extends IConstantsThis {\n  filterCount: number;\n}\n\nexport function compareInputDeltas(\n  this: IKernelFunctionThis<ICompareInputDeltasConstants>,\n  inputDeltas: number[][],\n  deltas: number[][],\n  filters: number[][]\n): number {\n  let sum = 0;\n  const filterX = this.thread.x + this.thread.y * this.output.x;\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.y][this.thread.x];\n}\n\nexport function compareInputDeltas3D(\n  this: IKernelFunctionThis<ICompareInputDeltasConstants>,\n  inputDeltas: number[][][],\n  deltas: number[][],\n  filters: number[][]\n): number {\n  let sum = 0;\n  const filterX = this.thread.x + this.thread.y * this.output.x;\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n}\n\nexport function compareBiases(\n  this: IKernelFunctionThis,\n  biases: number[],\n  deltas: number[][]\n): number {\n  return biases[this.thread.x] + deltas[this.thread.y][this.thread.x];\n}\n\nexport interface ICompareFiltersDeltas extends IConstantsThis {\n  deltaX: number;\n  deltaY: number;\n  inputWidth: number;\n  inputHeight: number;\n}\n\nexport function compareFilterDeltas(\n  this: IKernelFunctionThis<ICompareFiltersDeltas>,\n  filterDeltas: number[][],\n  inputWeights: number[][],\n  deltas: number[][]\n): number {\n  return (\n    filterDeltas[this.thread.y][this.thread.x] +\n    inputWeights[this.thread.y][this.thread.x] *\n      deltas[this.constants.deltaY][this.constants.deltaX]\n  );\n}\n\nexport function compareFilterDeltas3D(\n  this: IKernelFunctionThis<ICompareFiltersDeltas>,\n  filterDeltas: number[][],\n  inputWeights: number[][][],\n  deltas: number[][]\n): number {\n  const inputZ = Math.floor(\n    this.thread.x / (this.constants.inputWidth * this.constants.inputHeight)\n  );\n  const inputY = Math.floor(\n    (this.thread.x -\n      inputZ * this.constants.inputWidth * this.constants.inputHeight) /\n      this.constants.inputWidth\n  );\n  const inputX =\n    this.thread.x -\n    this.constants.inputWidth * (inputY + this.constants.inputHeight * inputZ);\n  return (\n    filterDeltas[this.thread.y][this.thread.x] +\n    inputWeights[inputZ][inputY][inputX] * deltas[0][this.thread.y]\n  );\n}\n\nexport interface IFullyConnectedDefaultSettings\n  extends Partial<IFilterSettings> {\n  bias?: number;\n  biases?: KernelOutput;\n  biasDeltas?: KernelOutput;\n}\n\nexport const defaults: IFullyConnectedDefaultSettings = {\n  bias: 0.1,\n};\n\nexport class FullyConnected extends Filter {\n  get bias(): number {\n    return this.settings.bias as number;\n  }\n\n  get biases(): KernelOutput {\n    return this.settings.biases;\n  }\n\n  set biases(biases: KernelOutput) {\n    this.settings.biases = biases;\n  }\n\n  get biasDeltas(): KernelOutput {\n    return this.settings.biases;\n  }\n\n  set biasDeltas(biasDeltas: KernelOutput) {\n    this.settings.biasDeltas = biasDeltas;\n  }\n\n  settings: Partial<IFullyConnectedDefaultSettings>;\n  compareFilterDeltasKernel: IKernelRunShortcut | null = null;\n  compareInputDeltasKernel: IKernelRunShortcut | null = null;\n  compareBiasesKernel: IKernelRunShortcut | null = null;\n  constructor(\n    settings: Partial<IFullyConnectedDefaultSettings>,\n    inputLayer: ILayer\n  ) {\n    super(settings, inputLayer);\n    this.settings = { ...settings };\n    this.validate();\n\n    const connectionCount =\n      inputLayer.width * inputLayer.height * inputLayer.depth;\n\n    this.biases = values(this.height, this.bias);\n    this.biasDeltas = zeros(this.height);\n\n    this.filters = randos2D(connectionCount, this.height);\n    this.filterDeltas = zeros2D(connectionCount, this.height);\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height, this.depth);\n      this.deltas = zeros3D(this.width, this.height, this.depth);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  validate(): void {\n    super.validate();\n    if (this.depth > 0) throw new Error('depth not supported');\n  }\n\n  setupKernels(): void {\n    const { inputLayer } = this;\n    const connectionCount =\n      inputLayer.width * inputLayer.height * inputLayer.depth;\n    if (inputLayer.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n          inputDepth: inputLayer.depth,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas3D, {\n        output: [connectionCount, this.height],\n        constants: {\n          deltaX: 0,\n          deltaY: 0,\n          inputWidth: inputLayer.width,\n          inputHeight: inputLayer.height,\n        },\n        immutable: true,\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas3D, {\n        output: [inputLayer.width, inputLayer.height, inputLayer.depth],\n        constants: {\n          filterCount: this.height,\n        },\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n        output: [connectionCount, this.height],\n        constants: {\n          deltaX: 0,\n          deltaY: 0,\n          inputWidth: inputLayer.width,\n          inputHeight: inputLayer.height,\n        },\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n        output: [inputLayer.width, inputLayer.height],\n        constants: {\n          filterCount: this.height,\n        },\n      });\n    }\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict(): void {\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare(): void {\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = (this\n      .compareInputDeltasKernel as IKernelRunShortcut)(\n      inputLayerDeltas,\n      this.deltas,\n      this.filters\n    );\n    release(inputLayerDeltas);\n\n    const { biasDeltas, filterDeltas } = this;\n    // TODO: handle biasDeltas learn\n    this.biasDeltas = (this.compareBiasesKernel as IKernelRunShortcut)(\n      this.biases,\n      this.deltas\n    );\n\n    // TODO: handle filterDeltas learn\n    this.filterDeltas = (this.compareFilterDeltasKernel as IKernelRunShortcut)(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(biasDeltas);\n    release(filterDeltas);\n  }\n}\n\nexport function fullyConnected(\n  settings: IFullyConnectedDefaultSettings,\n  inputLayer: ILayer\n): FullyConnected {\n  return new FullyConnected(settings, inputLayer);\n}\n","import { makeKernel } from '../utilities/kernel';\nimport { Modifier } from './types';\nimport { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function predict(\n  this: IKernelFunctionThis,\n  weights: number[][]\n): number {\n  return -weights[this.thread.y][this.thread.x];\n}\n\nexport class Negative extends Modifier {\n  constructor(inputLayer: ILayer, settings?: ILayerSettings) {\n    super(inputLayer, settings);\n    this.validate();\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict(): void {\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n  }\n}\n\nexport function negative(\n  inputLayer: ILayer,\n  settings?: ILayerSettings\n): Negative {\n  return new Negative(inputLayer, settings);\n}\n","import { makeKernel, release } from '../utilities/kernel';\nimport { Operator } from './operator';\nimport { checkSameSize } from '../utilities/layer-size';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\n\nexport function predict(\n  this: IKernelFunctionThis,\n  inputLayerWeights1: number[][],\n  inputLayerWeights2: number[][]\n): number {\n  return (\n    inputLayerWeights1[this.thread.y][this.thread.x] *\n    inputLayerWeights2[this.thread.y][this.thread.x]\n  );\n}\n\nexport function compare(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  deltas: number[][]\n): number {\n  return (\n    weights[this.thread.y][this.thread.x] * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nexport class MultiplyElement extends Operator {\n  get width(): number {\n    return this.inputLayer1.width;\n  }\n\n  get height(): number {\n    return this.inputLayer1.height;\n  }\n\n  get depth(): number {\n    return this.inputLayer1.depth;\n  }\n\n  validate(): void {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n  }\n\n  compare(): void {\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.inputLayer2.weights,\n      this.deltas\n    );\n    this.inputLayer2.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.inputLayer1.weights,\n      this.deltas\n    );\n  }\n}\n\nexport function multiplyElement(\n  inputLayer1: ILayer,\n  inputLayer2: ILayer,\n  settings?: ILayerSettings\n): MultiplyElement {\n  return new MultiplyElement(inputLayer1, inputLayer2, settings);\n}\n","export function ones(size: number): Float32Array {\n  return new Float32Array(size).fill(1);\n}\n\nexport function ones2D(width: number, height: number): Float32Array[] {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = ones(width);\n  }\n  return result;\n}\n","import { ILayerSettings } from './base-layer';\n\nimport { ones2D } from '../utilities/ones';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { Model } from './types';\n\nexport class Ones extends Model {\n  constructor(settings: ILayerSettings) {\n    super(settings);\n    this.validate();\n    this.weights = ones2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n}\n\nexport function ones(settings: ILayerSettings): Ones {\n  return new Ones(settings);\n}\n","import { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\n\nimport { Activation } from './activation';\nimport { activate, measure } from '../activation/tanh';\nimport { release, makeKernel } from '../utilities/kernel';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function predict2D(\n  this: IKernelFunctionThis,\n  inputs: number[][]\n): number {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nexport function predict3D(\n  this: IKernelFunctionThis,\n  inputs: number[][][]\n): number {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nexport function compare2D(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  errors: number[][]\n): number {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    errors[this.thread.y][this.thread.x]\n  );\n}\n\nexport function compare3D(\n  this: IKernelFunctionThis,\n  weights: number[][][],\n  errors: number[][][]\n): number {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    errors[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nexport class Tanh extends Activation {\n  setupKernels(): void {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n  }\n\n  compare(): void {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.weights,\n      this.deltas\n    );\n  }\n}\n\nexport function tanh(inputLayer: ILayer, settings?: ILayerSettings): Tanh {\n  return new Tanh(inputLayer, settings);\n}\n","import { zeros2D } from '../utilities/zeros-2d';\nimport { Model } from './types';\nimport { ILayerSettings } from './base-layer';\n\nexport class Zeros extends Model {\n  constructor(settings: ILayerSettings) {\n    super(settings);\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  predict(): void {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare(): void {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  // learn(): void {}\n}\n\nexport function zeros(settings: ILayerSettings): Zeros {\n  return new Zeros(settings);\n}\n","import { add } from './add';\nimport { negative } from './negative';\nimport { multiply } from './multiply';\nimport { multiplyElement } from './multiply-element';\nimport { ones } from './ones';\nimport { sigmoid } from './sigmoid';\nimport { random } from './random';\nimport { tanh } from './tanh';\nimport { zeros } from './zeros';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { RecurrentInput } from './recurrent-input';\n\nexport function gru(\n  settings: ILayerSettings,\n  recurrentInput: RecurrentInput,\n  input: ILayer\n): ILayer {\n  const { height } = settings;\n  const updateGateWeights = random({ height, width: input.height });\n  const updateGatePeepholes = random({ width: height, height });\n  const updateGateBias = zeros({ height });\n  const updateGate = sigmoid(\n    add(\n      add(\n        multiply(updateGateWeights, input),\n        multiply(updateGatePeepholes, recurrentInput)\n      ),\n      updateGateBias\n    )\n  );\n\n  const resetGateWeights = random({ height, width: input.height });\n  const resetGatePeepholes = random({ width: height, height });\n  const resetGateBias = zeros({ height });\n  const resetGate = sigmoid(\n    add(\n      add(\n        multiply(resetGateWeights, input),\n        multiply(resetGatePeepholes, recurrentInput)\n      ),\n      resetGateBias\n    )\n  );\n\n  const cellWeights = random({ height, width: input.height });\n  const cellPeepholes = random({ width: height, height });\n  const cellBias = zeros({ height });\n  const cell = tanh(\n    add(\n      add(\n        multiply(cellWeights, input),\n        multiply(cellPeepholes, multiplyElement(resetGate, recurrentInput))\n      ),\n      cellBias\n    )\n  );\n\n  // compute hidden state as gated, saturated cell activations\n  // negate updateGate\n  return add(\n    multiplyElement(\n      add(\n        ones({ width: updateGate.width, height: updateGate.height }),\n        negative(updateGate)\n      ),\n      cell\n    ),\n    multiplyElement(recurrentInput, updateGate)\n  );\n}\n","import { IKernelFunctionThis, IKernelRunShortcut, KernelOutput } from 'gpu.js';\nimport { EntryPoint } from './types';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { makeKernel, release, kernelInput, clone } from '../utilities/kernel';\n\nexport const defaults: ILayerSettings = {\n  weights: null,\n};\n\nexport class Input extends EntryPoint {\n  reshapeInput: IKernelRunShortcut | null = null;\n  constructor(settings: ILayerSettings) {\n    super({ ...defaults, ...settings });\n    this.validate();\n    this.reshapeInput = null;\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  setupKernels(): void {\n    if (this.width === 1) {\n      this.predict = this.predict1D;\n      this.reshapeInput = makeKernel(\n        function (this: IKernelFunctionThis, value: number[]) {\n          return value[this.thread.y];\n        },\n        {\n          output: [1, this.height],\n          immutable: true,\n        }\n      );\n    }\n  }\n\n  reuseKernels(layer: ILayer): void {\n    // super.reuseKernels(layer);\n    this.reshapeInput = (layer as Input).reshapeInput;\n  }\n\n  predict(inputs: KernelOutput): void {\n    if (\n      (Array.isArray(inputs) || inputs instanceof Float32Array) &&\n      typeof inputs[0] === 'number' &&\n      inputs.length === this.height * this.width\n    ) {\n      release(this.weights);\n      this.weights = kernelInput(inputs as number[], [this.width, this.height]);\n    } else if (\n      Array.isArray(inputs) &&\n      inputs.length === this.height &&\n      (Array.isArray(inputs[0]) || inputs[0] instanceof Float32Array) &&\n      inputs[0].length === this.width\n    ) {\n      this.weights = clone(inputs);\n    } else {\n      throw new Error('Inputs are not of sized correctly');\n    }\n  }\n\n  predict1D(inputs: KernelOutput): void {\n    if (this.weights) release(this.weights);\n    if (this.reshapeInput) {\n      this.weights = this.reshapeInput(inputs);\n    } else {\n      this.weights = inputs;\n    }\n  }\n\n  compare(): void {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(): void {}\n}\n\nexport function input(settings: ILayerSettings): Input {\n  return new Input(settings);\n}\n","import { Activation } from './types';\nimport { makeKernel, release } from '../utilities/kernel';\nimport { activate, measure } from '../activation/leaky-relu';\nimport { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function predict2D(\n  this: IKernelFunctionThis,\n  inputs: number[][]\n): number {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nexport function predict3D(\n  this: IKernelFunctionThis,\n  inputs: number[][][]\n): number {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nexport function compare2D(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  deltas: number[][]\n): number {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nexport function compare3D(\n  this: IKernelFunctionThis,\n  weights: number[][][],\n  deltas: number[][][]\n): number {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nexport class LeakyRelu extends Activation {\n  setupKernels(): void {\n    const { width, height, depth } = this.inputLayer;\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n  }\n\n  compare(): void {\n    const { deltas } = this;\n    this.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.weights,\n      deltas\n    );\n    release(deltas);\n  }\n}\n\nexport function leakyRelu(\n  inputLayer: ILayer,\n  settings: ILayerSettings\n): LeakyRelu {\n  return new LeakyRelu(inputLayer, settings);\n}\n","import { add } from './add';\nimport { multiply } from './multiply';\nimport { multiplyElement } from './multiply-element';\nimport { random } from './random';\nimport { sigmoid } from './sigmoid';\nimport { tanh } from './tanh';\nimport { zeros } from './zeros';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { IRecurrentInput } from './recurrent-input';\n\nexport function lstmCell(\n  settings: ILayerSettings,\n  input: ILayer,\n  recurrentInput: IRecurrentInput\n): ILayer {\n  const { height } = settings;\n\n  if (typeof height !== 'number') {\n    throw new Error('no settings.height given');\n  }\n  if (recurrentInput.setDimensions) {\n    recurrentInput.setDimensions(1, height);\n  }\n\n  const inputGateWeights = random({\n    width: input.height,\n    height,\n    std: 0.08,\n    id: 'inputGateWeights',\n  });\n  const inputGatePeepholes = random({\n    width: height,\n    height,\n    std: 0.08,\n    id: 'inputGatePeepholes',\n  });\n  const inputGateBias = zeros({ width: 1, height, id: 'inputGateBias' });\n  const inputGate = sigmoid(\n    add(\n      add(\n        multiply(inputGateWeights, input),\n        multiply(inputGatePeepholes, recurrentInput)\n      ),\n      inputGateBias\n    ),\n    { id: 'inputGate' }\n  );\n\n  const forgetGateWeights = random({\n    width: input.height,\n    height,\n    std: 0.08,\n    id: 'forgetGateWeights',\n  });\n  const forgetGatePeepholes = random({\n    width: height,\n    height,\n    std: 0.08,\n    id: 'forgetGatePeepholes',\n  });\n  const forgetGateBias = zeros({ width: 1, height, id: 'forgetGateBias' });\n  const forgetGate = sigmoid(\n    add(\n      add(\n        multiply(forgetGateWeights, input),\n        multiply(forgetGatePeepholes, recurrentInput)\n      ),\n      forgetGateBias\n    ),\n    { id: 'forgetGate' }\n  );\n\n  const outputGateWeights = random({\n    width: input.height,\n    height,\n    std: 0.08,\n    id: 'outputGateWeights',\n  });\n  const outputGatePeepholes = random({\n    width: height,\n    height,\n    std: 0.08,\n    id: 'outputGatePeepholes',\n  });\n  const outputGateBias = zeros({ width: 1, height, id: 'outputGateBias' });\n  const outputGate = sigmoid(\n    add(\n      add(\n        multiply(outputGateWeights, input),\n        multiply(outputGatePeepholes, recurrentInput)\n      ),\n      outputGateBias\n    ),\n    { id: 'outputGate' }\n  );\n\n  const memoryWeights = random({\n    width: input.height,\n    height,\n    std: 0.08,\n    id: 'memoryWeights',\n  });\n  const memoryPeepholes = random({\n    width: height,\n    height,\n    std: 0.08,\n    id: 'memoryPeepholes',\n  });\n  const memoryBias = zeros({ width: 1, height, id: 'memoryBias' });\n  const memory = tanh(\n    add(\n      add(\n        multiply(memoryWeights, input),\n        multiply(memoryPeepholes, recurrentInput)\n      ),\n      memoryBias\n    ),\n    { id: 'memory' }\n  );\n\n  // compute new cell activation\n  const retainCell = multiplyElement(forgetGate, recurrentInput, {\n    id: 'retainCell',\n  }); // what do we keep from cell\n  const writeCell = multiplyElement(inputGate, memory, { id: 'writeCell' }); // what do we write to cell\n  const cell = add(retainCell, writeCell, { id: 'cell' }); // new cell contents\n\n  // compute hidden state as gated, saturated cell activations\n  return multiplyElement(outputGate, tanh(cell), { id: 'activations' });\n}\n","import { add } from './add';\nimport { multiply } from './multiply';\nimport { random } from './random';\nimport { target } from './target';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function output(settings: ILayerSettings, inputLayer: ILayer): ILayer {\n  const { height } = settings;\n  const outputGate = random({\n    height,\n    width: inputLayer.height,\n    id: 'outputGate',\n    std: 0.08,\n  });\n  const output = random({ height, id: 'output', std: 0.08 });\n  const outputGateConnector = multiply(outputGate, inputLayer, {\n    id: 'outputGateConnected',\n  });\n  return target(\n    { id: 'target', ...settings },\n    add(outputGateConnector, output)\n  );\n}\n","import { Filter } from './filter';\nimport { makeKernel, makeKernelMap, release } from '../utilities/kernel';\nimport { getPadding, getStride } from '../utilities/layer-setup';\nimport { zeros3D } from '../utilities/zeros-3d';\nimport { randos3D } from '../utilities/randos';\nimport {\n  IKernelFunctionThis,\n  IKernelMapRunShortcut,\n  IKernelRunShortcut,\n  ISubKernelObject,\n  KernelOutput,\n} from 'gpu.js';\nimport {\n  IConvolutionSettingsBase,\n  IConvolutionConstantsBase,\n} from './convolution';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function setSwitchY(value: number): number {\n  return value;\n}\n\nexport function setSwitchX(value: number): number {\n  return value;\n}\n\nexport interface IPredictConstants extends IConvolutionConstantsBase {\n  inputWidth: number;\n  inputHeight: number;\n}\n\nexport function predict(\n  this: IKernelFunctionThis<IPredictConstants>,\n  inputs: number[][][]\n): number {\n  // Ends are exclusive, that is if end=4, the last item is 3\n  const unclippedStartInputX =\n    this.thread.x * this.constants.strideX - this.constants.paddingX;\n  const unclippedStartInputY =\n    this.thread.y * this.constants.strideY - this.constants.paddingY;\n  const unclippedEndInputX = unclippedStartInputX + this.constants.filterWidth;\n  const unclippedEndInputY = unclippedStartInputY + this.constants.filterHeight;\n  const startInputX = Math.max(unclippedStartInputX, 0);\n  const startInputY = Math.max(unclippedStartInputY, 0);\n  const endInputX = Math.min(unclippedEndInputX, this.constants.inputWidth);\n  const endInputY = Math.min(unclippedEndInputY, this.constants.inputHeight);\n\n  let largestValue = inputs[this.thread.z][startInputY][startInputX];\n  let largestX = startInputX;\n  let largestY = startInputY;\n\n  for (let y = startInputY; y < endInputY; y++) {\n    for (let x = startInputX; x < endInputX; x++) {\n      const input = inputs[this.thread.z][y][x];\n      if (input > largestValue) {\n        largestValue = input;\n        largestY = y;\n        largestX = x;\n      }\n    }\n  }\n  setSwitchY(largestY);\n  setSwitchX(largestX);\n  return largestValue;\n}\n\nexport interface ICompareConstants extends IConvolutionConstantsBase {\n  inputWidth: number;\n  inputHeight: number;\n\n  outputWidth: number;\n  outputHeight: number;\n}\n\nexport function compare(\n  this: IKernelFunctionThis<ICompareConstants>,\n  deltas: number[][],\n  switchX: number[][],\n  switchY: number[][]\n): number {\n  const xCenter = this.thread.x + 0.5;\n  const yCenter = this.thread.y + 0.5;\n  const invStrideX = 1 / this.constants.strideX;\n  const invStrideY = 1 / this.constants.strideY;\n\n  const startSourceX = Math.max(\n    0,\n    Math.ceil(\n      (xCenter - this.constants.filterWidth + this.constants.paddingX) *\n        invStrideX\n    )\n  );\n  const startSourceY = Math.max(\n    0,\n    Math.ceil(\n      (yCenter - this.constants.filterHeight + this.constants.paddingY) *\n        invStrideY\n    )\n  );\n  const endSourceX = Math.min(\n    Math.ceil((xCenter + this.constants.paddingX) * invStrideX),\n    this.constants.outputWidth\n  );\n  const endSourceY = Math.min(\n    Math.ceil((yCenter + this.constants.paddingY) * invStrideY),\n    this.constants.outputHeight\n  );\n\n  let result = 0;\n  for (let backY = startSourceY; backY < endSourceY; backY++) {\n    for (let backX = startSourceX; backX < endSourceX; backX++) {\n      const switchXValue = switchX[backY][backX];\n      const switchYValue = switchY[backY][backX];\n      if (\n        Math.abs(switchXValue - this.thread.x) < 0.1 &&\n        Math.abs(switchYValue - this.thread.y) < 0.1\n      ) {\n        result += deltas[backY][backX];\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function compare3D(\n  this: IKernelFunctionThis<ICompareConstants>,\n  deltas: number[][][],\n  switchY: number[][][],\n  switchX: number[][][]\n): number {\n  const xCenter = this.thread.x + 0.5;\n  const yCenter = this.thread.y + 0.5;\n\n  const invStrideX = 1 / this.constants.strideX;\n  const invStrideY = 1 / this.constants.strideY;\n\n  const startSourceX = Math.max(\n    0,\n    Math.ceil(\n      (xCenter - this.constants.filterWidth + this.constants.paddingX) *\n        invStrideX\n    )\n  );\n  const startSourceY = Math.max(\n    0,\n    Math.ceil(\n      (yCenter - this.constants.filterHeight + this.constants.paddingY) *\n        invStrideY\n    )\n  );\n  const endSourceX = Math.min(\n    Math.ceil((xCenter + this.constants.paddingX) * invStrideX),\n    this.constants.inputWidth\n  );\n  const endSourceY = Math.min(\n    Math.ceil((yCenter + this.constants.paddingY) * invStrideY),\n    this.constants.inputHeight\n  );\n\n  let result = 0;\n\n  for (let backY = startSourceY; backY < endSourceY; backY++) {\n    for (let backX = startSourceX; backX < endSourceX; backX++) {\n      const switchXValue = switchX[this.thread.z][backY][backX];\n      const switchYValue = switchY[this.thread.z][backY][backX];\n      if (\n        Math.abs(switchXValue - this.thread.x) < 0.1 &&\n        Math.abs(switchYValue - this.thread.y) < 0.1\n      ) {\n        result += deltas[this.thread.z][backY][backX];\n      }\n    }\n  }\n\n  return result;\n}\n\nexport interface IPoolSettings\n  extends ILayerSettings,\n    IConvolutionSettingsBase {\n  switchX?: KernelOutput;\n  switchY?: KernelOutput;\n}\n\nexport const defaults: IPoolSettings = {\n  padding: 0,\n  stride: 0,\n  filterWidth: 0,\n  filterHeight: 0,\n  filterCount: 0,\n};\n\nexport class Pool extends Filter {\n  settings: Partial<IPoolSettings>;\n\n  get strideX(): number {\n    return this.settings.strideX as number;\n  }\n\n  get strideY(): number {\n    return this.settings.strideY as number;\n  }\n\n  get paddingX(): number {\n    return this.settings.paddingX as number;\n  }\n\n  get paddingY(): number {\n    return this.settings.paddingY as number;\n  }\n\n  get width(): number {\n    // Using floor prefers to pad less (or use negative padding) on the right\n    // using ceil prefers to pad more\n    return Math.ceil(\n      (this.inputLayer.width + this.paddingX * 2 - this.filterWidth) /\n        this.strideX +\n        1\n    );\n  }\n\n  get height(): number {\n    // Using floor prefers to pad less (or use negative padding) on the bottom\n    // using ceil prefers to pad more\n    return Math.floor(\n      (this.inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n  }\n\n  get depth(): number {\n    return this.settings.filterCount as number;\n  }\n\n  get filterCount(): number {\n    // TODO: handle 1 depth?\n    return this.settings.filterCount as number;\n  }\n\n  get switchX(): KernelOutput {\n    return this.settings.switchX;\n  }\n\n  set switchX(switchX: KernelOutput) {\n    this.settings.switchX = switchX;\n  }\n\n  get switchY(): KernelOutput {\n    return this.settings.switchY;\n  }\n\n  set switchY(switchY: KernelOutput) {\n    this.settings.switchY = switchY;\n  }\n\n  predictKernelMap: IKernelMapRunShortcut<ISubKernelObject> | null = null;\n  constructor(settings: IPoolSettings, inputLayer: ILayer) {\n    super(settings, inputLayer);\n    this.settings = {\n      ...settings,\n      ...getStride(settings, defaults),\n      ...getPadding(settings, defaults),\n    };\n\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n    this.validate();\n  }\n\n  setupKernels(): void {\n    this.predictKernelMap = makeKernelMap(\n      {\n        switchX: setSwitchX,\n        switchY: setSwitchY,\n      },\n      predict,\n      {\n        output: [this.width, this.height, this.depth],\n        constants: {\n          inputWidth: this.inputLayer.width,\n          inputHeight: this.inputLayer.height,\n          paddingX: this.paddingX,\n          paddingY: this.paddingY,\n          filterHeight: this.filterHeight,\n          filterWidth: this.filterWidth,\n          strideX: this.strideX,\n          strideY: this.strideY,\n        },\n      }\n    );\n\n    this.compareKernel = makeKernel(compare, {\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        outputWidth: this.width,\n        outputHeight: this.height,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        strideX: this.strideX,\n        strideY: this.strideY,\n      },\n    });\n  }\n\n  predict(): void {\n    const { result: weights, switchX, switchY } = (this\n      .predictKernelMap as IKernelMapRunShortcut<ISubKernelObject>)(\n      this.inputLayer.weights\n    );\n    this.switchX = switchX;\n    this.switchY = switchY;\n    this.weights = weights;\n  }\n\n  compare(): void {\n    // debugger;\n    // const depth = this.inputLayer.deltas.length;\n    // const height = this.inputLayer.deltas[0].length;\n    // const width = this.inputLayer.deltas[0][0].length;\n    // const type = typeof this.inputLayer.deltas[0][0][0];\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.deltas,\n      this.switchX,\n      this.switchY\n    );\n    release(inputLayerDeltas);\n    // debugger;\n    // if (depth !== this.inputLayer.deltas.length) debugger;\n    // if (height !== this.inputLayer.deltas[0].length) debugger;\n    // if (width !== this.inputLayer.deltas[0][0].length) debugger;\n    // if (type !== typeof this.inputLayer.deltas[0][0][0]) debugger;\n  }\n}\n\nexport function pool(settings: IPoolSettings, inputLayer: ILayer): Pool {\n  return new Pool(settings, inputLayer);\n}\n","import { KernelOutput } from 'gpu.js';\nimport { IPraxis } from '../praxis/base-praxis';\nimport { release } from '../utilities/kernel';\nimport { BaseLayer, ILayer } from './base-layer';\nimport { Internal } from './internal';\n\nexport interface IRecurrentInput extends ILayer {\n  setDimensions?: (width: number, height: number) => void;\n}\n\nexport class RecurrentInput extends Internal implements IRecurrentInput {\n  recurrentInput: ILayer;\n  praxis: IPraxis | null = null;\n  predictKernel = null;\n  compareKernel = null;\n  settings = {};\n  constructor(recurrentInput: ILayer) {\n    super();\n    this.recurrentInput = recurrentInput;\n    this.validate();\n  }\n\n  get width(): number {\n    return this.recurrentInput.width;\n  }\n\n  get height(): number {\n    return this.recurrentInput.height;\n  }\n\n  get depth(): number {\n    return this.recurrentInput.depth;\n  }\n\n  get deltas(): KernelOutput {\n    return this.recurrentInput.deltas;\n  }\n\n  set deltas(deltas: KernelOutput) {\n    const recurrentInputDeltas = this.recurrentInput.deltas;\n    this.recurrentInput.deltas = deltas;\n    release(recurrentInputDeltas);\n  }\n\n  get weights(): KernelOutput {\n    return this.recurrentInput.weights as KernelOutput;\n  }\n\n  set weights(weights: KernelOutput) {\n    const recurrentInputWeights = this.recurrentInput.weights;\n    this.recurrentInput.weights = weights;\n    release(recurrentInputWeights);\n  }\n\n  validate(): void {\n    BaseLayer.prototype.validate.call(this);\n    if (this.width !== this.recurrentInput.width) {\n      throw new Error(\n        `${this.constructor.name} layer width ${this.width} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.width}) are not same`\n      );\n    }\n\n    if (this.height !== this.recurrentInput.height) {\n      throw new Error(\n        `${this.constructor.name} layer height ${this.height} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.height}) are not same`\n      );\n    }\n  }\n\n  setDimensions(width: number, height: number): void {\n    this.recurrentInput.width = width;\n    this.recurrentInput.height = height;\n  }\n\n  predict(): void {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare(): void {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(): void {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n\n  setupKernels(): void {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels(): void {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n","import { IPraxis } from '../praxis/base-praxis';\nimport { release } from '../utilities/kernel';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { ILayerSettings } from './base-layer';\nimport { Internal } from './internal';\nimport { IRecurrentInput } from './recurrent-input';\n\nexport class RecurrentZeros extends Internal implements IRecurrentInput {\n  praxis: IPraxis | null = null;\n  settings: Partial<ILayerSettings> = {};\n  predictKernel = null;\n  compareKernel = null;\n\n  constructor(settings?: Partial<ILayerSettings>) {\n    super();\n    if (settings) {\n      this.settings = { ...settings };\n    }\n  }\n\n  setDimensions(width: number, height: number): void {\n    this.praxis = null;\n    this.settings = {\n      ...this.settings,\n      width,\n      height,\n      weights: zeros2D(width, height),\n      deltas: zeros2D(width, height),\n    };\n  }\n\n  setupKernels(): void {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels(): void {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n\n  predict(): void {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare(): void {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(learningRate: number): void {\n    const { weights: oldWeights } = this;\n    this.weights = (this.praxis as IPraxis).run(this, learningRate);\n    // this.deltas = deltas;\n    release(oldWeights);\n  }\n\n  // validate(): void {\n  //   throw new Error(`${this.constructor.name}-validate is not yet implemented`);\n  // }\n\n  // reset(): void {\n  //   throw new Error(`${this.constructor.name}-reset is not yet implemented`);\n  // }\n}\n\nexport function recurrentZeros(): RecurrentZeros {\n  return new RecurrentZeros();\n}\n","import { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\n\nimport { Activation } from './types';\nimport { makeKernel, release } from '../utilities/kernel';\nimport { activate, measure } from '../activation/relu';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport function predict2D(\n  this: IKernelFunctionThis,\n  inputs: number[][]\n): number {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nexport function compare2D(\n  this: IKernelFunctionThis,\n  weights: number[][],\n  deltas: number[][]\n): number {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nexport function predict3D(\n  this: IKernelFunctionThis,\n  inputs: number[][][]\n): number {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nexport function compare3D(\n  this: IKernelFunctionThis,\n  weights: number[][][],\n  deltas: number[][][]\n): number {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nexport class Relu extends Activation {\n  setupKernels(): void {\n    const { width, height, depth } = this.inputLayer;\n    if (depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n  }\n\n  compare(): void {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.weights,\n      this.deltas\n    );\n  }\n}\n\nexport function relu(inputLayer: ILayer, settings?: ILayerSettings): Relu {\n  return new Relu(inputLayer, settings);\n}\n","import { add } from './add';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { multiply } from './multiply';\nimport { random } from './random';\nimport { relu } from './relu';\nimport { zeros } from './zeros';\nimport { IRecurrentInput } from './recurrent-input';\n\nexport function rnnCell(\n  settings: ILayerSettings,\n  input: ILayer,\n  recurrentInput: IRecurrentInput\n): ILayer {\n  const { height } = settings;\n\n  if (typeof height !== 'number') throw new Error('height not set');\n  if (recurrentInput.setDimensions) {\n    recurrentInput.setDimensions(1, height);\n  }\n\n  // wxh\n  const weight = random({\n    id: 'weight',\n    height,\n    width: input.height,\n    std: 0.08,\n  });\n  // whh\n  const transition = random({\n    id: 'transition',\n    height,\n    width: height,\n    std: 0.08,\n  });\n  // bhh\n  const bias = zeros({ id: 'bias', height });\n\n  return relu(\n    add(\n      add(multiply(weight, input), multiply(transition, recurrentInput)),\n      bias\n    )\n  );\n}\n","import { IKernelFunctionThis, KernelOutput } from 'gpu.js';\n\nimport { BaseLayer, ILayer, ILayerSettings } from './base-layer';\nimport { clone, release } from '../utilities/kernel';\n\nexport class Regression extends BaseLayer {\n  inputLayer: ILayer;\n  constructor(settings: ILayerSettings, inputLayer: ILayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = clone(this.inputLayer.weights as KernelOutput);\n  }\n\n  learn(): void {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\n// TODO: Connect up\nexport function learn(\n  this: IKernelFunctionThis,\n  inputs: number[],\n  targets: number[]\n): number {\n  return inputs[this.thread.x] - targets[this.thread.x];\n}\n\n// TODO: handle `loss += 0.5*dy*dy;` total and sum in learn\nexport function regression(\n  settings: ILayerSettings,\n  inputLayer: ILayer\n): Regression {\n  return new Regression(settings, inputLayer);\n}\n","import {\n  IConstantsThis,\n  IKernelFunctionThis,\n  IKernelRunShortcut,\n  KernelOutput,\n  Texture,\n} from 'gpu.js';\n\nimport { makeKernel, release, clone } from '../utilities/kernel';\nimport { randos, randos2D, randos3D } from '../utilities/randos';\nimport { zeros } from '../utilities/zeros';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { zeros3D } from '../utilities/zeros-3d';\nimport { ILayer, ILayerSettings } from './base-layer';\nimport { Modifier } from './modifier';\n\ninterface ISoftMaxConstants extends IConstantsThis {\n  inputWidth: number;\n}\n\nexport function getMaxValue(\n  this: IKernelFunctionThis<ISoftMaxConstants>,\n  inputs: number[]\n): number {\n  let maxInput = -Infinity;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    const input = inputs[x];\n    if (input > maxInput) {\n      maxInput = input;\n    }\n  }\n  return maxInput;\n}\n\nexport function getMaxValue2D(\n  this: IKernelFunctionThis<ISoftMaxConstants>,\n  inputs: number[][]\n): number {\n  let maxInput = -Infinity;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      const input = inputs[y][x];\n      if (input > maxInput) {\n        maxInput = input;\n      }\n    }\n  }\n  return maxInput;\n}\n\nexport function getMaxValue3D(\n  this: IKernelFunctionThis<ISoftMaxConstants>,\n  inputs: number[][][]\n): number {\n  let maxInput = -Infinity;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        const input = inputs[z][y][x];\n        if (input > maxInput) {\n          maxInput = input;\n        }\n      }\n    }\n  }\n  return maxInput;\n}\n\nexport function getSum(\n  this: IKernelFunctionThis<ISoftMaxConstants>,\n  inputs: number[]\n): number {\n  let sum = 0;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    sum += inputs[x];\n  }\n  return sum;\n}\n\nexport function getSum2D(\n  this: IKernelFunctionThis<ISoftMaxConstants>,\n  inputs: number[][]\n): number {\n  let sum = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      sum += inputs[y][x];\n    }\n  }\n  return sum;\n}\n\nexport function getSum3D(\n  this: IKernelFunctionThis<ISoftMaxConstants>,\n  inputs: number[][][]\n): number {\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        sum += inputs[z][y][x];\n      }\n    }\n  }\n  return sum;\n}\n\nexport function getExponentials(\n  this: IKernelFunctionThis,\n  inputs: number[],\n  maxInput: number[]\n): number {\n  return Math.exp(inputs[this.thread.x] - maxInput[0]);\n}\n\nexport function getExponentials2D(\n  this: IKernelFunctionThis,\n  inputs: number[][],\n  maxInput: number[]\n): number {\n  return Math.exp(inputs[this.thread.y][this.thread.x] - maxInput[0]);\n}\n\nexport function getExponentials3D(\n  this: IKernelFunctionThis,\n  inputs: number[][][],\n  maxInput: number[]\n): number {\n  return Math.exp(\n    inputs[this.thread.z][this.thread.y][this.thread.x] - maxInput[0]\n  );\n}\n\nexport function predict(\n  this: IKernelFunctionThis,\n  exponentials: number[],\n  exponentialsSum: number[]\n): number {\n  return exponentials[this.thread.x] / exponentialsSum[0];\n}\n\nexport function predict2D(\n  this: IKernelFunctionThis,\n  exponentials: number[][],\n  exponentialsSum: number[]\n): number {\n  return exponentials[this.thread.y][this.thread.x] / exponentialsSum[0];\n}\n\nexport function predict3D(\n  this: IKernelFunctionThis,\n  exponentials: number[][][],\n  exponentialsSum: number[]\n): number {\n  return (\n    exponentials[this.thread.z][this.thread.y][this.thread.x] /\n    exponentialsSum[0]\n  );\n}\n\nexport function compare(\n  this: IKernelFunctionThis,\n  target: number,\n  exponentials: number[]\n): number {\n  let indicator = 0;\n  if (this.thread.x === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.x]);\n}\n\nexport function compare2D(\n  this: IKernelFunctionThis,\n  target: number,\n  exponentials: number[][]\n): number {\n  let indicator = 0;\n  const index = this.thread.x + this.thread.y * this.output.x;\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.y][this.thread.x]);\n}\n\nexport function compare3D(\n  this: IKernelFunctionThis,\n  target: number,\n  exponentials: number[][][]\n): number {\n  let indicator = 0;\n  const index =\n    this.thread.x +\n    this.thread.y * this.output.x +\n    this.thread.z * this.output.x * this.output.y;\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(\n    indicator - exponentials[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nexport function loss(): number {\n  return -Math.log(0);\n}\n\n// TODO: handle: `return -Math.log(this.es[y]);` in learn\n\nexport class SoftMax extends Modifier {\n  getExponentialsKernel: IKernelRunShortcut | null;\n  getMaxValueKernel: IKernelRunShortcut | null;\n  getSumKernel: IKernelRunShortcut | null;\n  errors: KernelOutput | null = null;\n  constructor(inputLayer: ILayer, settings?: ILayerSettings) {\n    super(inputLayer, settings);\n    this.getExponentialsKernel = null;\n    this.getMaxValueKernel = null;\n    this.getSumKernel = null;\n    this.validate();\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height, this.depth);\n      this.deltas = zeros3D(this.width, this.height, this.depth);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    } else {\n      this.weights = randos(this.width);\n      this.deltas = zeros(this.width);\n    }\n  }\n\n  setupKernels(): void {\n    const { width, height, depth } = this;\n    if (depth > 0) {\n      this.getExponentialsKernel = makeKernel(getExponentials3D, {\n        output: [width, height, depth],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n      });\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        immutable: true,\n      });\n    } else {\n      this.getExponentialsKernel = makeKernel(getExponentials, {\n        output: [width, height],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n      });\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        immutable: true,\n      });\n    }\n  }\n\n  predict(): void {\n    const maxValue = (this.getMaxValueKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n    const exponentials = (this.getExponentialsKernel as IKernelRunShortcut)(\n      this.inputLayer.weights,\n      maxValue\n    );\n    const exponentialsSum = (this.getSumKernel as IKernelRunShortcut)(\n      exponentials\n    );\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      exponentials,\n      exponentialsSum\n    );\n  }\n\n  compare(targetValues: KernelOutput): void {\n    const { deltas, errors } = this;\n    this.errors = (this.compareKernel as IKernelRunShortcut)(\n      (targetValues as number[])[0],\n      deltas\n    );\n    this.deltas = clone(this.errors);\n    release(deltas);\n    release(errors as Texture);\n\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = clone(this.deltas);\n    release(inputLayerDeltas);\n  }\n}\n\nexport function softMax(\n  inputLayer: ILayer,\n  settings?: ILayerSettings\n): SoftMax {\n  return new SoftMax(inputLayer, settings);\n}\n","import { KernelOutput } from 'gpu.js';\n\nimport { BaseLayer, ILayer, ILayerSettings } from './base-layer';\nimport { clone, release } from '../utilities/kernel';\n\nexport class SVM extends BaseLayer {\n  inputLayer: ILayer;\n  constructor(inputLayer: ILayer, settings: ILayerSettings) {\n    super(settings);\n    this.inputLayer = inputLayer;\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = clone(this.inputLayer.weights as KernelOutput);\n    this.validate();\n  }\n\n  learn(): void {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\n// function learn(target) {\n//   if (y === i) {\n//     continue;\n//   }\n//   const ydiff = -yscore + x.w[i] + margin;\n//   if (ydiff > 0) {\n//     // violating dimension, apply loss\n//     x.dw[i] += 1;\n//     x.dw[y] -= 1;\n//     loss += ydiff;\n//   }\n// }\n\nexport function svm(inputLayer: ILayer, settings: ILayerSettings): SVM {\n  return new SVM(inputLayer, settings);\n}\n","import { IKernelFunctionThis, IKernelRunShortcut } from 'gpu.js';\nimport { makeKernel } from '../utilities/kernel';\nimport { ILayer } from './base-layer';\nimport { Modifier } from './types';\n\nexport function predict(this: IKernelFunctionThis, value: number[][]): number {\n  return value[this.thread.x][this.thread.y];\n}\n\nconst compare = predict;\n\nexport class Transpose extends Modifier {\n  get width(): number {\n    return this.inputLayer.height;\n  }\n\n  get height(): number {\n    return this.inputLayer.width;\n  }\n\n  constructor(inputLayer: ILayer) {\n    super(inputLayer);\n    this.validate();\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.height, this.width],\n    });\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict(): void {\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer.weights\n    );\n  }\n\n  compare(): void {\n    this.inputLayer.deltas = (this.compareKernel as IKernelRunShortcut)(\n      this.deltas\n    );\n  }\n}\n\nexport function transpose(inputLayer: ILayer): Transpose {\n  return new Transpose(inputLayer);\n}\n","import {\n  Activation,\n  EntryPoint,\n  Filter,\n  Internal,\n  InternalModel,\n  Model,\n  Modifier,\n  Operator,\n  Target,\n} from './types';\n\nexport { Add, add } from './add';\nexport { arthurFeedForward } from './arthur-feed-forward';\nexport {\n  BaseLayer,\n  ILayer,\n  ILayerSettings,\n  ILayerJSON,\n  baseLayerDefaultSettings,\n} from './base-layer';\nexport { Convolution, convolution } from './convolution';\nexport { Dropout, dropout } from './dropout';\nexport { feedForward } from './feed-forward';\nexport { FullyConnected, fullyConnected } from './fully-connected';\nexport { gru } from './gru';\nexport { Input, input } from './input';\nexport { LeakyRelu, leakyRelu } from './leaky-relu';\nexport { lstmCell } from './lstm-cell';\nexport { Multiply, multiply } from './multiply';\nexport { MultiplyElement, multiplyElement } from './multiply-element';\nexport { Negative, negative } from './negative';\nexport { Ones, ones } from './ones';\nexport { output } from './output';\nexport { Pool, pool } from './pool';\nexport { Random, random } from './random';\nexport { RecurrentInput, IRecurrentInput } from './recurrent-input';\nexport { RecurrentZeros } from './recurrent-zeros';\nexport { rnnCell } from './rnn-cell';\nexport { Regression, regression } from './regression';\nexport { Relu, relu } from './relu';\nexport { Sigmoid, sigmoid } from './sigmoid';\nexport { SoftMax, softMax } from './soft-max';\nexport { SVM, svm } from './svm';\nexport { Tanh, tanh } from './tanh';\nexport { Target, target } from './target';\nexport { Transpose, transpose } from './transpose';\nexport { Zeros, zeros } from './zeros';\n\nexport const layerTypes = {\n  Activation,\n  Internal,\n  InternalModel,\n  EntryPoint,\n  Filter,\n  Model,\n  Modifier,\n  Operator,\n  Target,\n};\n","import * as layer from '../layer';\nimport { layerTypes, ILayerJSON, ILayer, Target } from '../layer';\nimport { ActivationType } from '../layer/activation';\nimport { FilterType } from '../layer/filter';\nimport { InternalType } from '../layer/internal';\nimport { ModifierType } from '../layer/modifier';\nimport { OperatorType } from '../layer/operator';\nimport { BaseLayerType } from '../layer/base-layer';\nimport { TargetType } from '../layer/target';\n\nconst layerNameTypes = Object.keys(layer);\n\nexport function layerFromJSON(\n  jsonLayer: ILayerJSON,\n  inputLayer1?: ILayer,\n  inputLayer2?: ILayer\n): ILayer | null {\n  if (\n    !layerNameTypes.find((layerNameType) => layerNameType === jsonLayer.type)\n  ) {\n    return null;\n  }\n  const Layer = ((layer as unknown) as {\n    [layerType: string]:\n      | TargetType\n      | ActivationType\n      | FilterType\n      | InternalType\n      | ModifierType\n      | OperatorType;\n  })[jsonLayer.type];\n  if (Layer.prototype instanceof layerTypes.Filter) {\n    if (!inputLayer1) throw new Error('inputLayer missing');\n    return new (Layer as FilterType)(jsonLayer, inputLayer1);\n  } else if (\n    Layer.prototype instanceof layerTypes.Activation ||\n    Layer.prototype instanceof layerTypes.Modifier\n  ) {\n    if (!inputLayer1) throw new Error('inputLayer missing');\n    return new (Layer as ActivationType)(inputLayer1, jsonLayer);\n  } else if (Layer.prototype instanceof layerTypes.Internal) {\n    return new (Layer as InternalType)(jsonLayer);\n  } else if (Layer.prototype instanceof layerTypes.Operator) {\n    if (!inputLayer1) throw new Error('inputLayer1 missing');\n    if (!inputLayer2) throw new Error('inputLayer2 missing');\n    return new (Layer as OperatorType)(inputLayer1, inputLayer2, jsonLayer);\n  } else if (\n    Layer.prototype instanceof layerTypes.InternalModel ||\n    Layer.prototype instanceof layerTypes.EntryPoint ||\n    Layer.prototype instanceof layerTypes.Model\n  ) {\n    return new (Layer as BaseLayerType)(jsonLayer);\n  } else if (Layer === Target) {\n    if (!inputLayer1) throw new Error('inputLayer missing');\n    return new (Layer as TargetType)(jsonLayer, inputLayer1);\n  }\n  return null;\n}\n","import { IKernelFunctionThis, KernelOutput, Texture } from 'gpu.js';\nimport { MeanSquaredError } from './estimator/mean-squared-error';\nimport { ILayer, ILayerJSON } from './layer';\nimport { Model } from './layer/types';\nimport { InputOutputValue, INumberArray, INumberHash, lookup } from './lookup';\nimport * as praxis from './praxis';\nimport { IPraxis, IPraxisSettings } from './praxis/base-praxis';\nimport { flattenLayers } from './utilities/flatten-layers';\nimport { makeKernel, release } from './utilities/kernel';\nimport { layerFromJSON } from './utilities/layer-from-json';\nimport { LookupTable } from './utilities/lookup-table';\nimport { Thaw } from 'thaw.js';\n\nexport interface IFeedForwardTrainingData<\n  InputType extends InputOutputValue | KernelOutput = number[] | Float32Array,\n  OutputType extends InputOutputValue | KernelOutput = number[] | Float32Array\n> {\n  input: InputType;\n  output: OutputType;\n}\n\nexport interface IFeedForwardNormalizedTrainingData {\n  input: Float32Array;\n  output: Float32Array;\n}\n\nexport interface IFeedForwardGPUTrainingData {\n  input: KernelOutput;\n  output: KernelOutput;\n}\n\nexport interface ITrainingStatus {\n  iterations: number;\n  error: number;\n}\n\nexport type Log = (status: string) => void;\nexport type FeedForwardCallback = (status: ITrainingStatus) => void;\n\nexport interface IFeedForwardTrainingOptions {\n  iterations?: number;\n  errorThresh?: number;\n  log?: boolean | Log;\n  logPeriod?: number;\n  learningRate?: number;\n  callback?: FeedForwardCallback;\n  callbackPeriod?: number;\n  errorCheckInterval?: number;\n  timeout?: number;\n}\n\nexport interface IFeedForwardOptions {\n  learningRate?: number;\n  binaryThresh?: number;\n  hiddenLayers?: Array<(inputLayer: ILayer, layerIndex: number) => ILayer>;\n  inputLayer?: () => ILayer;\n  outputLayer?: (inputLayer: ILayer, index: number) => ILayer;\n  praxisOpts?: Partial<IPraxisSettings>;\n  initPraxis?: (\n    layerTemplate: ILayer,\n    settings: Partial<IPraxisSettings>\n  ) => IPraxis;\n  praxis?: IPraxis;\n\n  // JSON\n  layers?: ILayer[];\n  inputLayerIndex?: number;\n  outputLayerIndex?: number;\n  sizes?: number[];\n}\n\nexport interface IFeedForwardPreppedTrainingData {\n  status: ITrainingStatus;\n  preparedData: IFeedForwardGPUTrainingData[];\n  endTime: number;\n}\n\nexport const defaults: IFeedForwardOptions = {\n  learningRate: 0.3,\n  binaryThresh: 0.5,\n  initPraxis: (\n    layerTemplate: ILayer,\n    settings: Partial<IPraxisSettings>\n  ): IPraxis =>\n    praxis.momentumRootMeanSquaredPropagation(\n      layerTemplate,\n      layerTemplate.settings.praxisOpts ?? settings\n    ),\n};\n\nexport const trainDefaults: IFeedForwardTrainingOptions = {\n  iterations: 20000,\n  errorThresh: 0.005,\n  log: false,\n  logPeriod: 10,\n  learningRate: 0.3,\n  callbackPeriod: 10,\n  errorCheckInterval: 100,\n  timeout: Infinity,\n};\n\nexport interface IFeedForwardJSON {\n  type: string;\n  sizes: number[];\n  layers: ILayerJSON[];\n  inputLayerIndex: number;\n  outputLayerIndex: number;\n}\n\nexport class FeedForward<\n  InputType extends InputOutputValue | KernelOutput = number[] | Float32Array,\n  OutputType extends InputOutputValue | KernelOutput = number[] | Float32Array\n> {\n  static _validateTrainingOptions(\n    options: Partial<IFeedForwardTrainingOptions>\n  ): void {\n    const {\n      iterations,\n      errorThresh,\n      log,\n      logPeriod,\n      learningRate,\n      callback,\n      callbackPeriod,\n      timeout,\n    } = options;\n    interface IValidation {\n      [optionName: string]: () => boolean;\n    }\n    const validations: IValidation = {\n      iterations: () => typeof iterations === 'number' && iterations > 0,\n      errorThresh: () =>\n        typeof errorThresh === 'number' && errorThresh > 0 && errorThresh < 1,\n      log: () => typeof log === 'function' || typeof log === 'boolean',\n      logPeriod: () => typeof logPeriod === 'number' && logPeriod > 0,\n      learningRate: () =>\n        typeof learningRate === 'number' &&\n        learningRate > 0 &&\n        learningRate < 1,\n      callback: () => typeof callback === 'function' || callback === null,\n      callbackPeriod: () =>\n        typeof callbackPeriod === 'number' && callbackPeriod > 0,\n      timeout: () => typeof timeout === 'number' && timeout > 0,\n    };\n    Object.keys(trainDefaults).forEach((key: string): void => {\n      if (validations.hasOwnProperty(key) && !validations[key]()) {\n        const val = options[key as keyof IFeedForwardTrainingOptions];\n        throw new Error(\n          `[${key}, ${(\n            val ?? 'undefined'\n          ).toString()}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    });\n  }\n\n  /**\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   */\n  _setLogMethod(log: Log | undefined | boolean): void {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      // eslint-disable-next-line\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  _updateTrainingOptions(opts: Partial<IFeedForwardTrainingOptions>): void {\n    this.trainOpts = { ...trainDefaults, ...this.trainOpts, ...opts };\n    FeedForward._validateTrainingOptions(this.trainOpts);\n    this._setLogMethod(opts.log ?? this.trainOpts.log);\n    const { callback, callbackPeriod, errorCheckInterval } = this.trainOpts;\n    if (callback && callbackPeriod !== errorCheckInterval) {\n      console.warn(\n        `options.callbackPeriod with value of ${(\n          callbackPeriod ?? 'undefined'\n        ).toString()} does not match options.errorCheckInterval with value of ${(\n          errorCheckInterval ?? 'undefined'\n        ).toString()}, if logging error, it will repeat.  These values may need to match`\n      );\n    }\n  }\n\n  trainOpts: Partial<IFeedForwardTrainingOptions> = {};\n  options: IFeedForwardOptions;\n  layers: ILayer[] | null = null;\n  _inputLayer: ILayer | null = null;\n  _hiddenLayers: ILayer[] | null = null;\n  _outputLayer: ILayer | null = null;\n  _model: ILayer[] | null = null;\n  meanSquaredError: MeanSquaredError | null = null;\n  inputLookup: INumberHash | null = null;\n  inputLookupLength: number | null = null;\n  outputLookup: INumberHash | null = null;\n  outputLookupLength: number | null = null;\n  constructor(options: IFeedForwardOptions = {}) {\n    this.options = { ...defaults, ...options };\n    this._updateTrainingOptions({\n      ...trainDefaults,\n      ...options,\n    });\n  }\n\n  _connectOptionsLayers(): ILayer[] {\n    const { inputLayerIndex, outputLayerIndex, layers } = this.options;\n    if (!layers) throw new Error('this.options.layers in unexpected state');\n    if (typeof inputLayerIndex !== 'number')\n      throw new Error('inputLayerIndex not a number');\n    if (typeof outputLayerIndex !== 'number')\n      throw new Error('inputLayerIndex not a number');\n    const inputLayer = layers[inputLayerIndex];\n    if (!inputLayer) {\n      throw new Error('inputLayer not found in this.options.layers');\n    }\n    const outputLayer = layers[outputLayerIndex];\n    if (!outputLayer) {\n      throw new Error('outputLayer not found in this.options.layers');\n    }\n    this._inputLayer = inputLayer;\n    this._hiddenLayers = layers.slice(\n      inputLayerIndex,\n      outputLayerIndex - inputLayerIndex\n    );\n    this._outputLayer = outputLayer;\n    return layers;\n  }\n\n  _connectNewLayers(): ILayer[] {\n    const { inputLayer, outputLayer } = this.options;\n    if (!inputLayer) throw new Error('inputLayer not defined');\n    const layers: ILayer[] = [];\n    this._inputLayer = inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(this._inputLayer);\n\n    if (!outputLayer) throw new Error('outputLayer not defined');\n    this._outputLayer = outputLayer(\n      hiddenLayers[hiddenLayers.length - 1],\n      hiddenLayers.length\n    );\n    layers.push(this._inputLayer);\n    layers.push(...hiddenLayers);\n    layers.push(this._outputLayer);\n    return flattenLayers(layers);\n  }\n\n  _connectHiddenLayers(previousLayer: ILayer): ILayer[] {\n    this._hiddenLayers = [];\n    const result: ILayer[] = [];\n    const { hiddenLayers } = this.options;\n\n    if (!hiddenLayers) throw new Error('hiddenLayers not defined');\n\n    for (let i = 0; i < hiddenLayers.length; i++) {\n      const hiddenLayer = hiddenLayers[i](previousLayer, i);\n      result.push(hiddenLayer);\n      this._hiddenLayers.push(hiddenLayer);\n      previousLayer = hiddenLayer;\n    }\n\n    return result;\n  }\n\n  initialize(): void {\n    this.layers = this.options.layers\n      ? this._connectOptionsLayers()\n      : this._connectNewLayers();\n    this.initializeLayers(this.layers);\n    this._model = this.layers.filter((l) => l instanceof Model);\n  }\n\n  initializeLayers(layers: ILayer[]): void {\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      // TODO: optimize for when training or just running\n      layer.setupKernels(true);\n      if (\n        layer instanceof Model &&\n        layer.praxis === null &&\n        typeof this.options.initPraxis === 'function'\n      ) {\n        layer.praxis = this.options.initPraxis(\n          layer,\n          layer.settings.praxisOpts ?? this.options.praxisOpts ?? {}\n        );\n        layer.praxis.setupKernels();\n      }\n    }\n\n    const lastLayer = layers[layers.length - 1];\n    this.meanSquaredError = new MeanSquaredError({\n      width: lastLayer.width,\n      height: lastLayer.height,\n    });\n  }\n\n  run(input: InputType): OutputType {\n    let typeSafeInput: INumberArray | KernelOutput;\n    if (Array.isArray(input) || (input as Float32Array).buffer) {\n      typeSafeInput = input as INumberArray;\n    } else {\n      if (this.inputLookup) {\n        typeSafeInput = lookup.toArray(\n          this.inputLookup,\n          input as INumberHash,\n          this.inputLookupLength as number\n        );\n      } else {\n        throw new Error('input is incompatible with net');\n      }\n    }\n\n    let output = this.runInput(typeSafeInput as KernelOutput);\n    if (output instanceof Texture) {\n      output = output.toArray();\n    }\n\n    if (this.outputLookup) {\n      return lookup.toObject(\n        this.outputLookup,\n        output as number[]\n      ) as OutputType;\n    }\n    return output as OutputType;\n  }\n\n  runInput(input: KernelOutput): KernelOutput {\n    if (!this.layers) throw new Error('not initialized');\n    this.layers[0].predict(input);\n    for (let i = 1; i < this.layers.length; i++) {\n      this.layers[i].predict();\n    }\n    return this.layers[this.layers.length - 1].weights as KernelOutput;\n  }\n\n  train(\n    data: Array<IFeedForwardTrainingData<InputType, OutputType>>,\n    options: Partial<IFeedForwardTrainingOptions> = {}\n  ): ITrainingStatus {\n    const { preparedData, status, endTime } = this._prepTraining(data, options);\n    let continueTicking = true;\n    const calculateError = (): number =>\n      this._calculateTrainingError(preparedData);\n    const trainPatterns = (): void => this._trainPatterns(preparedData);\n    while (continueTicking) {\n      continueTicking = this._trainingTick(\n        status,\n        endTime,\n        calculateError,\n        trainPatterns\n      );\n    }\n    return status;\n  }\n\n  async trainAsync(\n    data: Array<IFeedForwardTrainingData<InputType, OutputType>>,\n    options: Partial<IFeedForwardTrainingOptions> = {}\n  ): Promise<ITrainingStatus> {\n    const { preparedData, status, endTime } = this._prepTraining(data, options);\n\n    return await new Promise((resolve, reject) => {\n      try {\n        const calculateError = (): number =>\n          this._calculateTrainingError(preparedData);\n        const trainPatterns = (): void => this._trainPatterns(preparedData);\n        const thawedTrain: Thaw = new Thaw(\n          new Array(this.trainOpts.iterations),\n          {\n            delay: true,\n            each: () =>\n              this._trainingTick(\n                status,\n                endTime,\n                calculateError,\n                trainPatterns\n              ) || thawedTrain.stop(),\n            done: () => resolve(status),\n          }\n        );\n        thawedTrain.tick();\n      } catch (trainError) {\n        reject(trainError);\n      }\n    });\n  }\n\n  _trainingTick(\n    status: ITrainingStatus,\n    endTime: number,\n    calculateError: () => number,\n    trainPatterns: () => void\n  ): boolean {\n    const { trainOpts } = this;\n    if (\n      status.iterations >= (trainOpts.iterations as number) ||\n      status.error <= (trainOpts.errorThresh as number) ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    if (\n      typeof trainOpts.log === 'function' &&\n      status.iterations % (trainOpts.logPeriod as number) === 0\n    ) {\n      status.error = calculateError();\n      trainOpts.log(\n        `iterations: ${status.iterations}, training error: ${status.error}`\n      );\n    } else if (\n      status.iterations % (trainOpts.errorCheckInterval as number) ===\n      0\n    ) {\n      status.error = calculateError();\n    } else {\n      trainPatterns();\n    }\n\n    if (\n      trainOpts.callback &&\n      status.iterations % (trainOpts.callbackPeriod as number) === 0\n    ) {\n      trainOpts.callback(Object.assign(status));\n    }\n\n    status.iterations++;\n    return true;\n  }\n\n  _prepTraining(\n    data: Array<IFeedForwardTrainingData<InputType, OutputType>>,\n    options: Partial<IFeedForwardTrainingOptions>\n  ): IFeedForwardPreppedTrainingData {\n    this._updateTrainingOptions(options);\n\n    const formattedData = this.formatData(data);\n    const endTime = this.trainOpts.timeout\n      ? Date.now() + this.trainOpts.timeout\n      : 0;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized();\n\n    return {\n      preparedData: this.transferData(formattedData),\n      status,\n      endTime,\n    };\n  }\n\n  verifyIsInitialized(): void {\n    if (!this._model) {\n      this.initialize();\n    }\n  }\n\n  _calculateTrainingError(preparedData: IFeedForwardGPUTrainingData[]): number {\n    let sum: Float32Array | KernelOutput = new Float32Array([0]);\n    const meanSquaredError = this.meanSquaredError as MeanSquaredError;\n    for (let i = 0; i < preparedData.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(\n        preparedData[i].input,\n        preparedData[i].output,\n        true\n      ) as number;\n      sum = meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = meanSquaredError.divide(preparedData.length, sum);\n    release(sum);\n    if (result instanceof Texture) {\n      const resultArray: number[] = result.toArray() as number[];\n      release(result);\n      return resultArray[0];\n    }\n    return (result as number[])[0];\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data: IFeedForwardGPUTrainingData[]): void {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i].input, data[i].output, false);\n    }\n  }\n\n  _trainPattern(\n    input: KernelOutput,\n    target: KernelOutput,\n    logErrorRate: boolean\n  ): KernelOutput | null {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(target);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      if (!this._outputLayer?.errors) {\n        throw new Error('outputLayer.errors not defined');\n      }\n      return (this.meanSquaredError as MeanSquaredError).calculate(\n        this._outputLayer.errors\n      );\n    }\n    return null;\n  }\n\n  _calculateDeltas(target: KernelOutput): void {\n    const layers = this.layers as ILayer[];\n    for (let i = layers.length - 1; i > -1; i--) {\n      layers[i].compare(target);\n    }\n  }\n\n  /**\n   *\n   */\n  adjustWeights(): void {\n    const _model = this._model as ILayer[];\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn(this.trainOpts.learningRate as number);\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(\n    data:\n      | Array<IFeedForwardTrainingData<InputType, OutputType>>\n      | IFeedForwardTrainingData<InputType, OutputType>\n  ): IFeedForwardNormalizedTrainingData[] {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      const tmp = [];\n      tmp.push(data);\n      data = tmp;\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    const inputDatumCheck = data[0].input;\n    let formattedData: Array<Partial<IFeedForwardNormalizedTrainingData>>;\n    if (\n      Array.isArray(data) &&\n      !Array.isArray(inputDatumCheck) &&\n      !(inputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.inputLookup) {\n        const lookupTable = new LookupTable(data, 'input');\n        this.inputLookup = lookupTable.table;\n        this.inputLookupLength = lookupTable.length;\n      }\n      formattedData = data.map((datumParam): Partial<\n        IFeedForwardNormalizedTrainingData\n      > => {\n        const array = lookup.toArray(\n          this.inputLookup as INumberHash,\n          datumParam.input as INumberHash,\n          this.inputLookupLength as number\n        );\n        return { input: array };\n      }, this);\n    } else {\n      formattedData = data as typeof formattedData;\n    }\n\n    const outputDatumCheck = data[0].output;\n    if (\n      !Array.isArray(outputDatumCheck) &&\n      !(outputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.outputLookup) {\n        const lookupTable = new LookupTable(data, 'output');\n        this.outputLookup = lookupTable.table;\n        this.outputLookupLength = lookupTable.length;\n      }\n      formattedData = data.map(\n        (datumParam, index): IFeedForwardNormalizedTrainingData => {\n          const array = lookup.toArray(\n            this.outputLookup as INumberHash,\n            datumParam.output as INumberHash,\n            this.inputLookupLength as number\n          );\n          return {\n            input: formattedData[index].input as Float32Array,\n            output: array,\n          };\n        },\n        this\n      );\n    }\n    return formattedData as IFeedForwardNormalizedTrainingData[];\n  }\n\n  transferData(\n    formattedData: IFeedForwardNormalizedTrainingData[]\n  ): IFeedForwardGPUTrainingData[] {\n    const transferredData = new Array(formattedData.length);\n    const transferInput = makeKernel(\n      function (value: number[]): number {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].input.length],\n        immutable: true,\n      }\n    );\n    const transferOutput = makeKernel(\n      function (this: IKernelFunctionThis, value: number[]): number {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].output.length],\n        immutable: true,\n      }\n    );\n\n    for (let i = 0; i < formattedData.length; i++) {\n      const formattedDatum = formattedData[i];\n      transferredData[i] = {\n        input: transferInput(formattedDatum.input),\n        output: transferOutput(formattedDatum.output),\n      };\n    }\n    return transferredData;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test(): void {\n    throw new Error(`${this.constructor.name}-test is not yet implemented`);\n  }\n\n  /**\n   *\n   */\n  toJSON(): IFeedForwardJSON {\n    if (!this.layers) {\n      this.initialize();\n    }\n    if (\n      !this._model ||\n      !this.layers ||\n      !this._inputLayer ||\n      !this._hiddenLayers ||\n      !this._outputLayer\n    ) {\n      throw new Error('network is not initialized');\n    }\n    const jsonLayers = [];\n    for (let i = 0; i < this.layers.length; i++) {\n      const layer = this.layers[i];\n      const jsonLayer = layer.toJSON();\n      if (layer.hasOwnProperty('inputLayer')) {\n        jsonLayer.inputLayerIndex = this.layers.indexOf(\n          layer.inputLayer as ILayer\n        );\n      } else if (\n        layer.hasOwnProperty('inputLayer1') &&\n        layer.hasOwnProperty('inputLayer2')\n      ) {\n        jsonLayer.inputLayer1Index = this.layers.indexOf(\n          layer.inputLayer1 as ILayer\n        );\n        jsonLayer.inputLayer2Index = this.layers.indexOf(\n          layer.inputLayer2 as ILayer\n        );\n      }\n      jsonLayers.push(jsonLayer);\n    }\n\n    return {\n      type: this.constructor.name,\n      sizes:\n        this.options.sizes ??\n        [this._inputLayer.height]\n          .concat(this._hiddenLayers.map((l) => l.height))\n          .concat([this._outputLayer.height]),\n      outputLayerIndex: this.layers.indexOf(this._outputLayer),\n      layers: jsonLayers as ILayerJSON[],\n      inputLayerIndex: this.layers.indexOf(this._inputLayer),\n    };\n  }\n\n  static fromJSON(\n    json: IFeedForwardJSON,\n    getLayer?: (\n      layerJson: ILayerJSON,\n      inputLayer1?: ILayer,\n      inputLayer2?: ILayer\n    ) => ILayer\n  ): FeedForward {\n    const jsonLayers = json.layers;\n    const layers: ILayer[] = [];\n    const inputLayer = getLayer\n      ? layerFromJSON(jsonLayers[0]) ?? getLayer(jsonLayers[0])\n      : layerFromJSON(jsonLayers[0]);\n\n    if (!inputLayer) throw new Error('unable to find layer');\n\n    layers.push(inputLayer);\n\n    for (let i = 1; i < jsonLayers.length; i++) {\n      const jsonLayer = jsonLayers[i];\n      if (\n        typeof jsonLayer.inputLayerIndex === 'undefined' &&\n        typeof jsonLayer.inputLayer1Index === 'undefined' &&\n        typeof jsonLayer.inputLayer2Index === 'undefined'\n      ) {\n        const layer = getLayer\n          ? layerFromJSON(jsonLayer) ?? getLayer(jsonLayer)\n          : layerFromJSON(jsonLayer);\n        if (!layer) throw new Error('unable to find layer');\n        layers.push(layer);\n      } else if (typeof jsonLayer.inputLayerIndex === 'number') {\n        const inputLayer = layers[jsonLayer.inputLayerIndex];\n        if (!inputLayer) {\n          throw new Error('inputLayer1 not found');\n        }\n        const layer = getLayer\n          ? layerFromJSON(jsonLayer, inputLayer) ??\n            getLayer(jsonLayer, inputLayer)\n          : layerFromJSON(jsonLayer, inputLayer);\n        if (!layer) throw new Error('unable to find layer');\n        layers.push(layer);\n      } else {\n        if (typeof jsonLayer.inputLayer1Index !== 'number') {\n          throw new Error(\n            'Cannot create network from provided JSON. inputLayer1Index not defined.'\n          );\n        }\n        if (typeof jsonLayer.inputLayer2Index !== 'number') {\n          throw new Error(\n            'Cannot create network from provided JSON. inputLayer2Index not defined.'\n          );\n        }\n        const inputLayer1 = layers[jsonLayer.inputLayer1Index];\n        const inputLayer2 = layers[jsonLayer.inputLayer2Index];\n\n        if (inputLayer1 === undefined)\n          throw new Error(\n            `Cannot create network from provided JSON. layer of index ${jsonLayer.inputLayer1Index} not found.`\n          );\n        if (inputLayer2 === undefined)\n          throw new Error(\n            `Cannot create network from provided JSON. layer of index ${jsonLayer.inputLayer2Index} not found.`\n          );\n\n        const layer = getLayer\n          ? layerFromJSON(jsonLayer, inputLayer1, inputLayer2) ??\n            getLayer(jsonLayer, inputLayer1, inputLayer2)\n          : layerFromJSON(jsonLayer, inputLayer1, inputLayer2);\n\n        if (!layer) throw new Error('unable to find layer');\n        layers.push(layer);\n      }\n    }\n\n    return new this({ ...json, layers });\n  }\n\n  /**\n   *\n   * @returns {Function}\n   */\n  toFunction(): void {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n}\n","export interface ILikelyNet<InputType, OutputType> {\n  run: (input: InputType) => OutputType;\n}\n\nexport function likely<\n  NetworkType extends ILikelyNet<\n    Parameters<NetworkType['run']>[0],\n    ReturnType<NetworkType['run']>\n  >\n>(\n  input: Parameters<NetworkType['run']>[0],\n  net: NetworkType\n): ReturnType<NetworkType['run']> | null {\n  if (!net) {\n    throw new TypeError(\n      `Required parameter 'net' is of type ${typeof net}. Must be of type 'brain.NeuralNetwork'`\n    );\n  }\n\n  const output = net.run(input);\n  let maxProp = null;\n  let maxValue = -1;\n\n  Object.entries(output as number[]).forEach(([key, value]) => {\n    if (\n      typeof value !== 'undefined' &&\n      typeof value === 'number' &&\n      value > maxValue\n    ) {\n      maxProp = key;\n      maxValue = value;\n    }\n  });\n\n  return maxProp;\n}\n","import { KernelOutput } from 'gpu.js';\n\nimport { Internal } from './internal';\nimport { release } from '../utilities/kernel';\nimport { ILayer, ILayerSettings } from './base-layer';\n\nexport class RecurrentConnection extends Internal {\n  settings: ILayerSettings = {};\n  layer: ILayer | null = null;\n  setLayer(layer: ILayer): void {\n    this.layer = layer;\n  }\n\n  get width(): number {\n    if (!this.layer) throw new Error('layer not set');\n    return this.layer.width;\n  }\n\n  set width(value: number) {\n    throw new Error(`${this.constructor.name}-width is not yet implemented`);\n  }\n\n  get height(): number {\n    if (!this.layer) throw new Error('layer not set');\n    return this.layer.height;\n  }\n\n  set height(value: number) {\n    throw new Error(`${this.constructor.name}-height is not yet implemented`);\n  }\n\n  get deltas(): KernelOutput {\n    if (!this.layer) throw new Error('layer not set');\n    return this.layer.deltas;\n  }\n\n  set deltas(deltas: KernelOutput) {\n    if (!this.layer) throw new Error('layer not set');\n    release(this.layer.deltas);\n    this.layer.deltas = deltas;\n  }\n\n  get weights(): KernelOutput {\n    if (!this.layer) throw new Error('layer not set');\n    return this.layer.weights as KernelOutput;\n  }\n\n  set weights(weights: KernelOutput) {\n    if (!this.layer) throw new Error('layer not set');\n    release(this.layer.weights);\n    this.layer.weights = weights;\n  }\n\n  predict(): void {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare(): void {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(): void {\n    throw new Error('no longer using');\n  }\n\n  setupKernels(): void {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels(): void {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n","import { RecurrentConnection } from './layer/recurrent-connection';\nimport {\n  IRecurrentInput,\n  RecurrentInput,\n  RecurrentZeros,\n  ILayer,\n  ILayerSettings,\n} from './layer';\nimport {\n  Activation,\n  EntryPoint,\n  EntryPointType,\n  Filter,\n  Internal,\n  InternalModel,\n  Model,\n  Modifier,\n  Operator,\n  Target,\n} from './layer/types';\nimport { flattenLayers } from './utilities/flatten-layers';\nimport {\n  FeedForward,\n  IFeedForwardOptions,\n  IFeedForwardTrainingOptions,\n  ITrainingStatus,\n} from './feed-forward';\nimport { release, clone } from './utilities/kernel';\nimport { KernelOutput, Texture, TextureArrayOutput } from 'gpu.js';\nimport { OperatorType } from './layer/operator';\nimport { ModifierType } from './layer/modifier';\nimport { FilterType } from './layer/filter';\nimport { ActivationType } from './layer/activation';\nimport { TargetType } from './layer/target';\n\nexport interface IRecurrentTrainingOptions\n  extends IFeedForwardTrainingOptions {}\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-expect-error\nexport interface IRecurrentOptions extends IFeedForwardOptions {\n  hiddenLayers: Array<\n    (\n      inputLayer: ILayer,\n      recurrentInput: IRecurrentInput,\n      index: number\n    ) => ILayer\n  >;\n}\n\nexport interface IRecurrentPreppedTrainingData<T> {\n  status: ITrainingStatus;\n  preparedData: T[][];\n  endTime: number;\n}\n\nexport class Recurrent<\n  T extends TextureArrayOutput = TextureArrayOutput\n> extends FeedForward {\n  trainOpts: IRecurrentTrainingOptions = {};\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  options: IRecurrentOptions;\n  _outputConnection: RecurrentConnection | null = null;\n  _layerSets: ILayer[][] = [];\n  _hiddenLayerOutputIndices: number[] = [];\n  _model: ILayer[] | null = null;\n\n  // TODO: use generics in extend\n  constructor(\n    options: Partial<IRecurrentOptions & IRecurrentTrainingOptions> = {}\n  ) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    super(options);\n  }\n\n  _connectLayers(): {\n    inputLayer: ILayer;\n    hiddenLayers: ILayer[];\n    outputLayer: ILayer;\n  } {\n    if (!this.options.inputLayer) {\n      throw new Error('inputLayer not found');\n    }\n    if (!this.options.outputLayer) {\n      throw new Error('outputLayer not found');\n    }\n    const inputLayer = this.options.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(inputLayer);\n    const outputLayer = this.options.outputLayer(\n      hiddenLayers[hiddenLayers.length - 1],\n      -1\n    );\n    return {\n      inputLayer,\n      hiddenLayers,\n      outputLayer,\n    };\n  }\n\n  _connectLayersDeep(): ILayer[] {\n    const layers: ILayer[] = [];\n    const previousLayers = this._layerSets[this._layerSets.length - 1];\n    let usedHiddenLayerOutputIndex = 0;\n\n    function findInputLayer(inputLayer: ILayer) {\n      const index = previousLayers.indexOf(inputLayer);\n      if (index < 0) throw new Error('unable to find layer');\n      return layers[index];\n    }\n\n    function layerSettings(layer: ILayer): ILayerSettings {\n      return {\n        ...layer.settings,\n        weights: null,\n        deltas: null,\n        praxis: null,\n      };\n    }\n\n    for (let i = 0; i < previousLayers.length; i++) {\n      const previousLayer = previousLayers[i];\n      let layer: ILayer;\n\n      if (previousLayer instanceof Activation) {\n        layer = new (previousLayer.constructor as ActivationType)(\n          findInputLayer(previousLayer.inputLayer),\n          layerSettings(previousLayer)\n        );\n      } else if (previousLayer instanceof EntryPoint) {\n        layer = new (previousLayer.constructor as EntryPointType)(\n          layerSettings(previousLayer)\n        );\n      } else if (previousLayer instanceof Filter) {\n        layer = new (previousLayer.constructor as FilterType)(\n          layerSettings(previousLayer.inputLayer),\n          findInputLayer(previousLayer.inputLayer)\n        );\n      } else if (previousLayer instanceof Internal) {\n        const previousHiddenLayerOutput =\n          previousLayers[\n            this._hiddenLayerOutputIndices[usedHiddenLayerOutputIndex++]\n          ];\n        if (previousLayer instanceof RecurrentConnection) {\n          throw new Error('unfinished');\n        } else if (previousLayer instanceof RecurrentInput) {\n          layer = new RecurrentInput(previousHiddenLayerOutput);\n        } else if (previousLayer instanceof RecurrentZeros) {\n          layer = new RecurrentInput(previousHiddenLayerOutput);\n        } else {\n          throw new Error(\n            `hidden layer ${previousLayer.constructor.name} extends unknown hidden layer`\n          );\n        }\n      } else if (\n        previousLayer instanceof InternalModel ||\n        previousLayer instanceof Model\n      ) {\n        layer = previousLayer;\n      } else if (previousLayer instanceof Modifier) {\n        layer = new (previousLayer.constructor as ModifierType)(\n          findInputLayer(previousLayer.inputLayer),\n          layerSettings(previousLayer.inputLayer)\n        );\n      } else if (previousLayer instanceof Operator) {\n        layer = new (previousLayer.constructor as OperatorType)(\n          findInputLayer(previousLayer.inputLayer1),\n          findInputLayer(previousLayer.inputLayer2),\n          layerSettings(previousLayer)\n        );\n      } else if (previousLayer instanceof Target) {\n        layer = new (previousLayer.constructor as TargetType)(\n          layerSettings(previousLayer),\n          findInputLayer(previousLayer.inputLayer)\n        );\n      } else {\n        throw new Error(\n          `hidden layer ${previousLayer.constructor.name} extends unknown hidden layer`\n        );\n      }\n      layers.push(layer);\n    }\n\n    return layers;\n  }\n\n  _connectHiddenLayers(previousLayer: ILayer): ILayer[] {\n    const hiddenLayers = [];\n\n    if (!this.options.hiddenLayers) throw new Error('hiddenLayers not defined');\n\n    for (let i = 0; i < this.options.hiddenLayers.length; i++) {\n      const recurrentInput = new RecurrentZeros();\n      const hiddenLayer = this.options.hiddenLayers[i](\n        previousLayer,\n        recurrentInput,\n        i\n      );\n      previousLayer = hiddenLayer;\n      hiddenLayers.push(hiddenLayer);\n    }\n\n    return hiddenLayers;\n  }\n\n  initialize(): void {\n    this._outputConnection = new RecurrentConnection();\n    let layerSet: ILayer[];\n    if (this.options.layers) {\n      layerSet = this._connectOptionsLayers();\n    } else {\n      const { inputLayer, hiddenLayers, outputLayer } = this._connectLayers();\n      layerSet = flattenLayers([inputLayer, ...hiddenLayers, outputLayer]);\n      this._hiddenLayerOutputIndices = hiddenLayers.map((l) =>\n        layerSet.indexOf(l)\n      );\n      this._inputLayer = inputLayer;\n      this._hiddenLayers = hiddenLayers;\n      this._outputLayer = outputLayer;\n    }\n    this.layers = layerSet;\n    this._layerSets = [layerSet];\n    this._model = layerSet.filter(\n      (l) => l instanceof Model || l instanceof InternalModel\n    );\n    this.initializeLayers(layerSet);\n  }\n\n  initializeDeep(): void {\n    const layers = this._connectLayersDeep();\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      layer.setupKernels(true);\n      layer.reuseKernels(this._layerSets[0][i]);\n    }\n    this._layerSets.push(layers);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  run(inputs: T[]): T[] {\n    while (this._layerSets.length <= inputs.length) {\n      this.initializeDeep();\n    }\n    const result = this.runInputs(inputs);\n    if (result instanceof Texture) {\n      return result.toArray() as T[];\n    }\n    return result as T[];\n  }\n\n  runInput(input: KernelOutput): KernelOutput {\n    throw new Error('use .runInputs()');\n  }\n\n  runInputs(inputs: T[]): KernelOutput {\n    while (this._layerSets.length < inputs.length) {\n      this.initializeDeep();\n    }\n    const max = inputs.length - 1; // last output will be compared with last index\n    for (let x = 0; x <= max; x++) {\n      const layerSet = this._layerSets[x];\n      layerSet[0].predict(inputs[x]);\n      for (let i = 1; i < layerSet.length; i++) {\n        layerSet[i].predict();\n      }\n    }\n    const lastLayerUsed = this._layerSets[max];\n    const result = lastLayerUsed[lastLayerUsed.length - 1].weights;\n    this.end();\n    return result as KernelOutput;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  train(\n    data: T[][],\n    options: Partial<IRecurrentTrainingOptions> = {}\n  ): ITrainingStatus {\n    const { preparedData, status, endTime } = this._prepTraining(data, options);\n    let continueTicking = true;\n    const calculateError = (): number =>\n      this._calculateTrainingError(preparedData);\n    const trainPatters = (): void => this._trainPatterns(preparedData);\n    while (continueTicking) {\n      continueTicking = this._trainingTick(\n        status,\n        endTime,\n        calculateError,\n        trainPatters\n      );\n    }\n    return status;\n  }\n\n  end(): void {\n    const x = this._layerSets.length - 1;\n    const lastLayerSet = this._layerSets[x];\n    lastLayerSet[0].predict([new Float32Array([0])]);\n    for (let i = 1; i < lastLayerSet.length; i++) {\n      lastLayerSet[i].predict();\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  transferData(formattedData: T[][]): T[][] {\n    return formattedData;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  _prepTraining(\n    data: T[][],\n    options: Partial<IRecurrentTrainingOptions>\n  ): IRecurrentPreppedTrainingData<T> {\n    this._updateTrainingOptions(options);\n    const endTime = this.trainOpts.timeout\n      ? Date.now() + this.trainOpts.timeout\n      : 0;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized();\n\n    return {\n      preparedData: this.transferData(data),\n      status,\n      endTime,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  _calculateTrainingError(data: T[][]): number {\n    if (!this.meanSquaredError) {\n      throw new Error('this.meanSquaredError not setup');\n    }\n    let sum: KernelOutput = new Float32Array(1);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i], true) as KernelOutput;\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result instanceof Texture) {\n      const resultArray = result.toArray() as number[];\n      return resultArray[0];\n    }\n    return (result as number[])[0];\n  }\n\n  // TODO: more types\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  formatData(data: Float32Array): Float32Array {\n    return data;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  _calculateDeltas(target: T[]): void {\n    const lastLayerSet = this._layerSets[this._layerSets.length - 1];\n    // Iterate from the second to last layer backwards, propagating 0's\n    for (let i = lastLayerSet.length - 2; i >= 0; i--) {\n      lastLayerSet[i].compare();\n    }\n\n    for (let x = target.length - 2; x >= 0; x--) {\n      const layerSet = this._layerSets[x];\n      layerSet[layerSet.length - 1].compare(target[x + 1]);\n      for (let i = layerSet.length - 2; i >= 0; i--) {\n        layerSet[i].compare();\n      }\n    }\n  }\n\n  adjustWeights(): void {\n    const _model = this._model as ILayer[];\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn(this.options.learningRate ?? 0);\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  _trainPatterns(data: T[][]): void {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i], false);\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  _trainPattern(inputs: T[], logErrorRate: boolean): KernelOutput | null {\n    // forward propagate\n    this.runInputs(inputs);\n\n    // back propagate\n    this._calculateDeltas(inputs);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      if (!this.meanSquaredError) {\n        throw new Error('this.meanSquaredError not setup');\n      }\n      let error: KernelOutput = new Float32Array(1);\n      for (let i = 0, max = inputs.length - 2; i <= max; i++) {\n        const layerSet = this._layerSets[i];\n        const lastLayer = layerSet[layerSet.length - 1];\n        const prevError: KernelOutput = error;\n        error = this.meanSquaredError.addAbsolute(\n          prevError,\n          lastLayer.errors as KernelOutput\n        );\n        release(prevError);\n      }\n      return clone(this.meanSquaredError.divide(inputs.length, error));\n    }\n    return null;\n  }\n}\n","import { zeros } from '../../utilities/zeros';\n\nexport interface IMatrixJSON {\n  rows: number;\n  columns: number;\n  weights: number[];\n}\n/**\n * A matrix\n */\nexport class Matrix {\n  rows = 0;\n  columns = 0;\n  weights: Float32Array;\n  deltas: Float32Array;\n\n  constructor(rows?: number, columns?: number) {\n    if (rows) this.rows = rows;\n    if (columns) this.columns = columns;\n\n    this.weights = zeros(this.rows * this.columns);\n    this.deltas = zeros(this.rows * this.columns);\n  }\n\n  getWeight(row: number, col: number): number {\n    // slow but careful accessor function\n    // we want row-major order\n    const ix = this.columns * row + col;\n\n    if (ix < 0 || ix >= this.weights.length) {\n      throw new Error('get accessor is skewed');\n    }\n\n    return this.weights[ix];\n  }\n\n  setWeight(row: number, col: number, v: number): Matrix {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n\n    if (ix < 0 || ix >= this.weights.length) {\n      throw new Error('set accessor is skewed');\n    }\n\n    this.weights[ix] = v;\n\n    return this;\n  }\n\n  getDelta(row: number, col: number): number {\n    // slow but careful accessor function\n    // we want row-major order\n    const ix = this.columns * row + col;\n\n    if (ix < 0 || ix >= this.deltas.length) {\n      throw new Error('get accessor is skewed');\n    }\n\n    return this.deltas[ix];\n  }\n\n  setDelta(row: number, col: number, v: number): Matrix {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n\n    if (ix < 0 || ix >= this.weights.length) {\n      throw new Error('set accessor is skewed');\n    }\n\n    this.deltas[ix] = v;\n\n    return this;\n  }\n\n  toJSON(): IMatrixJSON {\n    return {\n      rows: this.rows,\n      columns: this.columns,\n      weights: Array.from(this.weights.slice(0)),\n    };\n  }\n\n  static fromJSON(json: IMatrixJSON): Matrix {\n    const matrix = new Matrix(json.rows, json.columns);\n\n    for (let i = 0, max = json.rows * json.columns; i < max; i++) {\n      matrix.weights[i] = json.weights[i]; // copy over weights\n    }\n\n    return matrix;\n  }\n\n  static fromArray(weights: Float32Array[] | number[][]): Matrix {\n    const matrix = new Matrix(weights.length, weights[0].length);\n    matrix.fromArray(weights);\n    return matrix;\n  }\n\n  deltasToArray(): number[][] {\n    return this.toArray('deltas');\n  }\n\n  weightsToArray(): number[][] {\n    return this.toArray('weights');\n  }\n\n  toArray(prop: 'weights' | 'deltas' = 'weights'): number[][] {\n    const result: number[][] = new Array(this.rows);\n    this.iterate({\n      row: (rowIndex): void => {\n        result[rowIndex] = new Array(this.columns);\n      },\n      column: (rowIndex, columnIndex): void => {\n        if (prop === 'weights') {\n          result[rowIndex][columnIndex] = this.getWeight(rowIndex, columnIndex);\n        } else if (prop === 'deltas') {\n          result[rowIndex][columnIndex] = this.getDelta(rowIndex, columnIndex);\n        }\n      },\n    });\n    return result;\n  }\n\n  fromArray(\n    array: number[][] | Float32Array[],\n    prop: 'weights' | 'deltas' = 'weights'\n  ): this {\n    if (array.length !== this.rows) {\n      throw new Error('rows do not match');\n    }\n    if (array[0].length !== this.columns) {\n      throw new Error('columns do not match');\n    }\n    this.iterate({\n      column: (rowIndex, columnIndex): void => {\n        const value = array[rowIndex][columnIndex];\n        if (typeof value !== 'number') {\n          throw new Error('value not number');\n        }\n        if (prop === 'weights') {\n          this.setWeight(rowIndex, columnIndex, value);\n        } else if (prop === 'deltas') {\n          this.setDelta(rowIndex, columnIndex, value);\n        }\n      },\n    });\n    return this;\n  }\n\n  iterate(callbacks: {\n    column?: (rowIndex: number, columnIndex: number) => void;\n    row?: (rowIndex: number) => void;\n  }): this {\n    const rows = this.rows;\n    const columns = this.columns;\n    for (let rowIndex = 0; rowIndex < rows; rowIndex++) {\n      if (callbacks.row) {\n        callbacks.row(rowIndex);\n      }\n      for (let columnIndex = 0; columnIndex < columns; columnIndex++) {\n        if (callbacks.column) {\n          callbacks.column(rowIndex, columnIndex);\n        }\n      }\n    }\n    return this;\n  }\n}\n","import { Matrix } from '.';\nimport { randomFloat } from '../../utilities/random';\n\n/** return Matrix but filled with random numbers from gaussian\n */\nexport class RandomMatrix extends Matrix {\n  std: number;\n\n  constructor(rows: number, columns: number, std: number) {\n    super(rows, columns);\n\n    this.std = std;\n\n    for (let i = 0, max = this.weights.length; i < max; i++) {\n      this.weights[i] = randomFloat(-std, std);\n    }\n  }\n}\n","import { Value, IRNNDatum } from '../recurrent/rnn-data-types';\n\nexport interface IDataFormatter {\n  indexTable: { [value: string]: number };\n  toIndexesInputOutput: (input: Value, output?: Value) => number[];\n  toIndexes: (input: string) => number[];\n  toCharacters: (output: number[]) => string[];\n  characters: Array<string | number>;\n  specialIndexes: number[];\n  toFunctionString: () => string;\n  formatDataIn: (input?: Value, output?: Value) => number[];\n  formatDataOut: (input: number[], output: number[]) => string;\n  format: (data: Array<IRNNDatum | Value>) => number[][];\n  isSetup: boolean;\n  toJSON: () => IDataFormatterJSON;\n}\n\nexport class DataFormatter implements IDataFormatter {\n  indexTable: { [key: string]: number; [key: number]: number } = {};\n  characterTable: { [key: number]: string | number | null } = {};\n  characters: Array<string | number> = [];\n  specialIndexes: number[] = [];\n  isSetup = false;\n\n  constructor(private values?: Array<IRNNDatum | Value>, maxThreshold = 0) {\n    if (values === undefined) return;\n\n    this.setup(values, maxThreshold);\n  }\n\n  setup(values: Array<IRNNDatum | Value>, maxThreshold = 0): void {\n    if (this.isSetup) throw new Error('DataFormatter is already setup');\n    this.values = values;\n    // go over all characters and keep track of all unique ones seen\n    // count up all characters\n\n    this.buildCharactersFromIterable(values);\n    this.buildTables(maxThreshold);\n    if ((values[0] as IRNNDatum).input) {\n      this.addInputOutput();\n    }\n    this.addUnrecognized();\n    this.isSetup = true;\n  }\n\n  buildCharactersFromIterable(values: Array<IRNNDatum | Value>): void {\n    const tempCharactersTable: { [character: string]: boolean } = {};\n    for (\n      let dataFormatterIndex = 0, dataFormatterLength = values.length;\n      dataFormatterIndex < dataFormatterLength;\n      dataFormatterIndex++\n    ) {\n      const characters = values[dataFormatterIndex];\n\n      // if (typeof characters === 'string') {\n      //   const character = characters;\n      //   if (tempCharactersTable.hasOwnProperty(character)) continue;\n      //   tempCharactersTable[character] = true;\n      //   this.characters.push(character);\n      if (characters.hasOwnProperty('length')) {\n        const iteratable = characters as string[] | string;\n        for (\n          let characterIndex = 0, charactersLength = iteratable.length;\n          characterIndex < charactersLength;\n          characterIndex++\n        ) {\n          const character = iteratable[characterIndex];\n          if (tempCharactersTable.hasOwnProperty(character)) continue;\n          tempCharactersTable[character] = true;\n          this.characters.push(character);\n        }\n      } else if (typeof characters === 'number') {\n        if (tempCharactersTable.hasOwnProperty(characters)) continue;\n        tempCharactersTable[characters] = true;\n        this.characters.push(characters);\n      } else if (typeof characters === 'boolean') {\n        const character = characters.toString();\n        if (tempCharactersTable.hasOwnProperty(character)) continue;\n        tempCharactersTable[character] = true;\n        this.characters.push(character);\n      } else if (\n        Array.isArray(characters) &&\n        typeof characters[0] === 'string'\n      ) {\n        for (let i = 0; i < characters.length; i++) {\n          const character = characters[i] as string;\n          if (tempCharactersTable.hasOwnProperty(character)) continue;\n          tempCharactersTable[character] = true;\n          this.characters.push(character);\n        }\n      } else if (\n        Array.isArray(characters) &&\n        (typeof characters[0] === 'number' ||\n          typeof characters[0] === 'boolean')\n      ) {\n        for (let i = 0; i < characters.length; i++) {\n          const character = characters[i].toString();\n          if (tempCharactersTable.hasOwnProperty(dataFormatterIndex)) continue;\n          tempCharactersTable[character] = true;\n          this.characters.push(character);\n        }\n      } else if (\n        characters.hasOwnProperty('input') &&\n        characters.hasOwnProperty('output')\n      ) {\n        const { input, output } = (characters as unknown) as IRNNDatum;\n        if (Array.isArray(input)) {\n          this.addCharacters(input, tempCharactersTable);\n        } else {\n          this.addCharacters(input.toString(), tempCharactersTable);\n        }\n\n        if (Array.isArray(output)) {\n          this.addCharacters(output, tempCharactersTable);\n        } else {\n          this.addCharacters(output.toString(), tempCharactersTable);\n        }\n      } else {\n        throw new Error('Unhandled value');\n      }\n    }\n  }\n\n  addCharacters(\n    characters: string | string[] | boolean[] | number[],\n    charactersTable: { [character: string]: boolean }\n  ): void {\n    for (let i = 0; i < characters.length; i++) {\n      const character = characters[i].toString();\n      if (charactersTable.hasOwnProperty(character)) continue;\n      charactersTable[character] = true;\n      this.characters.push(character);\n    }\n  }\n\n  buildTables(maxThreshold: number): void {\n    // filter by count threshold and create pointers\n    const charactersLength = this.characters.length;\n    for (\n      let characterIndex = 0;\n      characterIndex < charactersLength;\n      characterIndex++\n    ) {\n      const character = this.characters[characterIndex];\n      if (characterIndex >= maxThreshold) {\n        // add character to dataFormatter\n        this.indexTable[character] = characterIndex;\n        this.characterTable[characterIndex] = character;\n      }\n    }\n  }\n\n  toIndexes(value: Value, maxThreshold = 0): number[] {\n    const result = [];\n    const { indexTable } = this;\n\n    switch (typeof value) {\n      case 'number':\n      case 'boolean':\n        value = value.toString();\n    }\n\n    for (let i = 0, max = value.length; i < max; i++) {\n      const character = value[i].toString();\n      let index = indexTable[character];\n      if (index === undefined) {\n        if (indexTable.unrecognized) {\n          index = indexTable.unrecognized;\n        } else {\n          throw new Error(`unrecognized character \"${character}\"`);\n        }\n      }\n      if (index < maxThreshold) continue;\n      result.push(index);\n    }\n    return result;\n  }\n\n  toIndexesInputOutput(\n    input: Value,\n    output?: Value,\n    maxThreshold = 0\n  ): number[] {\n    const result: number[] = this.toIndexesValue(input, maxThreshold, true);\n\n    if (typeof output === 'undefined') return result;\n    return result.concat(this.toIndexesValue(output, maxThreshold, false));\n  }\n\n  toIndexesValue(\n    value: Value,\n    maxThreshold: number,\n    isInput: boolean\n  ): number[] {\n    if (typeof value === 'string') {\n      value = value.split('');\n    } else if (typeof value === 'number' || typeof value === 'boolean') {\n      value = value.toString().split('');\n    } else if (\n      Array.isArray(value) &&\n      (typeof (value as number[])[0] === 'number' ||\n        typeof (value as boolean[])[0] === 'boolean' ||\n        typeof (value as string[])[0] === 'string')\n    ) {\n      value = (value as string[]).map((v) => v.toString());\n    } else {\n      throw new Error('unrecognized value');\n    }\n    if (isInput) {\n      value = value.concat(['stop-input', 'start-output']);\n    }\n    return this.toIndexes(value, maxThreshold);\n  }\n\n  toCharacters(indices: number[], maxThreshold = 0): string[] {\n    const result: string[] = [];\n    const { indexTable, characterTable } = this;\n\n    for (let i = 0, max = indices.length; i < max; i++) {\n      const index = indices[i];\n      if (index < maxThreshold) continue;\n      let character = characterTable[index];\n      if (character === undefined) {\n        if (indexTable.unrecognized) {\n          character = characterTable[indexTable.unrecognized];\n        } else {\n          throw new Error(`unrecognized index \"${index}\"`);\n        }\n      } else if (character !== null) {\n        result.push(character.toString());\n      }\n    }\n\n    return result;\n  }\n\n  toString(indices: number[], maxThreshold: number): string {\n    return this.toCharacters(indices, maxThreshold).join('');\n  }\n\n  addInputOutput(): void {\n    this.addSpecial('stop-input');\n    this.addSpecial('start-output');\n  }\n\n  addUnrecognized(): void {\n    this.addSpecial('unrecognized');\n  }\n\n  static fromAllPrintable(\n    maxThreshold: number,\n    values = ['\\n']\n  ): DataFormatter {\n    for (let i = 32; i <= 126; i++) {\n      values.push(String.fromCharCode(i));\n    }\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromAllPrintableInputOutput(\n    maxThreshold: number,\n    values = ['\\n']\n  ): DataFormatter {\n    const dataFormatter = DataFormatter.fromAllPrintable(maxThreshold, values);\n    dataFormatter.addInputOutput();\n    dataFormatter.addUnrecognized();\n    return dataFormatter;\n  }\n\n  static fromStringInputOutput(\n    string: string,\n    maxThreshold: number\n  ): DataFormatter {\n    const values = Array.from(new Set(string)).join('');\n    const dataFormatter = new DataFormatter(values.split(''), maxThreshold);\n    dataFormatter.addInputOutput();\n    dataFormatter.addUnrecognized();\n    dataFormatter.isSetup = true;\n    return dataFormatter;\n  }\n\n  static fromArrayInputOutput(\n    data: IRNNDatum[],\n    maxThreshold?: number\n  ): DataFormatter {\n    const values: Array<string | string[]> = [];\n\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      values.push(validateAndCast(datum.input), validateAndCast(datum.output));\n    }\n    const flatArray: string[] = Array.isArray(values)\n      ? (values as string[][]).flat()\n      : values;\n    const dataFormatter = new DataFormatter(\n      Array.from(new Set(flatArray)),\n      maxThreshold\n    );\n    dataFormatter.addInputOutput();\n    dataFormatter.addUnrecognized();\n    dataFormatter.isSetup = true;\n    return dataFormatter;\n  }\n\n  static fromString(string: string, maxThreshold = 0): DataFormatter {\n    const values = Array.from(new Set(string)).join('');\n    return new DataFormatter(values.split(''), maxThreshold);\n  }\n\n  toJSON(): IDataFormatterJSON {\n    return {\n      indexTable: this.indexTable,\n      characterTable: this.characterTable,\n      values: this.values as Value[],\n      characters: this.characters,\n      specialIndexes: this.specialIndexes,\n    };\n  }\n\n  /** TODO: Type better, The type of json is not \"string that is a valid JSON\", it is a POJO in the shape of DataFormatter.\n   * this method re-hydrates the the data as an instance of DataFormatter.\n   */\n  static fromJSON(json: IDataFormatterJSON): DataFormatter {\n    const dataFormatter = new DataFormatter();\n    dataFormatter.indexTable = json.indexTable;\n    dataFormatter.characterTable = json.characterTable;\n    dataFormatter.values = json.values;\n    dataFormatter.characters = json.characters;\n    dataFormatter.specialIndexes = json.specialIndexes;\n    dataFormatter.isSetup = true;\n    return dataFormatter;\n  }\n\n  addSpecial(special: string | number, character = null): void {\n    const specialIndex = (this.indexTable[special] = this.characters.length);\n    this.characterTable[specialIndex] = character;\n    this.specialIndexes.push(this.characters.length);\n    this.characters.push(special);\n  }\n\n  toFunctionString(): string {\n    return `\nvar characterTable = ${JSON.stringify(this.characterTable)};\nvar indexTable = ${JSON.stringify(this.indexTable)};\nvar characters = ${JSON.stringify(this.characters)};\nvar dataFormatter = {\n  toIndexes: function ${this.toIndexes.toString()},\n  toIndexesInputOutput: function ${this.toIndexesInputOutput.toString()},\n  toCharacters: function ${this.toCharacters.toString()},\n  toIndexesValue: function ${this.toIndexesValue.toString()},\n};`;\n  }\n\n  formatDataIn(input?: Value, output?: Value): number[] {\n    if (input === undefined) return [];\n    if (Array.isArray(input) && typeof input[0] === 'number') {\n      return input as number[];\n    }\n    if (this.indexTable?.hasOwnProperty('stop-input')) {\n      return this.toIndexesInputOutput(input, output);\n    }\n    return this.toIndexes(input);\n  }\n\n  formatDataOut(input: number[], output: number[]): string {\n    return this.toCharacters(output).join('');\n  }\n\n  format(data: Array<IRNNDatum | Value>): number[][] {\n    if (\n      typeof data[0] === 'number' &&\n      !Array.isArray(data[0]) &&\n      (!data[0].hasOwnProperty('input') || !data[0].hasOwnProperty('output'))\n    ) {\n      return data as number[][];\n    }\n    const result: number[][] = [];\n    if (\n      typeof data[0] === 'string' ||\n      typeof data[0] === 'number' ||\n      Array.isArray(data[0])\n    ) {\n      if (!this.isSetup) {\n        this.setup(data);\n        for (let i = 0; i < data.length; i++) {\n          result.push(this.formatDataIn(validateAndCast(data[i] as Value)));\n        }\n      } else {\n        for (let i = 0, max = data.length; i < max; i++) {\n          result.push(this.formatDataIn(data[i] as Value));\n        }\n      }\n    } else if ((data[0] as IRNNDatum).input && (data[0] as IRNNDatum).output) {\n      if (!this.isSetup) {\n        this.setup(data);\n      }\n      for (let i = 0, max = data.length; i < max; i++) {\n        result.push(\n          this.formatDataIn(\n            validateAndCast((data[i] as IRNNDatum).input),\n            validateAndCast((data[i] as IRNNDatum).output)\n          )\n        );\n      }\n    } else {\n      throw new Error('unrecognized data');\n    }\n    return result;\n  }\n}\n\nfunction validateAndCast(value: Value): string | string[] {\n  if (typeof value === 'string') return value;\n  if (typeof value === 'number') return value.toString();\n  if (typeof value === 'boolean') return value.toString();\n  if (Array.isArray(value) && typeof value[0] === 'string')\n    return value as string[];\n  if (typeof value[0] === 'boolean') {\n    return (value as boolean[]).map((v: boolean) => v.toString());\n  }\n  if (typeof value[0] === 'number') {\n    return (value as number[]).map((v: number) => v.toString());\n  }\n  throw new Error(\n    'unrecognized value, expected string[], string, number[], number, boolean[], or boolean'\n  );\n}\n\nexport interface IDataFormatterJSON {\n  indexTable: { [key: string]: number; [key: number]: number };\n  characterTable: { [key: number]: string | number | null };\n  values: Value[];\n  characters: Array<string | number>;\n  specialIndexes: number[];\n}\n","import { Matrix } from '.';\n\nexport function copy(product: Matrix, left: Matrix): void {\n  product.rows = left.rows;\n  product.columns = left.columns;\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n}\n","import { Matrix } from '.';\n\n/**\n * add {left} and {right} matrix weights into {into}\n */\nexport function add(product: Matrix, left: Matrix, right: Matrix): void {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = left.weights[i] + right.weights[i];\n    product.deltas[i] = 0;\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * adds {from} deltas to {left} and {right} deltas\n */\nexport function addB(product: Matrix, left: Matrix, right: Matrix): void {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = product.deltas[i];\n    right.deltas[i] = product.deltas[i];\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * makes matrix weights and deltas all ones\n */\nexport function allOnes(product: Matrix): void {\n  for (let i = 0; i < product.weights.length; i++) {\n    product.weights[i] = 1;\n    product.deltas[i] = 0;\n  }\n}\n","import { Matrix } from '.';\n\nexport function cloneNegative(product: Matrix, left: Matrix): void {\n  product.rows = left.rows;\n  product.columns = left.columns;\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = -left.weights[i];\n    product.deltas[i] = 0;\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * multiply {left} and {right} matrix weights to {into}\n */\nexport function multiply(product: Matrix, left: Matrix, right: Matrix): void {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRow = 0; leftRow < leftRows; leftRow++) {\n    const leftRowBase = leftColumns * leftRow;\n    const rightRowBase = rightColumns * leftRow;\n\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // dot product loop\n      let dot = 0;\n\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftIndex = leftRowBase + leftColumn;\n        const rightIndex = rightColumnBase + rightColumn;\n        dot += left.weights[leftIndex] * right.weights[rightIndex];\n        left.deltas[leftIndex] = 0;\n        right.deltas[rightIndex] = 0;\n      }\n\n      product.weights[rightRowBase + rightColumn] = dot;\n    }\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * multiplies {from} deltas to {left} and {right}\n */\nexport function multiplyB(product: Matrix, left: Matrix, right: Matrix): void {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRowRoot = 0; leftRowRoot < leftRows; leftRowRoot++) {\n    const leftRowBase = leftColumns * leftRowRoot;\n    const rightRowBase = rightColumns * leftRowRoot;\n\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftRow = leftRowBase + leftColumn;\n        const rightRow = rightColumnBase + rightColumn;\n        const backPropagateValue = product.deltas[rightRowBase + rightColumn];\n        left.deltas[leftRow] += right.weights[rightRow] * backPropagateValue;\n        right.deltas[rightRow] += left.weights[leftRow] * backPropagateValue;\n      }\n    }\n  }\n}\n","import { Matrix } from '.';\n\nexport function multiplyElement(\n  product: Matrix,\n  left: Matrix,\n  right: Matrix\n): void {\n  const { weights } = left;\n\n  for (let i = 0; i < weights.length; i++) {\n    product.weights[i] = left.weights[i] * right.weights[i];\n    product.deltas[i] = 0;\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * multiplies {left} and {right} weight by {from} deltas into {left} and {right} deltas\n */\nexport function multiplyElementB(\n  product: Matrix,\n  left: Matrix,\n  right: Matrix\n): void {\n  for (let i = 0; i < left.weights.length; i++) {\n    left.deltas[i] = right.weights[i] * product.deltas[i];\n    right.deltas[i] = left.weights[i] * product.deltas[i];\n  }\n}\n","import { Matrix } from '.';\n\n/**\n *\n * relu {m} weights to {into} weights\n */\nexport function relu(product: Matrix, left: Matrix): void {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.max(0, left.weights[i]); // relu\n    product.deltas[i] = 0;\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * adds {from} deltas to {m} deltas when {m} weights are above other a threshold of 0\n */\nexport function reluB(product: Matrix, left: Matrix): void {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = left.weights[i] > 0 ? product.deltas[i] : 0;\n  }\n}\n","import { Matrix } from '.';\n\nexport function rowPluck(\n  product: Matrix,\n  left: Matrix,\n  rowPluckIndex: number\n): void {\n  const { columns } = left;\n  const rowBase = columns * rowPluckIndex;\n\n  for (let column = 0; column < columns; column++) {\n    product.weights[column] = left.weights[rowBase + column];\n    product.deltas[column] = 0;\n  }\n}\n","import { Matrix } from '.';\n\n/**\n * adds {from} deltas into {m} deltas\n */\nexport function rowPluckB(\n  product: Matrix,\n  left: Matrix,\n  rowIndex: number\n): void {\n  const { columns } = left;\n  const rowBase = columns * rowIndex;\n\n  for (let column = 0; column < columns; column++) {\n    left.deltas[rowBase + column] = product.deltas[column];\n  }\n}\n","import { Matrix } from '.';\n\nexport function sigmoid(product: Matrix, left: Matrix): void {\n  // sigmoid nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = 1 / (1 + Math.exp(-left.weights[i]));\n    product.deltas[i] = 0;\n  }\n}\n\n// function sig(x) {\n//   // helper function for computing sigmoid\n//   return 1 / (1 + Math.exp(-x));\n// }\n","import { Matrix } from '.';\n\nexport function sigmoidB(product: Matrix, left: Matrix): void {\n  for (let i = 0; i < product.deltas.length; i++) {\n    const mwi = product.weights[i];\n    left.deltas[i] = mwi * (1 - mwi) * product.deltas[i];\n  }\n}\n","import { Matrix } from '.';\n\nexport function softmax(matrix: Matrix): Matrix {\n  // probability volume\n  const result = new Matrix(matrix.rows, matrix.columns);\n  let maxVal = -999999;\n\n  for (let i = 0; i < matrix.weights.length; i++) {\n    if (matrix.weights[i] > maxVal) {\n      maxVal = matrix.weights[i];\n    }\n  }\n\n  let s = 0;\n  for (let i = 0; i < matrix.weights.length; i++) {\n    result.weights[i] = Math.exp(matrix.weights[i] - maxVal);\n    s += result.weights[i];\n  }\n\n  for (let i = 0; i < matrix.weights.length; i++) {\n    result.weights[i] /= s;\n  }\n\n  // no backward pass here needed\n  // since we will use the computed probabilities outside\n  // to set gradients directly on m\n  return result;\n}\n","import { Matrix } from '.';\n\nexport function tanh(product: Matrix, left: Matrix): void {\n  // tanh nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.tanh(left.weights[i]);\n    product.deltas[i] = 0;\n  }\n}\n","import { Matrix } from '.';\n\nexport function tanhB(product: Matrix, left: Matrix): void {\n  for (let i = 0; i < product.deltas.length; i++) {\n    // grad for z = tanh(x) is (1 - z^2)\n    const mwi = product.weights[i];\n    left.deltas[i] = (1 - mwi * mwi) * product.deltas[i];\n  }\n}\n","import { Matrix } from '.';\nimport { add } from './add';\nimport { addB } from './add-b';\nimport { allOnes } from './all-ones';\nimport { cloneNegative } from './clone-negative';\nimport { multiply } from './multiply';\nimport { multiplyB } from './multiply-b';\nimport { multiplyElement } from './multiply-element';\nimport { multiplyElementB } from './multiply-element-b';\nimport { relu } from './relu';\nimport { reluB } from './relu-b';\nimport { rowPluck } from './row-pluck';\nimport { rowPluckB } from './row-pluck-b';\nimport { sigmoid } from './sigmoid';\nimport { sigmoidB } from './sigmoid-b';\nimport { softmax } from './softmax';\nimport { tanh } from './tanh';\nimport { tanhB } from './tanh-b';\n\ntype PropagateIndex = (product: Matrix, left: Matrix, index: number) => void;\ntype PropagateProduct = (product: Matrix) => void;\ntype PropagateProductFromLeft = (product: Matrix, left: Matrix) => void;\ntype PropagateProductFromLeftRight = (\n  product: Matrix,\n  left: Matrix,\n  right: Matrix\n) => void;\ntype PropagateFunction =\n  | PropagateIndex\n  | PropagateProduct\n  | PropagateProductFromLeft\n  | PropagateProductFromLeftRight;\n\nexport interface IState {\n  name: string;\n  product: Matrix;\n  left?: Matrix;\n  right?: Matrix;\n  forwardFn: PropagateFunction;\n  backpropagationFn: PropagateFunction;\n}\n\nexport class Equation {\n  states: IState[] = [];\n  inputValue?: Float32Array;\n  inputRow = 0;\n\n  add(left: Matrix, right: Matrix): Matrix {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n\n    const product = new Matrix(left.rows, left.columns);\n\n    this.states.push({\n      name: 'add',\n      product,\n      left,\n      right,\n      forwardFn: add,\n      backpropagationFn: addB,\n    });\n\n    return product;\n  }\n\n  allOnes(rows: number, columns: number): Matrix {\n    const product = new Matrix(rows, columns);\n\n    this.states.push({\n      name: 'allOnes',\n      product,\n      left: product,\n      forwardFn: allOnes,\n      backpropagationFn: () => {},\n    });\n\n    return product;\n  }\n\n  cloneNegative(matrix: Matrix): Matrix {\n    const product = new Matrix(matrix.rows, matrix.columns);\n\n    this.states.push({\n      name: 'cloneNegative',\n      product,\n      left: matrix,\n      forwardFn: cloneNegative,\n      backpropagationFn: () => {},\n    });\n\n    return product;\n  }\n\n  /**\n   * connects two matrices together by subtract\n   */\n  subtract(left: Matrix, right: Matrix): Matrix {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n\n    return this.add(\n      this.add(this.allOnes(left.rows, left.columns), this.cloneNegative(left)),\n      right\n    );\n  }\n\n  /**\n   * connects two matrices together by multiply\n   */\n  multiply(left: Matrix, right: Matrix): Matrix {\n    if (left.columns !== right.rows) {\n      throw new Error('misaligned matrices');\n    }\n\n    const product = new Matrix(left.rows, right.columns);\n\n    this.states.push({\n      name: 'multiply',\n      product,\n      left,\n      right,\n      forwardFn: multiply,\n      backpropagationFn: multiplyB,\n    });\n\n    return product;\n  }\n\n  /**\n   * connects two matrices together by multiplyElement\n   */\n  multiplyElement(left: Matrix, right: Matrix): Matrix {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n\n    const product = new Matrix(left.rows, left.columns);\n\n    this.states.push({\n      name: 'multiplyElement',\n      product,\n      left,\n      right,\n      forwardFn: multiplyElement,\n      backpropagationFn: multiplyElementB,\n    });\n\n    return product;\n  }\n\n  /**\n   * connects a matrix to relu\n   */\n  relu(matrix: Matrix): Matrix {\n    const product = new Matrix(matrix.rows, matrix.columns);\n\n    this.states.push({\n      name: 'relu',\n      product,\n      left: matrix,\n      forwardFn: relu,\n      backpropagationFn: reluB,\n    });\n\n    return product;\n  }\n\n  /**\n   * input a matrix\n   */\n  input(input: Matrix): Matrix {\n    this.states.push({\n      name: 'input',\n      product: input,\n      forwardFn: (product: Matrix) => {\n        if (!this.inputValue) return;\n        if (this.inputValue.length !== product.weights.length) {\n          throw new Error('this.inputValue is of wrong dimensions');\n        }\n        product.weights = input.weights = this.inputValue;\n      },\n      backpropagationFn: () => {},\n    });\n\n    return input;\n  }\n\n  /**\n   * connects a matrix via a row\n   */\n  inputMatrixToRow(matrix: Matrix): Matrix {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const product = new Matrix(matrix.columns, 1);\n\n    this.states.push({\n      name: 'inputMatrixToRow',\n      product,\n      left: matrix,\n      get right() {\n        return (self.inputRow as unknown) as Matrix;\n      },\n      forwardFn: rowPluck,\n      backpropagationFn: rowPluckB,\n    });\n\n    return product;\n  }\n\n  /**\n   * connects a matrix to sigmoid\n   */\n  sigmoid(matrix: Matrix): Matrix {\n    const product = new Matrix(matrix.rows, matrix.columns);\n\n    this.states.push({\n      name: 'sigmoid',\n      product,\n      left: matrix,\n      forwardFn: sigmoid,\n      backpropagationFn: sigmoidB,\n    });\n\n    return product;\n  }\n\n  /**\n   * connects a matrix to tanh\n   */\n  tanh(matrix: Matrix): Matrix {\n    const product = new Matrix(matrix.rows, matrix.columns);\n\n    this.states.push({\n      name: 'tanh',\n      product,\n      left: matrix,\n      forwardFn: tanh,\n      backpropagationFn: tanhB,\n    });\n\n    return product;\n  }\n\n  /**\n   *\n   * Observe a matrix for debugging\n   */\n  observe(matrix: Matrix): Matrix {\n    this.states.push({\n      name: 'observe',\n      product: new Matrix(),\n      forwardFn: () => {},\n      backpropagationFn: () => {},\n    });\n\n    return matrix;\n  }\n\n  /**\n   * Run index through equations via forward propagation\n   */\n  runIndex(rowIndex = 0): Matrix {\n    this.inputRow = rowIndex;\n    let state = this.states[0];\n\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n\n      if (!state.hasOwnProperty('forwardFn')) continue;\n      (state.forwardFn as PropagateProductFromLeftRight)(\n        state.product,\n        state.left as Matrix,\n        state.right as Matrix\n      );\n    }\n\n    return state.product;\n  }\n\n  /**\n   * Run value through equations via forward propagation\n   */\n  runInput(inputValue: Float32Array): Matrix {\n    this.inputValue = inputValue;\n    let state = this.states[0];\n\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n\n      if (!state.hasOwnProperty('forwardFn')) continue;\n      (state.forwardFn as PropagateProductFromLeftRight)(\n        state.product,\n        state.left as Matrix,\n        state.right as Matrix\n      );\n    }\n\n    return state.product;\n  }\n\n  /**\n   * Run value through equations via back propagation\n   */\n  backpropagate(): Matrix {\n    let i = this.states.length;\n    let state = this.states[0];\n\n    while (i-- > 0) {\n      state = this.states[i];\n\n      if (!state.hasOwnProperty('backpropagationFn')) continue;\n      (state.backpropagationFn as PropagateProductFromLeftRight)(\n        state.product,\n        state.left as Matrix,\n        state.right as Matrix\n      );\n    }\n\n    return state.product;\n  }\n\n  /**\n   * Run index through equations via back propagation\n   */\n  backpropagateIndex(rowIndex = 0): Matrix {\n    this.inputRow = rowIndex;\n\n    let i = this.states.length;\n    let state = this.states[0];\n\n    while (i-- > 0) {\n      state = this.states[i];\n\n      if (!state.hasOwnProperty('backpropagationFn')) continue;\n      (state.backpropagationFn as PropagateProductFromLeftRight)(\n        state.product,\n        state.left as Matrix,\n        state.right as Matrix\n      );\n    }\n\n    return state.product;\n  }\n\n  /**\n   * Predict a target value from equation\n   */\n  predictTarget(input: Float32Array, target: Float32Array): number {\n    let errorSum = 0;\n    const output = this.runInput(input);\n\n    for (let i = 0; i < output.weights.length; i++) {\n      const error = output.weights[i] - target[i];\n      // set gradients into log probabilities\n      errorSum += Math.abs(error);\n      // write gradients into log probabilities\n      output.deltas[i] = error;\n    }\n\n    return errorSum;\n  }\n\n  /**\n   * Predict a target index from equation\n   */\n  predictTargetIndex(input: number, target: number): number {\n    const output = this.runIndex(input);\n    // set gradients into log probabilities\n    const logProbabilities = output; // interpret output as log probabilities\n    const probabilities = softmax(output); // compute the softmax probabilities\n\n    // write gradients into log probabilities\n    logProbabilities.deltas = probabilities.weights.slice(0);\n    logProbabilities.deltas[target] -= 1;\n\n    // accumulate base 2 log prob and do smoothing\n    return -Math.log2(probabilities.weights[target]);\n  }\n}\n","import { Matrix } from '.';\n\nexport function maxI(matrix: Matrix): number {\n  // argmax of array w\n  const { weights } = matrix;\n  let maxv = weights[0];\n  let maxix = 0;\n\n  for (let i = 1; i < weights.length; i++) {\n    const v = weights[i];\n    if (v < maxv) continue;\n\n    maxix = i;\n    maxv = v;\n  }\n\n  return maxix;\n}\n","import { Matrix } from '.';\nimport { randomFloat } from '../../utilities/random';\n\nexport function sampleI(matrix: Matrix): number {\n  // sample argmax from w, assuming w are\n  // probabilities that sum to one\n  const r = randomFloat(0, 1);\n  const w = matrix.weights;\n  let x = 0;\n  let i = 0;\n\n  while (true) {\n    x += w[i];\n\n    if (x > r) {\n      return i;\n    }\n\n    i++;\n  }\n}\n","import { Log } from '../feed-forward';\nimport { INeuralNetworkTrainOptions } from '../neural-network';\nimport {\n  DataFormatter,\n  IDataFormatter,\n  IDataFormatterJSON,\n} from '../utilities/data-formatter';\nimport { randomFloat } from '../utilities/random';\nimport { zeros } from '../utilities/zeros';\nimport { IMatrixJSON, Matrix } from './matrix';\nimport { copy } from './matrix/copy';\nimport { Equation } from './matrix/equation';\nimport { maxI } from './matrix/max-i';\nimport { RandomMatrix } from './matrix/random-matrix';\nimport { sampleI } from './matrix/sample-i';\nimport { softmax } from './matrix/softmax';\nimport { IRNNDatum, Value } from './rnn-data-types';\n\nexport interface IRNNModel {\n  isInitialized: boolean;\n  input: Matrix;\n  hiddenLayers: IRNNHiddenLayerModel[];\n  output: Matrix;\n  equations: Equation[];\n  allMatrices: Matrix[];\n  equationConnections: Matrix[][];\n  outputConnector: RandomMatrix | Matrix;\n}\n\nexport interface IRNNOptions {\n  inputSize: number;\n  inputRange: number;\n  hiddenLayers: number[];\n  outputSize: number;\n  decayRate: number;\n  smoothEps: number;\n  regc: number;\n  clipval: number;\n  maxPredictionLength: number;\n  dataFormatter: IDataFormatter;\n  json?: IRNNJSON;\n}\n\nexport interface IRNNJSONOptions {\n  inputSize: number;\n  inputRange: number;\n  hiddenLayers: number[];\n  outputSize: number;\n  decayRate: number;\n  smoothEps: number;\n  regc: number;\n  clipval: number;\n  maxPredictionLength: number;\n  dataFormatter: IDataFormatterJSON;\n}\n\nexport interface IRNNTrainingOptions {\n  iterations: number;\n  errorThresh: number;\n  log: boolean | ((status: string) => void);\n  logPeriod: number;\n  learningRate: number;\n  callback?: (status: IRNNStatus) => void;\n  callbackPeriod: number;\n  timeout: number;\n}\n\nexport interface IRNNJSONTrainOptions {\n  iterations: number;\n  errorThresh: number;\n  log: boolean | ((status: string) => void);\n  logPeriod: number;\n  learningRate: number;\n  callback?: (status: IRNNStatus) => void;\n  callbackPeriod: number;\n  timeout: number | 'Infinity';\n}\n\nexport const trainDefaults: IRNNTrainingOptions = {\n  iterations: 20000,\n  errorThresh: 0.005,\n  log: false,\n  logPeriod: 10,\n  learningRate: 0.01,\n  callbackPeriod: 10,\n  timeout: Infinity,\n};\n\nexport interface IRNNHiddenLayer {\n  [key: string]: RandomMatrix | Matrix;\n}\n\nexport interface IRNNHiddenLayerModel extends IRNNHiddenLayer {\n  // wxh\n  weight: RandomMatrix;\n  // whh\n  transition: RandomMatrix;\n  // bhh\n  bias: Matrix;\n}\n\nexport const defaults = (): IRNNOptions => {\n  return {\n    inputSize: 20,\n    inputRange: 20,\n    hiddenLayers: [20, 20],\n    outputSize: 20,\n    decayRate: 0.999,\n    smoothEps: 1e-8,\n    regc: 0.000001,\n    clipval: 5,\n    maxPredictionLength: 100,\n    dataFormatter: new DataFormatter(),\n  };\n};\n\nexport interface IRNNStatus {\n  iterations: number;\n  error: number;\n}\n\nexport interface IRNNPreppedTrainingData {\n  status: IRNNStatus;\n  preparedData: number[][];\n  endTime: number;\n}\n\nexport class RNN {\n  options: IRNNOptions = { ...defaults() };\n  trainOpts: IRNNTrainingOptions = { ...trainDefaults };\n  stepCache: { [index: number]: Float32Array } = {};\n  runs = 0;\n  ratioClipped = 0;\n  model: IRNNModel = Object.seal({\n    isInitialized: false,\n    input: new Matrix(0, 0),\n    hiddenLayers: [],\n    output: new Matrix(0, 0),\n    equations: [],\n    allMatrices: [],\n    equationConnections: [],\n    outputConnector: new RandomMatrix(0, 0, 0.08),\n  });\n\n  initialLayerInputs: Matrix[] = [];\n\n  constructor(options: Partial<IRNNOptions & IRNNTrainingOptions> = {}) {\n    this.options = { ...this.options, ...options };\n    this.updateTrainingOptions({\n      ...trainDefaults,\n      // ...options,\n    });\n\n    if (options.json) {\n      this.fromJSON(options.json);\n    }\n  }\n\n  initialize(): void {\n    const { dataFormatter } = this.options;\n    if (dataFormatter?.characters.length) {\n      this.options.inputSize = this.options.inputRange = this.options.outputSize =\n        dataFormatter.characters.length;\n    }\n    this.model = this.mapModel();\n  }\n\n  createHiddenLayers(): IRNNHiddenLayer[] {\n    const { hiddenLayers, inputSize } = this.options;\n    const hiddenLayersModel: IRNNHiddenLayer[] = [];\n    // 0 is end, so add 1 to offset\n    hiddenLayersModel.push(this.getHiddenLayer(hiddenLayers[0], inputSize));\n    let prevSize = hiddenLayers[0];\n\n    for (let d = 1; d < hiddenLayers.length; d++) {\n      // loop over depths\n      const hiddenSize = hiddenLayers[d];\n      hiddenLayersModel.push(this.getHiddenLayer(hiddenSize, prevSize));\n      prevSize = hiddenSize;\n    }\n    return hiddenLayersModel;\n  }\n\n  getHiddenLayer(hiddenSize: number, prevSize: number): IRNNHiddenLayer {\n    return {\n      // wxh\n      weight: new RandomMatrix(hiddenSize, prevSize, 0.08),\n      // whh\n      transition: new RandomMatrix(hiddenSize, hiddenSize, 0.08),\n      // bhh\n      bias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  getEquation(\n    equation: Equation,\n    inputMatrix: Matrix,\n    previousResult: Matrix,\n    hiddenLayer: IRNNHiddenLayer\n  ): Matrix {\n    if (!hiddenLayer.weight || !hiddenLayer.transition || !hiddenLayer.bias) {\n      throw new Error('hiddenLayer does not have expected properties');\n    }\n    const relu = equation.relu.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n\n    return relu(\n      add(\n        add(\n          multiply(hiddenLayer.weight, inputMatrix),\n          multiply(hiddenLayer.transition, previousResult)\n        ),\n        hiddenLayer.bias\n      )\n    );\n  }\n\n  createInputMatrix(): RandomMatrix {\n    const { inputRange, inputSize } = this.options;\n    if (inputRange < 1)\n      throw new Error('this.options.inputRange not an expected number');\n    if (inputSize < 1)\n      throw new Error('this.options.inputSize not an expected number');\n\n    // 0 is end, so add 1 to offset\n    return new RandomMatrix(inputRange + 1, inputSize, 0.08);\n  }\n\n  createOutputMatrices(): { outputConnector: RandomMatrix; output: Matrix } {\n    const { outputSize, hiddenLayers } = this.options;\n    const lastHiddenSize = last(hiddenLayers);\n\n    // 0 is end, so add 1 to offset\n    return {\n      // whd\n      outputConnector: new RandomMatrix(outputSize + 1, lastHiddenSize, 0.08),\n      // 0 is end, so add 1 to offset\n      // bd\n      output: new Matrix(outputSize + 1, 1),\n    };\n  }\n\n  bindEquation(): void {\n    const { model } = this;\n    const { hiddenLayers } = this.options;\n    const equation = new Equation();\n    const outputs: Matrix[] = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? last(model.equationConnections)\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.getEquation(\n      equation,\n      equation.inputMatrixToRow(model.input),\n      equationConnection[0],\n      model.hiddenLayers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = hiddenLayers.length; i < max; i++) {\n      if (!equationConnection[i]) {\n        throw new Error(`Cannot find equation at index ${i}`);\n      }\n      output = this.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        model.hiddenLayers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel(): IRNNModel {\n    const allMatrices: Matrix[] = [];\n    this.initialLayerInputs = this.options.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    const input = this.createInputMatrix();\n    allMatrices.push(input);\n\n    const hiddenLayers = this.createHiddenLayers() as IRNNHiddenLayerModel[];\n    if (!hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix: IRNNHiddenLayerModel = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    const { output, outputConnector } = this.createOutputMatrices();\n    allMatrices.push(outputConnector);\n    allMatrices.push(output);\n\n    return Object.seal({\n      isInitialized: true,\n      input,\n      hiddenLayers,\n      output,\n      equations: [],\n      allMatrices,\n      equationConnections: [],\n      outputConnector,\n    });\n  }\n\n  trainInput(input: number[]): number {\n    this.runs++;\n    const { model } = this;\n    const max = input.length;\n    let log2ppl = 0;\n    let equation;\n    while (model.equations.length <= input.length + 1) {\n      // last is zero\n      this.bindEquation();\n    }\n    for (\n      let inputIndex = -1, inputMax = input.length;\n      inputIndex < inputMax;\n      inputIndex++\n    ) {\n      // start and end tokens are zeros\n      const equationIndex = inputIndex + 1;\n      equation = model.equations[equationIndex];\n\n      const source = inputIndex === -1 ? 0 : input[inputIndex] + 1; // first step: start with START token\n      const target = inputIndex === max - 1 ? 0 : input[inputIndex + 1] + 1; // last step: end with END token\n      log2ppl += equation.predictTargetIndex(source, target);\n    }\n    return Math.pow(2, log2ppl / (max - 1)) / 100;\n  }\n\n  backpropagate(input: number[]): void {\n    let i = input.length;\n    const { model } = this;\n    const { equations } = model;\n    while (i > 0) {\n      equations[i].backpropagateIndex(input[i - 1] + 1);\n      i--;\n    }\n    equations[0].backpropagateIndex(0);\n  }\n\n  adjustWeights(): void {\n    const { regc, clipval, decayRate, smoothEps } = this.options;\n    const { trainOpts, model, stepCache } = this;\n    const { learningRate } = trainOpts;\n    const { allMatrices } = model;\n    let numClipped = 0;\n    let numTot = 0;\n    for (let matrixIndex = 0; matrixIndex < allMatrices.length; matrixIndex++) {\n      const matrix = allMatrices[matrixIndex];\n      const { weights, deltas } = matrix;\n      if (!(matrixIndex in stepCache)) {\n        stepCache[matrixIndex] = zeros(matrix.rows * matrix.columns);\n      }\n      const cache = stepCache[matrixIndex];\n      for (let i = 0; i < weights.length; i++) {\n        let r = deltas[i];\n        const w = weights[i];\n        // rmsprop adaptive learning rate\n        cache[i] = cache[i] * decayRate + (1 - decayRate) * r * r;\n        // gradient clip\n        if (r > clipval) {\n          r = clipval;\n          numClipped++;\n        } else if (r < -clipval) {\n          r = -clipval;\n          numClipped++;\n        }\n        numTot++;\n        // update (and regularize)\n        weights[i] =\n          w + (-learningRate * r) / Math.sqrt(cache[i] + smoothEps) - regc * w;\n      }\n    }\n    this.ratioClipped = numClipped / numTot;\n  }\n\n  get isRunnable(): boolean {\n    if (this.model && this.model.equations.length === 0) {\n      console.error(`No equations bound, did you run train()?`);\n      return false;\n    }\n\n    return true;\n  }\n\n  checkRunnable(): void {\n    if (!this.isRunnable) {\n      throw new Error('Network not runnable');\n    }\n  }\n\n  run(rawInput: Value = [], isSampleI = false, temperature = 1): string {\n    const maxPredictionLength: number =\n      this.options.maxPredictionLength +\n      (rawInput !== null ? (rawInput as string).length : 0) +\n      (this.options.dataFormatter\n        ? this.options.dataFormatter.specialIndexes.length\n        : 0);\n\n    this.checkRunnable();\n\n    const input: number[] =\n      this.options.dataFormatter && (rawInput as string).length > 0\n        ? this.options.dataFormatter.formatDataIn(rawInput)\n        : (rawInput as number[]);\n    const { model } = this;\n    const output = [];\n    let i = 0;\n    while (true) {\n      const previousIndex =\n        i === 0 ? 0 : i < input.length ? input[i - 1] + 1 : output[i - 1];\n      while (model.equations.length <= i) {\n        this.bindEquation();\n      }\n      const equation = model.equations[i];\n      // sample predicted letter\n      const outputMatrix = equation.runIndex(previousIndex);\n      const logProbabilities = new Matrix(\n        model.output.rows,\n        model.output.columns\n      );\n      copy(logProbabilities, outputMatrix);\n      if (temperature !== 1 && isSampleI) {\n        /**\n         * scale log probabilities by temperature and re-normalize\n         * if temperature is high, logProbabilities will go towards zero\n         * and the softmax outputs will be more diffuse. if temperature is\n         * very low, the softmax outputs will be more peaky\n         */\n        for (let j = 0, max = logProbabilities.weights.length; j < max; j++) {\n          logProbabilities.weights[j] /= temperature;\n        }\n      }\n\n      const probs = softmax(logProbabilities);\n      const nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n      i++;\n      if (nextIndex === 0) {\n        // END token predicted, break out\n        break;\n      }\n      if (i >= maxPredictionLength) {\n        // something is wrong\n        break;\n      }\n\n      output.push(nextIndex);\n    }\n\n    /**\n     * we slice the input length here, not because output contains it, but it will be erroneous as we are sending the\n     * network what is contained in input, so the data is essentially guessed by the network what could be next, till it\n     * locks in on a value.\n     * Kind of like this, values are from input:\n     * 0 -> 4 (or in English: \"beginning on input\" -> \"I have no idea? I'll guess what they want next!\")\n     * 2 -> 2 (oh how interesting, I've narrowed down values...)\n     * 1 -> 9 (oh how interesting, I've now know what the values are...)\n     * then the output looks like: [4, 2, 9,...]\n     * so we then remove the erroneous data to get our true output\n     */\n    return this.options.dataFormatter.formatDataOut(\n      input,\n      output.slice(input.length).map((value) => value - 1)\n    );\n  }\n\n  /**\n   *\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them\n   */\n  verifyIsInitialized(): void {\n    if (!this.model.isInitialized) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options: Partial<IRNNTrainingOptions>): void {\n    this.trainOpts = { ...trainDefaults, ...options };\n    this.validateTrainingOptions(this.trainOpts as INeuralNetworkTrainOptions);\n    this.setLogMethod(options.log ?? this.trainOpts.log);\n    // TODO: Remove this?\n    // this.activation = options.activation || this.activation;\n  }\n\n  validateTrainingOptions(options: INeuralNetworkTrainOptions): void {\n    const validations: { [fnName: string]: () => boolean } = {\n      iterations: () => {\n        const val = options.iterations;\n        return typeof val === 'number' && val > 0;\n      },\n      errorThresh: () => {\n        const val = options.errorThresh;\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      log: () => {\n        const val = options.log;\n        return typeof val === 'function' || typeof val === 'boolean';\n      },\n      logPeriod: () => {\n        const val = options.logPeriod;\n        return typeof val === 'number' && val > 0;\n      },\n      learningRate: () => {\n        const val = options.learningRate;\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      callback: () => {\n        const val = options.callback;\n        return typeof val === 'function' || val === undefined;\n      },\n      callbackPeriod: () => {\n        const val = options.callbackPeriod;\n        return typeof val === 'number' && val > 0;\n      },\n      timeout: () => {\n        const val = options.timeout;\n        return typeof val === 'number' && val > 0;\n      },\n    };\n    for (const p in validations) {\n      const v = (options as unknown) as { [v: string]: string };\n      if (!validations[p]()) {\n        throw new Error(\n          `[${p}, ${v[p]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    }\n  }\n\n  setLogMethod(log: Log | undefined | boolean): void {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  protected prepTraining(\n    data: Array<Value | IRNNDatum>,\n    options: Partial<IRNNTrainingOptions>\n  ): IRNNPreppedTrainingData {\n    this.updateTrainingOptions(options);\n    const preparedData = this.options.dataFormatter.format(data);\n    const endTime = Date.now() + (this.trainOpts.timeout ?? 0);\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized();\n\n    return {\n      preparedData,\n      status,\n      endTime,\n    };\n  }\n\n  train(\n    data: Array<Value | IRNNDatum>,\n    trainOpts: Partial<IRNNTrainingOptions> = {}\n  ): IRNNStatus {\n    this.trainOpts = trainOpts = {\n      ...trainDefaults,\n      ...trainOpts,\n    };\n    const {\n      iterations,\n      errorThresh,\n      logPeriod,\n      callback,\n      callbackPeriod,\n    } = this.trainOpts;\n    const log = trainOpts.log === true ? console.log : trainOpts.log;\n    let error = Infinity;\n    let i;\n\n    let inputs: number[][];\n    if (this.options?.dataFormatter) {\n      inputs = this.options.dataFormatter.format(data);\n    } else if (\n      Array.isArray(data) &&\n      Array.isArray(data[0]) &&\n      typeof (data as number[][])[0][0] === 'number'\n    ) {\n      inputs = data as number[][];\n    } else {\n      throw new Error('training not in expected format of number[][]');\n    }\n\n    this.verifyIsInitialized();\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < inputs.length; j++) {\n        const err = this.trainPattern(inputs[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error)) {\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      }\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  addFormat(data: Value): void {}\n\n  formatData(data: Value[]): number[][] {\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      result.push(this.options.dataFormatter.formatDataIn(data[i]));\n    }\n    return result;\n  }\n\n  toJSON(): IRNNJSON {\n    if (!this.model.isInitialized) {\n      this.initialize();\n    }\n    const { model, options } = this;\n\n    return {\n      type: this.constructor.name,\n      options: { ...options, dataFormatter: options.dataFormatter.toJSON() },\n      trainOpts: {\n        ...this.trainOpts,\n        timeout:\n          this.trainOpts.timeout === Infinity\n            ? 'Infinity'\n            : this.trainOpts.timeout,\n      },\n      input: model.input.toJSON(),\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers: { [index: string]: IMatrixJSON } = {};\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n    };\n  }\n\n  fromJSON(json: IRNNJSON): this {\n    const { options } = json;\n    const allMatrices = [];\n    const input = Matrix.fromJSON(json.input);\n    allMatrices.push(input);\n    const hiddenLayers: IRNNHiddenLayerModel[] = [];\n\n    json.hiddenLayers.forEach((hiddenLayer) => {\n      const layers: { [index: string]: Matrix } = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers as IRNNHiddenLayerModel);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    if (options.dataFormatter) {\n      this.options = {\n        ...defaults(),\n        ...options,\n        dataFormatter: DataFormatter.fromJSON(options.dataFormatter),\n      };\n    } else {\n      this.options = {\n        ...defaults(),\n        ...options,\n        dataFormatter: new DataFormatter(),\n      };\n    }\n\n    this.model = Object.seal({\n      isInitialized: true,\n      input,\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    });\n    this.initialLayerInputs = this.options.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n    return this;\n  }\n\n  toFunction(cb?: (src: string) => string): RNNFunction {\n    const { model } = this;\n    const { equations } = this.model;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function previousConnectionIndex(m: Matrix): number {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixOrigin(m: Matrix, stateIndex: number): string {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          if (j > -1 && (m === state.left || m === state.right)) {\n            return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n          }\n          return `new Matrix(${m.rows}, ${m.columns})`;\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n      return '';\n    }\n\n    function matrixToString(m: Matrix, stateIndex: number): string {\n      if (!m || !m.rows || !m.columns) return 'null';\n\n      if (m === model.input) return `json.input`;\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function toInner(fnString: string): string {\n      // crude, but should be sufficient for now\n      // function() { body }\n      const fnParts = fnString.toString().split('{');\n      fnParts.shift();\n      // body }\n      const fnBodyString = fnParts.join('{');\n      const fnBodyParts = fnBodyString.split('}');\n      fnBodyParts.pop();\n      // body\n      return fnBodyParts\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName: string): string {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames: { [methodName: string]: boolean } = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${state.left ? matrixToString(state.left, i) : 'undefined'},\n      right: ${state.right ? matrixToString(state.right, i) : 'undefined'},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}': //compiled from ${fileName(fnName)}\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const src = `\n  if (typeof rawInput === 'undefined') rawInput = [];\n  if (typeof isSampleI === 'undefined') isSampleI = false;\n  if (typeof temperature === 'undefined') temperature = 1;\n  var json = ${jsonString};\n  ${\n    this.options.dataFormatter\n      ? `${this.options.dataFormatter.toFunctionString()};\n  Object.assign(dataFormatter, json.options.dataFormatter);`\n      : ''\n  }\n  ${\n    this.options.dataFormatter &&\n    typeof this.options.dataFormatter.formatDataIn === 'function'\n      ? `const formatDataIn = function (input, output) { ${toInner(\n          this.options.dataFormatter.formatDataIn.toString()\n        )} }.bind(dataFormatter);`\n      : ''\n  }\n  ${\n    this.options.dataFormatter !== null &&\n    typeof this.options.dataFormatter.formatDataOut === 'function'\n      ? `const formatDataOut = function formatDataOut(input, output) { ${toInner(\n          this.options.dataFormatter.formatDataOut.toString()\n        )} }.bind(dataFormatter);`\n      : ''\n  }\n  var maxPredictionLength =\n    ${this.options.maxPredictionLength} +\n    rawInput.length +\n    ${\n      this.options.dataFormatter\n        ? this.options.dataFormatter.specialIndexes.length\n        : 0\n    };\n  var input = ${\n    this.options.dataFormatter &&\n    typeof this.options.dataFormatter.formatDataIn === 'function'\n      ? 'formatDataIn(rawInput)'\n      : 'rawInput'\n  };\n  var _i = 0;\n  var output = [];\n  var states = [];\n  var prevStates;\n  while (true) {\n    var previousIndex = (_i === 0\n        ? 0\n        : _i < input.length\n          ? input[_i - 1] + 1\n          : output[_i - 1])\n          ;\n    var rowPluckIndex = previousIndex;\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      var state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n\n    var logProbabilities = state.product;\n    if (temperature !== 1 && isSampleI) {\n      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {\n        logProbabilities.weights[q] /= temperature;\n      }\n    }\n\n    var probs = softmax(logProbabilities);\n    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n    _i++;\n    if (nextIndex === 0) {\n      break;\n    }\n    if (_i >= maxPredictionLength) {\n      break;\n    }\n\n    output.push(nextIndex);\n  }\n  ${\n    this.options.dataFormatter &&\n    typeof this.options.dataFormatter.formatDataOut === 'function'\n      ? 'return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))'\n      : 'return output.slice(input.length).map(function(value) { return value - 1; })'\n  };\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString().replace('_1.Matrix', 'Matrix')}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    // eslint-disable-next-line\n    return new Function(\n      'rawInput',\n      'isSampleI',\n      'temperature',\n      cb ? cb(src) : src\n    ) as RNNFunction;\n  }\n\n  trainPattern(input: number[], logErrorRate?: boolean): number {\n    const error = this.trainInput(input);\n    this.backpropagate(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return error;\n    }\n    return 0;\n  }\n}\n\nexport interface IRNNJSON {\n  type: string;\n  options: IRNNJSONOptions;\n  trainOpts: IRNNJSONTrainOptions;\n  input: IMatrixJSON;\n  hiddenLayers: Array<{ [index: string]: IMatrixJSON }>;\n  outputConnector: IMatrixJSON;\n  output: IMatrixJSON;\n}\n\nexport function last<T>(values: T[]): T {\n  return values[values.length - 1];\n}\n\nexport type RNNFunction = (\n  rawInput?: Array<Value | IRNNDatum> | string,\n  isSampleI?: boolean,\n  temperature?: number\n) => string;\n","import { Matrix } from './matrix';\nimport { Equation } from './matrix/equation';\nimport { RandomMatrix } from './matrix/random-matrix';\nimport { IRNNHiddenLayer, RNN } from './rnn';\n\nexport interface IGRUHiddenLayer extends IRNNHiddenLayer {\n  updateGateInputMatrix: RandomMatrix;\n  updateGateHiddenMatrix: RandomMatrix;\n  updateGateBias: Matrix;\n  resetGateInputMatrix: RandomMatrix;\n  resetGateHiddenMatrix: RandomMatrix;\n  resetGateBias: Matrix;\n  cellWriteInputMatrix: RandomMatrix;\n  cellWriteHiddenMatrix: RandomMatrix;\n  cellWriteBias: Matrix;\n}\n\nexport class GRU extends RNN {\n  getHiddenLayer(hiddenSize: number, prevSize: number): IRNNHiddenLayer {\n    return getGRUHiddenLayer(hiddenSize, prevSize);\n  }\n\n  getEquation(\n    equation: Equation,\n    inputMatrix: Matrix,\n    previousResult: Matrix,\n    hiddenLayer: IRNNHiddenLayer\n  ): Matrix {\n    return getGRUEquation(\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer as IGRUHiddenLayer\n    );\n  }\n}\n\nexport function getGRUHiddenLayer(\n  hiddenSize: number,\n  prevSize: number\n): IGRUHiddenLayer {\n  return {\n    // update Gate\n    // wzxh\n    updateGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wzhh\n    updateGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bz\n    updateGateBias: new Matrix(hiddenSize, 1),\n    // reset Gate\n    // wrxh\n    resetGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wrhh\n    resetGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // br\n    resetGateBias: new Matrix(hiddenSize, 1),\n    // cell write parameters\n    // wcxh\n    cellWriteInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wchh\n    cellWriteHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n    cellWriteBias: new Matrix(hiddenSize, 1),\n  };\n}\n\nexport function getGRUEquation(\n  equation: Equation,\n  inputMatrix: Matrix,\n  previousResult: Matrix,\n  hiddenLayer: IGRUHiddenLayer\n): Matrix {\n  if (\n    !hiddenLayer.updateGateInputMatrix ||\n    !hiddenLayer.updateGateHiddenMatrix ||\n    !hiddenLayer.updateGateBias ||\n    !hiddenLayer.resetGateInputMatrix ||\n    !hiddenLayer.resetGateHiddenMatrix ||\n    !hiddenLayer.resetGateBias ||\n    !hiddenLayer.cellWriteInputMatrix ||\n    !hiddenLayer.cellWriteHiddenMatrix ||\n    !hiddenLayer.cellWriteBias\n  ) {\n    throw new Error('hiddenLayer does not have expected properties');\n  }\n\n  const sigmoid = equation.sigmoid.bind(equation);\n  const add = equation.add.bind(equation);\n  const multiply = equation.multiply.bind(equation);\n  const multiplyElement = equation.multiplyElement.bind(equation);\n  const tanh = equation.tanh.bind(equation);\n  const allOnes = equation.allOnes.bind(equation);\n  const cloneNegative = equation.cloneNegative.bind(equation);\n\n  // update gate\n  const updateGate = sigmoid(\n    add(\n      add(\n        multiply(hiddenLayer.updateGateInputMatrix, inputMatrix),\n        multiply(hiddenLayer.updateGateHiddenMatrix, previousResult)\n      ),\n      hiddenLayer.updateGateBias\n    )\n  );\n\n  // reset gate\n  const resetGate = sigmoid(\n    add(\n      add(\n        multiply(hiddenLayer.resetGateInputMatrix, inputMatrix),\n        multiply(hiddenLayer.resetGateHiddenMatrix, previousResult)\n      ),\n      hiddenLayer.resetGateBias\n    )\n  );\n\n  // cell\n  const cell = tanh(\n    add(\n      add(\n        multiply(hiddenLayer.cellWriteInputMatrix, inputMatrix),\n        multiply(\n          hiddenLayer.cellWriteHiddenMatrix,\n          multiplyElement(resetGate, previousResult)\n        )\n      ),\n      hiddenLayer.cellWriteBias\n    )\n  );\n\n  // compute hidden state as gated, saturated cell activations\n  // negate updateGate\n  return add(\n    multiplyElement(\n      add(\n        allOnes(updateGate.rows, updateGate.columns),\n        cloneNegative(updateGate)\n      ),\n      cell\n    ),\n    multiplyElement(previousResult, updateGate)\n  );\n}\n","export class ArrayLookupTable {\n  length = 0;\n  table: { [key: string]: number } = {};\n\n  constructor(\n    data: Array<{\n      input: Array<Record<string, number>>;\n      output: Array<Record<string, number>>;\n    }>,\n    public prop: 'input' | 'output'\n  ) {\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      const ioValue = datum[prop];\n      for (let j = 0; j < ioValue.length; j++) {\n        const value = ioValue[j];\n        for (const p in value) {\n          if (!value.hasOwnProperty(p)) continue;\n          if (this.table.hasOwnProperty(p)) continue;\n          this.table[p] = this.length++;\n        }\n      }\n    }\n  }\n}\n","import {\n  FormattableData,\n  InputOutputValue,\n  INumberArray,\n  INumberHash,\n  ITrainingDatum,\n  lookup,\n} from '../lookup';\nimport { ArrayLookupTable } from '../utilities/array-lookup-table';\nimport {\n  arraysToFloat32Arrays,\n  arrayToFloat32Arrays,\n  inputOutputArraysToFloat32Arrays,\n  inputOutputArrayToFloat32Arrays,\n  inputOutputObjectsToFloat32Arrays,\n  inputOutputObjectToFloat32Arrays,\n  objectToFloat32Array,\n  objectToFloat32Arrays,\n} from '../utilities/cast';\nimport { LookupTable } from '../utilities/lookup-table';\nimport { randomFloat } from '../utilities/random';\nimport { IMatrixJSON, Matrix } from './matrix';\nimport { Equation } from './matrix/equation';\nimport { maxI } from './matrix/max-i';\nimport { RandomMatrix } from './matrix/random-matrix';\nimport { sampleI } from './matrix/sample-i';\nimport { softmax } from './matrix/softmax';\nimport {\n  defaults as rnnDefaults,\n  IRNNHiddenLayer,\n  IRNNHiddenLayerModel,\n  IRNNOptions,\n  IRNNStatus,\n  IRNNTrainingOptions,\n  last,\n  RNN,\n  trainDefaults as rnnTrainDefaults,\n} from './rnn';\n\nexport type ValuesOf<\n  T extends InputOutputValue | InputOutputValue[]\n> = T[number];\n\nexport interface IRNNTimeStepOptions extends IRNNTimeStepJSONOptions {\n  inputSize: number;\n  inputRange: number;\n  hiddenLayers: number[];\n  outputSize: number;\n  decayRate: number;\n  smoothEps: number;\n  regc: number;\n  clipval: number;\n  maxPredictionLength: number;\n  json?: IRNNTimeStepJSON;\n}\n\nexport interface IRNNTimeStepJSONOptions {\n  inputSize: number;\n  inputRange: number;\n  hiddenLayers: number[];\n  outputSize: number;\n  decayRate: number;\n  smoothEps: number;\n  regc: number;\n  clipval: number;\n  maxPredictionLength: number;\n}\n\nexport interface IRNNTimeStepJSON {\n  type: string;\n  options: IRNNTimeStepJSONOptions;\n  hiddenLayers: Array<{ [index: string]: IMatrixJSON }>;\n  outputConnector: IMatrixJSON;\n  output: IMatrixJSON;\n  inputLookup: INumberHash | null;\n  inputLookupLength: number;\n  outputLookup: INumberHash | null;\n  outputLookupLength: number;\n}\n\nexport interface IMisclass {\n  value: FormattableData;\n  actual: FormattableData;\n}\n\nexport interface ITestResults {\n  misclasses: IMisclass[];\n  error: number;\n  total: number;\n}\n\nexport interface IRNNTimeStepModel {\n  isInitialized: boolean;\n  hiddenLayers: IRNNHiddenLayer[];\n  output: Matrix;\n  equations: Equation[];\n  allMatrices: Matrix[];\n  equationConnections: Matrix[][];\n  outputConnector: RandomMatrix | Matrix;\n}\n\nexport const defaults = (): IRNNOptions => {\n  return {\n    ...rnnDefaults(),\n    inputSize: 1,\n    hiddenLayers: [20],\n    outputSize: 1,\n    inputRange: 0,\n  };\n};\n\nexport class RNNTimeStep extends RNN {\n  inputLookupLength = 0;\n  inputLookup: INumberHash | null = null;\n  outputLookup: INumberHash | null = null;\n  outputLookupLength = 0;\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  model: IRNNTimeStepModel = Object.seal({\n    isInitialized: false,\n    hiddenLayers: [],\n    output: new Matrix(0, 0),\n    equations: [],\n    allMatrices: [],\n    equationConnections: [],\n    outputConnector: new RandomMatrix(0, 0, 0.08),\n  });\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  options: IRNNTimeStepOptions = defaults();\n  constructor(\n    options: Partial<IRNNTimeStepOptions & IRNNTrainingOptions> = {}\n  ) {\n    super();\n    this.options = { ...this.options, ...options };\n    this.updateTrainingOptions({\n      ...trainDefaults,\n      ...options,\n    });\n\n    if (options.json) {\n      this.fromJSON(options.json);\n    }\n  }\n\n  createInputMatrix(): RandomMatrix {\n    throw new Error('Input Matrices do not exist on RNNTimeStep');\n  }\n\n  createOutputMatrices(): { outputConnector: RandomMatrix; output: Matrix } {\n    const { outputSize } = this.options;\n    const lastHiddenSize = last(this.options.hiddenLayers);\n\n    // whd\n    const outputConnector = new RandomMatrix(outputSize, lastHiddenSize, 0.08);\n    // bd\n    const output = new RandomMatrix(outputSize, 1, 0.08);\n    return { output, outputConnector };\n  }\n\n  bindEquation(): void {\n    const { model, options } = this;\n    const { hiddenLayers, inputSize } = options;\n    const layers = model.hiddenLayers;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.getEquation(\n      equation,\n      equation.input(new Matrix(inputSize, 1)),\n      equationConnection[0],\n      layers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = hiddenLayers.length; i < max; i++) {\n      output = this.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        layers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  initialize(): void {\n    this.model = this.mapModel();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  mapModel(): IRNNTimeStepModel {\n    const allMatrices: Matrix[] = [];\n    this.initialLayerInputs = this.options.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    const hiddenLayers = this.createHiddenLayers();\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    const { outputConnector, output } = this.createOutputMatrices();\n\n    allMatrices.push(outputConnector);\n    allMatrices.push(output);\n    return Object.seal({\n      isInitialized: true,\n      hiddenLayers,\n      output,\n      equations: [],\n      allMatrices,\n      equationConnections: [],\n      outputConnector,\n    });\n  }\n\n  backpropagate(): void {\n    for (let i = this.model.equations.length - 1; i > -1; i--) {\n      this.model.equations[i].backpropagate();\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  run<InputType extends InputOutputValue | InputOutputValue[]>(\n    rawInput: InputType\n  ): ValuesOf<InputType> {\n    const shape = lookup.dataShape(rawInput).join(',');\n    switch (shape) {\n      case 'array,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.runArray(rawInput as Float32Array);\n      case 'array,array,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.runArrayOfArray(rawInput as Float32Array[]);\n      case 'object,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.runObject(rawInput as INumberHash); // Backward compatibility, will be result of `unknown` and need casting.  Better to just use net.runObject() directly\n      case 'array,object,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.runArrayOfObject(rawInput as INumberHash[]);\n      default:\n        throw new Error(`Unrecognized data shape ${shape}`);\n    }\n  }\n\n  forecast<InputType extends InputOutputValue | InputOutputValue[]>(\n    rawInput: InputType,\n    count = 1\n  ): InputType {\n    const shape = lookup.dataShape(rawInput).join(',');\n    switch (shape) {\n      case 'array,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.forecastArray(rawInput as Float32Array, count);\n      case 'array,array,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.forecastArrayOfArray(rawInput as Float32Array[], count);\n      case 'object,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.runObject(rawInput as INumberHash);\n      case 'array,object,number':\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        return this.forecastArrayOfObject(rawInput as INumberHash[], count);\n      default:\n        throw new Error(`Unrecognized data shape ${shape}`);\n    }\n  }\n\n  forecastArray(input: Float32Array, count = 1): Float32Array {\n    this.checkRunnable();\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    if (this.options.inputSize === 1) {\n      for (let i = 0; i < input.length; i++) {\n        lastOutput = equations[equationIndex++].runInput(\n          Float32Array.from([input[i]])\n        );\n      }\n    } else {\n      for (let i = 0; i < input.length; i++) {\n        lastOutput = equations[equationIndex++].runInput(Float32Array.from([]));\n      }\n    }\n    if (!lastOutput) {\n      throw new Error('lastOutput not set');\n    }\n    const result = [lastOutput.weights[0]];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights[0]);\n    }\n    this.end();\n    return Float32Array.from(result);\n  }\n\n  forecastArrayOfArray(input: Float32Array[], count = 1): Float32Array[] {\n    this.checkRunnable();\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput(input[i]);\n    }\n    if (!lastOutput) {\n      throw new Error('lastOutput not set');\n    }\n    const result = [Float32Array.from(lastOutput.weights)];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(Float32Array.from(lastOutput.weights.slice(0)));\n    }\n    this.end();\n    return result;\n  }\n\n  forecastArrayOfObject(input: INumberHash[], count = 1): INumberHash[] {\n    if (!this.inputLookup) {\n      throw new Error('this.inputLookup not set');\n    }\n    if (!this.outputLookup) {\n      throw new Error('this.outputLookup not set');\n    }\n    const formattedData = input.map((value) =>\n      lookup.toArray(\n        this.inputLookup as INumberHash,\n        value,\n        this.inputLookupLength\n      )\n    );\n    return this.forecastArrayOfArray(formattedData, count).map((value) =>\n      lookup.toObject(this.outputLookup as INumberHash, value)\n    );\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  train(\n    data: FormattableData[],\n    trainOpts: Partial<IRNNTrainingOptions> = {}\n  ): IRNNStatus {\n    this.trainOpts = trainOpts = {\n      ...rnnTrainDefaults,\n      ...trainOpts,\n    };\n    // Don't destructure here because this.setSize() can reset this.options.\n    if (this.options.inputSize === 1 && this.options.outputSize === 1) {\n      this.setSize(data);\n    }\n    this.verifySize();\n\n    const formattedData = this.formatData(data);\n    let error = Infinity;\n    let i;\n\n    this.verifyIsInitialized();\n    const {\n      iterations,\n      errorThresh,\n      logPeriod,\n      callback,\n      callbackPeriod,\n    } = this.trainOpts;\n    const log = trainOpts.log === true ? console.log : trainOpts.log;\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < formattedData.length; j++) {\n        const err = this.trainPattern(formattedData[j], true);\n        sum += err;\n      }\n      error = sum / formattedData.length;\n\n      if (isNaN(error))\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  trainArrayOfArray(input: Float32Array[]): number {\n    if (input.length < 2) {\n      throw new Error('input must be an array of 2 or more');\n    }\n    const { equations } = this.model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget(input[i], input[i + 1]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  trainPattern(input: Float32Array[], logErrorRate?: boolean): number {\n    const error = this.trainArrayOfArray(input);\n    this.backpropagate();\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return error;\n    }\n    return 0;\n  }\n\n  setSize(data: FormattableData[]): void {\n    let size = 0;\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'array,object,number':\n      case 'array,datum,array,number':\n      case 'array,datum,object,number':\n        size = 1;\n        // probably 1\n        break;\n      case 'array,array,array,number':\n        size = (data as number[][][])[0][0].length;\n        break;\n      case 'array,array,object,number':\n        // inputs and outputs should match\n        size = Object.keys(lookup.toTable2D(data as INumberHash[][])).length;\n        break;\n      case 'array,datum,array,array,number':\n        size = ((data as unknown) as Array<{\n          [key: string]: number[][];\n        }>)[0].input[0].length;\n        break;\n      case 'array,datum,array,object,number':\n        size = Object.keys(\n          lookup.toInputTable2D(\n            data as Array<{ input: Array<{ [key: string]: number }> }>\n          )\n        ).length;\n        break;\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n    this.options = Object.seal({\n      ...this.options,\n      inputSize: size,\n      outputSize: size,\n    });\n  }\n\n  verifySize(): void {\n    if (this.options.inputSize || this.options.outputSize) {\n      if (this.options.inputSize !== this.options.outputSize) {\n        throw new Error('manually set inputSize and outputSize mismatch');\n      }\n    }\n  }\n\n  runArray(input: Float32Array): number {\n    this.checkRunnable();\n    const { equations } = this.model;\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[i].runInput(new Float32Array([input[i]]));\n    }\n    this.end();\n    return (lastOutput as Matrix).weights[0];\n  }\n\n  runArrayOfArray(input: Float32Array[]): Float32Array {\n    this.checkRunnable();\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      const outputMatrix = equations[i].runInput(input[i]);\n      lastOutput = outputMatrix.weights;\n    }\n    this.end();\n    return lastOutput ?? Float32Array.from([]);\n  }\n\n  runObject(input: INumberHash): INumberHash {\n    if (!this.inputLookup) {\n      throw new Error('this.inputLookup not set');\n    }\n    if (!this.outputLookup) {\n      throw new Error('this.outputLookup not set');\n    }\n    if (!this.outputLookupLength) {\n      throw new Error('this.outputLookupLength not set');\n    }\n    if (this.inputLookup === this.outputLookup) {\n      const inputArray = lookup.toArrayShort(this.inputLookup, input);\n      return lookup.toObjectPartial(\n        this.outputLookup,\n        this.forecastArray(\n          inputArray,\n          this.outputLookupLength - inputArray.length\n        ),\n        inputArray.length\n      );\n    }\n    return lookup.toObject(\n      this.outputLookup,\n      this.forecastArray(\n        lookup.toArray(this.inputLookup, input, this.inputLookupLength),\n        this.outputLookupLength\n      )\n    );\n  }\n\n  runArrayOfObject(input: INumberHash[]): INumberHash {\n    if (this.inputLookup === null) {\n      throw new Error('this.inputLookup not set');\n    }\n    if (this.outputLookup === null) {\n      throw new Error('this.outputLookup not set');\n    }\n    const formattedInput = input.map((value) =>\n      lookup.toArray(\n        this.inputLookup as INumberHash,\n        value,\n        this.inputLookupLength\n      )\n    );\n    return this.forecastArrayOfArray(formattedInput, 1).map((value) =>\n      lookup.toObject(this.outputLookup as INumberHash, value)\n    )[0];\n  }\n\n  runArrayOfObjectOfArray(input: INumberHash[]): INumberHash {\n    if (!this.inputLookup) {\n      throw new Error('this.inputLookup not set');\n    }\n    if (!this.outputLookup) {\n      throw new Error('this.outputLookup not set');\n    }\n    return lookup.toObject(\n      this.outputLookup,\n      this.runArrayOfArray(\n        lookup.toArrays(this.inputLookup, input, this.inputLookupLength)\n      )\n    );\n  }\n\n  end(): void {\n    this.model.equations[this.model.equations.length - 1].runInput(\n      new Float32Array(this.options.outputSize)\n    );\n  }\n\n  requireInputOutputOfOne(): void {\n    if (this.options.inputSize !== 1) {\n      throw new Error('inputSize must be 1 for this data size');\n    }\n    if (this.options.outputSize !== 1) {\n      throw new Error('outputSize must be 1 for this data size');\n    }\n  }\n\n  // Handles data shape of 'array,number'\n  formatArray(data: number[]): Float32Array[][] {\n    const result = [];\n    this.requireInputOutputOfOne();\n    for (let i = 0; i < data.length; i++) {\n      result.push(Float32Array.from([data[i]]));\n    }\n    return [result];\n  }\n\n  // Handles data shape of 'array,array,number'\n  formatArrayOfArray(data: number[][]): Float32Array[][] {\n    const result = [];\n    const { inputSize, outputSize } = this.options;\n    if (inputSize === 1 && outputSize === 1) {\n      for (let i = 0; i < data.length; i++) {\n        result.push(arrayToFloat32Arrays(data[i]));\n      }\n      return result;\n    }\n    if (inputSize !== data[0].length) {\n      throw new Error('inputSize must match data input size');\n    }\n    if (outputSize !== data[0].length) {\n      throw new Error('outputSize must match data output size');\n    }\n    for (let i = 0; i < data.length; i++) {\n      result.push(Float32Array.from(data[i]));\n    }\n    return [result];\n  }\n\n  // Handles data shape of 'array,object,number'\n  formatArrayOfObject(data: INumberHash[]): Float32Array[][] {\n    this.requireInputOutputOfOne();\n    if (!this.inputLookup) {\n      const lookupTable = new LookupTable(data);\n      this.inputLookup = this.outputLookup = lookupTable.table;\n      this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n    }\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      result.push(objectToFloat32Arrays(data[i]));\n    }\n    return result;\n  }\n\n  // Handles data shape of 'array,object,number' when this.options.inputSize > 1\n  formatArrayOfObjectMulti(data: INumberHash[]): Float32Array[][] {\n    if (!this.inputLookup) {\n      const lookupTable = new LookupTable(data);\n      this.inputLookup = this.outputLookup = lookupTable.table;\n      this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n    }\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      result.push([\n        objectToFloat32Array(data[i], this.inputLookup, this.inputLookupLength),\n      ]);\n    }\n    return result;\n  }\n\n  // Handles data shape of 'array,datum,array,number'\n  formatArrayOfDatumOfArray(data: ITrainingDatum[]): Float32Array[][] {\n    const result = [];\n    this.requireInputOutputOfOne();\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      result.push(\n        inputOutputArrayToFloat32Arrays(\n          datum.input as number[],\n          datum.output as number[]\n        )\n      );\n    }\n    return result;\n  }\n\n  // Handles data shape of 'array,datum,object,number'\n  formatArrayOfDatumOfObject(data: ITrainingDatum[]): Float32Array[][] {\n    this.requireInputOutputOfOne();\n    if (!this.inputLookup) {\n      const inputLookup = new LookupTable(data, 'input');\n      this.inputLookup = inputLookup.table;\n      this.inputLookupLength = inputLookup.length;\n    }\n    if (!this.outputLookup) {\n      const outputLookup = new LookupTable(data, 'output');\n      this.outputLookup = outputLookup.table;\n      this.outputLookupLength = outputLookup.length;\n    }\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      result.push(\n        inputOutputObjectToFloat32Arrays(\n          datum.input as INumberHash,\n          datum.output as INumberHash\n        )\n      );\n    }\n    return result;\n  }\n\n  // Handles data shape of 'array,array,array,number'\n  formatArrayOfArrayOfArray(data: number[][][]): Float32Array[][] {\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      result.push(arraysToFloat32Arrays(data[i]));\n    }\n    return result;\n  }\n\n  // Handles data shape of 'array,array,object,number'\n  formatArrayOfArrayOfObject(data: INumberHash[][]): Float32Array[][] {\n    if (!this.inputLookup) {\n      const lookupTable = new LookupTable(data);\n      this.inputLookup = this.outputLookup = lookupTable.table;\n      this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n    }\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      const array = [];\n      for (let j = 0; j < data[i].length; j++) {\n        array.push(\n          objectToFloat32Array(\n            data[i][j],\n            this.inputLookup,\n            this.inputLookupLength\n          )\n        );\n      }\n      result.push(array);\n    }\n    return result;\n  }\n\n  // Handles data shape of 'array,datum,array,array,number'\n  formatArrayOfDatumOfArrayOfArray(data: ITrainingDatum[]): Float32Array[][] {\n    const result = [];\n    const { inputSize, outputSize } = this.options;\n    if (inputSize !== (data[0].input as INumberArray[][])[0].length) {\n      throw new Error('inputSize must match data input size');\n    }\n    if (outputSize !== (data[0].output as INumberArray[][])[0].length) {\n      throw new Error('outputSize must match data output size');\n    }\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      result.push(\n        inputOutputArraysToFloat32Arrays(\n          datum.input as number[][],\n          datum.output as number[][]\n        )\n      );\n    }\n    return result;\n  }\n\n  // 'Handles data shape of array,datum,array,object,number'\n  formatArrayOfDatumOfArrayOfObject(\n    data: Array<{\n      input: Array<Record<string, number>>;\n      output: Array<Record<string, number>>;\n    }>\n  ): Float32Array[][] {\n    if (!this.inputLookup) {\n      const inputLookup = new ArrayLookupTable(data, 'input');\n      this.inputLookup = inputLookup.table;\n      this.inputLookupLength = inputLookup.length;\n    }\n    if (!this.outputLookup) {\n      const outputLookup = new ArrayLookupTable(data, 'output');\n      this.outputLookup = outputLookup.table;\n      this.outputLookupLength = outputLookup.length;\n    }\n    if (!this.outputLookupLength) {\n      throw new Error('this.outputLookupLength not set to usable number');\n    }\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      result.push(\n        inputOutputObjectsToFloat32Arrays(\n          datum.input,\n          datum.output,\n          this.inputLookup,\n          this.outputLookup,\n          this.inputLookupLength,\n          this.outputLookupLength\n        )\n      );\n    }\n    return result;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  formatData(data: FormattableData[]): Float32Array[][] {\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,number':\n        return this.formatArray(data as number[]);\n      case 'array,array,number':\n        return this.formatArrayOfArray(data as number[][]);\n      case 'array,object,number':\n        if (this.options.inputSize === 1) {\n          return this.formatArrayOfObject(data as INumberHash[]);\n        } else {\n          return this.formatArrayOfObjectMulti(data as INumberHash[]);\n        }\n      case 'array,datum,array,number':\n        return this.formatArrayOfDatumOfArray(data as ITrainingDatum[]);\n      case 'array,datum,object,number':\n        return this.formatArrayOfDatumOfObject(data as ITrainingDatum[]);\n      case 'array,array,array,number':\n        return this.formatArrayOfArrayOfArray(data as number[][][]);\n      case 'array,array,object,number':\n        return this.formatArrayOfArrayOfObject(data as INumberHash[][]);\n      case 'array,datum,array,array,number':\n        return this.formatArrayOfDatumOfArrayOfArray(data as ITrainingDatum[]);\n      case 'array,datum,array,object,number':\n        return this.formatArrayOfDatumOfArrayOfObject(\n          data as Array<{\n            input: Array<Record<string, number>>;\n            output: Array<Record<string, number>>;\n          }>\n        );\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  test(data: FormattableData[]): ITestResults {\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n    const formattedData = this.formatData(data);\n    for (let i = 0; i < formattedData.length; i++) {\n      const input = formattedData[i];\n      const output = this.run(input.splice(0, input.length - 1));\n      const target = input[input.length - 1];\n      let errors = 0;\n      let errorCount = 0;\n      for (let j = 0; j < output.length; j++) {\n        errorCount++;\n        const error = target[j] - output[j];\n        // mse\n        errors += error * error;\n      }\n      errorSum += errors / errorCount;\n      const errorsAbs = Math.abs(errors);\n      if (errorsAbs > this.trainOpts.errorThresh) {\n        const misclass = (data as number[][][])[i];\n        misclasses.push({\n          value: misclass,\n          actual: output,\n        });\n      }\n    }\n    return {\n      error: errorSum / formattedData.length,\n      misclasses,\n      total: formattedData.length,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  addFormat(value: FormattableData): void {\n    const dataShape = lookup.dataShape(value).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'datum,array,array,number':\n      case 'array,number':\n      case 'datum,array,number':\n        return;\n      case 'datum,object,number': {\n        this.inputLookup = lookup.addKeys(\n          (value as ITrainingDatum).input as INumberHash,\n          this.inputLookup ?? {}\n        );\n        if (this.inputLookup) {\n          this.inputLookupLength = Object.keys(this.inputLookup).length;\n        }\n        this.outputLookup = lookup.addKeys(\n          (value as ITrainingDatum).output as INumberHash,\n          this.outputLookup ?? {}\n        );\n        if (this.outputLookup) {\n          this.outputLookupLength = Object.keys(this.outputLookup).length;\n        }\n        break;\n      }\n      case 'object,number': {\n        this.inputLookup = this.outputLookup = lookup.addKeys(\n          value as INumberHash,\n          this.inputLookup ?? {}\n        );\n        if (this.inputLookup) {\n          this.inputLookupLength = this.outputLookupLength = Object.keys(\n            this.inputLookup\n          ).length;\n        }\n        break;\n      }\n      case 'array,object,number': {\n        const typedValue = value as INumberHash[];\n        for (let i = 0; i < typedValue.length; i++) {\n          this.inputLookup = this.outputLookup = lookup.addKeys(\n            typedValue[i],\n            this.inputLookup ?? {}\n          );\n          if (this.inputLookup) {\n            this.inputLookupLength = this.outputLookupLength = Object.keys(\n              this.inputLookup\n            ).length;\n          }\n        }\n        break;\n      }\n      case 'datum,array,object,number': {\n        const typedValue = value as ITrainingDatum;\n        const typedInput = typedValue.input as INumberHash[];\n        for (let i = 0; i < typedInput.length; i++) {\n          this.inputLookup = lookup.addKeys(\n            typedInput[i],\n            this.inputLookup ?? {}\n          );\n          if (this.inputLookup) {\n            this.inputLookupLength = Object.keys(this.inputLookup).length;\n          }\n        }\n        const typedOutput = typedValue.output as INumberHash[];\n        for (let i = 0; i < typedOutput.length; i++) {\n          this.outputLookup = lookup.addKeys(\n            typedOutput[i],\n            this.outputLookup ?? {}\n          );\n          if (this.outputLookup) {\n            this.outputLookupLength = Object.keys(this.outputLookup).length;\n          }\n        }\n        break;\n      }\n\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  toJSON(): IRNNTimeStepJSON {\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = { ...this.options, ...rnnDefaults };\n\n    return {\n      type: this.constructor.name,\n      options,\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers: { [index: string]: IMatrixJSON } = {};\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: model.outputConnector.toJSON(),\n      output: model.output.toJSON(),\n      inputLookup: this.inputLookup,\n      inputLookupLength: this.inputLookupLength,\n      outputLookup: this.outputLookup,\n      outputLookupLength: this.outputLookupLength,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  fromJSON(json: IRNNTimeStepJSON): this {\n    const { options } = json;\n    const allMatrices = [];\n    const hiddenLayers: IRNNHiddenLayerModel[] = [];\n\n    // backward compatibility for hiddenSizes\n    json.hiddenLayers.forEach((hiddenLayer) => {\n      const layers: { [index: string]: Matrix } = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers as IRNNHiddenLayerModel);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    this.options = { ...defaults(), ...options };\n    this.inputLookup = json.inputLookup;\n    this.inputLookupLength = json.inputLookupLength;\n    this.outputLookup = json.outputLookup;\n    this.outputLookupLength = json.outputLookupLength;\n\n    this.model = Object.seal({\n      isInitialized: true,\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    });\n    this.initialLayerInputs = options.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n    return this;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  toFunction(cb?: (src: string) => string): RNNTimeStepFunction {\n    const {\n      model,\n      inputLookup,\n      inputLookupLength,\n      outputLookup,\n      outputLookupLength,\n    } = this;\n    const { inputSize } = this.options;\n    const { equations } = model;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function previousConnectionIndex(m: Matrix) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixOrigin(m: Matrix, stateIndex: number): string {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          switch (m) {\n            case state.left:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            // eslint-disable-next-line no-fallthrough\n            case state.right:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            // eslint-disable-next-line no-fallthrough\n            case state.product:\n              return `new Matrix(${m.rows}, ${m.columns})`;\n            default:\n              throw Error('unknown state');\n          }\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n      return '';\n    }\n\n    function matrixToString(m: Matrix, stateIndex: number): string {\n      if (!m || !m.rows || !m.columns) return 'null';\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function formatInputData() {\n      if (!inputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupInput(input) {\n            var table = ${JSON.stringify(inputLookup)};\n            var result = [];\n            for (var p in table) {\n              if (!input.hasOwnProperty(p)) break;\n              result.push(Float32Array.from([input[p]]));\n            }\n            return result;\n          }`;\n        }\n        return `function lookupInput(input) {\n          var table = ${JSON.stringify(inputLookup)};\n          var result = [];\n          for (var p in table) {\n            result.push(Float32Array.from([input[p]]));\n          }\n          return result;\n        }`;\n      }\n      return `function lookupInput(rawInputs) {\n        var table = ${JSON.stringify(inputLookup)};\n        var result = [];\n        for (var i = 0; i < rawInputs.length; i++) {\n          var rawInput = rawInputs[i];\n          var input = new Float32Array(${inputLookupLength});\n          for (var p in table) {\n            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;\n          }\n          result.push(input);\n        }\n        return result;\n      }`;\n    }\n\n    function formatOutputData() {\n      if (!outputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupOutputPartial(output, input) {\n            var table = ${JSON.stringify(outputLookup)};\n            var offset = input.length;\n            var result = {};\n            var i = 0;\n            for (var p in table) {\n              if (i++ < offset) continue;\n              result[p] = output[table[p] - offset][0];\n            }\n            return result;\n          }`;\n        }\n        return `function lookupOutput(output) {\n          var table = ${JSON.stringify(outputLookup)};\n          var result = {};\n          for (var p in table) {\n            result[p] = output[table[p]][0];\n          }\n          return result;\n        }`;\n      }\n      return `function lookupOutput(output) {\n        var table = ${JSON.stringify(outputLookup)};\n        var result = {};\n        for (var p in table) {\n          result[p] = output[table[p]];\n        }\n        return result;\n      }`;\n    }\n\n    function toInner(fnString: string) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      // crude, but should be sufficient for now\n      // function() { body }\n      const fnParts = fnString.toString().split('{');\n      fnParts.shift();\n      // body }\n      const fnBodyString = fnParts.join('{');\n      const fnBodyParts = fnBodyString.split('}');\n      fnBodyParts.pop();\n      // body\n      return fnBodyParts\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName: string) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames: { [methodName: string]: boolean } = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${state.left ? matrixToString(state.left, i) : 'undefined'},\n      right: ${state.right ? matrixToString(state.right, i) : 'undefined'},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        if (state.name === 'input') {\n          innerFunctionsSwitch.push(`case '${fnName}':`);\n          innerFunctionsSwitch.push(\n            inputLookup && inputSize === 1\n              ? 'product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;'\n              : inputSize === 1\n              ? 'product.weights = [input[_i]];'\n              : 'product.weights = input[_i];'\n          );\n          innerFunctionsSwitch.push('break;');\n        } else {\n          innerFunctionsSwitch.push(\n            `        case '${fnName}':${\n              fnName !== 'forwardFn'\n                ? ` //compiled from ${fileName(fnName)}`\n                : ''\n            }\n          ${toInner(state.forwardFn.toString())}\n          break;`\n          );\n        }\n      }\n    }\n\n    const forceForecast = inputSize === 1 && this.outputLookup;\n    const src = `\n  var input = ${this.inputLookup ? 'lookupInput(rawInput)' : 'rawInput'};\n  var json = ${jsonString};\n  var output = [];\n  var states = [];\n  var prevStates;\n  var state;\n  var max = ${\n    forceForecast\n      ? inputLookup === outputLookup\n        ? inputLookupLength\n        : `input.length + ${outputLookupLength - 1}`\n      : 'input.length'\n  };\n  for (var _i = 0; _i < max; _i++) {\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n    ${\n      inputSize === 1 && inputLookup\n        ? 'if (_i >= input.length - 1) { output.push(state.product.weights); }'\n        : 'output = state.product.weights;'\n    }\n  }\n  ${\n    outputLookup\n      ? outputLookup === inputLookup\n        ? 'return lookupOutputPartial(output, input)'\n        : 'return lookupOutput(output)'\n      : inputSize === 1\n      ? 'return output[0]'\n      : 'return output'\n  };\n  ${formatInputData()}\n  ${formatOutputData()}\n\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = new Float32Array(rows * columns);\n  }\n  ${softmax.toString().replace('_2.default', 'Matrix')}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    // eslint-disable-next-line\n    return new Function('rawInput', cb ? cb(src) : src) as RNNTimeStepFunction;\n  }\n}\n\nexport type RNNTimeStepFunction = <\n  InputType extends InputOutputValue | InputOutputValue[]\n>(\n  rawInput?: InputType,\n  isSampleI?: boolean,\n  temperature?: number\n) => ValuesOf<InputType>;\n\nexport const trainDefaults = { ...rnnTrainDefaults };\n","import { getGRUHiddenLayer, getGRUEquation, IGRUHiddenLayer } from './gru';\nimport { Matrix } from './matrix';\nimport { Equation } from './matrix/equation';\nimport { RNNTimeStep } from './rnn-time-step';\nimport { IRNNHiddenLayer } from './rnn';\n\nexport class GRUTimeStep extends RNNTimeStep {\n  getHiddenLayer(hiddenSize: number, prevSize: number): IRNNHiddenLayer {\n    return getGRUHiddenLayer(hiddenSize, prevSize);\n  }\n\n  getEquation(\n    equation: Equation,\n    inputMatrix: Matrix,\n    previousResult: Matrix,\n    hiddenLayer: IRNNHiddenLayer\n  ): Matrix {\n    return getGRUEquation(\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer as IGRUHiddenLayer\n    );\n  }\n}\n","import { Matrix } from './matrix';\nimport { Equation } from './matrix/equation';\nimport { RandomMatrix } from './matrix/random-matrix';\nimport { IRNNHiddenLayer, RNN } from './rnn';\n\nexport interface ILSTMHiddenLayer extends IRNNHiddenLayer {\n  inputMatrix: Matrix;\n  inputHidden: Matrix;\n  inputBias: Matrix;\n  forgetMatrix: Matrix;\n  forgetHidden: Matrix;\n  forgetBias: Matrix;\n  outputMatrix: Matrix;\n  outputHidden: Matrix;\n  outputBias: Matrix;\n  cellActivationMatrix: Matrix;\n  cellActivationHidden: Matrix;\n  cellActivationBias: Matrix;\n}\n\nexport class LSTM extends RNN {\n  getHiddenLayer(hiddenSize: number, prevSize: number): IRNNHiddenLayer {\n    return getHiddenLSTMLayer(hiddenSize, prevSize);\n  }\n\n  getEquation(\n    equation: Equation,\n    inputMatrix: Matrix,\n    previousResult: Matrix,\n    hiddenLayer: IRNNHiddenLayer\n  ): Matrix {\n    return getLSTMEquation(\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer as ILSTMHiddenLayer\n    );\n  }\n}\n\nexport function getHiddenLSTMLayer(\n  hiddenSize: number,\n  prevSize: number\n): ILSTMHiddenLayer {\n  return {\n    // gates parameters\n    // wix\n    inputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wih\n    inputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bi\n    inputBias: new Matrix(hiddenSize, 1),\n    // wfx\n    forgetMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wfh\n    forgetHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bf\n    forgetBias: new Matrix(hiddenSize, 1),\n    // wox\n    outputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // woh\n    outputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bo\n    outputBias: new Matrix(hiddenSize, 1),\n    // cell write params\n    // wcx\n    cellActivationMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wch\n    cellActivationHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n    cellActivationBias: new Matrix(hiddenSize, 1),\n  };\n}\n\nexport function getLSTMEquation(\n  equation: Equation,\n  inputMatrix: Matrix,\n  previousResult: Matrix,\n  hiddenLayer: ILSTMHiddenLayer\n): Matrix {\n  if (\n    !hiddenLayer.inputMatrix ||\n    !hiddenLayer.inputHidden ||\n    !hiddenLayer.inputBias ||\n    !hiddenLayer.forgetMatrix ||\n    !hiddenLayer.forgetHidden ||\n    !hiddenLayer.forgetBias ||\n    !hiddenLayer.outputMatrix ||\n    !hiddenLayer.outputHidden ||\n    !hiddenLayer.outputBias ||\n    !hiddenLayer.cellActivationMatrix ||\n    !hiddenLayer.cellActivationHidden ||\n    !hiddenLayer.cellActivationBias\n  ) {\n    throw new Error('hiddenLayer does not have expected properties');\n  }\n\n  const sigmoid = equation.sigmoid.bind(equation);\n  const add = equation.add.bind(equation);\n  const multiply = equation.multiply.bind(equation);\n  const multiplyElement = equation.multiplyElement.bind(equation);\n  const tanh = equation.tanh.bind(equation);\n\n  const inputGate = sigmoid(\n    add(\n      add(\n        multiply(hiddenLayer.inputMatrix, inputMatrix),\n        multiply(hiddenLayer.inputHidden, previousResult)\n      ),\n      hiddenLayer.inputBias\n    )\n  );\n\n  const forgetGate = sigmoid(\n    add(\n      add(\n        multiply(hiddenLayer.forgetMatrix, inputMatrix),\n        multiply(hiddenLayer.forgetHidden, previousResult)\n      ),\n      hiddenLayer.forgetBias\n    )\n  );\n\n  // output gate\n  const outputGate = sigmoid(\n    add(\n      add(\n        multiply(hiddenLayer.outputMatrix, inputMatrix),\n        multiply(hiddenLayer.outputHidden, previousResult)\n      ),\n      hiddenLayer.outputBias\n    )\n  );\n\n  // write operation on cells\n  const cellWrite = tanh(\n    add(\n      add(\n        multiply(hiddenLayer.cellActivationMatrix, inputMatrix),\n        multiply(hiddenLayer.cellActivationHidden, previousResult)\n      ),\n      hiddenLayer.cellActivationBias\n    )\n  );\n\n  // compute new cell activation\n  const retainCell = multiplyElement(forgetGate, previousResult); // what do we keep from cell\n  const writeCell = multiplyElement(inputGate, cellWrite); // what do we write to cell\n  const cell = add(retainCell, writeCell); // new cell contents\n\n  // compute hidden state as gated, saturated cell activations\n  return multiplyElement(outputGate, tanh(cell));\n}\n","import { getHiddenLSTMLayer, getLSTMEquation, ILSTMHiddenLayer } from './lstm';\nimport { Matrix } from './matrix';\nimport { Equation } from './matrix/equation';\nimport { RNNTimeStep } from './rnn-time-step';\nimport { IRNNHiddenLayer } from './rnn';\n\nexport class LSTMTimeStep extends RNNTimeStep {\n  getHiddenLayer(hiddenSize: number, prevSize: number): IRNNHiddenLayer {\n    return getHiddenLSTMLayer(hiddenSize, prevSize);\n  }\n\n  getEquation(\n    equation: Equation,\n    inputMatrix: Matrix,\n    previousResult: Matrix,\n    hiddenLayer: IRNNHiddenLayer\n  ): Matrix {\n    return getLSTMEquation(\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer as ILSTMHiddenLayer\n    );\n  }\n}\n","/**\n *\n * @param start\n * @param end\n * @returns {Array}\n */\nexport function range(start: number, end: number): number[] {\n  const result: number[] = [];\n  for (; start < end; start++) {\n    result.push(start);\n  }\n  return result;\n}\n","export function toArray(\n  values: number[] | Float32Array | { [key: string]: number }\n): Float32Array {\n  if (Array.isArray(values)) {\n    return Float32Array.from(values);\n  }\n\n  return Float32Array.from(Object.values(values));\n}\n","import { FeedForward, IFeedForwardJSON } from '../feed-forward';\nimport { recurrentZeros } from '../layer/recurrent-zeros';\nimport { Recurrent } from '../recurrent';\nimport { IRNNJSON, RNN } from '../recurrent/rnn';\nimport {\n  INeuralNetworkData,\n  INeuralNetworkJSON,\n  NeuralNetwork,\n} from '../neural-network';\nimport { GRU } from '../recurrent/gru';\nimport { LSTM } from '../recurrent/lstm';\nimport { NeuralNetworkGPU } from '../neural-network-gpu';\nimport { IRNNTimeStepJSON, RNNTimeStep } from '../recurrent/rnn-time-step';\nimport { LSTMTimeStep } from '../recurrent/lstm-time-step';\nimport { GRUTimeStep } from '../recurrent/gru-time-step';\nimport { ILayer } from '../layer';\n\ninterface LineDrawInfo {\n  className: string;\n  color: string;\n  width: number;\n}\n\ninterface NodeDrawInfo {\n  className: string;\n  color: string;\n}\n\ninterface BaseDrawArgs {\n  pixelX: number;\n  pixelY: number;\n  radius: number;\n  row: number;\n  column: number;\n}\n\ninterface InputDrawArgs extends BaseDrawArgs {\n  line: LineDrawInfo;\n  inputs: NodeDrawInfo & { labels?: string[] | null };\n  fontSize: string;\n  fontClassName: string;\n}\n\nexport function drawInput({\n  pixelX,\n  pixelY,\n  radius,\n  inputs,\n  row,\n  line,\n  fontSize,\n  fontClassName,\n}: InputDrawArgs): string {\n  let svg = `<rect\n              x=\"${pixelX / 2 - radius}\"\n              y=\"${pixelY / 2 + row * pixelY - radius}\"\n              width=\"${2 * radius}\"\n              height=\"${2 * radius}\"\n              stroke=\"black\"\n              stroke-width=\"1\"\n              fill=\"${inputs.color}\"\n              class=\"${inputs.className}\" />\n            <line\n              x1=\"${pixelX / 4}\"\n              y1=\"${pixelY / 2 + row * pixelY}\"\n              x2=\"${pixelX / 2 - radius}\"\n              y2=\"${pixelY / 2 + row * pixelY}\"\n              style=\"stroke:${line.color};stroke-width:${line.width}\"\n              class=\"${line.className}\" />`;\n  if (inputs.labels) {\n    svg += `<text\n              x=\"${pixelX / 8}\"\n              y=\"${pixelY / 2 + row * pixelY - 5}\"\n              fill=\"black\"\n              font-size=\"${fontSize}\"\n              class=\"${fontClassName}\">${inputs.labels[row]}</text>`;\n  }\n  return svg;\n}\n\nexport interface NeuronDrawArgs extends BaseDrawArgs {\n  column: number;\n  hidden: NodeDrawInfo;\n}\n\nexport function drawNeuron({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  hidden,\n}: NeuronDrawArgs): string {\n  return `<circle\n            cx=\"${pixelX / 2 + column * pixelX}\"\n            cy=\"${pixelY / 2 + row * pixelY}\"\n            r=\"${radius}\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${hidden.color}\"\n            class=\"${hidden.className}\" />`;\n}\n\nexport interface OutputDrawArgs extends BaseDrawArgs {\n  column: number;\n  line: LineDrawInfo;\n  outputs: NodeDrawInfo;\n}\n\nexport function drawOutput({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  line,\n  outputs,\n  radius,\n}: OutputDrawArgs): string {\n  return `<circle\n            cx=\"${pixelX / 2 + column * pixelX}\"\n            cy=\"${pixelY / 2 + row * pixelY}\"\n            r=\"${radius}\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${outputs.color}\"\n            class=\"${outputs.className}\" />\n          <line\n            x1=\"${pixelX / 2 + column * pixelX + radius}\"\n            y1=\"${pixelY / 2 + row * pixelY}\"\n            x2=\"${pixelX / 2 + column * pixelX + pixelX / 4}\"\n            y2=\"${pixelY / 2 + row * pixelY}\"\n            style=\"stroke:${line.color};stroke-width:${line.width}\"\n            class=\"${line.className}\" />`;\n}\n\nexport interface BackwardConnectionsDrawArgs extends BaseDrawArgs {\n  column: number;\n  lineY: number;\n  previousConnectionIndex: number;\n  line: LineDrawInfo;\n}\n\nexport function drawBackwardConnections({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  lineY,\n  line,\n  previousConnectionIndex,\n}: BackwardConnectionsDrawArgs): string {\n  return `<line\n            x1=\"${pixelX / 2 + (column - 1) * pixelX + radius}\"\n            y1=\"${lineY / 2 + previousConnectionIndex * lineY}\"\n            x2=\"${pixelX / 2 + column * pixelX - radius}\"\n            y2=\"${pixelY / 2 + row * pixelY}\"\n            style=\"stroke:${line.color};stroke-width:${line.width}\"\n            class=\"${line.className}\" />`;\n}\n\nexport interface NeuralNetworkDrawOptions {\n  sizes: number[];\n  height: number;\n  width: number;\n  radius: number;\n  line: LineDrawInfo;\n  inputs: NodeDrawInfo & { labels?: string[] | null };\n  hidden: NodeDrawInfo;\n  outputs: NodeDrawInfo;\n  fontSize: string;\n  fontClassName: string;\n}\n\nexport function neuralNetworkToInnerSVG(\n  options: NeuralNetworkDrawOptions\n): string {\n  const { sizes, height, width } = options;\n  let svg = '';\n  const pixelX = width / sizes.length;\n  for (let column = 0; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      if (column === 0) {\n        svg += drawInput({ pixelX, pixelY, row, column, ...options });\n      } else {\n        if (column === sizes.length - 1) {\n          svg += drawOutput({ pixelX, pixelY, row, column, ...options });\n        } else {\n          svg += drawNeuron({ pixelX, pixelY, row, column, ...options });\n        }\n        const previousSize = sizes[column - 1];\n        const lineY = height / previousSize;\n        for (\n          let previousConnectionIndex = 0;\n          previousConnectionIndex < previousSize;\n          previousConnectionIndex++\n        ) {\n          svg += drawBackwardConnections({\n            pixelX,\n            pixelY,\n            row,\n            column,\n            lineY,\n            previousConnectionIndex,\n            ...options,\n          });\n        }\n      }\n    }\n  }\n  return svg;\n}\n\nexport interface RecurrentConnectionsDrawArgs extends BaseDrawArgs {\n  column: number;\n  recurrentLine: LineDrawInfo;\n}\n\nexport function drawRecurrentConnections({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  recurrentLine,\n}: RecurrentConnectionsDrawArgs): string {\n  const moveX = pixelX / 2 + column * pixelX + radius + 1;\n  const moveY = pixelY / 2 + row * pixelY;\n  const x = moveX - radius * 2 - 2;\n  const y = moveY;\n  const x1 = x + 100;\n  const y1 = y + 50;\n  const x2 = moveX - 100;\n  const y2 = moveY + 50;\n  return `<path\n              d=\"M ${moveX} ${moveY} C ${x1} ${y1}, ${x2} ${y2}, ${x} ${y}\"\n              stroke=\"${recurrentLine.color}\"\n              stroke-width=\"${recurrentLine.width}\"\n              fill=\"transparent\"\n              stroke-linecap=\"round\"\n              marker-end=\"url(#arrow)\"\n              class=\"${recurrentLine.className}\" />`;\n}\n\nexport interface RecurrentNeuralNetworkDrawOptions\n  extends NeuralNetworkDrawOptions {\n  recurrentLine: LineDrawInfo;\n}\n\nexport function rnnToInnerSVG(\n  options: RecurrentNeuralNetworkDrawOptions\n): string {\n  const { width, height, recurrentLine, sizes, radius } = options;\n  const pixelX = width / sizes.length;\n  let svg = `<defs>\n              <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"8\" refY=\"3\" orient=\"auto\" markerUnits=\"strokeWidth\">\n                <path d=\"M0,0 L0,6 L9,3 z\" fill=\"${recurrentLine.color}\" />\n              </marker>\n            </defs>`;\n  svg += neuralNetworkToInnerSVG(options);\n  for (let column = 1; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      svg += drawRecurrentConnections({\n        pixelX,\n        pixelY,\n        row,\n        column,\n        radius,\n        recurrentLine,\n      });\n    }\n  }\n  return svg;\n}\n\nexport function getFeedForwardLayers(network: FeedForward): ISimpleNet {\n  const { options } = network;\n  if (!options) {\n    throw new Error('options not defined');\n  }\n  if (!options.inputLayer) {\n    throw new Error('options.inputLater not defined');\n  }\n  if (!options.hiddenLayers) {\n    throw new Error('options.hiddenLayers not defined');\n  }\n  if (options.hiddenLayers.length < 1) {\n    throw new Error('options.hiddenLayers is empty');\n  }\n  if (!options.outputLayer) {\n    throw new Error('options.outputLayer not defined');\n  }\n  const inputLayer = options.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(options.hiddenLayers[0](inputLayer, 0));\n  for (let i = 1; i < options.hiddenLayers.length; i++) {\n    hiddenLayers.push(options.hiddenLayers[i](hiddenLayers[i - 1], i));\n  }\n  const outputLayer = options.outputLayer(\n    hiddenLayers[hiddenLayers.length - 1],\n    hiddenLayers.length\n  );\n  return {\n    inputSize: inputLayer.height,\n    hiddenLayers: hiddenLayers.map((hiddenLayer: ILayer) => hiddenLayer.height),\n    outputSize: outputLayer.height,\n  };\n}\n\nexport function getRecurrentLayers(network: Recurrent): ISimpleNet {\n  const hiddenLayers: ILayer[] = [];\n  const { options } = network;\n  if (!options.inputLayer) {\n    throw new Error('inputLayer not defined');\n  }\n  if (!options.outputLayer) {\n    throw new Error('outputLayer not defined');\n  }\n  const inputLayer = options.inputLayer();\n  hiddenLayers.push(options.hiddenLayers[0](inputLayer, recurrentZeros(), 0));\n  for (let i = 1; i < options.hiddenLayers.length; i++) {\n    hiddenLayers.push(\n      options.hiddenLayers[i](hiddenLayers[i - 1], recurrentZeros(), i)\n    );\n  }\n  const outputLayer = options.outputLayer(\n    hiddenLayers[hiddenLayers.length - 1],\n    -1\n  );\n  return {\n    inputSize: inputLayer.height,\n    hiddenLayers: hiddenLayers.map((hiddenLayer: ILayer) => hiddenLayer.height),\n    outputSize: outputLayer.height,\n  };\n}\n\nexport function wrapOuterSVG(\n  svgBody: string,\n  width: number,\n  height: number\n): string {\n  // language=html\n  return `<svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            width=\"${width}\"\n            height=\"${height}\">${svgBody}</svg>`;\n}\n\nexport function getNeuralNetworkJSONSizes(json: INeuralNetworkJSON): number[] {\n  return json.sizes;\n}\n\nexport function getNeuralNetworkSizes<\n  InputType extends INeuralNetworkData,\n  OutputType extends INeuralNetworkData\n>(\n  net:\n    | NeuralNetwork<InputType, OutputType>\n    | NeuralNetworkGPU<InputType, OutputType>\n): number[] {\n  const { options, sizes } = net;\n  const { inputSize, outputSize, hiddenLayers } = options;\n  if (!sizes) {\n    if (typeof inputSize === 'number' && inputSize < 1) {\n      throw new Error('inputSize not set');\n    }\n    if (typeof outputSize === 'number' && outputSize < 1) {\n      throw new Error('outputSize not set');\n    }\n    if (hiddenLayers?.some((v) => v < 1)) {\n      throw new Error('hiddenLayers not set');\n    }\n  }\n  return typeof inputSize === 'number' &&\n    Array.isArray(hiddenLayers) &&\n    typeof outputSize === 'number'\n    ? [inputSize].concat(hiddenLayers).concat([outputSize])\n    : sizes;\n}\n\nexport function getRNNSizes(\n  net: RNN | LSTM | GRU | RNNTimeStep | LSTMTimeStep | GRUTimeStep | IRNNJSON\n): number[] {\n  const { options } = net;\n  const { inputSize, outputSize, hiddenLayers } = options;\n  return [inputSize].concat(hiddenLayers).concat([outputSize]);\n}\n\nexport function defaultOptions(): RecurrentNeuralNetworkDrawOptions {\n  return {\n    line: {\n      width: 0.5,\n      color: 'black',\n      className: 'connection',\n    },\n    recurrentLine: {\n      width: 1,\n      color: 'red',\n      className: 'recurrence',\n    },\n    inputs: {\n      color: 'rgba(0, 128, 0, 0.5)',\n      labels: null,\n      className: 'input',\n    },\n    outputs: {\n      color: 'rgba(100, 149, 237, 0.5)',\n      className: 'output',\n    },\n    hidden: {\n      color: 'rgba(255, 127, 80, 0.5)',\n      className: 'hidden-neuron',\n    },\n    fontSize: '14px',\n    fontClassName: 'label',\n    radius: 8,\n    width: 400,\n    height: 250,\n    sizes: [],\n  };\n}\n\nexport interface ISimpleNet {\n  inputSize: number;\n  hiddenLayers: number[];\n  outputSize: number;\n}\nexport interface ISizes {\n  sizes: number[];\n}\n\nexport function toSVG<\n  T extends\n    | ISimpleNet\n    | ISizes\n    | Recurrent\n    | FeedForward\n    | IFeedForwardJSON\n    | RNNTimeStep\n    | IRNNTimeStepJSON\n    | LSTMTimeStep\n    | GRUTimeStep\n    | RNN\n    | IRNNJSON\n    | GRU\n    | LSTM\n    | NeuralNetwork<InputType, OutputType>\n    | INeuralNetworkJSON\n    | NeuralNetworkGPU<InputType, OutputType>,\n  InputType extends INeuralNetworkData,\n  OutputType extends INeuralNetworkData\n>(\n  net: T,\n  options?:\n    | Partial<RecurrentNeuralNetworkDrawOptions>\n    | Partial<NeuralNetworkDrawOptions>\n): string {\n  const mergedOptions = { ...defaultOptions(), ...options };\n  const { width, height, inputs } = mergedOptions;\n\n  // Get network size array for NeuralNetwork or NeuralNetworkGPU\n  let sizes: number[] = [];\n  if (net instanceof NeuralNetwork || net instanceof NeuralNetworkGPU) {\n    sizes = getNeuralNetworkSizes(net);\n  }\n  // get network size for Recurrent\n  else if (net instanceof Recurrent) {\n    const { inputSize, hiddenLayers, outputSize } = getRecurrentLayers(net);\n    sizes = [inputSize].concat(hiddenLayers).concat([outputSize]);\n  }\n  // get network size for FeedForward\n  else if (net instanceof FeedForward) {\n    const { inputSize, hiddenLayers, outputSize } = getFeedForwardLayers(net);\n    sizes = [inputSize].concat(hiddenLayers).concat([outputSize]);\n  }\n  // handle json, recurrent first\n  else if (\n    net instanceof RNN ||\n    net instanceof LSTM ||\n    net instanceof GRU ||\n    net instanceof RNNTimeStep ||\n    net instanceof LSTMTimeStep ||\n    net instanceof GRUTimeStep\n  ) {\n    return wrapOuterSVG(\n      rnnToInnerSVG({\n        ...mergedOptions,\n        sizes: checkSizes(\n          getRNNSizes(\n            (net as unknown) as\n              | RNN\n              | LSTM\n              | GRU\n              | RNNTimeStep\n              | LSTMTimeStep\n              | GRUTimeStep\n          ),\n          inputs.labels\n        ),\n      }),\n      width,\n      height\n    );\n  }\n  // handle json, NeuralNetwork\n  else if (net.hasOwnProperty('type')) {\n    switch ((net as INeuralNetworkJSON).type) {\n      case 'NeuralNetwork':\n      case 'NeuralNetworkGPU':\n        return wrapOuterSVG(\n          neuralNetworkToInnerSVG({\n            ...mergedOptions,\n            sizes: checkSizes(\n              getNeuralNetworkJSONSizes(net as INeuralNetworkJSON),\n              inputs.labels\n            ),\n          }),\n          width,\n          height\n        );\n      case 'RNN':\n      case 'GRU':\n      case 'LSTM':\n      case 'RNNTimeStep':\n      case 'GRUTimeStep':\n      case 'LSTMTimeStep':\n        return wrapOuterSVG(\n          rnnToInnerSVG({\n            ...mergedOptions,\n            sizes: checkSizes(getRNNSizes(net as IRNNJSON), inputs.labels),\n          }),\n          width,\n          height\n        );\n      default:\n        throw new Error('unrecognized network');\n    }\n  } else if (\n    net.hasOwnProperty('inputSize') &&\n    net.hasOwnProperty('hiddenLayers') &&\n    net.hasOwnProperty('outputSize')\n  ) {\n    const { inputSize, hiddenLayers, outputSize } = net as ISimpleNet;\n    sizes = [inputSize, ...hiddenLayers, outputSize];\n  } else if (net.hasOwnProperty('sizes')) {\n    sizes = (net as ISizes).sizes;\n  } else {\n    throw new Error('unrecognized network');\n  }\n  return wrapOuterSVG(\n    neuralNetworkToInnerSVG({\n      ...mergedOptions,\n      sizes: checkSizes(sizes, inputs.labels),\n    }),\n    width,\n    height\n  );\n}\n\nexport function checkSizes(\n  sizes: number[],\n  labels: string[] | null | undefined\n): number[] {\n  if (!sizes) {\n    throw new Error('sizes not set');\n  }\n  if (sizes.some((size: number) => size < 1)) {\n    throw new Error('sizes not set correctly');\n  }\n  if (labels && labels.length !== sizes[0]) {\n    throw new Error('not enough labels for inputs');\n  }\n  return sizes;\n}\n","import * as activation from './activation';\nimport { AE } from './autoencoder';\nimport CrossValidate from './cross-validate';\nimport { FeedForward } from './feed-forward';\nimport * as layer from './layer';\nimport { layerTypes } from './layer';\nimport { likely } from './likely';\nimport { lookup } from './lookup';\nimport { NeuralNetwork } from './neural-network';\nimport { NeuralNetworkGPU } from './neural-network-gpu';\nimport * as praxis from './praxis';\nimport { Recurrent } from './recurrent';\nimport { GRU } from './recurrent/gru';\nimport { GRUTimeStep } from './recurrent/gru-time-step';\nimport { LSTM } from './recurrent/lstm';\nimport { LSTMTimeStep } from './recurrent/lstm-time-step';\nimport { RNN } from './recurrent/rnn';\nimport { RNNTimeStep } from './recurrent/rnn-time-step';\nimport { DataFormatter } from './utilities/data-formatter';\nimport { max } from './utilities/max';\nimport { mse } from './utilities/mse';\nimport { ones, ones2D } from './utilities/ones';\nimport * as random from './utilities/random';\nimport { randomWeight } from './utilities/random-weight';\nimport { randos } from './utilities/randos';\nimport { range } from './utilities/range';\nimport { toArray } from './utilities/to-array';\nimport { toSVG } from './utilities/to-svg';\nimport { zeros } from './utilities/zeros';\n\nconst recurrent = {\n  RNNTimeStep,\n  LSTMTimeStep,\n  GRUTimeStep,\n  RNN,\n  LSTM,\n  GRU,\n};\n\nconst utilities = {\n  max,\n  mse,\n  ones,\n  ones2D,\n  random,\n  randomWeight,\n  randos,\n  range,\n  toArray,\n  DataFormatter,\n  zeros,\n  toSVG,\n};\n\nexport {\n  activation,\n  AE,\n  CrossValidate,\n  likely,\n  layer,\n  layerTypes,\n  lookup,\n  praxis,\n  FeedForward,\n  NeuralNetwork,\n  NeuralNetworkGPU,\n  Recurrent,\n  recurrent,\n  utilities,\n};\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0), requestHostCallback();\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return exports.unstable_now() - startTime < frameInterval ? !1 : !0;\n}\nfunction performWorkUntilDeadline() {\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostCallback() {\n  isMessageLoopRunning ||\n    ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n}\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_continueExecution = function () {\n  isHostCallbackScheduled ||\n    isPerformingWork ||\n    ((isHostCallbackScheduled = !0), requestHostCallback());\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_getFirstCallbackNode = function () {\n  return peek(taskQueue);\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_pauseExecution = function () {};\nexports.unstable_requestPaint = function () {};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0), requestHostCallback()));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"65eef823\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"real-estate-prediction:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/CSDD_Assignment2_Dev/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkreal_estate_prediction\"] = self[\"webpackChunkreal_estate_prediction\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import React, { useState } from \"react\";\r\n\r\nconst PropertyForm = ({ onSubmit }) => {\r\n  const [formData, setFormData] = useState({\r\n    area: \"\",\r\n    bedrooms: \"\",\r\n    bathrooms: \"\",\r\n    location: \"New York\",\r\n    age: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(formData);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      className=\"p-6 bg-white shadow-lg rounded-lg max-w-md w-full border\"\r\n    >\r\n      <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">\r\n        Enter Property Details 🏡\r\n      </h2>\r\n\r\n      {/** Input Fields */}\r\n      {[\"area\", \"bedrooms\", \"bathrooms\", \"age\"].map((field, index) => (\r\n        <div key={index} className=\"mb-3\">\r\n          <label className=\"block mb-1 capitalize text-gray-600\">\r\n            {field}:\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            name={field}\r\n            value={formData[field]}\r\n            onChange={handleChange}\r\n            required\r\n            className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n          />\r\n        </div>\r\n      ))}\r\n\r\n      {/** Location Dropdown */}\r\n      <div className=\"mb-3\">\r\n        <label className=\"block mb-1 text-gray-600\">Location:</label>\r\n        <select\r\n          name=\"location\"\r\n          value={formData.location}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n        >\r\n          <option value=\"New York\">New York</option>\r\n          <option value=\"San Francisco\">San Francisco</option>\r\n          <option value=\"Chicago\">Chicago</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/** Submit Button */}\r\n      <button\r\n        type=\"submit\"\r\n        className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition\"\r\n      >\r\n        Predict Price 📊\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PropertyForm;\r\n\r\n// import React, { useState } from \"react\";\r\n// import { readExcelFile } from \"../utils/readExcel\"; // Import the readExcelFile utility\r\n// //import { predictPrice } from \"../utils/brainModel\";\r\n\r\n// const PropertyForm = ({ onSubmit }) => {\r\n//   const [formData, setFormData] = useState({\r\n//     area: \"\",\r\n//     bedrooms: \"\",\r\n//     bathrooms: \"\",\r\n//     location: \"New York\",\r\n//     age: \"\",\r\n//   });\r\n//   const [file, setFile] = useState(null);\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n//   };\r\n\r\n//   const handleFileChange = (e) => {\r\n//     setFile(e.target.files[0]);\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     if (file) {\r\n//       try {\r\n//         const data = await readExcelFile(file);\r\n//         // Assuming the data contains property details in a format similar to formData\r\n//         const predictions = data.map((item) => {\r\n//           const locationMap = { \"New York\": 0, \"San Francisco\": 1, \"Chicago\": 2 };\r\n//           const input = {\r\n//             area: item.area,\r\n//             bedrooms: item.bedrooms,\r\n//             bathrooms: item.bathrooms,\r\n//             location: locationMap[item.location] || 0, // Default to New York if location not found\r\n//             age: item.age,\r\n//           };\r\n//           return { input, price: predictPrice(input) }; // Assuming predictPrice is accessible\r\n//         });\r\n//         console.log(predictions); // Log predictions for testing\r\n//         onSubmit(predictions); // Call onSubmit with the predictions\r\n//       } catch (error) {\r\n//         console.error(\"Error reading Excel file:\", error);\r\n//       }\r\n//     } else {\r\n//       onSubmit([formData]); // Handle the form submission without file\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <form\r\n//       onSubmit={handleSubmit}\r\n//       className=\"p-6 bg-white shadow-lg rounded-lg max-w-md w-full border\"\r\n//     >\r\n//       <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">\r\n//         Enter Property Details 🏡\r\n//       </h2>\r\n\r\n//       {/** Input Fields */}\r\n//       {[\"area\", \"bedrooms\", \"bathrooms\", \"age\"].map((field, index) => (\r\n//         <div key={index} className=\"mb-3\">\r\n//           <label className=\"block mb-1 capitalize text-gray-600\">\r\n//             {field}:\r\n//           </label>\r\n//           <input\r\n//             type=\"number\"\r\n//             name={field}\r\n//             value={formData[field]}\r\n//             onChange={handleChange}\r\n//             required\r\n//             className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//           />\r\n//         </div>\r\n//       ))}\r\n\r\n//       {/** Location Dropdown */}\r\n//       <div className=\"mb-3\">\r\n//         <label className=\"block mb-1 text-gray-600\">Location:</label>\r\n//         <select\r\n//           name=\"location\"\r\n//           value={formData.location}\r\n//           onChange={handleChange}\r\n//           required\r\n//           className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//         >\r\n//           <option value=\"New York\">New York</option>\r\n//           <option value=\"San Francisco\">San Francisco</option>\r\n//           <option value=\"Chicago\">Chicago</option>\r\n//         </select>\r\n//       </div>\r\n\r\n//       {/** File Input */}\r\n//       <div className=\"mb-3\">\r\n//         <label className=\"block mb-1 text-gray-600\">Upload Excel File:</label>\r\n//         <input\r\n//           type=\"file\"\r\n//           accept=\".xlsx\"\r\n//           onChange={handleFileChange}\r\n//           className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//         />\r\n//       </div>\r\n\r\n//       {/** Submit Button */}\r\n//       <button\r\n//         type=\"submit\"\r\n//         className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition\"\r\n//       >\r\n//         Predict Price 📊\r\n//       </button>\r\n//     </form>\r\n//   );\r\n// };\r\n\r\n// export default PropertyForm;\r\n\r\n// import React, { useState } from \"react\";\r\n// import { readExcelFile } from \"../utils/readExcel\"; // Import the readExcelFile utility\r\n// //import { predictPrice } from \"../utils/brainModel\"; // Import the predictPrice function\r\n\r\n// const PropertyForm = ({ onSubmit }) => {\r\n//   const [formData, setFormData] = useState({\r\n//     area: \"\",\r\n//     bedrooms: \"\",\r\n//     bathrooms: \"\",\r\n//     location: \"New York\",\r\n//     age: \"\",\r\n//   });\r\n//   const [file, setFile] = useState(null);\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n//   };\r\n\r\n//   const handleFileChange = (e) => {\r\n//     setFile(e.target.files[0]);\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     if (file) {\r\n//       try {\r\n//         const data = await readExcelFile(file);\r\n//         // Assuming the data contains property details in a format similar to formData\r\n//         const predictions = data.map((item) => {\r\n//           const locationMap = { \"New York\": 0, \"San Francisco\": 1, \"Chicago\": 2 };\r\n//           const input = {\r\n//             area: item.area,\r\n//             bedrooms: item.bedrooms,\r\n//             bathrooms: item.bathrooms,\r\n//             location: locationMap[item.location] || 0, // Default to New York if location not found\r\n//             age: item.age,\r\n//           };\r\n//           return { input, price: predictPrice(input) }; // Call predictPrice\r\n//         });\r\n//         console.log(predictions); // Log predictions for testing\r\n//         onSubmit(predictions); // Call onSubmit with the predictions\r\n//       } catch (error) {\r\n//         console.error(\"Error reading Excel file:\", error);\r\n//       }\r\n//     } else {\r\n//       onSubmit([formData]); // Handle the form submission without file\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <form\r\n//       onSubmit={handleSubmit}\r\n//       className=\"p-6 bg-white shadow-lg rounded-lg max-w-md w-full border\"\r\n//     >\r\n//       <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">\r\n//         Enter Property Details 🏡\r\n//       </h2>\r\n\r\n//       {/** Input Fields */}\r\n//       {[\"area\", \"bedrooms\", \"bathrooms\", \"age\"].map((field, index) => (\r\n//         <div key={index} className=\"mb-3\">\r\n//           <label className=\"block mb-1 capitalize text-gray-600\">\r\n//             {field}:\r\n//           </label>\r\n//           <input\r\n//             type=\"number\"\r\n//             name={field}\r\n//             value={formData[field]}\r\n//             onChange={handleChange}\r\n//             required\r\n//             className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//           />\r\n//         </div>\r\n//       ))}\r\n\r\n//       {/** Location Dropdown */}\r\n//       <div className=\"mb-3\">\r\n//         <label className=\"block mb-1 text-gray-600\">Location:</label>\r\n//         <select\r\n//           name=\"location\"\r\n//           value={formData.location}\r\n//           onChange={handleChange}\r\n//           required\r\n//           className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//         >\r\n//           <option value=\"New York\">New York</option>\r\n//           <option value=\"San Francisco\">San Francisco</option>\r\n//           <option value=\"Chicago\">Chicago</option>\r\n//         </select>\r\n//       </div>\r\n\r\n//       {/** File Input */}\r\n//       <div className=\"mb-3\">\r\n//         <label className=\"block mb-1 text-gray-600\">Upload Excel File:</label>\r\n//         <input\r\n//           type=\"file\"\r\n//           accept=\".xlsx\"\r\n//           onChange={handleFileChange}\r\n//           className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//         />\r\n//       </div>\r\n\r\n//       {/** Submit Button */}\r\n//       <button\r\n//         type=\"submit\"\r\n//         className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition\"\r\n//       >\r\n//         Predict Price 📊\r\n//       </button>\r\n//     </form>\r\n//   );\r\n// };\r\n\r\n// export default PropertyForm;\r\n\r\n// import React, { useState } from \"react\";\r\n// import { readExcelFile } from \"../utils/readExcel\"; // Import the readExcelFile utility\r\n// import { predictPrice } from \"../utils/brainModel\";\r\n// // Import predictPrice if you are going to use it here or ensure it's correctly imported from App.js\r\n\r\n// const PropertyForm = ({ onSubmit }) => {\r\n//   const [formData, setFormData] = useState({\r\n//     area: \"\",\r\n//     bedrooms: \"\",\r\n//     bathrooms: \"\",\r\n//     location: \"New York\",\r\n//     age: \"\",\r\n//   });\r\n//   const [file, setFile] = useState(null);\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n//   };\r\n\r\n//   const handleFileChange = (e) => {\r\n//     setFile(e.target.files[0]);\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     if (file) {\r\n//       try {\r\n//         const data = await readExcelFile(file);\r\n//         const predictions = data.map((item) => {\r\n//           const locationMap = {\"Downtown\": \"Suburban\", \"Rural\": \"Rural\", \"Suburban\": \"Suburban\" };\r\n//           const input = {\r\n//             area: item.area,\r\n//             bedrooms: item.bedrooms,\r\n//             bathrooms: item.bathrooms,\r\n//             location: locationMap[item.location] || 0,\r\n//             age: item.age,\r\n//           };\r\n//           return { input, price: predictPrice(input) }; // Make sure predictPrice is imported\r\n//         });\r\n//         console.log(predictions);\r\n//         onSubmit(predictions);\r\n//       } catch (error) {\r\n//         console.error(\"Error reading Excel file:\", error);\r\n//       }\r\n//     } else {\r\n//       onSubmit([formData]);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <form\r\n//       onSubmit={handleSubmit}\r\n//       className=\"p-6 bg-white shadow-lg rounded-lg max-w-md w-full border\"\r\n//     >\r\n//       <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">\r\n//         Enter Property Details 🏡\r\n//       </h2>\r\n\r\n//       {[\"area\", \"bedrooms\", \"bathrooms\", \"age\"].map((field, index) => (\r\n//         <div key={index} className=\"mb-3\">\r\n//           <label className=\"block mb-1 capitalize text-gray-600\">\r\n//             {field}:\r\n//           </label>\r\n//           <input\r\n//             type=\"number\"\r\n//             name={field}\r\n//             value={formData[field]}\r\n//             onChange={handleChange}\r\n//             required\r\n//             className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//           />\r\n//         </div>\r\n//       ))}\r\n\r\n//       <div className=\"mb-3\">\r\n//         <label className=\"block mb-1 text-gray-600\">Location:</label>\r\n//         <select\r\n//           name=\"location\"\r\n//           value={formData.location}\r\n//           onChange={handleChange}\r\n//           required\r\n//           className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//         >\r\n//           <option value=\"Downtown\">Downtown</option>\r\n//           <option value=\"Rural\">Rural </option>\r\n//           <option value=\"Suburban\">Suburban</option>\r\n//         </select>\r\n//       </div>\r\n\r\n//       <div className=\"mb-3\">\r\n//         <label className=\"block mb-1 text-gray-600\">Upload Excel File:</label>\r\n//         <input\r\n//           type=\"file\"\r\n//           accept=\".xlsx\"\r\n//           onChange={handleFileChange}\r\n//           className=\"w-full border p-2 rounded focus:ring focus:ring-blue-300\"\r\n//         />\r\n//       </div>\r\n\r\n//       <button\r\n//         type=\"submit\"\r\n//         className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition\"\r\n//       >\r\n//         Predict Price 📊\r\n//       </button>\r\n//     </form>\r\n//   );\r\n// };\r\n\r\n// export default PropertyForm;\r\n","const trainingData = [\r\n    { input: { area: 1000, bedrooms: 2, bathrooms: 1, location: 0, age: 5 }, output: { price: 200000 } },\r\n    { input: { area: 1500, bedrooms: 3, bathrooms: 2, location: 1, age: 10 }, output: { price: 350000 } },\r\n    { input: { area: 2000, bedrooms: 4, bathrooms: 3, location: 2, age: 8 }, output: { price: 500000 } },\r\n    { input: { area: 1200, bedrooms: 2, bathrooms: 1, location: 1, age: 4 }, output: { price: 250000 } },\r\n    { input: { area: 1800, bedrooms: 3, bathrooms: 2, location: 2, age: 6 }, output: { price: 400000 } },\r\n    { input: { area: 900, bedrooms: 1, bathrooms: 1, location: 0, age: 3 }, output: { price: 180000 } },\r\n    { input: { area: 2200, bedrooms: 4, bathrooms: 3, location: 2, age: 12 }, output: { price: 550000 } },\r\n    { input: { area: 1400, bedrooms: 2, bathrooms: 2, location: 1, age: 7 }, output: { price: 300000 } },\r\n    { input: { area: 2500, bedrooms: 5, bathrooms: 4, location: 2, age: 15 }, output: { price: 650000 } },\r\n    { input: { area: 1100, bedrooms: 2, bathrooms: 1, location: 0, age: 5 }, output: { price: 220000 } }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n  ];\r\n  \r\n  export default trainingData;\r\n  ","import * as brain from \"brain.js\";\r\nimport trainingData from \"../data/dataset\";\r\n\r\n// Initialize neural network\r\nconst net = new brain.NeuralNetwork();\r\n\r\n// Normalize data\r\nconst normalizeData = (data) =>\r\n  data.map((item) => ({\r\n    input: {\r\n      area: item.input.area / 2000,\r\n      bedrooms: item.input.bedrooms / 5,\r\n      bathrooms: item.input.bathrooms / 3,\r\n      location: item.input.location / 2,\r\n      age: item.input.age / 50,\r\n    },\r\n    output: { price: item.output.price / 1000000 },\r\n  }));\r\n\r\n// Train the model and save to localStorage\r\nexport const trainModel = () => {\r\n  console.log(\"Training model...\");\r\n  net.train(normalizeData(trainingData), {\r\n    iterations: 2000,\r\n    errorThresh: 0.005,\r\n    log: true,\r\n    logPeriod: 100,\r\n    learningRate: 0.1,\r\n  });\r\n\r\n  console.log(\"Model trained successfully!\");\r\n\r\n  // Save the trained model in LocalStorage\r\n  localStorage.setItem(\"trainedModel\", JSON.stringify(net.toJSON()));\r\n  return net.toJSON();\r\n};\r\n\r\n// Load the model from LocalStorage\r\nexport const loadModel = () => {\r\n  const savedModel = localStorage.getItem(\"trainedModel\");\r\n  if (savedModel) {\r\n    net.fromJSON(JSON.parse(savedModel));\r\n    console.log(\"Loaded trained model from storage.\");\r\n  } else {\r\n    console.log(\"No saved model found. Train the model first.\");\r\n  }\r\n};\r\n\r\n// Predict function\r\nexport const predictPrice = (input) => {\r\n  loadModel(); // Ensure the trained model is loaded before predicting\r\n\r\n  const normalizedInput = {\r\n    area: input.area / 2000,\r\n    bedrooms: input.bedrooms / 5,\r\n    bathrooms: input.bathrooms / 3,\r\n    location: input.location / 2,\r\n    age: input.age / 50,\r\n  };\r\n\r\n  const output = net.run(normalizedInput);\r\n  return output.price * 1000000; // Convert back to price\r\n};\r\n","/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\n/**\n * Verifies that attempting to coerce n to string or number won't throw a TypeError.\n */\nfunction isNonPrimitive(n: unknown) {\n  return typeof n === 'symbol' || (typeof n === 'object' && n !== null && !(Symbol.toPrimitive in n || 'toString' in n || 'valueOf' in n));\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNonPrimitive(n) && !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\nimport {isNullOrUndef} from './helpers.core.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, vScale, _parsed} = meta;\n    const spanGaps = meta.dataset ? meta.dataset.options ? meta.dataset.options.spanGaps : null : null;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo);\n      if (spanGaps) {\n        const distanceToDefinedLo = (_parsed\n          .slice(0, start + 1)\n          .reverse()\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        start -= Math.max(0, distanceToDefinedLo);\n      }\n      start = _limitValue(start, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n      let end = Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1);\n      if (spanGaps) {\n        const distanceToDefinedHi = (_parsed\n          .slice(end - 1)\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        end += Math.max(0, distanceToDefinedHi);\n      }\n      count = _limitValue(end, start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type PrivateChart from '../core/core.controller.js';\nimport type {Chart, ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart | PrivateChart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart | PrivateChart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  (chart as PrivateChart).height = Math.floor(chart.height);\n  (chart as PrivateChart).width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    (chart as PrivateChart).currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n","import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n","import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n","import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n","import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  let found = false;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      found = true;\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n\n  if (!found && !options.all) {\n    return 0;\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data, meta) {\n  const {iScale, vScale} = meta;\n  const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n  const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      [iAxisKey]: key,\n      [vAxisKey]: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      const meta = this._cachedMeta;\n      this._data = convertObjectDataToArray(data, meta);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n      meta._stacked = isStacked(meta.vScale, meta);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n","/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<TimeUnit | 'datetime', string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: string): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: string): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number | boolean): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options?: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<TimeUnit | 'datetime', string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase as {\n    new (options?: AnyObject): DateAdapter;\n    override<T extends AnyObject = AnyObject>(\n      members: Partial<Omit<DateAdapter<T>, 'options'>>\n    ): void;\n  }\n};\n","import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea, isNullOrUndef} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  const spanGaps = metaset.dataset ? metaset.dataset.options ? metaset.dataset.options.spanGaps : null : null;\n\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      const result = lookupMethod(data, axis, value);\n      if (spanGaps) {\n        const {vScale} = controller._cachedMeta;\n        const {_parsed} = metaset;\n\n        const distanceToDefinedLo = (_parsed\n          .slice(0, result.lo + 1)\n          .reverse()\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        result.lo -= Math.max(0, distanceToDefinedLo);\n\n        const distanceToDefinedHi = (_parsed\n          .slice(result.hi)\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        result.hi += Math.max(0, distanceToDefinedHi);\n      }\n      return result;\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n","import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n","\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n","/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n","/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  if (node) {\n    node.addEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction removeListener(chart, type, listener) {\n  if (chart && chart.canvas) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = canvas && _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n","import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n","import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n","import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        case 'inner':\n          if (i === ilen - 1) {\n            left -= width;\n          } else if (i > 0) {\n            left -= width / 2;\n          }\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n","import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n","import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n","import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n","import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n","import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      // Unset pending resize request now to avoid possible recursion within _resize\n      this._resizeBeforeDraw = null;\n      this._resize(width, height);\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the event inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n","import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n","import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n","import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n","import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let xSet = new Set();\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        xSet.add(pos.x);\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    // No visible items where found, return false so we don't have to divide by 0 which reduces in NaN\n    if (count === 0 || xSet.size === 0) {\n      return false;\n    }\n\n    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;\n\n    return {\n      x: xAverage,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      // But make sure that active elements are still valid.\n      return lastActive.filter(i =>\n        this.chart.data.datasets[i.datasetIndex] &&\n        this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined\n      );\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n","import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n","import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n","import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n","import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash || []);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0 || (index === 0 && this.min < 0)) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if ((index === 0 && this.min >= 0) && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n","import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Chart as ChartJS, LineElement, CategoryScale, LinearScale, PointElement, Tooltip, Legend } from \"chart.js\";\r\n\r\n// Register required components\r\nChartJS.register(LineElement, CategoryScale, LinearScale, PointElement, Tooltip, Legend);\r\n\r\nconst PriceComparisonChart = ({ actualPrices, predictedPrices }) => {\r\n  const data = {\r\n    labels: actualPrices.map((_, index) => `Property ${index + 1}`), // X-axis labels\r\n    datasets: [\r\n      {\r\n        label: \"Actual Prices\",\r\n        data: actualPrices,\r\n        borderColor: \"blue\",\r\n        backgroundColor: \"rgba(0, 0, 255, 0.2)\", // Slight fill effect\r\n        borderWidth: 3,\r\n        pointRadius: 5,\r\n        fill: true,\r\n      },\r\n      {\r\n        label: \"Predicted Prices\",\r\n        data: predictedPrices,\r\n        borderColor: \"red\",\r\n        backgroundColor: \"rgba(255, 0, 0, 0.2)\",\r\n        borderWidth: 3,\r\n        pointRadius: 5,\r\n        fill: true,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false, // Allows flexible resizing\r\n    plugins: {\r\n      legend: {\r\n        display: true,\r\n        position: \"top\",\r\n      },\r\n      tooltip: {\r\n        enabled: true,\r\n        mode: \"index\",\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n        title: {\r\n          display: true,\r\n          text: \"Price ($)\",\r\n        },\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: \"Properties\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-3xl p-4 bg-white border rounded-lg shadow-md\">\r\n      <h2 className=\"text-xl font-bold text-gray-700 text-center mb-4\">\r\n        📊 Predicted vs. Actual Prices\r\n      </h2>\r\n      <div className=\"h-80\"> {/* Adjust height */}\r\n        <Line data={data} options={options} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriceComparisonChart;\r\n","\n\n// import './App.css';\n// import React, { useState, useEffect } from \"react\";\n// import PropertyForm from \"./components/PropertyForm\";\n// import { trainModel, predictPrice } from \"./utils/brainModel\"; // Keep this import\n// import PriceComparisonChart from \"./components/PriceComparisonChart\";\n\n// function App() {\n//   const [predictedPrice, setPredictedPrice] = useState(null);\n//   const [actualPrices] = useState([100000, 150000, 200000, 250000]);\n//   const [predictedPrices, setPredictedPrices] = useState([110000, 145000, 210000, 240000]);\n\n//   useEffect(() => {\n//     trainModel(); // Train model on startup (or load from localStorage)\n//   }, []);\n\n//   const handleFormSubmit = (data) => {\n//     const locationMap = { \"New York\": 0, \"San Francisco\": 1, \"Chicago\": 2 };\n    \n//     const input = {\n//       area: Number(data.area),\n//       bedrooms: Number(data.bedrooms),\n//       bathrooms: Number(data.bathrooms),\n//       location: locationMap[data.location] ?? 0, // Default to 0 if location is not found\n//       age: Number(data.age),\n//     };\n\n//     const price = predictPrice(input);\n//     setPredictedPrice(price.toFixed(2));\n\n//     // Update the predictedPrices array for visualization\n//     setPredictedPrices((prevPrices) => [...prevPrices.slice(1), price]);  \n//   };\n\n//   return (\n//     <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300 p-4\">\n//       <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">\n//         🏠 Real Estate Price Prediction\n//       </h1>\n\n//       <PropertyForm onSubmit={handleFormSubmit} />\n\n//       {predictedPrice && (\n//         <div className=\"mt-6 p-4 bg-white border rounded-lg shadow-md\">\n//           <h2 className=\"text-lg font-bold text-gray-700\">\n//             Predicted Price: <span className=\"text-blue-600\">${predictedPrice}</span>\n//           </h2>\n//         </div>\n//       )}\n      \n//       <PriceComparisonChart actualPrices={actualPrices} predictedPrices={predictedPrices} />\n//     </div>\n//   );\n// }\n\n// export default App;\nimport './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport PropertyForm from \"./components/PropertyForm\";\nimport { trainModel, predictPrice } from \"./utils/brainModel\"; // Keep this import\nimport PriceComparisonChart from \"./components/PriceComparisonChart\";\n\nfunction App() {\n  const [predictedPrice, setPredictedPrice] = useState(null);\n  const [error, setError] = useState(null);\n  const [actualPrices] = useState([100000, 150000, 200000, 250000]);\n  const [predictedPrices, setPredictedPrices] = useState([110000, 145000, 210000, 240000]);\n\n  useEffect(() => {\n    try {\n      trainModel(); // Train model on startup (or load from localStorage)\n    } catch (err) {\n      console.error(\"Model training failed:\", err);\n      setError(\"Failed to initialize the model. Please refresh the page.\");\n    }\n  }, []);\n\n  const handleFormSubmit = (data) => {\n    setError(null); // Clear previous errors\n\n    try {\n      // Validate input\n      if (!data.area || !data.bedrooms || !data.bathrooms || !data.location || !data.age) {\n        throw new Error(\"All fields are required.\");\n      }\n      if (isNaN(data.area) || isNaN(data.bedrooms) || isNaN(data.bathrooms) || isNaN(data.age)) {\n        throw new Error(\"Invalid input: Numbers are required for Area, Bedrooms, Bathrooms, and Age.\");\n      }\n\n      const locationMap = { \"New York\": 0, \"San Francisco\": 1, \"Chicago\": 2 };\n      if (!locationMap.hasOwnProperty(data.location)) {\n        throw new Error(\"Invalid location selected.\");\n      }\n\n      const input = {\n        area: Number(data.area),\n        bedrooms: Number(data.bedrooms),\n        bathrooms: Number(data.bathrooms),\n        location: locationMap[data.location],\n        age: Number(data.age),\n      };\n\n      const price = predictPrice(input);\n      if (isNaN(price) || price <= 0) {\n        throw new Error(\"Prediction failed. Please try again with different values.\");\n      }\n\n      setPredictedPrice(price.toFixed(2));\n\n      // Update the predictedPrices array for visualization\n      setPredictedPrices((prevPrices) => [...prevPrices.slice(1), price]);\n\n    } catch (err) {\n      console.error(\"Prediction error:\", err);\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300 p-4\">\n      <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">\n        🏠 Real Estate Price Prediction\n      </h1>\n\n      <PropertyForm onSubmit={handleFormSubmit} />\n\n      {error && (\n        <div className=\"mt-4 p-3 bg-red-200 text-red-800 border border-red-500 rounded-lg\">\n          ❌ {error}\n        </div>\n      )}\n\n      {predictedPrice && !error && (\n        <div className=\"mt-6 p-4 bg-white border rounded-lg shadow-md\">\n          <h2 className=\"text-lg font-bold text-gray-700\">\n            Predicted Price: <span className=\"text-blue-600\">${predictedPrice}</span>\n          </h2>\n        </div>\n      )}\n      \n      <PriceComparisonChart actualPrices={actualPrices} predictedPrices={predictedPrices} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","node","nodeType","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","name","_context","innerType","render","_payload","_init","x","prefix","suffix","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","assign","Object","describeBuiltInComponentFrame","Error","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","prototype","set","Reflect","control","call","x$0","x$1","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","value","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","fiber","tag","getStackByFiberInDevAndProd","workInProgress","info","return","message","getNearestMountedFiber","nearestMounted","alternate","flags","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","findCurrentHostFiberImpl","child","sibling","isArrayImpl","Array","isArray","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","parentNode","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","finishedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","window","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","canUseDOM","document","createElement","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","test","removeAttribute","prefix$10","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","location","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$283","isSupported$jscomp$inline_418","element$jscomp$inline_419","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","restoreSelection","priorSelectionInformation","curFocusedElem","focusedElem","priorSelectionRange","selectionRange","selectionStart","selectionEnd","min","getSelection","extend","endMarker","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","memoizedProps","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldClear","shouldSetTextContent","getNextHydratable","resetHydrationState","error","SuspenseException","SuspenseyCommitException","noopSuspenseyCommitThenable","then","isThenableResolved","thenable","status","noop$3","trackUsedThenable","thenableState","reason","workInProgressRoot","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","ref","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","init","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","pendingProps","createWorkInProgress","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","createFiberFromText","mode","updateElement","elementType","updateFragment","createFiberFromTypeAndProps","updatePortal","portal","implementation","createFiberFromPortal","fragment","createFiberFromFragment","createChild","readContextDuringReconciliation","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","forEach","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","createFiberImplClass","reconcileChildFibers","mountChildFibers","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","state","revealOrder","AbortControllerLocal","AbortController","signal","aborted","listener","abort","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","S","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","currentlyRenderingFiber$1","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","Component","secondArg","nextRenderLanes","updateQueue","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","checkIfContextChanged","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseState","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","readContext","useMemoCache","size","map","array","basicStateReducer","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","pendingQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$54","workInProgressRootRenderLanes","revertLane","hasEagerState","eagerState","workInProgressRootSkippedLanes","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","bind","pushEffect","updateStoreInstance","destroy","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","nextValue","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","payload","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$60","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionQueueHook","actionStateActionEffect","rerenderActionState","create","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","refCleanup","updateImperativeHandle","concat","mountDebugValue","updateCallback","callback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$63","enqueueUpdate","createUpdate","entangleTransitions","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","queueLanes","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useCacheRefresh","useFormState","useActionState","useOptimistic","initialArg","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","isMounted","component","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$67","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$68","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$69","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","prepareToReadContext","bailoutOnAlreadyFinishedWork","updateMemoComponent","shouldConstruct","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","nextIsDetached","_pendingVisibility","markRef","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","propagateParentContextChanges","replayFunctionComponent","updateClassComponent","contextType","updater","refs","initializeUpdateQueue","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","processUpdateQueue","suspendIfUpdateReadFromEntangledAsyncAction","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","hasForceUpdate","cloneUpdateQueue","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","retryDehydratedSuspenseBoundary","_reactRetry","subtreeFlags","primaryChildren","offscreenProps","createFiberFromOffscreen","scheduleSuspenseWorkOnFiber","propagationRoot","scheduleContextWorkOnParentPath","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","pushProvider","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","propagateContextChanges","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","rel","crossOrigin","title","src","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","valueCursor","currentlyRenderingFiber","lastContextDependency","providerFiber","popProvider","contexts","forcePropagateEntireTree","list","nextFiber","firstContext","dependency","isInsidePropagationBailout","currentParent","currentDependencies","memoizedValue","readContextForConsumer","consumer","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","executionContext","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","workInProgress$jscomp$0","instance$jscomp$0","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","callCallback","commitCallbacks","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$112","commitHostMount","autoFocus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$203","propKey$219","propKey$224","propKey$229","setPropOnCustomElement","propKey$234","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","appendChild","_reactRootContainer","insertOrAppendPlacementNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","shouldFireAfterActiveInstanceBlur","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$111","commitSuspenseHydrationCallbacks","prevOffscreenSubtreeIsHidden","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","removeChild","prevHostParent","prevHostParentIsContainer","attributes","removeAttributeNode","prevHostParentIsContainer$119","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","_retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","content","property","httpEquiv","charSet","mountHoistable","acquireResource","nextNode","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","_current","recursivelyTraverseDisappearLayoutEffects","display","retryQueue","parent$jscomp$0","parent$113","parent$115","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","resource","suspendedState","media","matchMedia","matches","loading","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","FiberNode","isReactComponent","resetWorkInProgress","owner","fiberTag","hostContext","itemProp","precedence","onLoad","onError","async","isHostHoistableType","elements","primaryChildInstance","_pendingMarkers","_transitions","detach","attach","pendingChildren","markUpdate","preloadResourceAndSuspendIfNeeded","preloadResource","scheduleRetryEffect","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$131","bubbleProperties","completedWork","didBailout","newChildLanes","child$132","completeWork","pendingContext","queueRecoverableErrors","createElementNS","innerHTML","createTextNode","cache$144","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootRecoverableErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","rootDoesHavePassiveEffects","rootWithPendingPassiveEffects","pendingPassiveEffectsLanes","pendingPassiveEffectsRemainingLanes","pendingPassiveTransitions","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrent","thrownValue$166","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","errors","apply","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$164","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","previousUpdateLanePriority","renderPriorityLevel","flushPassiveEffects","callbackNode","callbackPriority","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","priorityLevel","scheduleCallback$1","eventsEnabled","_enabled","selection","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","releaseRootPooledCache","onCommitFiberRoot","onCommitRoot","onRecoverableError","commitRootImpl","root$170","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","cb","processRootScheduleInMicrotask","scheduleMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$172","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1439","eventName$jscomp$inline_1440","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$186","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","depth","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$242","resource$243","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$248","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1686","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$2","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2165","bundleType","rendererPackageName","currentDispatcherRef","findFiberByHostInstance","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2166","isDisabled","supportsFiber","inject","exports","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","module","ReactNoopUpdateQueue","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","ReactElement","self","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","default","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","act","cloneElement","config","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","permalink","Context","checkDCE","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","useFormStatus","activate$3","weight","max","measure$3","delta","activate$2","exp","measure$2","activate$1","tanh","measure$1","activate","measure","t","o","commonjsRequire","u","global","factory","acorn","reservedWords","strict","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","pos","isIdentifierStart","astral","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","postfix","binop","updateContext","prec","keywords$1","kw","types","num","regexp","string","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","isNewLine","ecma2019String","nonASCIIwhitespace","skipWhiteSpace","obj","wordsRegexp","words","Position","line","col","column","SourceLocation","sourceFile","getLineInfo","cur","lastIndex","exec","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","getOptions","opts","opt","tokens","token","pushComment","block","startLoc","endLoc","comment","loc","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_VAR","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","functionFlags","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","v","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","prototypeAccessors","inFunction","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","parse","startNode","nextToken","parseTopLevel","currentVarScope","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","plugins","len","cls","parseExpressionAt","parser","parseExpression","tokenizer","defineProperties","pp","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","eat","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$1","stmt","parseStatement","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","skip","nextCh","ident","isAsyncFunction","charAt","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","toAssignable","checkLVal","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","argument","discriminant","cases","sawDefault","isCase","exitScope","empty","clause","param","parseBindingAtom","simple","finalizer","i$1","label$1","statementStart","createNewLexicalScope","isForIn","right","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","classBody","hadConstructor","parseClassElement","superClass","constructorAllowsSuper","this$1","tryContextual","k","noLineBreak","computed","startNodeAt","static","isGenerator","parsePropertyName","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","parseExprAtom","checkExport","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","properties","prop","list$1","elt","decls","first","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","raw","pp$2","isBinding","toAssignableList","operator","exprList","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","elts","rest","parseBindingListItem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","proto","other","noIn","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","parseSubscripts","base","noCalls","maybeAsyncArrow","parseSubscript","parseExprList","parseArrowExpression","callee","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","parseLiteral","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","errorPos","bigint","val","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","item","empty$1","meta","isImport","parseTemplateElement","cooked","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","oldLabels","allowDuplicates","nameHash","liberal","delegate","pp$4","SyntaxError","raisedAt","pp$5","Scope","var","lexical","functions","redeclared","scope$2","scope$3","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","curContext","inGeneratorContext","out","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","unicodeScriptValues","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString","isSyntaxCharacter","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","isValidUnicode","isCharacterClassEscape","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","unicode","at","s","l","nextIndex","lookahead","advance","validateRegExpFlags","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","n1","n2","Token","pp$9","codePointToString$1","ignoreEscapeSequenceInKeyword","getToken","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readRadixNumber","readString","str","escaped","inClass","flagsStart","readWord1","readInt","radix","total","BigInt","startsWithDot","octal","str$1","val$1","parseInt","parseFloat","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","substr","word","escStart","esc","tokTypes","keywordTypes","tokContexts","glWiretap","gl","undefined","contextName","throwGetError","useTrackablePrimitives","readPixelsFile","recording","variables","onReadPixels","onUnrecognizedArgumentLookup","proxy","Proxy","listen","contextVariables","entityNames","readPixelsVariableName","imageCount","indent","addComment","checkThrowError","insertVariable","setIndent","getContextVariableName","getError","variableName","extension","getExtension","tappedExtension","glExtensionWiretap","getEntity","targetVariableName","getVariableName","argumentAsStrings","writePPM","readPixels","argumentsToString","addVariable","drawBuffers","methodCallToString","trackablePrimitive","spaces","sourceVariable","imageVariable","args","extensionEntityNames","getExtensionEntity","drawBuffersWEBGL","from","arg","argumentToString","hasLines","hasSingleQuotes","hasDoubleQuotes","JSON","stringify","instantiationString","setupArguments","newArguments","mock1D","Float32Array","output","thread","z","_fn","mock2D","matrix","mock2DGraphical","mock3D","cube","apiDecorate","kernel","setOutput","setupOutput","graphical","setupGraphical","toJSON","setConstants","constants","setGraphical","setCanvas","canvas","setContext","validateSettings","getPixels","flip","flipPixels","_imageData","g","floor","_colorData","mockMethod","methods","createImageData","Uint8ClampedArray","gpuMock","settings","pixels","halfHeight","bytesPerRow","topOffset","bottomOffset","subarray","copyWithin","utils","alias","fnString","Function","getArgumentNamesFromString","getFunctionBodyFromString","FunctionNode","CPUFunctionNode","astFunction","ast","retArr","isRootKernel","argumentNames","argumentName","astGeneric","astReturnStatement","returnType","getType","leadingReturnStatement","followingReturnStatement","isSubKernel","astLiteral","astErrorOutput","astBinaryExpression","astIdentifierExpression","idtNode","astForStatement","forNode","initArr","testArr","updateArr","bodyArr","isSafe","pushState","popState","iVariableName","getInternalVariableName","astWhileStatement","whileNode","astDoWhileStatement","doWhileNode","astAssignmentExpression","assNode","getDeclaration","assignable","astBlockStatement","bNode","isState","astVariableDeclaration","varDecNode","valueType","astIfStatement","ifNode","astSwitchStatement","astThisExpression","tNode","astMemberExpression","mNode","signature","xProperty","yProperty","zProperty","origin","getMemberExpressionDetails","markupName","isInput","constant","constantTypes","argumentSizes","dynamicArguments","astCallExpression","functionName","astMemberExpressionUnroll","calledFunctions","isAstMathFunction","onFunctionCall","targetTypes","lookupFunctionArgumentTypes","argumentType","triggerImplyArgumentType","astArrayExpression","arrNode","arrLen","astDebuggerStatement","constantsToString","results","cpuKernelString","cpuKernel","header","thisProperties","beforeReturn","useFunctionKeyword","colorFn","flattenFunctionToString","thisLookup","findDependency","getPixelsFn","constantKeys","argumentTypes","flattenedImageTo3DArray","_imageTo3DArray","doNotDefine","flattenedImageTo2DArray","_mediaTo2DArray","_kernelString","Kernel","FunctionBuilder","CPUKernel","getFeatures","features","freeze","kernelMap","isIntegerDivisionAccurate","isSupported","isContextMatch","nativeFunctionArguments","nativeFunctionReturnType","combineKernels","combinedKernel","getSignature","super","mergeSettings","_prependedString","translatedSources","initCanvas","OffscreenCanvas","initContext","getContext","initPlugins","argType","getVariableType","strictIntegers","getDimensions","checkOutput","translateSource","subKernels","functionBuilder","fromKernel","getPrototypes","getKernelResultType","build","built","setupConstants","kernelString","getKernelString","debug","run","buildSignature","kernelThreadString","filter","_getLoopMaxString","injectedNative","_resultKernelHeader","_processConstants","_earlyThrows","_processArguments","_graphicalKernelBody","_resultKernelBody","loopMaxIterations","immutable","pipeline","arrayArguments","checks","checkSubKernels","_mapSubKernels","subKernel","videoWidth","videoHeight","ctx","pixelsData","ImageData","drawImage","getImageData","imageArray","pixel","images","imagesArray","_mutableKernel1DResults","_mutableKernel2DResults","_mutableKernel3DResults","_resultMutableKernel1DLoop","_resultImmutableKernel1DLoop","_kernelOutput","_resultMutableKernel2DLoop","_resultImmutableKernel2DLoop","_resultMutableKernel3DLoop","_resultImmutableKernel3DLoop","_graphicalKernel2DLoop","_graphicalOutput","_getKernelResultTypeConstructorString","constructorString","removeCanvasReference","destroyContext","json","functionNodes","prependString","hasPrependString","extraNodeOptions","kernelArguments","kernelConstants","argumentBitRatios","constantBitRatios","nativeFunctions","optimizeFloatMemory","precision","dynamicOutput","kernelConstant","needsArgumentType","assignArgumentType","lookupReturnType","requestingNode","lookupFunctionArgumentName","argumentIndex","lookupFunctionArgumentBitRatio","triggerImplyArgumentBitRatio","calleeFunctionName","assignArgumentBitRatio","trackFunctionCall","onNestedFunction","nestedFunction","nodeOptions","traceFunctionAST","addFunctionNode","rootNodeOptions","fromJSON","rootNode","subKernelNodes","functionMap","nativeFunctionNames","lookupChain","functionNodeDependencies","functionCalls","nativeFunction","functionNode","traceFunctionCalls","retList","nativeFunctionIndex","dependantNativeFunctionName","functionIndex","dependantFunctionName","getPrototypeString","getPrototypesFromFunctionNames","reverse","getStringFromFunctionNames","functionList","ret","nativeIndex","jsonFunctionNodes","jsonFunctionNode","getString","_isNativeFunction","_lookupNativeFunctionReturnType","_isFunction","_getFunction","j","getJsAST","Boolean","_getNativeFunction","bitRatio","fnNode","calleeNode","calleeBitRatio","getSubKernelResultType","subKernelNode","called","functionCallIndex","getReturnTypes","FunctionTracer","getFunctionNameFromString","identifiers","states","strictTypingChecking","fixIntegerDivisionAccuracy","literalTypes","validate","_string","_internalVariableNames","isFunctionString","isIdentifierConstant","firstExpression","inParser","functionAST","inForLoopInit","inForLoopTest","getDependencies","realType","isSafeDependencies","identifier","getLookupType","typeLookupMap","getConstantType","constantName","literalKey","astKey","Number","isInteger","inferArgumentTypesIfNeeded","getVariableSignature","rightType","lastType","isAstVariable","getCheckVariableType","findIdentifierOrigin","isAstMathVariable","lastReturn","findLastReturn","mathProperties","mathFunctions","every","isNotSafe","details","returnRawValue","signatureString","astFunctionDeclaration","astFunctionExpression","astExpressionStatement","astEmptyStatement","astBreakStatement","astContinueStatement","astVariableDeclarator","astSequenceExpression","astUnaryExpression","astUpdateExpression","astLogicalExpression","astConditionalExpression","debugString","getAstString","splitLines","lineBefore","isChildFunction","esNode","eNode","brNode","crNode","iVarDecNode","sNode","sequenceResult","expressionResult","uNode","checkAndUpconvertBitwiseUnary","logNode","variableSignature","astToFind","atNode","separator","trackIdentifiers","memberExpression","runningContexts","functionContexts","returnStatements","trackedIdentifiers","newFunctionContext","scan","hasState","currentFunctionContext","currentContext","newContext","useFunctionContext","functionContext","getIdentifiers","previousRunningContext","suggestedType","normalizeDeclarations","testIdentifiers","toStringWithoutUtils","glKernelString","originKernel","setupContextString","destroyContextString","postResult","targetName","subKernelsResultVariableSetup","subKernelsResultIndex","getRenderString","findKernelValue","tactic","checkContext","kernelArgument","uploadValue","imageIndex","texture","flattenTo","flatten2dArrayTo","flatten3dArrayTo","flatten4dArrayTo","renderOutput","renderTexture","formatValues","varName","renderKernels","getStringValueHandler","framebufferName","framebuffer","textureName","getToArrayString","mappedTextures","subKernelResult","subKernelTextureName","rendered","getGetPixelsString","constantsUpload","readBackValue","kernelResult","isDeclaration","kernelValues","values","uploadedValues","HTMLImageElement","kernelValue","variableIndex","variable","GLTextureArray2Float","GLTextureArray2Float2D","GLTextureArray2Float3D","GLTextureArray3Float","GLTextureArray3Float2D","GLTextureArray3Float3D","GLTextureArray4Float","GLTextureArray4Float2D","GLTextureArray4Float3D","GLTextureFloat","GLTextureFloat2D","GLTextureFloat3D","GLTextureMemoryOptimized","GLTextureMemoryOptimized2D","GLTextureMemoryOptimized3D","GLTextureUnsigned","GLTextureUnsigned2D","GLTextureUnsigned3D","GLTextureGraphical","GLKernel","getIsFloatRead","testContext","testCanvas","getIsIntegerDivisionAccurate","kernelFunction","v1","v2","getIsSpeedTacticSupported","round","isDrawBuffers","getIsDrawBuffers","isFloatRead","isSpeedTacticSupported","isTextureFloat","getIsTextureFloat","channelCount","getChannelCount","maxTextureSize","getMaxTextureSize","lowIntPrecision","getShaderPrecisionFormat","FRAGMENT_SHADER","LOW_INT","lowFloatPrecision","LOW_FLOAT","mediumIntPrecision","MEDIUM_INT","mediumFloatPrecision","MEDIUM_FLOAT","highIntPrecision","HIGH_INT","highFloatPrecision","HIGH_FLOAT","setupFeatureChecks","getVariablePrecisionString","setFixIntegerDivisionAccuracy","fix","setPrecision","setFloatTextures","warnDeprecated","floatTextures","isStartingVariableName","isVariableChar","nextChar","typeMap","lastKernel","texSize","threadDim","w","h","ceil","RGBA","FLOAT","bytes","Uint8Array","UNSIGNED_BYTE","buffer","splitArray","transferValues","TextureConstructor","renderRawOutput","translatedSource","compiledFragmentShader","compiledVertexShader","switchingKernels","_textureSwitched","_mappedTextureSwitched","checkTextureSize","pickRenderStrategy","readPackedPixelsToUint8Array","readPackedPixelsToFloat32Array","renderKernelsToTextures","requestFallback","renderKernelsToArrays","renderValues","erect3DPackedFloat","erect2DPackedFloat","erectPackedFloat","readFloatPixelsToFloat32Array","erectMemoryOptimized3DFloat","erectMemoryOptimized2DFloat","erectMemoryOptimizedFloat","erect3DArray2","erect2DArray2","erectArray2","erect3DArray3","erect2DArray3","erectArray3","erect3DArray4","erect2DArray4","erectArray4","erect3DFloat","erect2DFloat","erectFloat","getMainResultTexture","getMainResultNumberTexture","getMainResultArray2Texture","getMainResultArray3Texture","getMainResultArray4Texture","getMainResultKernelNumberTexture","getMainResultSubKernelNumberTexture","getMainResultKernelArray2Texture","getMainResultSubKernelArray2Texture","getMainResultKernelArray3Texture","getMainResultSubKernelArray3Texture","getMainResultKernelArray4Texture","getMainResultSubKernelArray4Texture","getMainResultGraphical","getMainResultMemoryOptimizedFloats","getMainResultPackedPixels","getMainResultString","linesToString","getFloatTacticDeclaration","getIntTacticDeclaration","getSampler2DTacticDeclaration","getSampler2DArrayTacticDeclaration","resetSwitchingKernels","existingValue","newOutput","toKernelOutput","newThreadDim","newTexSize","getKernelTextureSize","oldTexSize","oldPrecision","newPrecision","warn","switchKernels","needed","bindFramebuffer","FRAMEBUFFER","updateMaxTexSize","viewport","maxTexSize","_setupOutputTexture","_setupSubOutputTextures","textureSize","isInt","low","medium","high","requiredSize","log2","rangeMax","updateTextureArgumentRefs","prevArg","_refs","mappedTexture","onActivate","previousKernel","int","float","vec2","vec3","vec4","GLTexture","textureType","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","_deleted","Texture","beforeMutate","newTexture","cloneTexture","selectTexture","createTexture","texImage2D","internalFormat","textureFormat","copyTexSubImage2D","clear","bindTexture","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","deleteTexture","_framebuffer","getRawValueFramebuffer","activeTexture","TEXTURE15","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","WebGLKernel","testExtensions","HeadlessGLKernel","preserveDrawingBuffer","STACKGL_resize_drawingbuffer","STACKGL_destroy_context","OES_texture_float","OES_texture_float_linear","OES_element_index_uint","WEBGL_draw_buffers","WEBGL_color_buffer_float","getParameter","RENDERER","MAX_DRAW_BUFFERS_WEBGL","MAX_TEXTURE_SIZE","initExtensions","extensions","fallbackRequested","resize","destroyExtensions","KernelValue","onRequestContextHandle","onUpdateValueMismatch","contextHandle","forceUploadEachRun","getSource","updateValue","Input","useLegacyEncoder","onRequestFallback","forceUploadKernelConstants","gpu","addFunction","addNativeFunction","functionToIGPUFunction","splitArgumentTypes","Int32Array","getBitRatio","needsConstantTypes","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setDimensions","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","getCanvas","getWebGl","setArgumentTypes","setTactic","addSubKernel","removeCanvasReferences","Int8Array","Uint16Array","Int16Array","argumentsTypes","pluginNames","plugin","Constructor","getArgumentTypes","sourceString","argumentTypesObject","fragmentShader","E","WebGLFunctionNode","consequentType","alternateType","sanitizeName","castLiteralToFloat","castValueToInteger","castLiteralToInteger","checkAndUpconvertOperator","castValueToFloat","leftType","operatorMap","literalResult","bitwiseResult","checkAndUpconvertBitwiseOperators","foundOperator","initString","initNeedsSemiColon","declarationSets","declarationSet","actualType","markupType","declarationResult","fallingThrough","defaultResult","movingDefaultToEnd","pastFirstIf","cleanName","memberExpressionPropertyMarkup","memberExpressionXYZ","isMathFunction","functionMatch","functionReplace","targetType","subNode","WebGLKernelValueBoolean","WebGLKernelValueFloat","WebGLKernelValueInteger","WebGLKernelValueHTMLImage","WebGLKernelValueDynamicHTMLImage","WebGLKernelValueHTMLVideo","WebGLKernelValueDynamicHTMLVideo","WebGLKernelValueSingleInput","WebGLKernelValueDynamicSingleInput","WebGLKernelValueUnsignedInput","WebGLKernelValueDynamicUnsignedInput","WebGLKernelValueMemoryOptimizedNumberTexture","WebGLKernelValueDynamicMemoryOptimizedNumberTexture","WebGLKernelValueNumberTexture","WebGLKernelValueDynamicNumberTexture","WebGLKernelValueSingleArray","WebGLKernelValueDynamicSingleArray","WebGLKernelValueSingleArray1DI","WebGLKernelValueDynamicSingleArray1DI","WebGLKernelValueSingleArray2DI","WebGLKernelValueDynamicSingleArray2DI","WebGLKernelValueSingleArray3DI","WebGLKernelValueDynamicSingleArray3DI","WebGLKernelValueArray2","WebGLKernelValueArray3","WebGLKernelValueArray4","WebGLKernelValueUnsignedArray","WebGLKernelValueDynamicUnsignedArray","kernelValueMaps","unsigned","dynamic","single","lookupKernelValueType","WebGLKernelValue","WebGLKernelArray","checkSize","setup","requestTexture","setupTexture","defineTexture","onRequestTexture","onRequestIndex","dimensionsId","sizeId","setUniform2fv","setUniform3fv","setUniform4fv","setUniform1i","dimensions","setUniform3iv","setUniform2iv","inputTexture","getMemoryOptimizedFloatTextureSize","uploadArrayLength","setShape","getMemoryOptimizedPackedTextureSize","Type","getTransferArrayType","preUploadValue","setUniform1f","inputImage","initialValueConstructor","pixelStorei","UNPACK_FLIP_Y_WEBGL","Uint32Array","Float64Array","sameError","valueDimensions","TranserArrayType","mrud","vertexShader","canvases","maxTexSizes","WebGLRenderingContext","endianness","systemEndianness","argumentTextureCount","constantTextureCount","fragShader","vertShader","drawBuffersMap","onRequestSwitchKernel","textureCache","programUniformLocationCache","uniform1fCache","uniform1iCache","uniform2fCache","uniform2fvCache","uniform2ivCache","uniform3fvCache","uniform3ivCache","uniform4fvCache","uniform4ivCache","alpha","antialias","pluginsToUse","some","pluginName","canvasIndex","needsArgumentTypes","textureIndexes","TEXTURE0","failureResult","enable","SCISSOR_TEST","getVertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getFragmentShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","createFramebuffer","rawValueFramebuffers","vertices","texCoords","texCoordOffset","byteLength","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","STATIC_DRAW","bufferSubData","aPosLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","aTexCoordLoc","useProgram","setupReturnTypes","scissor","setUniform2f","onBeforeRun","bindRenderbuffer","RENDERBUFFER","_replaceOutputTexture","drawArrays","TRIANGLE_STRIP","_replaceSubOutputTextures","getInternalFormat","getTextureFormat","format","getUniformLocation","uniform1f","uniform1i","value1","value2","uniform2f","uniform2fv","uniform2iv","uniform3fv","uniform3iv","uniform4fv","setUniform4iv","uniform4iv","_getFragShaderArtifactMap","HEADER","_getHeaderString","LOOP_MAX","PLUGINS","_getPluginsString","CONSTANTS","_getConstantsString","DECODE32_ENDIANNESS","_getDecode32EndiannessString","ENCODE32_ENDIANNESS","_getEncode32EndiannessString","DIVIDE_WITH_INTEGER_CHECK","_getDivideWithIntegerCheckString","INJECTED_NATIVE","_getInjectedNative","MAIN_CONSTANTS","_getMainConstantsString","MAIN_ARGUMENTS","_getMainArgumentsString","KERNEL","MAIN_RESULT","FLOAT_TACTIC_DECLARATION","INT_TACTIC_DECLARATION","SAMPLER_2D_TACTIC_DECLARATION","SAMPLER_2D_ARRAY_TACTIC_DECLARATION","_getVertShaderArtifactMap","_getTextureCoordinate","getKernelResultDeclaration","getMainResultKernelPackedPixels","getMainResultSubKernelPackedPixels","channels","channel","getMainResultKernelMemoryOptimizedFloats","getMainResultSubKernelMemoryOptimizedFloats","replaceArtifacts","artifact","deleteBuffer","deleteFramebuffer","deleteShader","deleteProgram","textureCacheIndex","idx","kernels","loseContext","WebGL2FunctionNode","WebGL2KernelValueBoolean","WebGL2KernelValueFloat","WebGL2KernelValueInteger","WebGL2KernelValueHTMLImage","WebGL2KernelValueDynamicHTMLImage","WebGL2KernelValueHTMLImageArray","WebGL2KernelValueDynamicHTMLImageArray","WebGL2KernelValueHTMLVideo","WebGL2KernelValueDynamicHTMLVideo","WebGL2KernelValueSingleInput","WebGL2KernelValueDynamicSingleInput","WebGL2KernelValueUnsignedInput","WebGL2KernelValueDynamicUnsignedInput","WebGL2KernelValueMemoryOptimizedNumberTexture","WebGL2KernelValueDynamicMemoryOptimizedNumberTexture","WebGL2KernelValueNumberTexture","WebGL2KernelValueDynamicNumberTexture","WebGL2KernelValueSingleArray","WebGL2KernelValueDynamicSingleArray","WebGL2KernelValueSingleArray1DI","WebGL2KernelValueDynamicSingleArray1DI","WebGL2KernelValueSingleArray2DI","WebGL2KernelValueDynamicSingleArray2DI","WebGL2KernelValueSingleArray3DI","WebGL2KernelValueDynamicSingleArray3DI","WebGL2KernelValueArray2","WebGL2KernelValueArray3","WebGL2KernelValueArray4","WebGL2KernelValueUnsignedArray","WebGL2KernelValueDynamicUnsignedArray","variablePrecision","TEXTURE_2D_ARRAY","texImage3D","xOffset","yOffset","imageDepth","texSubImage3D","RGBA32F","WebGL2Kernel","WebGL2RenderingContext","MAX_DRAW_BUFFERS","EXT_color_buffer_float","R32F","RED","RG32F","RG","REPEAT","texStorage2D","lib","GPU","bindTo","kernelRunShortcut","kernelOrder","kernelTypes","internalKernels","disableValidation","enableValidation","isGPUSupported","isKernelMapSupported","isOffscreenCanvasSupported","Worker","importScripts","isWebGLSupported","isWebGL2Supported","isHeadlessGLSupported","isCanvasSupported","HTMLCanvasElement","isGPUHTMLImageArraySupported","isSinglePrecisionSupported","chooseKernel","ExternalKernel","createKernel","isFunction","devKernel","upgradeDeprecatedCreateKernelSettings","switchableKernels","settingsCopy","fallbackKernel","kernelRun","dynamicArgument","replaceKernel","reasons","_kernel","existingKernel","newKernel","mergedSettings","createKernelMap","argument2Type","injectNative","firstKernel","upgradedSettings","floatOutput","outputToTexture","outputImmutable","webGLKernelValueMaps","webGL2KernelValueMaps","mathRandom","shortcut","accept","replacementKernel","bindKernelToShortcut","allPropertiesOf","substring","__defineGetter__","__defineSetter__","functionReturnType","FUNCTION_NAME","STRIP_COMMENTS","ARGUMENT_NAMES","_systemEndianness","getSystemEndianness","ArrayBuffer","funcObj","funcStr","fnStr","isActiveClone","ImageBitmap","texelCount","closestSquareDimensions","sqrt","roundTo","pad","dim","part","byteOffset","lines","getOwnPropertyNames","getPrototypeOf","oldName","newName","yResults","xStart","xEnd","zResults","xResults","xResultsMax","XResultsMax","flattened","functionDependencies","flatten","flat","foundSource","flattenedFunctionDependencies","functionDependency","normalizedDeclarations","declarationIndex","propertyIndex","subPropertyIndex","subProperty","elementIndex","splitHTMLImageToRGB","image","rKernel","gKernel","bKernel","aKernel","splitRGBAToCanvases","rgba","visualKernelR","visualKernelG","visualKernelB","visualKernelA","getMinifySafeName","dollarSign","doubleUnderscore","singleUnderscore","lookup","toTable","hashes","hash","reduce","toHash","toTable2D","objects2D","table","valueIndex","objects","toInputTable2D","tableIndex","dataIndex","toOutputTable2D","arrayLength","toArrayShort","toArrays","toObject","toObjectPartial","limit","dataShape","shape","lastData","possibleNumber","addKeys","__assign","commonjsGlobal","thaw","Block","Thaw","items","_a","defaultSettings","each","isStopped","tick","timeout","thawing","thaws","delay","stopAll","stop","makeReady","insert","addArray","insertArray","after","arraysToFloat32Arrays","arrays","inputOutputArraysToFloat32Arrays","arrayToFloat32Arrays","inputOutputArrayToFloat32Arrays","arrayToFloat32Array","inputOutputObjectsToFloat32Arrays","inputTable","outputTable","inputLength","outputLength","objectToFloat32Arrays","inputOutputObjectToFloat32Arrays","objectToFloat32Array","LookupTable","mse$1","sum","randomWeight","randomFloat","gaussRandom","returnV","vVal","randomInteger","randomN","mu","std","randos","randos2D","randos3D","zeros$1","getTypedArrayFn","defaults$8","inputSize","outputSize","binaryThresh","trainDefaults$3","activation","iterations","errorThresh","logPeriod","leakyReluAlpha","learningRate","momentum","callbackPeriod","beta1","beta2","epsilon","NeuralNetwork","trainOpts","sizes","outputLayer","biases","weights","outputs","deltas","changes","errorCheckInterval","inputLookup","inputLookupLength","outputLookup","outputLookupLength","_formatInput","_formatOutput","runInput","setActivation","calculateDeltas","biasChangesLow","biasChangesHigh","changesLow","changesHigh","updateTrainingOptions","hiddenLayers","initialize","layerIndex","nodeIndex","prevSize","praxis","_setupAdam","_runInputSigmoid","_calculateDeltasSigmoid","_runInputRelu","_calculateDeltasRelu","_runInputLeakyRelu","_calculateDeltasLeakyRelu","_runInputTanh","_calculateDeltasTanh","isRunnable","formattedInput","validateInput","layer","activeLayer","activeWeights","activeBiases","activeOutputs","activeSize","verifyIsInitialized","preparedData","merged","validateTrainingOptions","setLogMethod","validations","getTrainOptsJSON","logTrainingStatus","calculateTrainingError","trainPattern","trainPatterns","trainingTick","endTime","prepTraining","formatData","validateData","train","trainAsync","thawedTrain","browser","trainError","logErrorRate","adjustWeights","activeOutput","activeError","activeDeltas","nextLayer","currentSize","currentOutputs","nextWeights","nextDeltas","currentErrors","currentDeltas","incoming","activeDelta","activeChanges","change","_adjustWeightsAdam","currentChangesLow","currentChangesHigh","currentWeights","currentBiases","currentBiasChangesLow","currentBiasChangesHigh","gradient","changeLow","changeHigh","momentumCorrection","pow","gradientCorrection","biasGradient","biasChangeLow","biasChangeHigh","biasMomentumCorrection","biasGradientCorrection","addFormat","_b","misclasses","errorSum","falsePos","falseNeg","truePos","trueNeg","actual","expected","misclass","recall","accuracy","jsonLayerWeights","layerWeights","jsonLayerBiases","layerBiases","jsonLayers","layers","toFunction","needsVar","nodeHandle","bias","weightsArray","subNodeIndex","checkKeys","find","layersAsMath","gpuInstance","makeKernel","_gpuInstance","gpuBrowser","makeKernelMap","kernelInput","release","possibleTexture","fill","weightedSumSigmoid","inputs","weightedSumRelu","weightedSumLeakyRelu","weightedSumTanh","calcErrorOutput","calcDeltasSigmoid","calcDeltasRelu","calcDeltasLeakyRelu","calcDeltasTanh","calcError","calcChanges","previousChange","previousOutput","addWeights","addBiases","mse","NeuralNetworkGPU","texturizeInputData","forwardPropagate","backwardPropagate","changesPropagate","biasesPropagate","getMSE","_addMSE","_divideMSESum","buildRunInput","buildCalculateDeltas","buildGetChanges","buildChangeBiases","buildGetMSE","prevSum","getChanges","changeBiases","weightedSum","calcDeltas","targets","previousOutputs","previousChanges","mseSum","outputTextures","texturizeOutputData","UntrainedNeuralNetworkError","neuralNetwork","AE","decodedSize","denoiser","denoise","decode","decoder","encode","encodedInput","encodedLayer","likelyIncludesAnomalies","anomalyThreshold","anomalies","denoised","abs","previousValue","preprocessedData","datum","createDecoder","encodedLayerIndex","CrossValidate","initClassifier","avgs","testTime","trainTime","stats","testSize","trainSize","sets","testPartition","trainSet","testSet","classifier","beginTrain","trainingStats","beginTest","testStats","endTest","network","shuffleArray","binaryStats","isBinary","dclone","isBinaryStats","isBinaryPartitionResults","toNeuralNetwork","crossValidateJson","winningJSON","mse2d","isBinaryResults","MeanSquaredError","_ref","calculate","addAbsolute","prevError","prevLayerErrors","divide","baseLayerDefaultSettings","praxisOpts","cleanupDeltas","BaseLayer","predictKernel","compareKernel","setupPraxis","initPraxis","setupKernels","isTraining","reuseKernels","predict","targetValues","learn","toUntypedArray","zeros2D","zeros3D","Activation","inputLayer","Filter","filterCount","filterWidth","filterHeight","filters","filterDeltas","Internal","Modifier","Operator","inputLayer1","inputLayer2","compare1D","compare2D$5","Target","InternalModel","EntryPoint","Model","oldWeights","BasePraxis","layerTemplate","update$2","defaultSettings$1","ArthurDeviationBiases","arthurDeviationBiases","updateChange","update$1","incomingWeights","inputDeltas","lastChange","inputDelta","weightsLayer","incomingLayer","deltaLayer","ArthurDeviationWeights","arthurDeviationWeights","getMomentum","decay","previousMomentum","clipByValue","previousMomenta","clippedDelta","clipValue","decayRate","smoothEps","regularizationStrength","defaults$7","MomentumRootMeanSquaredPropagation","momenta","momentumRootMeanSquaredPropagation","MRmsProp","mRmsProp","traverseLayersFrom","flattenLayers","checkSameSize","layer1","layer2","predict$8","inputWeights1","inputWeights2","Add","add$1","defaults$6","Random","predict$7","weights1","weights2","compareFromX","inputWeights","compareFromY","Multiply","compareKernel1","compareKernel2","inputLayer1Deltas","inputLayer2Deltas","newDeltas1","newDeltas2","multiply$1","predict2D$4","predict3D$5","compare2D$4","compare3D$4","Sigmoid","sigmoid$1","arthurFeedForward","initWeightsPraxis","initBiasesPraxis","biasesLayer","sigmoidLayer","weightsPraxis","getStride","defaults","stride","strideX","strideY","getPadding","padding","paddingX","paddingY","predict$6","startFilterX","startInputX","endFilterX","inputWidth","startFilterY","startInputY","endFilterY","inputHeight","inputDepth","filterY","inputY","filterX","inputX","compareFilterDeltas$1","startDeltaX","endDeltaX","deltaWidth","startDeltaY","endDeltaY","deltaHeight","compareInputDeltas$1","compareBiases$1","biasDeltas","defaults$5","Convolution","compareFilterDeltasKernel","compareInputDeltasKernel","compareBiasesKernel","_c","convolution","setDropout","dropout","trainingPredict","probability","predict$5","compare$3","dropouts","dropoutDefaults","Dropout","predictKernelMap","feedForward","predict$4","predict3D$4","compareInputDeltas","compareInputDeltas3D","compareBiases","compareFilterDeltas","compareFilterDeltas3D","inputZ","FullyConnected","connectionCount","inputLayerDeltas","fullyConnected","predict$3","Negative","negative","predict$2","inputLayerWeights1","inputLayerWeights2","compare$2","MultiplyElement","multiplyElement$1","ones$1","ones2D","Ones","ones","predict2D$3","predict3D$3","compare2D$3","compare3D$3","Tanh","tanh$1","Zeros","zeros","gru","recurrentInput","updateGateWeights","updateGatePeepholes","updateGateBias","updateGate","resetGateWeights","resetGatePeepholes","resetGateBias","resetGate","cellWeights","cellPeepholes","cellBias","cell","defaults$4","reshapeInput","predict1D","predict2D$2","predict3D$2","compare2D$2","compare3D$2","LeakyRelu","leakyRelu","lstmCell","inputGateWeights","inputGatePeepholes","inputGateBias","inputGate","forgetGateWeights","forgetGatePeepholes","forgetGateBias","forgetGate","outputGateWeights","outputGatePeepholes","outputGateBias","outputGate","memoryWeights","memoryPeepholes","memoryBias","memory","retainCell","writeCell","outputGateConnector","setSwitchY","setSwitchX","predict$1","unclippedStartInputX","unclippedStartInputY","unclippedEndInputX","unclippedEndInputY","endInputX","endInputY","largestValue","compare$1","switchX","switchY","xCenter","yCenter","invStrideX","invStrideY","startSourceX","startSourceY","endSourceX","outputWidth","endSourceY","outputHeight","backY","backX","switchXValue","switchYValue","defaults$3","Pool","RecurrentInput","recurrentInputDeltas","recurrentInputWeights","RecurrentZeros","recurrentZeros","predict2D$1","compare2D$1","predict3D$1","compare3D$1","Relu","relu$1","rnnCell","Regression","regression","getMaxValue2D","maxInput","getMaxValue3D","getSum2D","getSum3D","getExponentials","getExponentials3D","predict2D","exponentials","exponentialsSum","predict3D","compare2D","indicator","compare3D","SoftMax","getExponentialsKernel","getMaxValueKernel","getSumKernel","maxValue","softMax","SVM","svm","Transpose","transpose","layerTypes","layerNameTypes","layerFromJSON","jsonLayer","layerNameType","Layer","defaults$2","trainDefaults$2","FeedForward","_inputLayer","_hiddenLayers","_outputLayer","_model","meanSquaredError","_updateTrainingOptions","_validateTrainingOptions","_setLogMethod","_connectOptionsLayers","inputLayerIndex","outputLayerIndex","_connectNewLayers","_connectHiddenLayers","previousLayer","hiddenLayer","initializeLayers","lastLayer","typeSafeInput","_prepTraining","continueTicking","calculateError","_calculateTrainingError","_trainPatterns","_trainingTick","formattedData","transferData","_trainPattern","resultArray","_calculateDeltas","tmp","inputDatumCheck","lookupTable","datumParam","outputDatumCheck","transferredData","transferInput","transferOutput","formattedDatum","inputLayer1Index","inputLayer2Index","getLayer","_d","likely","net","TypeError","maxProp","entries","_ref2","RecurrentConnection","setLayer","Recurrent","_outputConnection","_layerSets","_hiddenLayerOutputIndices","_connectLayers","_connectLayersDeep","previousLayers","usedHiddenLayerOutputIndex","findInputLayer","layerSettings","previousHiddenLayerOutput","layerSet","initializeDeep","runInputs","lastLayerUsed","trainPatters","lastLayerSet","Matrix","rows","columns","getWeight","ix","setWeight","getDelta","setDelta","fromArray","deltasToArray","weightsToArray","iterate","rowIndex","columnIndex","RandomMatrix","DataFormatter","maxThreshold","indexTable","characterTable","characters","specialIndexes","isSetup","buildCharactersFromIterable","buildTables","addInputOutput","addUnrecognized","tempCharactersTable","dataFormatterIndex","dataFormatterLength","iteratable","characterIndex","charactersLength","character","addCharacters","charactersTable","toIndexes","unrecognized","toIndexesInputOutput","toIndexesValue","toCharacters","indices","addSpecial","fromAllPrintable","fromAllPrintableInputOutput","dataFormatter","fromStringInputOutput","fromArrayInputOutput","validateAndCast","flatArray","fromString","special","specialIndex","toFunctionString","formatDataIn","formatDataOut","copy","product","addB","allOnes","cloneNegative","multiply","leftRows","leftColumns","rightColumns","leftRow","leftRowBase","rightRowBase","rightColumn","leftColumn","leftIndex","rightIndex","multiplyB","leftRowRoot","rightRow","backPropagateValue","multiplyElement","multiplyElementB","relu","reluB","rowPluck","rowPluckIndex","rowBase","rowPluckB","sigmoid","sigmoidB","mwi","softmax","maxVal","tanhB","Equation","inputRow","forwardFn","backpropagationFn","subtract","inputValue","inputMatrixToRow","observe","runIndex","backpropagate","backpropagateIndex","predictTarget","predictTargetIndex","logProbabilities","probabilities","maxI","maxv","maxix","sampleI","trainDefaults$1","defaults$1","inputRange","regc","clipval","maxPredictionLength","RNN","stepCache","runs","ratioClipped","model","seal","isInitialized","equations","allMatrices","equationConnections","outputConnector","initialLayerInputs","mapModel","createHiddenLayers","hiddenLayersModel","getHiddenLayer","hiddenSize","getEquation","equation","inputMatrix","previousResult","createInputMatrix","createOutputMatrices","lastHiddenSize","bindEquation","equationConnection","hiddenMatrix","trainInput","log2ppl","inputIndex","inputMax","equationIndex","numClipped","numTot","matrixIndex","checkRunnable","rawInput","isSampleI","temperature","previousIndex","outputMatrix","probs","jsonString","previousConnectionIndex","connection","matrixOrigin","stateIndex","matrixToString","toInner","fnParts","fnBodyParts","fileName","fnName","statesRaw","usedFunctionNames","innerFunctionsSwitch","GRU","getGRUHiddenLayer","getGRUEquation","updateGateInputMatrix","updateGateHiddenMatrix","resetGateInputMatrix","resetGateHiddenMatrix","cellWriteInputMatrix","cellWriteHiddenMatrix","cellWriteBias","ArrayLookupTable","ioValue","RNNTimeStep","trainDefaults","runArray","runArrayOfArray","runObject","runArrayOfObject","forecast","forecastArray","forecastArrayOfArray","forecastArrayOfObject","lastOutput","setSize","verifySize","trainArrayOfArray","inputArray","runArrayOfObjectOfArray","requireInputOutputOfOne","formatArray","formatArrayOfArray","formatArrayOfObject","formatArrayOfObjectMulti","formatArrayOfDatumOfArray","formatArrayOfDatumOfObject","formatArrayOfArrayOfArray","formatArrayOfArrayOfObject","formatArrayOfDatumOfArrayOfArray","formatArrayOfDatumOfArrayOfObject","errorCount","typedValue","typedInput","_e","typedOutput","_f","formatInputData","formatOutputData","forceForecast","GRUTimeStep","LSTM","getHiddenLSTMLayer","getLSTMEquation","inputHidden","inputBias","forgetMatrix","forgetHidden","forgetBias","outputHidden","outputBias","cellActivationMatrix","cellActivationHidden","cellActivationBias","cellWrite","LSTMTimeStep","drawInput","_ref3","pixelX","pixelY","radius","fontSize","fontClassName","svg","className","drawNeuron","_ref4","hidden","drawOutput","_ref5","drawBackwardConnections","_ref6","lineY","neuralNetworkToInnerSVG","previousSize","drawRecurrentConnections","_ref7","recurrentLine","moveX","moveY","rnnToInnerSVG","getFeedForwardLayers","getRecurrentLayers","wrapOuterSVG","svgBody","getNeuralNetworkJSONSizes","getNeuralNetworkSizes","getRNNSizes","toSVG","mergedOptions","checkSizes","recurrent","utilities","random$1","jsxProd","maybeKey","jsx","jsxs","heap","parentIndex","peek","halfLength","diff","sortIndex","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","requestHostCallback","firstTimer","requestHostTimeout","schedulePerformWorkUntilDeadline","isMessageLoopRunning","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","continuationCallback","MessageChannel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_continueExecution","unstable_forceFrameRate","fps","unstable_getFirstCallbackNode","unstable_next","eventHandler","unstable_pauseExecution","unstable_runWithPriority","unstable_wrapCallback","parentPriorityLevel","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","chunkId","all","promises","miniCssF","globalThis","inProgress","dataWebpackPrefix","script","needAttach","charset","nc","onScriptComplete","doneFns","toStringTag","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","onSubmit","setFormData","area","bedrooms","bathrooms","age","handleChange","_jsxs","_jsx","field","onChange","required","price","brain","predictPrice","loadModel","savedModel","localStorage","getItem","normalizedInput","lim","p2b","n2b","b2n","n2p","map$1","B","F","hex","h1","h2","hexString","isShort","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","hueParse","p1","p2","hwb2rgb","hsv2rgb","Z","Y","W","V","U","R","Q","P","O","N","K","G","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","nameParse","unpacked","tkeys","ok","nk","unpack","transparent","RGB_RE","to","modHSL","ratio","fromObject","functionParse","rgbParse","Color","hexParse","_rgb","_valid","valid","rgbString","hslString","mix","c1","c2","w2","w1","interpolate","rgb1","rgb2","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","uid","isNullOrUndef","isObject","isNumberFinite","isFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","thisArg","loopable","_elementsEqual","a0","a1","ilen","v0","datasetIndex","klen","isValidKey","_merger","tval","sval","merge","sources","merger","mergeIf","_mergerIf","keyResolvers","resolveObjectKey","resolver","parts","_splitKey","_getKeyResolver","_capitalize","defined","setsEqual","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","niceNum","roundedRange","niceRange","fraction","isNumber","toPrimitive","isNonPrimitive","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","cmp","mid","hi","lo","_lookupByKey","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","stub","_chartjs","_arrayUnique","requestAnimFrame","requestAnimationFrame","throttled","argsToUse","ticking","_len2","_key2","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","points","animationsDisabled","pointCount","_sorted","iScale","vScale","_parsed","spanGaps","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","distanceToDefinedLo","findIndex","point","distanceToDefinedHi","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","formatNumber","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","formatters","numeric","tickValue","ticks","chart","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","Ticks","overrides","descriptors","getScope$1","Defaults","_descriptors","_appliers","backgroundColor","borderColor","datasets","devicePixelRatio","platform","getDevicePixelRatio","font","family","lineHeight","hover","hoverBackgroundColor","hoverBorderColor","hoverColor","indexAxis","interaction","intersect","includeInvisible","maintainAspectRatio","onHover","parsing","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","route","targetScope","scopeObject","targetScopeObject","privateName","writable","appliers","_scriptable","startsWith","_indexable","_fallback","duration","easing","active","show","animations","visible","hide","autoPadding","bottom","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","longest","textWidth","measureText","_alignPixel","currentDevicePixelRatio","halfWidth","clearCanvas","save","resetTransform","clearRect","restore","drawPoint","drawPointLegend","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","rad","translate","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","borderWidth","stroke","_isPointInArea","margin","clipArea","unclipArea","_steppedLineTo","previous","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","toFontString","cacheable","parentContext","_createResolver","scopes","getTarget","finalRootScopes","_resolve","_cacheable","_scopes","_rootScopes","_getTarget","deleteProperty","_keys","_cached","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_subProxy","_stack","receiver","isScriptable","_resolveScriptable","isIndexable","arr","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","addScopes","parentScopes","parentFallback","rootScopes","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","cubicInterpolationMode","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","positions","getPositionedStyle","getRelativePosition","borderBox","boxSizing","paddings","borders","box","offsetX","offsetY","useOffsetPos","shadowRoot","getBoundingClientRect","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","normalize","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_request","_charts","_running","_lastDate","_notify","anims","numSteps","currentStep","_refresh","_update","remaining","running","draw","_active","_total","_getAnims","charts","complete","progress","acc","_duration","cancel","remove","animator","interpolators","boolean","factor","c0","Animation","cfg","_easing","_start","_loop","_target","_prop","_from","_to","_promises","elapsed","wait","res","rej","resolved","Animations","_properties","configure","animationOptions","animatedProps","option","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","found","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","positive","getMatchingVisibleMetas","updateStacks","parsed","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","DatasetController","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","_len","_key","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","createStack","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","createDataContext","createDatasetContext","_resolveElementOptions","sharing","datasetElementScopeKeys","resolveNamedOptions","_resolveAnimations","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","LineController","_index_","_value_","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","getBasePixel","lastPoint","updateControlPoints","abstract","DateAdapterBase","members","formats","startOf","endOf","adapters","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestCartesianItems","distanceMetric","useX","useY","getDistanceMetricForAxis","minDistance","center","getCenterPoint","getNearestItems","startAngle","endAngle","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","sort","setLayoutDims","layouts","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","horizontal","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","removeBox","layoutItem","minPadding","layoutBoxes","isHorizontal","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","createAttachObserver","observer","MutationObserver","trigger","entry","addedNodes","removedNodes","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","proxies","$proxies","isConnected","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","_tickSize","maxScale","_length","maxChart","_maxLength","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","newTicks","spacing","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","offsetFromEdge","edge","getTicksLimit","ticksLength","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","_startPixel","_endPixel","lineValue","getPixelForTick","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_cache","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","minSize","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","jlen","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","gcLen","garbageCollect","valueAt","getValueForPixel","getPixelForDecimal","decimal","_int16Range","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","getLineWidthForValue","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","axisID","_maxDigits","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","controllers","_typedRegistries","_each","addControllers","_len3","_key3","_len4","_key4","addPlugins","_len5","_key5","addScales","_len6","_key6","getController","_get","getElement","getPlugin","getScale","removeControllers","_len7","_key7","removeElements","_len8","_key8","removePlugins","_len9","_key9","removeScales","_len10","_key10","typedRegistry","reg","_getRegistryForType","_exec","itemReg","registry","camelMethod","PluginService","notify","_createDescriptors","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","determineAxis","_len11","scaleOptions","_key11","getAxisFromDataset","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","initOptions","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getElementById","instances","getChart","moveNumericKeys","intKey","getSizeForArea","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","isDatasetVisible","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","_drawDatasets","_drawDataset","useClip","getDatasetArea","getElementsAtEventForMode","getVisibleDatasetCount","setDatasetVisibility","toggleDataVisibility","getDataVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","setStyle","lineCap","lineJoin","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","minY","maxY","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","path","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_fullLoop","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","PointElement","hoverBorderWidth","hoverRadius","mouseX","mouseY","inXRange","inYRange","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","generateLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","legendItem","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","textDirection","fontColor","lineDash","drawOptions","SQRT2","centerX","yBoxTop","xBoxLeft","borderRadius","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","itemsEqual","plugin_legend","_element","_args","legend","afterEvent","ci","useBorderRadius","positioners","average","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","formattedValue","getTooltipSize","tooltip","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","centerY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","findOrAddLabel","addedLabels","addIfString","_getLabelForValue","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","LinearScale","INTERVALS","millisecond","steps","second","minute","hour","day","quarter","year","UNITS","sorter","adapter","_adapter","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","defaultDatasetIdKey","reforwardRef","setLabels","currentData","nextLabels","setDatasets","nextDatasets","datasetIdKey","addedDatasets","nextDataset","currentDataset","cloneData","nextData","ChartComponent","redraw","fallbackContent","updateMode","canvasProps","canvasRef","chartRef","renderChart","Chart$1","destroyChart","nextOptions","setOptions","role","createTypedChart","registerables","Line","ChartJS","actualPrices","predictedPrices","_","pointRadius","predictedPrice","setPredictedPrice","setError","setPredictedPrices","trainingData","setItem","PropertyForm","locationMap","toFixed","prevPrices","PriceComparisonChart","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","App","reportWebVitals"],"sourceRoot":""}